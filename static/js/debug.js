(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

module.exports = {
	"caret-down": require('./views/templates/lib/caret-down'),
	"checkmark": require('./views/templates/lib/checkmark'),
	"edit": require('./views/templates/lib/edit'),
	"error": require('./views/templates/lib/error'),
	"ex": require('./views/templates/lib/ex'),
	"garbage": require('./views/templates/lib/garbage'),
	"justify": require('./views/templates/lib/justify'),
	"leftArrow": require('./views/templates/lib/leftArrow'),
	"search": require('./views/templates/lib/search')
};

},{"./views/templates/lib/caret-down":176,"./views/templates/lib/checkmark":177,"./views/templates/lib/edit":178,"./views/templates/lib/error":179,"./views/templates/lib/ex":180,"./views/templates/lib/garbage":181,"./views/templates/lib/justify":182,"./views/templates/lib/leftArrow":183,"./views/templates/lib/search":184}],2:[function(require,module,exports){
'use strict';

module.exports = {
	About: require('./views/templates/About'),
	AccountHome: require('./views/templates/AccountHome'),
	AccountPayments: require('./views/templates/AccountPayments'),
	AddTransaction: require('./views/templates/AddTransaction'),
	AdminHeader: require('./views/templates/AdminHeader'),
	AdminPlus: require('./views/templates/AdminPlus'),
	ButtonFlow: require('./views/templates/ButtonFlow'),
	CollectionManager: require('./views/templates/CollectionManager'),
	Contact: require('./views/templates/Contact'),
	Csa: require('./views/templates/Csa'),
	CsaItem: require('./views/templates/CsaItem'),
	CsaTransaction: require('./views/templates/CsaTransaction'),
	CustomerInfo: require('./views/templates/CustomerInfo'),
	Deleter: require('./views/templates/Deleter'),
	DeliveryDate: require('./views/templates/DeliveryDate'),
	Document: require('./views/templates/Document'),
	Dragger: require('./views/templates/Dragger'),
	EditCsaTransaction: require('./views/templates/EditCsaTransaction'),
	FieldEdit: require('./views/templates/FieldEdit'),
	FieldError: require('./views/templates/FieldError'),
	FoodOmission: require('./views/templates/FoodOmission'),
	Footer: require('./views/templates/Footer'),
	Form: require('./views/templates/Form'),
	GetInvolved: require('./views/templates/GetInvolved'),
	Header: require('./views/templates/Header'),
	Home: require('./views/templates/Home'),
	InfoWindow: require('./views/templates/InfoWindow'),
	List: require('./views/templates/List'),
	Location: require('./views/templates/Location'),
	Locations: require('./views/templates/Locations'),
	Login: require('./views/templates/Login'),
	ManageCustomer: require('./views/templates/ManageCustomer'),
	MemberInfo: require('./views/templates/MemberInfo'),
	MemberTypeahead: require('./views/templates/MemberTypeahead'),
	Members: require('./views/templates/Members'),
	Modal: require('./views/templates/Modal'),
	OrderOptions: require('./views/templates/OrderOptions'),
	Reporting: require('./views/templates/Reporting'),
	ResetPassword: require('./views/templates/ResetPassword'),
	SeasonalAddOn: require('./views/templates/SeasonalAddOn'),
	Seasons: require('./views/templates/Seasons'),
	ShareBox: require('./views/templates/ShareBox'),
	ShareExample: require('./views/templates/ShareExample'),
	SharePatch: require('./views/templates/SharePatch'),
	StaffProfile: require('./views/templates/StaffProfile'),
	Toast: require('./views/templates/Toast'),
	Transactions: require('./views/templates/Transactions'),
	TypeAhead: require('./views/templates/TypeAhead'),
	Verify: require('./views/templates/Verify'),
	WeekOptions: require('./views/templates/WeekOptions'),
	deliveryMatrix: require('./views/templates/deliveryMatrix')
};

},{"./views/templates/About":125,"./views/templates/AccountHome":126,"./views/templates/AccountPayments":127,"./views/templates/AddTransaction":128,"./views/templates/AdminHeader":129,"./views/templates/AdminPlus":130,"./views/templates/ButtonFlow":131,"./views/templates/CollectionManager":132,"./views/templates/Contact":133,"./views/templates/Csa":134,"./views/templates/CsaItem":135,"./views/templates/CsaTransaction":136,"./views/templates/CustomerInfo":137,"./views/templates/Deleter":138,"./views/templates/DeliveryDate":139,"./views/templates/Document":140,"./views/templates/Dragger":141,"./views/templates/EditCsaTransaction":142,"./views/templates/FieldEdit":143,"./views/templates/FieldError":144,"./views/templates/FoodOmission":145,"./views/templates/Footer":146,"./views/templates/Form":147,"./views/templates/GetInvolved":148,"./views/templates/Header":149,"./views/templates/Home":150,"./views/templates/InfoWindow":151,"./views/templates/List":152,"./views/templates/Location":153,"./views/templates/Locations":154,"./views/templates/Login":155,"./views/templates/ManageCustomer":156,"./views/templates/MemberInfo":157,"./views/templates/MemberTypeahead":158,"./views/templates/Members":159,"./views/templates/Modal":160,"./views/templates/OrderOptions":161,"./views/templates/Reporting":162,"./views/templates/ResetPassword":163,"./views/templates/SeasonalAddOn":164,"./views/templates/Seasons":165,"./views/templates/ShareBox":166,"./views/templates/ShareExample":167,"./views/templates/SharePatch":168,"./views/templates/StaffProfile":169,"./views/templates/Toast":170,"./views/templates/Transactions":171,"./views/templates/TypeAhead":172,"./views/templates/Verify":173,"./views/templates/WeekOptions":174,"./views/templates/deliveryMatrix":175}],3:[function(require,module,exports){
'use strict';

module.exports = {
	About: require('./views/About'),
	AccountHome: require('./views/AccountHome'),
	AccountPayments: require('./views/AccountPayments'),
	AddTransaction: require('./views/AddTransaction'),
	AdminHeader: require('./views/AdminHeader'),
	AdminPlus: require('./views/AdminPlus'),
	ButtonFlow: require('./views/ButtonFlow'),
	CollectionManager: require('./views/CollectionManager'),
	Contact: require('./views/Contact'),
	Csa: require('./views/Csa'),
	CustomerInfo: require('./views/CustomerInfo'),
	Deleter: require('./views/Deleter'),
	Dragger: require('./views/Dragger'),
	FoodOmission: require('./views/FoodOmission'),
	Footer: require('./views/Footer'),
	Form: require('./views/Form'),
	GetInvolved: require('./views/GetInvolved'),
	Header: require('./views/Header'),
	Home: require('./views/Home'),
	List: require('./views/List'),
	Locations: require('./views/Locations'),
	Login: require('./views/Login'),
	ManageCustomer: require('./views/ManageCustomer'),
	MemberTypeahead: require('./views/MemberTypeahead'),
	MyView: require('./views/MyView'),
	OrderOptions: require('./views/OrderOptions'),
	Reporting: require('./views/Reporting'),
	ResetPassword: require('./views/ResetPassword'),
	Seasons: require('./views/Seasons'),
	ShareBox: require('./views/ShareBox'),
	SharePatch: require('./views/SharePatch'),
	Signup: require('./views/Signup'),
	Submitter: require('./views/Submitter'),
	Toast: require('./views/Toast'),
	Transactions: require('./views/Transactions'),
	TypeAhead: require('./views/TypeAhead'),
	Verify: require('./views/Verify'),
	WeekOptions: require('./views/WeekOptions'),
	modal: require('./views/modal')
};

},{"./views/About":66,"./views/AccountHome":67,"./views/AccountPayments":68,"./views/AddTransaction":69,"./views/AdminHeader":70,"./views/AdminPlus":71,"./views/ButtonFlow":72,"./views/CollectionManager":73,"./views/Contact":74,"./views/Csa":75,"./views/CustomerInfo":76,"./views/Deleter":77,"./views/Dragger":78,"./views/FoodOmission":79,"./views/Footer":80,"./views/Form":81,"./views/GetInvolved":82,"./views/Header":83,"./views/Home":84,"./views/List":85,"./views/Locations":86,"./views/Login":87,"./views/ManageCustomer":88,"./views/MemberTypeahead":89,"./views/MyView":90,"./views/OrderOptions":91,"./views/Reporting":92,"./views/ResetPassword":93,"./views/Seasons":94,"./views/ShareBox":95,"./views/SharePatch":96,"./views/Signup":97,"./views/Submitter":98,"./views/Toast":99,"./views/Transactions":100,"./views/TypeAhead":101,"./views/Verify":102,"./views/WeekOptions":103,"./views/modal":107}],4:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

// JavaScript autoComplete v1.0.4
// https://github.com/Pixabay/JavaScript-autoComplete
var autoComplete = function () {
  function e(e) {
    function t(e, t) {
      return e.classList ? e.classList.contains(t) : new RegExp("\\b" + t + "\\b").test(e.className);
    }function o(e, t, o) {
      e.attachEvent ? e.attachEvent("on" + t, o) : e.addEventListener(t, o);
    }function s(e, t, o) {
      e.detachEvent ? e.detachEvent("on" + t, o) : e.removeEventListener(t, o);
    }function n(e, s, n, l) {
      o(l || document, s, function (o) {
        for (var s, l = o.target || o.srcElement; l && !(s = t(l, e));) {
          l = l.parentElement;
        }s && n.call(l, o);
      });
    }if (document.querySelector) {
      var l = { selector: 0, source: 0, minChars: 3, delay: 150, offsetLeft: 0, offsetTop: 1, cache: 1, menuClass: "", renderItem: function renderItem(e, t) {
          t = t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&");var o = new RegExp("(" + t.split(" ").join("|") + ")", "gi");return '<div class="autocomplete-suggestion" data-val="' + e + '">' + e.replace(o, "<b>$1</b>") + "</div>";
        }, onSelect: function onSelect() {} };for (var c in e) {
        e.hasOwnProperty(c) && (l[c] = e[c]);
      }for (var a = "object" == _typeof(l.selector) ? [l.selector] : document.querySelectorAll(l.selector), u = 0; u < a.length; u++) {
        var i = a[u];i.sc = document.createElement("div"), i.sc.className = "autocomplete-suggestions " + l.menuClass, i.autocompleteAttr = i.getAttribute("autocomplete"), i.setAttribute("autocomplete", "off"), i.cache = {}, i.last_val = "", i.updateSC = function (e, t) {
          var o = i.getBoundingClientRect();if (i.sc.style.left = Math.round(o.left + (window.pageXOffset || document.documentElement.scrollLeft) + l.offsetLeft) + "px", i.sc.style.top = Math.round(o.bottom + (window.pageYOffset || document.documentElement.scrollTop) + l.offsetTop) + "px", i.sc.style.width = Math.round(o.right - o.left) + "px", !e && (i.sc.style.display = "block", i.sc.maxHeight || (i.sc.maxHeight = parseInt((window.getComputedStyle ? getComputedStyle(i.sc, null) : i.sc.currentStyle).maxHeight)), i.sc.suggestionHeight || (i.sc.suggestionHeight = i.sc.querySelector(".autocomplete-suggestion").offsetHeight), i.sc.suggestionHeight)) if (t) {
            var s = i.sc.scrollTop,
                n = t.getBoundingClientRect().top - i.sc.getBoundingClientRect().top;n + i.sc.suggestionHeight - i.sc.maxHeight > 0 ? i.sc.scrollTop = n + i.sc.suggestionHeight + s - i.sc.maxHeight : 0 > n && (i.sc.scrollTop = n + s);
          } else i.sc.scrollTop = 0;
        }, o(window, "resize", i.updateSC), document.body.appendChild(i.sc), n("autocomplete-suggestion", "mouseleave", function () {
          var e = i.sc.querySelector(".autocomplete-suggestion.selected");e && setTimeout(function () {
            e.className = e.className.replace("selected", "");
          }, 20);
        }, i.sc), n("autocomplete-suggestion", "mouseover", function () {
          var e = i.sc.querySelector(".autocomplete-suggestion.selected");e && (e.className = e.className.replace("selected", "")), this.className += " selected";
        }, i.sc), n("autocomplete-suggestion", "mousedown", function (e) {
          if (t(this, "autocomplete-suggestion")) {
            var o = this.getAttribute("data-val");i.value = o, l.onSelect(e, o, this), i.sc.style.display = "none";
          }
        }, i.sc), i.blurHandler = function () {
          try {
            var e = document.querySelector(".autocomplete-suggestions:hover");
          } catch (t) {
            var e = 0;
          }e ? i !== document.activeElement && setTimeout(function () {
            i.focus();
          }, 20) : (i.last_val = i.value, i.sc.style.display = "none", setTimeout(function () {
            i.sc.style.display = "none";
          }, 350));
        }, o(i, "blur", i.blurHandler);var r = function r(e) {
          var t = i.value;if (i.cache[t] = e, e.length && t.length >= l.minChars) {
            for (var o = "", s = 0; s < e.length; s++) {
              o += l.renderItem(e[s], t);
            }i.sc.innerHTML = o, i.updateSC(0);
          } else i.sc.style.display = "none";
        };i.keydownHandler = function (e) {
          var t = window.event ? e.keyCode : e.which;if ((40 == t || 38 == t) && i.sc.innerHTML) {
            var o,
                s = i.sc.querySelector(".autocomplete-suggestion.selected");return s ? (o = 40 == t ? s.nextSibling : s.previousSibling, o ? (s.className = s.className.replace("selected", ""), o.className += " selected", i.value = o.getAttribute("data-val")) : (s.className = s.className.replace("selected", ""), i.value = i.last_val, o = 0)) : (o = 40 == t ? i.sc.querySelector(".autocomplete-suggestion") : i.sc.childNodes[i.sc.childNodes.length - 1], o.className += " selected", i.value = o.getAttribute("data-val")), i.updateSC(0, o), !1;
          }if (27 == t) i.value = i.last_val, i.sc.style.display = "none";else if (13 == t || 9 == t) {
            var s = i.sc.querySelector(".autocomplete-suggestion.selected");s && "none" != i.sc.style.display && (l.onSelect(e, s.getAttribute("data-val"), s), setTimeout(function () {
              i.sc.style.display = "none";
            }, 20));
          }
        }, o(i, "keydown", i.keydownHandler), i.keyupHandler = function (e) {
          var t = window.event ? e.keyCode : e.which;if (!t || (35 > t || t > 40) && 13 != t && 27 != t) {
            var o = i.value;if (o.length >= l.minChars) {
              if (o != i.last_val) {
                if (i.last_val = o, clearTimeout(i.timer), l.cache) {
                  if (o in i.cache) return void r(i.cache[o]);for (var s = 1; s < o.length - l.minChars; s++) {
                    var n = o.slice(0, o.length - s);if (n in i.cache && !i.cache[n].length) return void r([]);
                  }
                }i.timer = setTimeout(function () {
                  l.source(o, r);
                }, l.delay);
              }
            } else i.last_val = o, i.sc.style.display = "none";
          }
        }, o(i, "keyup", i.keyupHandler), i.focusHandler = function (e) {
          i.last_val = "\n", i.keyupHandler(e);
        }, l.minChars || o(i, "focus", i.focusHandler);
      }this.destroy = function () {
        for (var e = 0; e < a.length; e++) {
          var t = a[e];s(window, "resize", t.updateSC), s(t, "blur", t.blurHandler), s(t, "focus", t.focusHandler), s(t, "keydown", t.keydownHandler), s(t, "keyup", t.keyupHandler), t.autocompleteAttr ? t.setAttribute("autocomplete", t.autocompleteAttr) : t.removeAttribute("autocomplete"), document.body.removeChild(t.sc), t = null;
        }
      };
    }
  }return e;
}();!function () {
  "function" == typeof define && define.amd ? define("autoComplete", function () {
    return autoComplete;
  }) : "undefined" != typeof module && module.exports ? module.exports = autoComplete : window.autoComplete = autoComplete;
}();

},{}],5:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

module.exports = {

    Currency: new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 2
    }),

    FillRange: function FillRange(start, end) {
        return Array(end - start + 1).fill().map(function (item, index) {
            return start + index;
        });
    },
    GetCoordinateInputs: function GetCoordinateInputs(datum, value) {
        var longitude = value ? value[0] : '',
            latitude = value ? value[1] : '';

        return '' + ('<div data-js="' + datum.name + '" class="form-group">\n            <label>' + datum.label + '</label>\n            <div>\n                <input type="text" placeholder="Enter longitude" value="' + longitude + '"/>\n                <input type="text" placeholder="Enter latitude" value="' + latitude + '"/>\n            </div>\n        </div>');
    },
    GetFormField: function GetFormField(datum, value) {
        var meta = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

        if (datum.range === 'Geography') return this.GetCoordinateInputs(datum, value);

        var icon = datum.metadata ? datum.metadata.icon ? this.Icons[datum.metadata.icon] : '' : '';

        var options = datum.metadata ? datum.metadata.options : false;

        value = value === undefined || value === null ? '' : value;

        var label = datum.fk || datum.label ? '<label>' + (datum.fk || datum.label) + '</label>' : '';

        if (options) {
            if (typeof options === 'function') {
                options();return this.GetSelect(datum, value, [], icon, label);
            } else if (Array.isArray(options)) return this.GetSelect(datum, value, options, icon, label);
        }

        var image = datum.range === 'ImageUrl' ? '<div><img src="' + this.ImageSrc(value) + '" /></div>' : '';

        var placeholder = meta.noPlaceholder ? '' : datum.label || '';

        var input = datum.fk ? '<div data-view="typeAhead" data-name="' + datum.fk + '"></div>' : datum.range === 'Text' && meta.key === '_id' || meta.key === 'id' && datum.name === 'description' ? '<textarea data-js="' + datum.name + '" rows="3">' + value + '</textarea>' : datum.range === 'List' || _typeof(datum.range) === 'object' ? '<div data-js="' + datum.name + '" data-name="' + datum.name + '"></div>' : '<input type="' + this.RangeToInputType[datum.range] + '" data-js="' + datum.name + '" placeholder="' + placeholder + '" value="' + value + '" />';

        return '' + ('<div class="form-group ' + (image ? 'has-image' : '') + '">\n            ' + label + '\n            ' + input + '\n            ' + image + '\n            ' + icon + '\n        </div>');
    },
    GetFormFields: function GetFormFields(data) {
        var _this = this;

        var model = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
        var meta = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

        if (!data) return '';

        return data.filter(function (datum) {
            return meta[datum.name || datum.fk] && meta[datum.name || datum.fk].hide ? false : true;
        }).map(function (datum) {
            return _this.GetFormField(datum, model && model[datum.name], meta);
        }).join('');
    },
    GetIcon: function GetIcon(name, opts) {
        return Reflect.apply(this.Icons[name], this, [opts]);
    },
    GetListItems: function GetListItems() {
        var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
        var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

        return items.map(function (item) {
            var attr = opts.dataAttr ? 'data-' + opts.dataAttr + '="' + item[opts.dataAttr] + '"' : '';
            return '<li ' + attr + '>' + (item.label || item) + '</li>';
        }).join('');
    },
    GetSelect: function GetSelect(datum, selectedValue, optionsData, icon) {
        var label = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '';

        if (typeof selectedValue === 'boolean' || typeof selectedValue === 'number') selectedValue = selectedValue.toString();

        var options = optionsData.length ? this.GetSelectOptions(optionsData, selectedValue, { valueAttr: 'name' }) : '';

        return '' + ('<div class="form-group">\n            ' + label + '\n            <select data-js="' + datum.name + '">\n                <option disabled ' + (!selectedValue ? 'selected' : '') + ' value>' + datum.label + '</option>\n                ' + options + '\n            </select>\n            ' + icon + '\n        </div>');
    },
    GetSelectOptions: function GetSelectOptions() {
        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
        var selectedValue = arguments[1];
        var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { valueAttr: 'value' };

        return options.map(function (option) {
            return '<option ' + (selectedValue === option[opts.valueAttr] ? 'selected' : '') + ' value="' + option[opts.valueAttr] + '">' + option.label + '</option>';
        }).join('');
    },


    Icons: require('./.IconMap'),

    IconDataJs: function IconDataJs(p) {
        return p.name ? 'data-js="' + p.name + '"' : '';
    },
    ImageSrc: function ImageSrc(name) {
        return 'https://storage.googleapis.com/double-quill-3243/' + name;
    },
    ParseTextLinks: function ParseTextLinks(text) {
        var start = text.indexOf('{{'),
            end = void 0,
            rest = void 0,
            target = void 0,
            key = void 0,
            value = void 0,
            replacement = void 0;

        if (start === -1) return text;

        rest = text.slice(start);
        target = rest.slice(0, rest.indexOf('}') + 2);
        key = target.slice(2, target.indexOf(':'));
        value = target.slice(target.indexOf(':') + 1, target.indexOf('}'));

        replacement = /email/i.test(target) ? '<a href="mailto:' + value + '" class="link">' + key + '</a>' : /http/.test(value) ? '<a target="_blank" href="' + value + '" class="link">' + key + '</a>' : '<span data-js="link" data-name="' + value + '" class="link">' + key + '</span>';

        return this.ParseTextLinks(text.replace(target, replacement));
    },
    Range: function Range(int) {
        return Array.from(Array(int).keys());
    },


    RangeToInputType: {
        Email: 'email',
        ImageUrl: 'text',
        Password: 'password',
        String: 'text',
        Text: 'text'
    }

};

},{"./.IconMap":1}],6:[function(require,module,exports){
"use strict";

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var MyError = function MyError(err) {
    return this.handle(err);
};

_extends(MyError.prototype, {

    handle: function handle(err) {
        console.log(err.stack || err);
    }

});

module.exports = MyError;

},{}],7:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = Object.create(_extends({}, require('../../lib/MyObject'), {

    Request: {
        constructor: function constructor(data) {
            var _this = this;

            var req = new XMLHttpRequest();

            return new Promise(function (resolve, reject) {

                req.onload = function () {
                    [500, 404, 401].includes(this.status) ? reject(this.response) : resolve(JSON.parse(this.response));
                };

                var path = '/' + data.resource + (data.id ? '/' + data.id : '');

                if (data.method === "get" || data.method === "options") {
                    var qs = data.qs ? '?' + data.qs : '';
                    req.open(data.method, '' + path + qs);
                    //req.open( data.method, `/${data.resource}${qs}` )
                    _this.setHeaders(req, data.headers);
                    req.send(null);
                } else {
                    req.open(data.method.toUpperCase(), path, true);
                    _this.setHeaders(req, data.headers);
                    req.send(data.data || null);
                }
            });
        },
        plainEscape: function plainEscape(sText) {
            /* how should I treat a text/plain form encoding? what characters are not allowed? this is what I suppose...: */
            /* "4\3\7 - Einstein said E=mc2" ----> "4\\3\\7\ -\ Einstein\ said\ E\=mc2" */
            return sText.replace(/[\s\=\\]/g, "\\$&");
        },
        setHeaders: function setHeaders(req) {
            var headers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

            req.setRequestHeader("Accept", headers.accept || 'application/json');
            req.setRequestHeader("Content-Type", headers.contentType || 'text/plain');
            Object.keys(headers).forEach(function (key) {
                return req.setRequestHeader(key, headers[key]);
            });
        }
    },

    _factory: function _factory(data) {
        return Object.create(this.Request, {}).constructor(data);
    },
    constructor: function constructor() {

        if (!XMLHttpRequest.prototype.sendAsBinary) {
            XMLHttpRequest.prototype.sendAsBinary = function (sData) {
                var nBytes = sData.length,
                    ui8Data = new Uint8Array(nBytes);
                for (var nIdx = 0; nIdx < nBytes; nIdx++) {
                    ui8Data[nIdx] = sData.charCodeAt(nIdx) & 0xff;
                }
                this.send(ui8Data);
            };
        }

        return this._factory.bind(this);
    }
}), {}).constructor();

},{"../../lib/MyObject":191}],8:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = Object.create({
    create: function create(rawName, opts) {
        var name = this._processName(rawName);

        return Object.create(this.Views[name], _extends({
            Dragger: { value: this.Dragger },
            Header: { value: this.Header },
            Toast: { value: this.Toast },
            documentName: { value: rawName },
            name: { value: name },
            factory: { value: this },
            template: { value: this.Templates[name] },
            user: { value: this.User }
        })).constructor(opts);
    },
    _processName: function _processName(name) {
        var hyphen = name.indexOf('-');
        if (hyphen !== -1) return name.charAt(0).toUpperCase() + name.slice(1, hyphen) + name.charAt(hyphen + 1).toUpperCase() + name.slice(hyphen + 2);

        return name.charAt(0).toUpperCase() + name.slice(1);
    }
}, {
    Dragger: { value: require('../views/Dragger') },
    Header: { value: require('../views/Header') },
    Templates: { value: require('../.TemplateMap') },
    Toast: { value: require('../views/Toast') },
    User: { value: require('../models/User') },
    Views: { value: require('../.ViewMap') }
});

},{"../.TemplateMap":2,"../.ViewMap":3,"../models/User":39,"../views/Dragger":78,"../views/Header":83,"../views/Toast":99}],9:[function(require,module,exports){
'use strict';

var $ = require('jquery');

require('./polyfill');

window.$ = window.jQuery = $;
window.initGMap = function () {
    return true;
};

require('bootstrap');
require('./plugins/bootstrap-datetimepicker');

window.onload = function () {
    require('./router').initialize();
    require('./views/modal');
};

},{"./plugins/bootstrap-datetimepicker":41,"./polyfill":43,"./router":44,"./views/modal":107,"bootstrap":199,"jquery":"jquery"}],10:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    attributes: [{
        name: 'name',
        label: 'Name',
        range: 'String',
        error: 'Please enter a name with no spaces.',
        validate: function validate(val) {
            return val.trim() !== '' && !/\s/.test(val);
        },
        metadata: {}
    }],

    meta: {
        key: 'name'
    },

    resource: 'Collection'
});

},{"./__proto__":40}],11:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = Object.create(_extends({}, require('./__proto__'), {

    data: {
        currentCollection: 'Pages',
        currentView: ''
    },

    meta: {
        CsaPageShare: {
            add: false,
            delete: false
        },
        Pages: {
            add: false,
            delete: false
        },
        seasonalAddOnOption: {
            displayAttr: ['seasonalAddOn', 'name']
        },
        sharedeliveryoption: {
            displayAttr: ['share', 'deliveryoption']
        },
        sharegroupdropoff: {
            displayAttr: ['share', 'groupdropoff']
        },
        shareoption: {
            displayAttr: ['name']
        },
        shareoptionoption: {
            displayAttr: ['shareoption', 'label']
        },
        shareoptionshare: {
            displayAttr: ['shareoption', 'share']
        },
        Staff: {
            add: true,
            delete: true
        },
        zipcoderoute: {
            displayAttr: ['zipcode', 'deliveryroute']
        }
    }

}));

},{"./__proto__":40}],12:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = Object.create(_extends({}, require('./__proto__'), {

    parse: function parse(response) {
        return response[0];
    }

}), { resource: { value: 'contactinfo' } });

},{"./__proto__":40}],13:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    dayOfWeekMap: require('./DayOfWeek'),

    parse: function parse(response) {
        var _this = this;

        return response.map(function (row) {
            return _extends(row, {
                dayOfWeek: _this.dayOfWeekMap[row.dayofweek],
                starttime: _this.moment([_this.moment().format('YYYY-MM-DD'), row.starttime].join(' ')).format('h:mmA'),
                endtime: _this.moment([_this.moment().format('YYYY-MM-DD'), row.endtime].join(' ')).format('h:mmA')
            });
        });
    },


    resource: "deliveryroute"

});

},{"./DayOfWeek":17,"./__proto__":40}],14:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    actions: ['Adjustment', 'Payment', 'Reimbursement', 'Season Signup'],

    attributes: ['action', 'value', 'checkNumber', 'created', 'description'],

    getBalance: function getBalance() {
        return this.data.reduce(function (memo, datum) {
            if (datum.action === 'Payment') memo -= datum.value;else memo += datum.value;
            return memo;
        }, 0);
    },
    isNegative: function isNegative(row) {
        if (row.action === 'Payment') return true;

        if (row.action === 'Adjustment' && row.value < 0) return true;
    },
    parse: function parse(response) {
        var _this = this;

        response = response.map(function (row) {
            return _this.parseOne(row);
        });

        if (this.sortAttr) response.sort(function (a, b) {
            return a[_this.sortAttr] > b[_this.sortAttr];
        });

        return response;
    },
    parseOne: function parseOne(datum) {
        return _extends(datum, { isNegative: this.isNegative(datum) }, { created: _typeof(datum.created) === 'object' ? datum.created.raw : datum.created });
    },


    resource: 'csaTransaction',

    sortAttr: 'created'

});

},{"./__proto__":40}],15:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    ShareGroupDropoffs: require('./ShareGroupDropoff'),

    getCurrentGroupDropoffs: function getCurrentGroupDropoffs() {
        var _this = this;

        return this.ShareGroupDropoffs.get({ query: {
                shareid: this.data.id,
                groupdropoffid: { operation: 'join', value: { table: 'groupdropoff', column: 'id' } }
            } }).then(function () {
            return Promise.resolve(_this.ShareGroupDropoffs.data.map(function (datum) {
                return _extends({
                    name: datum['groupdropoff.name'],
                    venue: datum['groupdropoff.venue'],
                    street: datum['groupdropoff.street'],
                    cityStateZip: datum['groupdropoff.cityStateZip'],
                    location: datum.location,
                    hours: datum.dayofweek + ' ' + datum.starttime + ' - ' + datum.endtime
                });
            }));
        });
    },
    getSizeOptions: function getSizeOptions() {
        return this.data.produceOptions.filter(function (option) {
            return (/size/i.test(option.prompt)
            );
        });
    },


    resource: 'currentShare'

});

},{"./ShareGroupDropoff":37,"./__proto__":40}],16:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    Member: require('./Member'),
    Person: require('./Person'),

    parse: function parse(response) {
        var _this = this;

        return response.map(function (row) {
            return Object.keys(row).reduce(function (memo, key) {
                var index = key.indexOf('.');
                memo[key.slice(0, index)].data[key.slice(index + 1)] = row[key];
                return memo;
            }, { member: Object.create(_this.Member, { data: { value: {} } }),
                person: Object.create(_this.Person, { data: { value: {} } })
            });
        });
    },


    resource: 'person'

});

},{"./Member":27,"./Person":33,"./__proto__":40}],17:[function(require,module,exports){
'use strict';

module.exports = {
    0: 'Sunday',
    1: 'Monday',
    2: 'Tuesday',
    3: 'Wednesday',
    4: 'Thursday',
    5: 'Friday',
    6: 'Saturday'
};

},{}],18:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {
    parse: function parse(response) {
        return response.map(function (row) {
            return Object.keys(row).reduce(function (memo, key) {
                var index = key.indexOf('.'),
                    table = key.slice(0, index);
                if (!memo[table]) memo[table] = {};
                memo[table][key.slice(index + 1)] = row[key];
                return memo;
            }, {});
        });
    },


    resource: 'membersharedelivery'

});

},{"./__proto__":40}],19:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = require('backbone').Model.extend(_extends({}, require('../../../lib/MyObject').prototype, {
    parse: function parse(moment) {
        return {
            id: moment.dayOfYear(),
            date: moment.format('YYYY-MM-DD'),
            dayOfWeek: moment.format('ddd'),
            dayOfMonth: moment.format('D'),
            epoch: moment.unix(),
            month: moment.format('MMM'),
            monthNum: moment.format('M')
        };
    }
}));

},{"../../../lib/MyObject":191,"backbone":"backbone"}],20:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = require('backbone').Model.extend(_extends({}, require('../../../lib/MyObject').prototype, {

    dayOfWeekMap: require('./DayOfWeek'),

    parse: function parse(response) {
        return _extends(response, {

            dayOfWeek: this.dayOfWeekMap[response.dayofweek],
            starttime: this.moment([this.moment().format('YYYY-MM-DD'), response.starttime].join(' ')).format('h:mmA'),
            endtime: this.moment([this.moment().format('YYYY-MM-DD'), response.endtime].join(' ')).format('h:mmA')
        });
    },


    urlRoot: "/deliveryroute"
}));

},{"../../../lib/MyObject":191,"./DayOfWeek":17,"backbone":"backbone"}],21:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = _extends({}, require('./__proto__'), {

    attributes: {},

    data: {},

    meta: {
        key: '_id'
    },

    toList: function toList(document) {
        document = document || this.data;
        return Object.keys(document).sort().map(function (key) {
            return { key: key, value: document[key] };
        });
    },
    toObj: function toObj() {
        this.data = this.reducer(this.data, function (datum) {
            return _defineProperty({}, datum.key, datum.value);
        });
        return this;
    }
});

},{"./__proto__":40}],22:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = require('backbone').Model.extend(_extends({}, require('../../../lib/MyObject').prototype, {

    dayOfWeekMap: require('./DeliveryRoute').prototype.dayOfWeekMap,

    initialize: function initialize() {
        var _this = this;

        this.on('change:dayofweek', function () {
            return _this.updateReadableDay();
        });
    },
    updateReadableDay: function updateReadableDay() {
        this.set({ dayOfWeek: this.dayOfWeekMap[this.get('dayofweek')] });
    }
}));

},{"../../../lib/MyObject":191,"./DeliveryRoute":20,"backbone":"backbone"}],23:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    CsaDelivery: require('./CsaDelivery'),

    getHours: function getHours() {
        var _this = this;

        return this.CsaDelivery.get({ query: { label: 'farm' } }).then(function () {
            var farmPickup = _this.CsaDelivery.data[0];
            _this.data[0].hours = farmPickup.dayOfWeek + ' ' + farmPickup.starttime + ' - ' + farmPickup.endtime;
            return Promise.resolve();
        });
    },
    parse: function parse(response) {
        return response.map(function (row) {
            return _extends({
                name: 'Pick-up from our farm!',
                street: row.farmpickup.split(',')[0],
                cityStateZip: row.cityStateZip,
                location: JSON.parse(row.location).coordinates
            });
        });
    },


    resource: 'contactinfo'

});

},{"./CsaDelivery":13,"./__proto__":40}],24:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {
    parse: function parse(response) {
        return response.map(function (row) {
            return row.location ? _extends(row, { location: JSON.parse(row.location).coordinates }) : row;
        });
    },


    resource: 'farmermarket'

});

},{"./__proto__":40}],25:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    resource: 'food'

});

},{"./__proto__":40}],26:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    attributes: [{ name: 'farmerMarket', el: 'farmerMarketsList', label: "Farmer's Market", color: '#ed1c24' }, { name: 'retailOutlet', el: 'retailOutletsList', label: 'Retail Outlet', color: '#ffdd14' }, { name: 'restaurant', el: 'restaurantsList', label: 'Restaurant', color: '#231f20' }, { name: 'groupLocation', el: 'groupLocationsList', label: 'Group Location', color: '#f8941e' }, { name: 'deliveryRange', label: 'Delivery Range', color: '#ed1c24' }, { name: 'farmPickup', el: 'groupLocationsList', label: 'Patchwork Gardens' }],

    data: {
        deliveryRangeCoords: [{ lat: 39.871435, lng: -84.367880 }, { lat: 39.901132, lng: -84.097279 }, { lat: 39.926834, lng: -83.806420 }, { lat: 39.813106, lng: -83.815755 }, { lat: 39.726784, lng: -83.788941 }, { lat: 39.615032, lng: -84.008702 }, { lat: 39.526260, lng: -84.088909 }, { lat: 39.542528, lng: -84.293660 }, { lat: 39.601278, lng: -84.369877 }]
    }

});

},{"./__proto__":40}],27:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    resource: 'member'

});

},{"./__proto__":40}],28:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    resource: 'memberfoodomission'

});

},{"./__proto__":40}],29:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = _extends({}, require('./__proto__'), {
    parse: function parse(response) {
        var _this = this;

        return response.map(function (row) {
            var startDate = _this.moment(row['share.startdate']),
                endDate = _this.moment(row['share.enddate']);

            return Object.keys(row).reduce(function (memo, key) {
                var index = key.indexOf('.'),
                    table = key.slice(0, index);

                if (table !== 'share') return memo;

                return _extends(memo, _defineProperty({}, key.slice(index + 1), row[key]), {
                    duration: Math.ceil(endDate.diff(startDate, 'days') / 7),
                    humanEnddate: endDate.format("MMM D"),
                    humanStartdate: startDate.format("MMM D")
                });
            }, { membershareid: row['membershare.id'] });
        });
    },


    resource: 'membershare'
});

},{"./__proto__":40}],30:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = _extends({}, require('./__proto__'), {
    parse: function parse(response) {
        return response.map(function (row) {
            return Object.keys(row).reduce(function (memo, key) {
                var index = key.indexOf('.'),
                    table = key.slice(0, index);
                if (table !== 'shareoptionoption') return memo;

                return _extends(memo, _defineProperty({}, key.slice(index + 1), row[key]));
            }, { shareoptionid: row['membershareoption.shareoptionid'], membershareoptionid: row['membershareoption.id'] });
        });
    },


    resource: 'membershareoption'
});

},{"./__proto__":40}],31:[function(require,module,exports){
'use strict';

module.exports = {
    data: [{ label: 'About', name: 'about' }, { label: 'CSA Program', name: 'csa' }, { label: 'Locations', name: 'locations' }, { label: 'Get Involved', name: 'get-involved' }, { label: 'Contact', name: 'contact' }]
};

},{}],32:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = _extends({}, require('./__proto__'), {
    parse: function parse(response) {
        return response.map(function (row) {
            return Object.keys(row).reduce(function (memo, key) {
                var index = key.indexOf('.'),
                    table = key.slice(0, index);
                if (table !== 'shareoption') return memo;

                return _extends(memo, _defineProperty({}, key.slice(index + 1), row[key]));
            }, {});
        });
    },


    resource: 'shareoptionshare'
});

},{"./__proto__":40}],33:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    resource: 'person'

});

},{"./__proto__":40}],34:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {
    parse: function parse(response) {
        return response.map(function (row) {
            return row.location ? _extends(row, { location: JSON.parse(row.location).coordinates }) : row;
        });
    },


    resource: 'restaurant'

});

},{"./__proto__":40}],35:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {
    parse: function parse(response) {
        return response.map(function (row) {
            return row.location ? _extends(row, { location: JSON.parse(row.location).coordinates }) : row;
        });
    },


    resource: 'retailoutlet'

});

},{"./__proto__":40}],36:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = require('backbone').Model.extend(_extends({}, require('../../../lib/MyObject').prototype, {

    Collection: require('backbone').Collection,

    DeliveryDate: require('./DeliveryDate'),

    Dropoff: require('./Dropoff'),

    dayOfWeekMap: require('./DeliveryRoute').prototype.dayOfWeekMap,

    determineNextDeliveryCutoff: function determineNextDeliveryCutoff(dayOfWeek) {
        var nextDeliveryDay = dayOfWeek > 4 ? 15 : 8;
        return this.moment().day(nextDeliveryDay).hour(0).minute(0).second(0).millisecond(0);
    },
    getDeliveryDates: function getDeliveryDates() {
        var dates = [],
            now = this.moment(),
            deliveryDay = this.get('selectedDelivery').dayofweek,
            deliveryDate = this.moment(this.get('startdate')),
            endDate = this.moment(this.get('enddate')),
            nextDeliveryCutoff = this.determineNextDeliveryCutoff(now.day()),
            startDay = startDay = deliveryDate.day();

        if (!Number.isInteger(deliveryDay)) return new this.Collection([]);

        while (startDay != deliveryDay) {
            deliveryDate.add(1, 'days');
            startDay = this.moment(deliveryDate).day();
        }

        while (endDate.diff(deliveryDate, 'days') >= 0) {
            var model = new this.DeliveryDate(deliveryDate, { parse: true });
            if (deliveryDate.diff(nextDeliveryCutoff) < 0) model.set({ unselectable: true });
            dates.push(model);
            deliveryDate.add(7, 'days');
        }

        this.set({ deliveryDates: new this.Collection(dates) });

        return this.get('deliveryDates');
    },
    getDeliveryOptions: function getDeliveryOptions() {
        var _this = this;

        if (this.has('deliveryoptions')) return this.Q(this.get('deliveryoptions'));

        return this.Q(new (this.Collection.extend({ url: "/sharedeliveryoption" }))().fetch({ data: { shareid: this.id } })).then(function (mappings) {
            var deliveryOptions = new (_this.Collection.extend({ url: "/deliveryoption" }))();

            _this.set({ deliveryoptions: deliveryOptions });

            if (mappings.length === 0) return _this.Q();

            return _this.Q(deliveryOptions.fetch({ data: { id: mappings.map(function (record) {
                        return record.deliveryoptionid;
                    }).join(',') } }));
        }).fail(function (e) {
            return console.log("Getting Delivery Options : " + e.stack || e);
        });
    },
    getGroupDropoffs: function getGroupDropoffs() {
        var _this2 = this;

        var mappings = new (this.Collection.extend({ url: "/sharegroupdropoff" }))();

        if (this.has('groupdropoffs')) return this.Q(this.get('groupdropoffs'));

        return this.Q(mappings.fetch({ data: { shareid: this.id } })).then(function () {
            var groupDropoffs;

            if (mappings.length === 0) return;

            groupDropoffs = new (_this2.Collection.extend({ model: _this2.Dropoff, url: "/groupdropoff" }))();
            _this2.set({ groupdropoffs: groupDropoffs });

            return _this2.Q(groupDropoffs.fetch({ data: { id: mappings.map(function (record) {
                        return record.get('groupdropoffid');
                    }).join(',') } }));
        }).then(function () {

            if (mappings.length === 0) return _this2.set('groupdropoffs', []);

            _this2.get('groupdropoffs').forEach(function (dropoff) {
                var mapping = mappings.find(function (model) {
                    return model.get('groupdropoffid') == dropoff.id;
                });

                dropoff.set({
                    dayofweek: mapping.get('dayofweek'),
                    starttime: _this2.timeToHumanTime(mapping.get('starttime')),
                    endtime: _this2.timeToHumanTime(mapping.get('endtime'))
                });
            });
        }).fail(function (e) {
            return console.log("Getting Group Dropoffs : " + e.stack || e);
        });
    },
    getSelectedDates: function getSelectedDates() {
        var _this3 = this;

        this.set({ selectedDates: this._(this.get('deliveryDates').reject(function (deliveryDay) {
                return deliveryDay.get('unselectable');
            })).reject(function (deliveryDay) {
                return _this3._(_this3.get('skipDays')).contains(deliveryDay.id);
            })
        });
    },
    getShareOptions: function getShareOptions() {
        var _this4 = this;

        if (this.has('shareoptions')) return this.Q(this.get('shareoptions'));

        return this.Q(new (this.Collection.extend({ url: "/shareoptionshare" }))().fetch({ data: { shareid: this.id } })).then(function (mappings) {
            var shareOptions;

            if (mappings.length === 0) return;

            shareOptions = new (_this4.Collection.extend({ url: "/shareoption" }))();
            _this4.set({ shareoptions: shareOptions });

            return _this4.Q(shareOptions.fetch({ data: { id: mappings.map(function (record) {
                        return record.shareoptionid;
                    }).join(',') } }));
        }).then(function () {
            return _this4.Q.all(_this4.get('shareoptions').map(function (shareOption) {
                shareOption.set({ options: new (_this4.Collection.extend({ comparator: _this4.shareOptionOptionComparator, url: "/shareoptionoption" }))() });
                return _this4.Q(shareOption.get('options').fetch({ data: { shareoptionid: shareOption.id } }));
            }));
        }).then(function () {
            _this4.get('shareoptions').comparator = _this4.shareOptionComparator;
            _this4.get('shareoptions').sort();
        }).fail(function (e) {
            return console.log("Getting Share Options : " + e.stack || e);
        });
    },
    moneyToFloat: function moneyToFloat(money) {
        return parseFloat(money.replace(/\$|,/g, ""));
    },
    parse: function parse(response) {
        var startDate = this.moment(response.startdate),
            endDate = this.moment(response.enddate);

        return _extends(response, {
            duration: Math.ceil(endDate.diff(startDate, 'days') / 7),
            humanEnddate: endDate.format("MMM D"),
            humanStartdate: startDate.format("MMM D"),
            startEpoch: startDate.unix()
        });
    },
    shareOptionComparator: function shareOptionComparator(a, b) {
        var moneyToFloat = function moneyToFloat(money) {
            return parseFloat(money.replace(/\$|,/g, ""));
        },
            aVal = moneyToFloat(a.get('options').at(a.get('options').length - 1).get('price')),
            bVal = moneyToFloat(b.get('options').at(b.get('options').length - 1).get('price'));

        return aVal > bVal ? -1 : bVal > aVal ? 1 : 0;
    },
    shareOptionOptionComparator: function shareOptionOptionComparator(a, b) {
        var moneyToFloat = function moneyToFloat(money) {
            return parseFloat(money.replace(/\$|,/g, ""));
        },
            aVal = moneyToFloat(a.get('price')),
            bVal = moneyToFloat(b.get('price'));

        return aVal > bVal ? 1 : bVal > aVal ? -1 : 0;
    },
    timeToHumanTime: function timeToHumanTime(time) {
        return this.moment(['2016-12-12', time].join(' ')).format('h:mmA');
    }
}));

},{"../../../lib/MyObject":191,"./DeliveryDate":19,"./DeliveryRoute":20,"./Dropoff":22,"backbone":"backbone"}],37:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    dayOfWeekMap: require('./DayOfWeek'),

    parse: function parse(response) {
        var _this = this;

        return response.map(function (row) {
            return _extends(row, {
                dayofweek: _this.dayOfWeekMap[row['sharegroupdropoff.dayofweek'] || row.dayofweek],
                starttime: _this.moment([_this.moment().format('YYYY-MM-DD'), row['sharegroupdropoff.starttime'] || row.starttime].join(' ')).format('h:mmA'),
                endtime: _this.moment([_this.moment().format('YYYY-MM-DD'), row['sharegroupdropoff.endtime'] || row.endtime].join(' ')).format('h:mmA'),
                location: row.location ? JSON.parse(row.location).coordinates : undefined
            });
        });
    },


    resource: 'sharegroupdropoff'

});

},{"./DayOfWeek":17,"./__proto__":40}],38:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    resource: 'shareoptionoption'
});

},{"./__proto__":40}],39:[function(require,module,exports){
'use strict';

module.exports = new (require('backbone').Model.extend({

    defaults: function defaults() {
        return { state: {} };
    },

    isAdmin: function isAdmin() {
        var roles = this.get('roles');

        if (!Array.isArray(roles)) return false;

        return roles.includes('admin');
    },
    isLoggedIn: function isLoggedIn() {
        return Boolean(this.id && this.get('emailVerified'));
    },
    url: function url() {
        return "/user";
    }
}))();

},{"backbone":"backbone"}],40:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('../../../lib/Model'), require('events').EventEmitter.prototype, {

    Xhr: require('../Xhr'),

    add: function add(datum) {
        this.data.push(datum);

        if (this.storeBy) this._storeOne(datum);

        return this;
    },
    delete: function _delete() {
        var _this = this;

        var keyValue = this.data[this.meta.key];

        return this.Xhr({ method: 'DELETE', resource: this.resource, id: keyValue }).then(function () {
            var key = _this.meta.key;

            if (Array.isArray(_this.data)) {
                var datum = _this.data.find(function (datum) {
                    return datum[key] == keyValue;
                });

                if (_this.store) {
                    Object.keys(_this.store).forEach(function (attr) {
                        _this.store[attr][datum[attr]] = _this.store[attr][datum[attr]].filter(function (datum) {
                            return datum[key] != keyValue;
                        });
                        if (_this.store[attr][datum[attr]].length === 0) {
                            _this.store[attr][datum[attr]] = undefined;
                        }
                    });
                }

                _this.data = _this.data.filter(function (datum) {
                    return datum[key] != keyValue;
                });
            }

            return Promise.resolve(_this.data);
        });
    },
    get: function get() {
        var _this2 = this;

        var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { query: {} };

        if (opts.query || this.pagination) _extends(opts.query, this.pagination);
        return this.Xhr({ method: opts.method || 'get', resource: opts.resource || this.resource, headers: this.headers || {}, qs: opts.query ? JSON.stringify(opts.query) : undefined }).then(function (response) {
            if (opts.storeBy) _this2._resetStore(opts.storeBy);
            _this2.data = _this2.parse ? _this2.parse(response) : response;
            if (opts.storeBy) _this2._store();
            return Promise.resolve(_this2.data);
        });
    },
    getCount: function getCount() {
        var _this3 = this;

        return this.Xhr({ method: 'get', resource: this.resource, headers: this.headers || {}, qs: JSON.stringify({ countOnly: true }) }).then(function (response) {
            var count = Array.isArray(response) ? response[0].count : response.result;
            _this3.meta.count = count;
            return Promise.resolve(count);
        });
    },
    git: function git(attr) {
        return this.data[attr];
    },
    moneyToReal: function moneyToReal(price) {
        return parseFloat(price.replace(/\$|,/g, ""));
    },
    patch: function patch(id, data) {
        var _this4 = this;

        return this.Xhr({ method: 'patch', id: id, resource: this.resource, headers: _extends({ v2: true }, this.headers || {}), data: JSON.stringify(data || this.data) }).then(function (response) {

            if (Array.isArray(_this4.data)) {
                _this4.data = _this4.data ? _this4.data.concat(response) : [response];
                if (_this4.store) Object.keys(_this4.store).forEach(function (attr) {
                    return _this4._store(response, attr);
                });
            } else {
                _this4.data = response;
            }

            return Promise.resolve(response);
        });
    },
    _put: function _put(keyValue, data) {
        var _this5 = this;

        var item = this.data.find(function (datum) {
            return datum[_this5.meta.key] == keyValue;
        });
        if (item) {
            Object.keys(data).forEach(function (key) {
                return item[key] = data[key];
            });
        }
        return this;
    },
    put: function put(id, data) {
        var _this6 = this;

        return this.Xhr({ method: 'put', id: id, resource: this.resource, headers: this.headers || {}, data: JSON.stringify(data) }).then(function (response) {

            if (Array.isArray(_this6.data)) {} else {
                _this6.data = response;
            }

            return Promise.resolve(response);
        });
    },
    post: function post(model) {
        var _this7 = this;

        return this.Xhr({ method: 'post', resource: this.resource, headers: _extends({ v2: true }, this.headers || {}), data: JSON.stringify(model || this.data) }).then(function (response) {

            if (Array.isArray(_this7.data)) {
                _this7.data = _this7.data ? _this7.data.concat(response) : [response];
                if (_this7.store) Object.keys(_this7.store).forEach(function (attr) {
                    return _this7._store(response, attr);
                });
            } else {
                _this7.data = response;
            }

            return Promise.resolve(response);
        });
    },
    remove: function remove(item) {
        var index = this.data.findIndex(function (datum) {
            return JSON.stringify(datum) === JSON.stringify(item);
        });

        if (index === -1) return;

        this.data.splice(index, 1);
    },
    set: function set(attr, value) {
        this.data[attr] = value;
        this.emit(attr + 'Changed');
    },
    validate: function validate(data) {
        var _this8 = this;

        var valid = true;

        Object.keys(data).forEach(function (name) {
            var val = data[name],
                attribute = _this8.attributes.find(function (attr) {
                return attr.name === name;
            });

            if (attribute === undefined || !attribute.validate) {
                _this8.data[name] = val ? typeof val === 'string' ? val.trim() : val : undefined;
            } else if (valid && !_this8.validateDatum(attribute, val)) {
                _this8.emit('validationError', attribute);
                valid = false;
            } else if (_this8.validateDatum(attribute, val)) {
                _this8.data[name] = val.trim();
            }
        });

        return valid;
    },
    validateDatum: function validateDatum(attr, val) {
        return attr.validate.call(this, val.trim());
    },
    validateRepeatPassword: function validateRepeatPassword() {
        var valid = true;

        if (this.data.repeatPassword !== this.data.password) {
            this.emit('validationError', this.attributes.find(function (attr) {
                return attr.name === 'repeatPassword';
            }));
            valid = false;
        }

        return valid;
    }
});

},{"../../../lib/Model":189,"../Xhr":7,"events":212}],41:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/*! version : 4.17.37
 =========================================================
 bootstrap-datetimejs
 https://github.com/Eonasdan/bootstrap-datetimepicker
 Copyright (c) 2015 Jonathan Peterson
 =========================================================
 */
/*
 The MIT License (MIT)

 Copyright (c) 2015 Jonathan Peterson

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 */
/*global define:false */
/*global exports:false */
/*global require:false */
/*global jQuery:false */
/*global moment:false */
(function (factory) {
    'use strict';

    if (typeof define === 'function' && define.amd) {
        // AMD is used - Register as an anonymous module.
        define(['jquery', 'moment'], factory);
    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') {
        factory(require('jquery'), require('moment'));
    } else {
        // Neither AMD nor CommonJS used. Use global variables.
        if (typeof jQuery === 'undefined') {
            throw 'bootstrap-datetimepicker requires jQuery to be loaded first';
        }
        if (typeof moment === 'undefined') {
            throw 'bootstrap-datetimepicker requires Moment.js to be loaded first';
        }
        factory(jQuery, moment);
    }
})(function ($, moment) {
    'use strict';

    if (!moment) {
        throw new Error('bootstrap-datetimepicker requires Moment.js to be loaded first');
    }

    var dateTimePicker = function dateTimePicker(element, options) {
        var picker = {},
            date,
            viewDate,
            unset = true,
            input,
            component = false,
            widget = false,
            use24Hours,
            minViewModeNumber = 0,
            actualFormat,
            parseFormats,
            currentViewMode,
            datePickerModes = [{
            clsName: 'days',
            navFnc: 'M',
            navStep: 1
        }, {
            clsName: 'months',
            navFnc: 'y',
            navStep: 1
        }, {
            clsName: 'years',
            navFnc: 'y',
            navStep: 10
        }, {
            clsName: 'decades',
            navFnc: 'y',
            navStep: 100
        }],
            viewModes = ['days', 'months', 'years', 'decades'],
            verticalModes = ['top', 'bottom', 'auto'],
            horizontalModes = ['left', 'right', 'auto'],
            toolbarPlacements = ['default', 'top', 'bottom'],
            keyMap = {
            'up': 38,
            38: 'up',
            'down': 40,
            40: 'down',
            'left': 37,
            37: 'left',
            'right': 39,
            39: 'right',
            'tab': 9,
            9: 'tab',
            'escape': 27,
            27: 'escape',
            'enter': 13,
            13: 'enter',
            'pageUp': 33,
            33: 'pageUp',
            'pageDown': 34,
            34: 'pageDown',
            'shift': 16,
            16: 'shift',
            'control': 17,
            17: 'control',
            'space': 32,
            32: 'space',
            't': 84,
            84: 't',
            'delete': 46,
            46: 'delete'
        },
            keyState = {},


        /********************************************************************************
         *
         * Private functions
         *
         ********************************************************************************/
        getMoment = function getMoment(d) {
            var tzEnabled = false,
                returnMoment,
                currentZoneOffset,
                incomingZoneOffset,
                timeZoneIndicator,
                dateWithTimeZoneInfo;

            if (moment.tz !== undefined && options.timeZone !== undefined && options.timeZone !== null && options.timeZone !== '') {
                tzEnabled = true;
            }
            if (d === undefined || d === null) {
                if (tzEnabled) {
                    returnMoment = moment().tz(options.timeZone).startOf('d');
                } else {
                    returnMoment = moment().startOf('d');
                }
            } else {
                if (tzEnabled) {
                    currentZoneOffset = moment().tz(options.timeZone).utcOffset();
                    incomingZoneOffset = moment(d, parseFormats, options.useStrict).utcOffset();
                    if (incomingZoneOffset !== currentZoneOffset) {
                        timeZoneIndicator = moment().tz(options.timeZone).format('Z');
                        dateWithTimeZoneInfo = moment(d, parseFormats, options.useStrict).format('YYYY-MM-DD[T]HH:mm:ss') + timeZoneIndicator;
                        returnMoment = moment(dateWithTimeZoneInfo, parseFormats, options.useStrict).tz(options.timeZone);
                    } else {
                        returnMoment = moment(d, parseFormats, options.useStrict).tz(options.timeZone);
                    }
                } else {
                    returnMoment = moment(d, parseFormats, options.useStrict);
                }
            }
            return returnMoment;
        },
            isEnabled = function isEnabled(granularity) {
            if (typeof granularity !== 'string' || granularity.length > 1) {
                throw new TypeError('isEnabled expects a single character string parameter');
            }
            switch (granularity) {
                case 'y':
                    return actualFormat.indexOf('Y') !== -1;
                case 'M':
                    return actualFormat.indexOf('M') !== -1;
                case 'd':
                    return actualFormat.toLowerCase().indexOf('d') !== -1;
                case 'h':
                case 'H':
                    return actualFormat.toLowerCase().indexOf('h') !== -1;
                case 'm':
                    return actualFormat.indexOf('m') !== -1;
                case 's':
                    return actualFormat.indexOf('s') !== -1;
                default:
                    return false;
            }
        },
            hasTime = function hasTime() {
            return isEnabled('h') || isEnabled('m') || isEnabled('s');
        },
            hasDate = function hasDate() {
            return isEnabled('y') || isEnabled('M') || isEnabled('d');
        },
            getDatePickerTemplate = function getDatePickerTemplate() {
            var headTemplate = $('<thead>').append($('<tr>').append($('<th>').addClass('prev').attr('data-action', 'previous').append($('<span>').addClass(options.icons.previous))).append($('<th>').addClass('picker-switch').attr('data-action', 'pickerSwitch').attr('colspan', options.calendarWeeks ? '6' : '5')).append($('<th>').addClass('next').attr('data-action', 'next').append($('<span>').addClass(options.icons.next)))),
                contTemplate = $('<tbody>').append($('<tr>').append($('<td>').attr('colspan', options.calendarWeeks ? '8' : '7')));

            return [$('<div>').addClass('datepicker-days').append($('<table>').addClass('table-condensed').append(headTemplate).append($('<tbody>'))), $('<div>').addClass('datepicker-months').append($('<table>').addClass('table-condensed').append(headTemplate.clone()).append(contTemplate.clone())), $('<div>').addClass('datepicker-years').append($('<table>').addClass('table-condensed').append(headTemplate.clone()).append(contTemplate.clone())), $('<div>').addClass('datepicker-decades').append($('<table>').addClass('table-condensed').append(headTemplate.clone()).append(contTemplate.clone()))];
        },
            getTimePickerMainTemplate = function getTimePickerMainTemplate() {
            var topRow = $('<tr>'),
                middleRow = $('<tr>'),
                bottomRow = $('<tr>');

            if (isEnabled('h')) {
                topRow.append($('<td>').append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.incrementHour }).addClass('btn').attr('data-action', 'incrementHours').append($('<span>').addClass(options.icons.up))));
                middleRow.append($('<td>').append($('<span>').addClass('timepicker-hour').attr({ 'data-time-component': 'hours', 'title': options.tooltips.pickHour }).attr('data-action', 'showHours')));
                bottomRow.append($('<td>').append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.decrementHour }).addClass('btn').attr('data-action', 'decrementHours').append($('<span>').addClass(options.icons.down))));
            }
            if (isEnabled('m')) {
                if (isEnabled('h')) {
                    topRow.append($('<td>').addClass('separator'));
                    middleRow.append($('<td>').addClass('separator').html(':'));
                    bottomRow.append($('<td>').addClass('separator'));
                }
                topRow.append($('<td>').append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.incrementMinute }).addClass('btn').attr('data-action', 'incrementMinutes').append($('<span>').addClass(options.icons.up))));
                middleRow.append($('<td>').append($('<span>').addClass('timepicker-minute').attr({ 'data-time-component': 'minutes', 'title': options.tooltips.pickMinute }).attr('data-action', 'showMinutes')));
                bottomRow.append($('<td>').append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.decrementMinute }).addClass('btn').attr('data-action', 'decrementMinutes').append($('<span>').addClass(options.icons.down))));
            }
            if (isEnabled('s')) {
                if (isEnabled('m')) {
                    topRow.append($('<td>').addClass('separator'));
                    middleRow.append($('<td>').addClass('separator').html(':'));
                    bottomRow.append($('<td>').addClass('separator'));
                }
                topRow.append($('<td>').append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.incrementSecond }).addClass('btn').attr('data-action', 'incrementSeconds').append($('<span>').addClass(options.icons.up))));
                middleRow.append($('<td>').append($('<span>').addClass('timepicker-second').attr({ 'data-time-component': 'seconds', 'title': options.tooltips.pickSecond }).attr('data-action', 'showSeconds')));
                bottomRow.append($('<td>').append($('<a>').attr({ href: '#', tabindex: '-1', 'title': options.tooltips.decrementSecond }).addClass('btn').attr('data-action', 'decrementSeconds').append($('<span>').addClass(options.icons.down))));
            }

            if (!use24Hours) {
                topRow.append($('<td>').addClass('separator'));
                middleRow.append($('<td>').append($('<button>').addClass('btn btn-primary').attr({ 'data-action': 'togglePeriod', tabindex: '-1', 'title': options.tooltips.togglePeriod })));
                bottomRow.append($('<td>').addClass('separator'));
            }

            return $('<div>').addClass('timepicker-picker').append($('<table>').addClass('table-condensed').append([topRow, middleRow, bottomRow]));
        },
            getTimePickerTemplate = function getTimePickerTemplate() {
            var hoursView = $('<div>').addClass('timepicker-hours').append($('<table>').addClass('table-condensed')),
                minutesView = $('<div>').addClass('timepicker-minutes').append($('<table>').addClass('table-condensed')),
                secondsView = $('<div>').addClass('timepicker-seconds').append($('<table>').addClass('table-condensed')),
                ret = [getTimePickerMainTemplate()];

            if (isEnabled('h')) {
                ret.push(hoursView);
            }
            if (isEnabled('m')) {
                ret.push(minutesView);
            }
            if (isEnabled('s')) {
                ret.push(secondsView);
            }

            return ret;
        },
            getToolbar = function getToolbar() {
            var row = [];
            if (options.showTodayButton) {
                row.push($('<td>').append($('<a>').attr({ 'data-action': 'today', 'title': options.tooltips.today }).append($('<span>').addClass(options.icons.today))));
            }
            if (!options.sideBySide && hasDate() && hasTime()) {
                row.push($('<td>').append($('<a>').attr({ 'data-action': 'togglePicker', 'title': options.tooltips.selectTime }).append($('<span>').addClass(options.icons.time))));
            }
            if (options.showClear) {
                row.push($('<td>').append($('<a>').attr({ 'data-action': 'clear', 'title': options.tooltips.clear }).append($('<span>').addClass(options.icons.clear))));
            }
            if (options.showClose) {
                row.push($('<td>').append($('<a>').attr({ 'data-action': 'close', 'title': options.tooltips.close }).append($('<span>').addClass(options.icons.close))));
            }
            return $('<table>').addClass('table-condensed').append($('<tbody>').append($('<tr>').append(row)));
        },
            getTemplate = function getTemplate() {
            var template = $('<div>').addClass('bootstrap-datetimepicker-widget dropdown-menu'),
                dateView = $('<div>').addClass('datepicker').append(getDatePickerTemplate()),
                timeView = $('<div>').addClass('timepicker').append(getTimePickerTemplate()),
                content = $('<ul>').addClass('list-unstyled'),
                toolbar = $('<li>').addClass('picker-switch' + (options.collapse ? ' accordion-toggle' : '')).append(getToolbar());

            if (options.inline) {
                template.removeClass('dropdown-menu');
            }

            if (use24Hours) {
                template.addClass('usetwentyfour');
            }
            if (isEnabled('s') && !use24Hours) {
                template.addClass('wider');
            }

            if (options.sideBySide && hasDate() && hasTime()) {
                template.addClass('timepicker-sbs');
                if (options.toolbarPlacement === 'top') {
                    template.append(toolbar);
                }
                template.append($('<div>').addClass('row').append(dateView.addClass('col-md-6')).append(timeView.addClass('col-md-6')));
                if (options.toolbarPlacement === 'bottom') {
                    template.append(toolbar);
                }
                return template;
            }

            if (options.toolbarPlacement === 'top') {
                content.append(toolbar);
            }
            if (hasDate()) {
                content.append($('<li>').addClass(options.collapse && hasTime() ? 'collapse in' : '').append(dateView));
            }
            if (options.toolbarPlacement === 'default') {
                content.append(toolbar);
            }
            if (hasTime()) {
                content.append($('<li>').addClass(options.collapse && hasDate() ? 'collapse' : '').append(timeView));
            }
            if (options.toolbarPlacement === 'bottom') {
                content.append(toolbar);
            }
            return template.append(content);
        },
            dataToOptions = function dataToOptions() {
            var eData,
                dataOptions = {};

            if (element.is('input') || options.inline) {
                eData = element.data();
            } else {
                eData = element.find('input').data();
            }

            if (eData.dateOptions && eData.dateOptions instanceof Object) {
                dataOptions = $.extend(true, dataOptions, eData.dateOptions);
            }

            $.each(options, function (key) {
                var attributeName = 'date' + key.charAt(0).toUpperCase() + key.slice(1);
                if (eData[attributeName] !== undefined) {
                    dataOptions[key] = eData[attributeName];
                }
            });
            return dataOptions;
        },
            place = function place() {
            var position = (component || element).position(),
                offset = (component || element).offset(),
                vertical = options.widgetPositioning.vertical,
                horizontal = options.widgetPositioning.horizontal,
                parent;

            if (options.widgetParent) {
                parent = options.widgetParent.append(widget);
            } else if (element.is('input')) {
                parent = element.after(widget).parent();
            } else if (options.inline) {
                parent = element.append(widget);
                return;
            } else {
                parent = element;
                element.children().first().after(widget);
            }

            // Top and bottom logic
            if (vertical === 'auto') {
                if (offset.top + widget.height() * 1.5 >= $(window).height() + $(window).scrollTop() && widget.height() + element.outerHeight() < offset.top) {
                    vertical = 'top';
                } else {
                    vertical = 'bottom';
                }
            }

            // Left and right logic
            if (horizontal === 'auto') {
                if (parent.width() < offset.left + widget.outerWidth() / 2 && offset.left + widget.outerWidth() > $(window).width()) {
                    horizontal = 'right';
                } else {
                    horizontal = 'left';
                }
            }

            if (vertical === 'top') {
                widget.addClass('top').removeClass('bottom');
            } else {
                widget.addClass('bottom').removeClass('top');
            }

            if (horizontal === 'right') {
                widget.addClass('pull-right');
            } else {
                widget.removeClass('pull-right');
            }

            // find the first parent element that has a relative css positioning
            if (parent.css('position') !== 'relative') {
                parent = parent.parents().filter(function () {
                    return $(this).css('position') === 'relative';
                }).first();
            }

            if (parent.length === 0) {
                throw new Error('datetimepicker component should be placed within a relative positioned container');
            }

            widget.css({
                top: vertical === 'top' ? 'auto' : position.top + element.outerHeight(),
                bottom: vertical === 'top' ? position.top + element.outerHeight() : 'auto',
                left: horizontal === 'left' ? parent === element ? 0 : position.left : 'auto',
                right: horizontal === 'left' ? 'auto' : parent.outerWidth() - element.outerWidth() - (parent === element ? 0 : position.left)
            });
        },
            notifyEvent = function notifyEvent(e) {
            if (e.type === 'dp.change' && (e.date && e.date.isSame(e.oldDate) || !e.date && !e.oldDate)) {
                return;
            }
            element.trigger(e);
        },
            viewUpdate = function viewUpdate(e) {
            if (e === 'y') {
                e = 'YYYY';
            }
            notifyEvent({
                type: 'dp.update',
                change: e,
                viewDate: viewDate.clone()
            });
        },
            showMode = function showMode(dir) {
            if (!widget) {
                return;
            }
            if (dir) {
                currentViewMode = Math.max(minViewModeNumber, Math.min(3, currentViewMode + dir));
            }
            widget.find('.datepicker > div').hide().filter('.datepicker-' + datePickerModes[currentViewMode].clsName).show();
        },
            fillDow = function fillDow() {
            var row = $('<tr>'),
                currentDate = viewDate.clone().startOf('w').startOf('d');

            if (options.calendarWeeks === true) {
                row.append($('<th>').addClass('cw').text('#'));
            }

            while (currentDate.isBefore(viewDate.clone().endOf('w'))) {
                row.append($('<th>').addClass('dow').text(currentDate.format('dd')));
                currentDate.add(1, 'd');
            }
            widget.find('.datepicker-days thead').append(row);
        },
            isInDisabledDates = function isInDisabledDates(testDate) {
            return options.disabledDates[testDate.format('YYYY-MM-DD')] === true;
        },
            isInEnabledDates = function isInEnabledDates(testDate) {
            return options.enabledDates[testDate.format('YYYY-MM-DD')] === true;
        },
            isInDisabledHours = function isInDisabledHours(testDate) {
            return options.disabledHours[testDate.format('H')] === true;
        },
            isInEnabledHours = function isInEnabledHours(testDate) {
            return options.enabledHours[testDate.format('H')] === true;
        },
            isValid = function isValid(targetMoment, granularity) {
            if (!targetMoment.isValid()) {
                return false;
            }
            if (options.disabledDates && granularity === 'd' && isInDisabledDates(targetMoment)) {
                return false;
            }
            if (options.enabledDates && granularity === 'd' && !isInEnabledDates(targetMoment)) {
                return false;
            }
            if (options.minDate && targetMoment.isBefore(options.minDate, granularity)) {
                return false;
            }
            if (options.maxDate && targetMoment.isAfter(options.maxDate, granularity)) {
                return false;
            }
            if (options.daysOfWeekDisabled && granularity === 'd' && options.daysOfWeekDisabled.indexOf(targetMoment.day()) !== -1) {
                return false;
            }
            if (options.disabledHours && (granularity === 'h' || granularity === 'm' || granularity === 's') && isInDisabledHours(targetMoment)) {
                return false;
            }
            if (options.enabledHours && (granularity === 'h' || granularity === 'm' || granularity === 's') && !isInEnabledHours(targetMoment)) {
                return false;
            }
            if (options.disabledTimeIntervals && (granularity === 'h' || granularity === 'm' || granularity === 's')) {
                var found = false;
                $.each(options.disabledTimeIntervals, function () {
                    if (targetMoment.isBetween(this[0], this[1])) {
                        found = true;
                        return false;
                    }
                });
                if (found) {
                    return false;
                }
            }
            return true;
        },
            fillMonths = function fillMonths() {
            var spans = [],
                monthsShort = viewDate.clone().startOf('y').startOf('d');
            while (monthsShort.isSame(viewDate, 'y')) {
                spans.push($('<span>').attr('data-action', 'selectMonth').addClass('month').text(monthsShort.format('MMM')));
                monthsShort.add(1, 'M');
            }
            widget.find('.datepicker-months td').empty().append(spans);
        },
            updateMonths = function updateMonths() {
            var monthsView = widget.find('.datepicker-months'),
                monthsViewHeader = monthsView.find('th'),
                months = monthsView.find('tbody').find('span');

            monthsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevYear);
            monthsViewHeader.eq(1).attr('title', options.tooltips.selectYear);
            monthsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextYear);

            monthsView.find('.disabled').removeClass('disabled');

            if (!isValid(viewDate.clone().subtract(1, 'y'), 'y')) {
                monthsViewHeader.eq(0).addClass('disabled');
            }

            monthsViewHeader.eq(1).text(viewDate.year());

            if (!isValid(viewDate.clone().add(1, 'y'), 'y')) {
                monthsViewHeader.eq(2).addClass('disabled');
            }

            months.removeClass('active');
            if (date.isSame(viewDate, 'y') && !unset) {
                months.eq(date.month()).addClass('active');
            }

            months.each(function (index) {
                if (!isValid(viewDate.clone().month(index), 'M')) {
                    $(this).addClass('disabled');
                }
            });
        },
            updateYears = function updateYears() {
            var yearsView = widget.find('.datepicker-years'),
                yearsViewHeader = yearsView.find('th'),
                startYear = viewDate.clone().subtract(5, 'y'),
                endYear = viewDate.clone().add(6, 'y'),
                html = '';

            yearsViewHeader.eq(0).find('span').attr('title', options.tooltips.prevDecade);
            yearsViewHeader.eq(1).attr('title', options.tooltips.selectDecade);
            yearsViewHeader.eq(2).find('span').attr('title', options.tooltips.nextDecade);

            yearsView.find('.disabled').removeClass('disabled');

            if (options.minDate && options.minDate.isAfter(startYear, 'y')) {
                yearsViewHeader.eq(0).addClass('disabled');
            }

            yearsViewHeader.eq(1).text(startYear.year() + '-' + endYear.year());

            if (options.maxDate && options.maxDate.isBefore(endYear, 'y')) {
                yearsViewHeader.eq(2).addClass('disabled');
            }

            while (!startYear.isAfter(endYear, 'y')) {
                html += '<span data-action="selectYear" class="year' + (startYear.isSame(date, 'y') && !unset ? ' active' : '') + (!isValid(startYear, 'y') ? ' disabled' : '') + '">' + startYear.year() + '</span>';
                startYear.add(1, 'y');
            }

            yearsView.find('td').html(html);
        },
            updateDecades = function updateDecades() {
            var decadesView = widget.find('.datepicker-decades'),
                decadesViewHeader = decadesView.find('th'),
                startDecade = moment({ y: viewDate.year() - viewDate.year() % 100 - 1 }),
                endDecade = startDecade.clone().add(100, 'y'),
                startedAt = startDecade.clone(),
                html = '';

            decadesViewHeader.eq(0).find('span').attr('title', options.tooltips.prevCentury);
            decadesViewHeader.eq(2).find('span').attr('title', options.tooltips.nextCentury);

            decadesView.find('.disabled').removeClass('disabled');

            if (startDecade.isSame(moment({ y: 1900 })) || options.minDate && options.minDate.isAfter(startDecade, 'y')) {
                decadesViewHeader.eq(0).addClass('disabled');
            }

            decadesViewHeader.eq(1).text(startDecade.year() + '-' + endDecade.year());

            if (startDecade.isSame(moment({ y: 2000 })) || options.maxDate && options.maxDate.isBefore(endDecade, 'y')) {
                decadesViewHeader.eq(2).addClass('disabled');
            }

            while (!startDecade.isAfter(endDecade, 'y')) {
                html += '<span data-action="selectDecade" class="decade' + (startDecade.isSame(date, 'y') ? ' active' : '') + (!isValid(startDecade, 'y') ? ' disabled' : '') + '" data-selection="' + (startDecade.year() + 6) + '">' + (startDecade.year() + 1) + ' - ' + (startDecade.year() + 12) + '</span>';
                startDecade.add(12, 'y');
            }
            html += '<span></span><span></span><span></span>'; //push the dangling block over, at least this way it's even

            decadesView.find('td').html(html);
            decadesViewHeader.eq(1).text(startedAt.year() + 1 + '-' + startDecade.year());
        },
            fillDate = function fillDate() {
            var daysView = widget.find('.datepicker-days'),
                daysViewHeader = daysView.find('th'),
                currentDate,
                html = [],
                row,
                clsName,
                i;

            if (!hasDate()) {
                return;
            }

            daysViewHeader.eq(0).find('span').attr('title', options.tooltips.prevMonth);
            daysViewHeader.eq(1).attr('title', options.tooltips.selectMonth);
            daysViewHeader.eq(2).find('span').attr('title', options.tooltips.nextMonth);

            daysView.find('.disabled').removeClass('disabled');
            daysViewHeader.eq(1).text(viewDate.format(options.dayViewHeaderFormat));

            if (!isValid(viewDate.clone().subtract(1, 'M'), 'M')) {
                daysViewHeader.eq(0).addClass('disabled');
            }
            if (!isValid(viewDate.clone().add(1, 'M'), 'M')) {
                daysViewHeader.eq(2).addClass('disabled');
            }

            currentDate = viewDate.clone().startOf('M').startOf('w').startOf('d');

            for (i = 0; i < 42; i++) {
                //always display 42 days (should show 6 weeks)
                if (currentDate.weekday() === 0) {
                    row = $('<tr>');
                    if (options.calendarWeeks) {
                        row.append('<td class="cw">' + currentDate.week() + '</td>');
                    }
                    html.push(row);
                }
                clsName = '';
                if (currentDate.isBefore(viewDate, 'M')) {
                    clsName += ' old';
                }
                if (currentDate.isAfter(viewDate, 'M')) {
                    clsName += ' new';
                }
                if (currentDate.isSame(date, 'd') && !unset) {
                    clsName += ' active';
                }
                if (!isValid(currentDate, 'd')) {
                    clsName += ' disabled';
                }
                if (currentDate.isSame(getMoment(), 'd')) {
                    clsName += ' today';
                }
                if (currentDate.day() === 0 || currentDate.day() === 6) {
                    clsName += ' weekend';
                }
                row.append('<td data-action="selectDay" data-day="' + currentDate.format('L') + '" class="day' + clsName + '">' + currentDate.date() + '</td>');
                currentDate.add(1, 'd');
            }

            daysView.find('tbody').empty().append(html);

            updateMonths();

            updateYears();

            updateDecades();
        },
            fillHours = function fillHours() {
            var table = widget.find('.timepicker-hours table'),
                currentHour = viewDate.clone().startOf('d'),
                html = [],
                row = $('<tr>');

            if (viewDate.hour() > 11 && !use24Hours) {
                currentHour.hour(12);
            }
            while (currentHour.isSame(viewDate, 'd') && (use24Hours || viewDate.hour() < 12 && currentHour.hour() < 12 || viewDate.hour() > 11)) {
                if (currentHour.hour() % 4 === 0) {
                    row = $('<tr>');
                    html.push(row);
                }
                row.append('<td data-action="selectHour" class="hour' + (!isValid(currentHour, 'h') ? ' disabled' : '') + '">' + currentHour.format(use24Hours ? 'HH' : 'hh') + '</td>');
                currentHour.add(1, 'h');
            }
            table.empty().append(html);
        },
            fillMinutes = function fillMinutes() {
            var table = widget.find('.timepicker-minutes table'),
                currentMinute = viewDate.clone().startOf('h'),
                html = [],
                row = $('<tr>'),
                step = options.stepping === 1 ? 5 : options.stepping;

            while (viewDate.isSame(currentMinute, 'h')) {
                if (currentMinute.minute() % (step * 4) === 0) {
                    row = $('<tr>');
                    html.push(row);
                }
                row.append('<td data-action="selectMinute" class="minute' + (!isValid(currentMinute, 'm') ? ' disabled' : '') + '">' + currentMinute.format('mm') + '</td>');
                currentMinute.add(step, 'm');
            }
            table.empty().append(html);
        },
            fillSeconds = function fillSeconds() {
            var table = widget.find('.timepicker-seconds table'),
                currentSecond = viewDate.clone().startOf('m'),
                html = [],
                row = $('<tr>');

            while (viewDate.isSame(currentSecond, 'm')) {
                if (currentSecond.second() % 20 === 0) {
                    row = $('<tr>');
                    html.push(row);
                }
                row.append('<td data-action="selectSecond" class="second' + (!isValid(currentSecond, 's') ? ' disabled' : '') + '">' + currentSecond.format('ss') + '</td>');
                currentSecond.add(5, 's');
            }

            table.empty().append(html);
        },
            fillTime = function fillTime() {
            var toggle,
                newDate,
                timeComponents = widget.find('.timepicker span[data-time-component]');

            if (!use24Hours) {
                toggle = widget.find('.timepicker [data-action=togglePeriod]');
                newDate = date.clone().add(date.hours() >= 12 ? -12 : 12, 'h');

                toggle.text(date.format('A'));

                if (isValid(newDate, 'h')) {
                    toggle.removeClass('disabled');
                } else {
                    toggle.addClass('disabled');
                }
            }
            timeComponents.filter('[data-time-component=hours]').text(date.format(use24Hours ? 'HH' : 'hh'));
            timeComponents.filter('[data-time-component=minutes]').text(date.format('mm'));
            timeComponents.filter('[data-time-component=seconds]').text(date.format('ss'));

            fillHours();
            fillMinutes();
            fillSeconds();
        },
            update = function update() {
            if (!widget) {
                return;
            }
            fillDate();
            fillTime();
        },
            setValue = function setValue(targetMoment) {
            var oldDate = unset ? null : date;

            // case of calling setValue(null or false)
            if (!targetMoment) {
                unset = true;
                input.val('');
                element.data('date', '');
                notifyEvent({
                    type: 'dp.change',
                    date: false,
                    oldDate: oldDate
                });
                update();
                return;
            }

            targetMoment = targetMoment.clone().locale(options.locale);

            if (options.stepping !== 1) {
                targetMoment.minutes(Math.round(targetMoment.minutes() / options.stepping) * options.stepping % 60).seconds(0);
            }

            if (isValid(targetMoment)) {
                date = targetMoment;
                viewDate = date.clone();
                input.val(date.format(actualFormat));
                element.data('date', date.format(actualFormat));
                unset = false;
                update();
                notifyEvent({
                    type: 'dp.change',
                    date: date.clone(),
                    oldDate: oldDate
                });
            } else {
                if (!options.keepInvalid) {
                    input.val(unset ? '' : date.format(actualFormat));
                }
                notifyEvent({
                    type: 'dp.error',
                    date: targetMoment
                });
            }
        },
            hide = function hide() {
            ///<summary>Hides the widget. Possibly will emit dp.hide</summary>
            var transitioning = false;
            if (!widget) {
                return picker;
            }
            // Ignore event if in the middle of a picker transition
            widget.find('.collapse').each(function () {
                var collapseData = $(this).data('collapse');
                if (collapseData && collapseData.transitioning) {
                    transitioning = true;
                    return false;
                }
                return true;
            });
            if (transitioning) {
                return picker;
            }
            if (component && component.hasClass('btn')) {
                component.toggleClass('active');
            }
            widget.hide();

            $(window).off('resize', place);
            widget.off('click', '[data-action]');
            widget.off('mousedown', false);

            widget.remove();
            widget = false;

            notifyEvent({
                type: 'dp.hide',
                date: date.clone()
            });

            input.blur();

            return picker;
        },
            clear = function clear() {
            setValue(null);
        },


        /********************************************************************************
         *
         * Widget UI interaction functions
         *
         ********************************************************************************/
        actions = {
            next: function next() {
                var navFnc = datePickerModes[currentViewMode].navFnc;
                viewDate.add(datePickerModes[currentViewMode].navStep, navFnc);
                fillDate();
                viewUpdate(navFnc);
            },

            previous: function previous() {
                var navFnc = datePickerModes[currentViewMode].navFnc;
                viewDate.subtract(datePickerModes[currentViewMode].navStep, navFnc);
                fillDate();
                viewUpdate(navFnc);
            },

            pickerSwitch: function pickerSwitch() {
                showMode(1);
            },

            selectMonth: function selectMonth(e) {
                var month = $(e.target).closest('tbody').find('span').index($(e.target));
                viewDate.month(month);
                if (currentViewMode === minViewModeNumber) {
                    setValue(date.clone().year(viewDate.year()).month(viewDate.month()));
                    if (!options.inline) {
                        hide();
                    }
                } else {
                    showMode(-1);
                    fillDate();
                }
                viewUpdate('M');
            },

            selectYear: function selectYear(e) {
                var year = parseInt($(e.target).text(), 10) || 0;
                viewDate.year(year);
                if (currentViewMode === minViewModeNumber) {
                    setValue(date.clone().year(viewDate.year()));
                    if (!options.inline) {
                        hide();
                    }
                } else {
                    showMode(-1);
                    fillDate();
                }
                viewUpdate('YYYY');
            },

            selectDecade: function selectDecade(e) {
                var year = parseInt($(e.target).data('selection'), 10) || 0;
                viewDate.year(year);
                if (currentViewMode === minViewModeNumber) {
                    setValue(date.clone().year(viewDate.year()));
                    if (!options.inline) {
                        hide();
                    }
                } else {
                    showMode(-1);
                    fillDate();
                }
                viewUpdate('YYYY');
            },

            selectDay: function selectDay(e) {
                var day = viewDate.clone();
                if ($(e.target).is('.old')) {
                    day.subtract(1, 'M');
                }
                if ($(e.target).is('.new')) {
                    day.add(1, 'M');
                }
                setValue(day.date(parseInt($(e.target).text(), 10)));
                if (!hasTime() && !options.keepOpen && !options.inline) {
                    hide();
                }
            },

            incrementHours: function incrementHours() {
                var newDate = date.clone().add(1, 'h');
                if (isValid(newDate, 'h')) {
                    setValue(newDate);
                }
            },

            incrementMinutes: function incrementMinutes() {
                var newDate = date.clone().add(options.stepping, 'm');
                if (isValid(newDate, 'm')) {
                    setValue(newDate);
                }
            },

            incrementSeconds: function incrementSeconds() {
                var newDate = date.clone().add(1, 's');
                if (isValid(newDate, 's')) {
                    setValue(newDate);
                }
            },

            decrementHours: function decrementHours() {
                var newDate = date.clone().subtract(1, 'h');
                if (isValid(newDate, 'h')) {
                    setValue(newDate);
                }
            },

            decrementMinutes: function decrementMinutes() {
                var newDate = date.clone().subtract(options.stepping, 'm');
                if (isValid(newDate, 'm')) {
                    setValue(newDate);
                }
            },

            decrementSeconds: function decrementSeconds() {
                var newDate = date.clone().subtract(1, 's');
                if (isValid(newDate, 's')) {
                    setValue(newDate);
                }
            },

            togglePeriod: function togglePeriod() {
                setValue(date.clone().add(date.hours() >= 12 ? -12 : 12, 'h'));
            },

            togglePicker: function togglePicker(e) {
                var $this = $(e.target),
                    $parent = $this.closest('ul'),
                    expanded = $parent.find('.in'),
                    closed = $parent.find('.collapse:not(.in)'),
                    collapseData;

                if (expanded && expanded.length) {
                    collapseData = expanded.data('collapse');
                    if (collapseData && collapseData.transitioning) {
                        return;
                    }
                    if (expanded.collapse) {
                        // if collapse plugin is available through bootstrap.js then use it
                        expanded.collapse('hide');
                        closed.collapse('show');
                    } else {
                        // otherwise just toggle in class on the two views
                        expanded.removeClass('in');
                        closed.addClass('in');
                    }
                    if ($this.is('span')) {
                        $this.toggleClass(options.icons.time + ' ' + options.icons.date);
                    } else {
                        $this.find('span').toggleClass(options.icons.time + ' ' + options.icons.date);
                    }

                    // NOTE: uncomment if toggled state will be restored in show()
                    //if (component) {
                    //    component.find('span').toggleClass(options.icons.time + ' ' + options.icons.date);
                    //}
                }
            },

            showPicker: function showPicker() {
                widget.find('.timepicker > div:not(.timepicker-picker)').hide();
                widget.find('.timepicker .timepicker-picker').show();
            },

            showHours: function showHours() {
                widget.find('.timepicker .timepicker-picker').hide();
                widget.find('.timepicker .timepicker-hours').show();
            },

            showMinutes: function showMinutes() {
                widget.find('.timepicker .timepicker-picker').hide();
                widget.find('.timepicker .timepicker-minutes').show();
            },

            showSeconds: function showSeconds() {
                widget.find('.timepicker .timepicker-picker').hide();
                widget.find('.timepicker .timepicker-seconds').show();
            },

            selectHour: function selectHour(e) {
                var hour = parseInt($(e.target).text(), 10);

                if (!use24Hours) {
                    if (date.hours() >= 12) {
                        if (hour !== 12) {
                            hour += 12;
                        }
                    } else {
                        if (hour === 12) {
                            hour = 0;
                        }
                    }
                }
                setValue(date.clone().hours(hour));
                actions.showPicker.call(picker);
            },

            selectMinute: function selectMinute(e) {
                setValue(date.clone().minutes(parseInt($(e.target).text(), 10)));
                actions.showPicker.call(picker);
            },

            selectSecond: function selectSecond(e) {
                setValue(date.clone().seconds(parseInt($(e.target).text(), 10)));
                actions.showPicker.call(picker);
            },

            clear: clear,

            today: function today() {
                var todaysDate = getMoment();
                if (isValid(todaysDate, 'd')) {
                    setValue(todaysDate);
                }
            },

            close: hide
        },
            doAction = function doAction(e) {
            if ($(e.currentTarget).is('.disabled')) {
                return false;
            }
            actions[$(e.currentTarget).data('action')].apply(picker, arguments);
            return false;
        },
            show = function show() {
            ///<summary>Shows the widget. Possibly will emit dp.show and dp.change</summary>
            var currentMoment,
                useCurrentGranularity = {
                'year': function year(m) {
                    return m.month(0).date(1).hours(0).seconds(0).minutes(0);
                },
                'month': function month(m) {
                    return m.date(1).hours(0).seconds(0).minutes(0);
                },
                'day': function day(m) {
                    return m.hours(0).seconds(0).minutes(0);
                },
                'hour': function hour(m) {
                    return m.seconds(0).minutes(0);
                },
                'minute': function minute(m) {
                    return m.seconds(0);
                }
            };

            if (input.prop('disabled') || !options.ignoreReadonly && input.prop('readonly') || widget) {
                return picker;
            }
            if (input.val() !== undefined && input.val().trim().length !== 0) {
                setValue(parseInputDate(input.val().trim()));
            } else if (options.useCurrent && unset && (input.is('input') && input.val().trim().length === 0 || options.inline)) {
                currentMoment = getMoment();
                if (typeof options.useCurrent === 'string') {
                    currentMoment = useCurrentGranularity[options.useCurrent](currentMoment);
                }
                setValue(currentMoment);
            }

            widget = getTemplate();

            fillDow();
            fillMonths();

            widget.find('.timepicker-hours').hide();
            widget.find('.timepicker-minutes').hide();
            widget.find('.timepicker-seconds').hide();

            update();
            showMode();

            $(window).on('resize', place);
            widget.on('click', '[data-action]', doAction); // this handles clicks on the widget
            widget.on('mousedown', false);

            if (component && component.hasClass('btn')) {
                component.toggleClass('active');
            }
            widget.show();
            place();

            if (options.focusOnShow && !input.is(':focus')) {
                input.focus();
            }

            notifyEvent({
                type: 'dp.show'
            });
            return picker;
        },
            toggle = function toggle() {
            /// <summary>Shows or hides the widget</summary>
            return widget ? hide() : show();
        },
            parseInputDate = function parseInputDate(inputDate) {
            if (options.parseInputDate === undefined) {
                if (moment.isMoment(inputDate) || inputDate instanceof Date) {
                    inputDate = moment(inputDate);
                } else {
                    inputDate = getMoment(inputDate);
                }
            } else {
                inputDate = options.parseInputDate(inputDate);
            }
            inputDate.locale(options.locale);
            return inputDate;
        },
            keydown = function keydown(e) {
            var handler = null,
                index,
                index2,
                pressedKeys = [],
                pressedModifiers = {},
                currentKey = e.which,
                keyBindKeys,
                allModifiersPressed,
                pressed = 'p';

            keyState[currentKey] = pressed;

            for (index in keyState) {
                if (keyState.hasOwnProperty(index) && keyState[index] === pressed) {
                    pressedKeys.push(index);
                    if (parseInt(index, 10) !== currentKey) {
                        pressedModifiers[index] = true;
                    }
                }
            }

            for (index in options.keyBinds) {
                if (options.keyBinds.hasOwnProperty(index) && typeof options.keyBinds[index] === 'function') {
                    keyBindKeys = index.split(' ');
                    if (keyBindKeys.length === pressedKeys.length && keyMap[currentKey] === keyBindKeys[keyBindKeys.length - 1]) {
                        allModifiersPressed = true;
                        for (index2 = keyBindKeys.length - 2; index2 >= 0; index2--) {
                            if (!(keyMap[keyBindKeys[index2]] in pressedModifiers)) {
                                allModifiersPressed = false;
                                break;
                            }
                        }
                        if (allModifiersPressed) {
                            handler = options.keyBinds[index];
                            break;
                        }
                    }
                }
            }

            if (handler) {
                handler.call(picker, widget);
                e.stopPropagation();
                e.preventDefault();
            }
        },
            keyup = function keyup(e) {
            keyState[e.which] = 'r';
            e.stopPropagation();
            e.preventDefault();
        },
            change = function change(e) {
            var val = $(e.target).val().trim(),
                parsedDate = val ? parseInputDate(val) : null;
            setValue(parsedDate);
            e.stopImmediatePropagation();
            return false;
        },
            attachDatePickerElementEvents = function attachDatePickerElementEvents() {
            input.on({
                'change': change,
                'blur': options.debug ? '' : hide,
                'keydown': keydown,
                'keyup': keyup,
                'focus': options.allowInputToggle ? show : ''
            });

            if (element.is('input')) {
                input.on({
                    'focus': show
                });
            } else if (component) {
                component.on('click', toggle);
                component.on('mousedown', false);
            }
        },
            detachDatePickerElementEvents = function detachDatePickerElementEvents() {
            input.off({
                'change': change,
                'blur': blur,
                'keydown': keydown,
                'keyup': keyup,
                'focus': options.allowInputToggle ? hide : ''
            });

            if (element.is('input')) {
                input.off({
                    'focus': show
                });
            } else if (component) {
                component.off('click', toggle);
                component.off('mousedown', false);
            }
        },
            indexGivenDates = function indexGivenDates(givenDatesArray) {
            // Store given enabledDates and disabledDates as keys.
            // This way we can check their existence in O(1) time instead of looping through whole array.
            // (for example: options.enabledDates['2014-02-27'] === true)
            var givenDatesIndexed = {};
            $.each(givenDatesArray, function () {
                var dDate = parseInputDate(this);
                if (dDate.isValid()) {
                    givenDatesIndexed[dDate.format('YYYY-MM-DD')] = true;
                }
            });
            return Object.keys(givenDatesIndexed).length ? givenDatesIndexed : false;
        },
            indexGivenHours = function indexGivenHours(givenHoursArray) {
            // Store given enabledHours and disabledHours as keys.
            // This way we can check their existence in O(1) time instead of looping through whole array.
            // (for example: options.enabledHours['2014-02-27'] === true)
            var givenHoursIndexed = {};
            $.each(givenHoursArray, function () {
                givenHoursIndexed[this] = true;
            });
            return Object.keys(givenHoursIndexed).length ? givenHoursIndexed : false;
        },
            initFormatting = function initFormatting() {
            var format = options.format || 'L LT';

            actualFormat = format.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function (formatInput) {
                var newinput = date.localeData().longDateFormat(formatInput) || formatInput;
                return newinput.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, function (formatInput2) {
                    //temp fix for #740
                    return date.localeData().longDateFormat(formatInput2) || formatInput2;
                });
            });

            parseFormats = options.extraFormats ? options.extraFormats.slice() : [];
            if (parseFormats.indexOf(format) < 0 && parseFormats.indexOf(actualFormat) < 0) {
                parseFormats.push(actualFormat);
            }

            use24Hours = actualFormat.toLowerCase().indexOf('a') < 1 && actualFormat.replace(/\[.*?\]/g, '').indexOf('h') < 1;

            if (isEnabled('y')) {
                minViewModeNumber = 2;
            }
            if (isEnabled('M')) {
                minViewModeNumber = 1;
            }
            if (isEnabled('d')) {
                minViewModeNumber = 0;
            }

            currentViewMode = Math.max(minViewModeNumber, currentViewMode);

            if (!unset) {
                setValue(date);
            }
        };

        /********************************************************************************
         *
         * Public API functions
         * =====================
         *
         * Important: Do not expose direct references to private objects or the options
         * object to the outer world. Always return a clone when returning values or make
         * a clone when setting a private variable.
         *
         ********************************************************************************/
        picker.destroy = function () {
            ///<summary>Destroys the widget and removes all attached event listeners</summary>
            hide();
            detachDatePickerElementEvents();
            element.removeData('DateTimePicker');
            element.removeData('date');
        };

        picker.toggle = toggle;

        picker.show = show;

        picker.hide = hide;

        picker.disable = function () {
            ///<summary>Disables the input element, the component is attached to, by adding a disabled="true" attribute to it.
            ///If the widget was visible before that call it is hidden. Possibly emits dp.hide</summary>
            hide();
            if (component && component.hasClass('btn')) {
                component.addClass('disabled');
            }
            input.prop('disabled', true);
            return picker;
        };

        picker.enable = function () {
            ///<summary>Enables the input element, the component is attached to, by removing disabled attribute from it.</summary>
            if (component && component.hasClass('btn')) {
                component.removeClass('disabled');
            }
            input.prop('disabled', false);
            return picker;
        };

        picker.ignoreReadonly = function (ignoreReadonly) {
            if (arguments.length === 0) {
                return options.ignoreReadonly;
            }
            if (typeof ignoreReadonly !== 'boolean') {
                throw new TypeError('ignoreReadonly () expects a boolean parameter');
            }
            options.ignoreReadonly = ignoreReadonly;
            return picker;
        };

        picker.options = function (newOptions) {
            if (arguments.length === 0) {
                return $.extend(true, {}, options);
            }

            if (!(newOptions instanceof Object)) {
                throw new TypeError('options() options parameter should be an object');
            }
            $.extend(true, options, newOptions);
            $.each(options, function (key, value) {
                if (picker[key] !== undefined) {
                    picker[key](value);
                } else {
                    throw new TypeError('option ' + key + ' is not recognized!');
                }
            });
            return picker;
        };

        picker.date = function (newDate) {
            ///<signature helpKeyword="$.fn.datetimepicker.date">
            ///<summary>Returns the component's model current date, a moment object or null if not set.</summary>
            ///<returns type="Moment">date.clone()</returns>
            ///</signature>
            ///<signature>
            ///<summary>Sets the components model current moment to it. Passing a null value unsets the components model current moment. Parsing of the newDate parameter is made using moment library with the options.format and options.useStrict components configuration.</summary>
            ///<param name="newDate" locid="$.fn.datetimepicker.date_p:newDate">Takes string, Date, moment, null parameter.</param>
            ///</signature>
            if (arguments.length === 0) {
                if (unset) {
                    return null;
                }
                return date.clone();
            }

            if (newDate !== null && typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate instanceof Date)) {
                throw new TypeError('date() parameter must be one of [null, string, moment or Date]');
            }

            setValue(newDate === null ? null : parseInputDate(newDate));
            return picker;
        };

        picker.format = function (newFormat) {
            ///<summary>test su</summary>
            ///<param name="newFormat">info about para</param>
            ///<returns type="string|boolean">returns foo</returns>
            if (arguments.length === 0) {
                return options.format;
            }

            if (typeof newFormat !== 'string' && (typeof newFormat !== 'boolean' || newFormat !== false)) {
                throw new TypeError('format() expects a sting or boolean:false parameter ' + newFormat);
            }

            options.format = newFormat;
            if (actualFormat) {
                initFormatting(); // reinit formatting
            }
            return picker;
        };

        picker.timeZone = function (newZone) {
            if (arguments.length === 0) {
                return options.timeZone;
            }

            options.timeZone = newZone;

            return picker;
        };

        picker.dayViewHeaderFormat = function (newFormat) {
            if (arguments.length === 0) {
                return options.dayViewHeaderFormat;
            }

            if (typeof newFormat !== 'string') {
                throw new TypeError('dayViewHeaderFormat() expects a string parameter');
            }

            options.dayViewHeaderFormat = newFormat;
            return picker;
        };

        picker.extraFormats = function (formats) {
            if (arguments.length === 0) {
                return options.extraFormats;
            }

            if (formats !== false && !(formats instanceof Array)) {
                throw new TypeError('extraFormats() expects an array or false parameter');
            }

            options.extraFormats = formats;
            if (parseFormats) {
                initFormatting(); // reinit formatting
            }
            return picker;
        };

        picker.disabledDates = function (dates) {
            ///<signature helpKeyword="$.fn.datetimepicker.disabledDates">
            ///<summary>Returns an array with the currently set disabled dates on the component.</summary>
            ///<returns type="array">options.disabledDates</returns>
            ///</signature>
            ///<signature>
            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of
            ///options.enabledDates if such exist.</summary>
            ///<param name="dates" locid="$.fn.datetimepicker.disabledDates_p:dates">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>
            ///</signature>
            if (arguments.length === 0) {
                return options.disabledDates ? $.extend({}, options.disabledDates) : options.disabledDates;
            }

            if (!dates) {
                options.disabledDates = false;
                update();
                return picker;
            }
            if (!(dates instanceof Array)) {
                throw new TypeError('disabledDates() expects an array parameter');
            }
            options.disabledDates = indexGivenDates(dates);
            options.enabledDates = false;
            update();
            return picker;
        };

        picker.enabledDates = function (dates) {
            ///<signature helpKeyword="$.fn.datetimepicker.enabledDates">
            ///<summary>Returns an array with the currently set enabled dates on the component.</summary>
            ///<returns type="array">options.enabledDates</returns>
            ///</signature>
            ///<signature>
            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of options.disabledDates if such exist.</summary>
            ///<param name="dates" locid="$.fn.datetimepicker.enabledDates_p:dates">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>
            ///</signature>
            if (arguments.length === 0) {
                return options.enabledDates ? $.extend({}, options.enabledDates) : options.enabledDates;
            }

            if (!dates) {
                options.enabledDates = false;
                update();
                return picker;
            }
            if (!(dates instanceof Array)) {
                throw new TypeError('enabledDates() expects an array parameter');
            }
            options.enabledDates = indexGivenDates(dates);
            options.disabledDates = false;
            update();
            return picker;
        };

        picker.daysOfWeekDisabled = function (daysOfWeekDisabled) {
            if (arguments.length === 0) {
                return options.daysOfWeekDisabled.splice(0);
            }

            if (typeof daysOfWeekDisabled === 'boolean' && !daysOfWeekDisabled) {
                options.daysOfWeekDisabled = false;
                update();
                return picker;
            }

            if (!(daysOfWeekDisabled instanceof Array)) {
                throw new TypeError('daysOfWeekDisabled() expects an array parameter');
            }
            options.daysOfWeekDisabled = daysOfWeekDisabled.reduce(function (previousValue, currentValue) {
                currentValue = parseInt(currentValue, 10);
                if (currentValue > 6 || currentValue < 0 || isNaN(currentValue)) {
                    return previousValue;
                }
                if (previousValue.indexOf(currentValue) === -1) {
                    previousValue.push(currentValue);
                }
                return previousValue;
            }, []).sort();
            if (options.useCurrent && !options.keepInvalid) {
                var tries = 0;
                while (!isValid(date, 'd')) {
                    date.add(1, 'd');
                    if (tries === 7) {
                        throw 'Tried 7 times to find a valid date';
                    }
                    tries++;
                }
                setValue(date);
            }
            update();
            return picker;
        };

        picker.maxDate = function (maxDate) {
            if (arguments.length === 0) {
                return options.maxDate ? options.maxDate.clone() : options.maxDate;
            }

            if (typeof maxDate === 'boolean' && maxDate === false) {
                options.maxDate = false;
                update();
                return picker;
            }

            if (typeof maxDate === 'string') {
                if (maxDate === 'now' || maxDate === 'moment') {
                    maxDate = getMoment();
                }
            }

            var parsedDate = parseInputDate(maxDate);

            if (!parsedDate.isValid()) {
                throw new TypeError('maxDate() Could not parse date parameter: ' + maxDate);
            }
            if (options.minDate && parsedDate.isBefore(options.minDate)) {
                throw new TypeError('maxDate() date parameter is before options.minDate: ' + parsedDate.format(actualFormat));
            }
            options.maxDate = parsedDate;
            if (options.useCurrent && !options.keepInvalid && date.isAfter(maxDate)) {
                setValue(options.maxDate);
            }
            if (viewDate.isAfter(parsedDate)) {
                viewDate = parsedDate.clone().subtract(options.stepping, 'm');
            }
            update();
            return picker;
        };

        picker.minDate = function (minDate) {
            if (arguments.length === 0) {
                return options.minDate ? options.minDate.clone() : options.minDate;
            }

            if (typeof minDate === 'boolean' && minDate === false) {
                options.minDate = false;
                update();
                return picker;
            }

            if (typeof minDate === 'string') {
                if (minDate === 'now' || minDate === 'moment') {
                    minDate = getMoment();
                }
            }

            var parsedDate = parseInputDate(minDate);

            if (!parsedDate.isValid()) {
                throw new TypeError('minDate() Could not parse date parameter: ' + minDate);
            }
            if (options.maxDate && parsedDate.isAfter(options.maxDate)) {
                throw new TypeError('minDate() date parameter is after options.maxDate: ' + parsedDate.format(actualFormat));
            }
            options.minDate = parsedDate;
            if (options.useCurrent && !options.keepInvalid && date.isBefore(minDate)) {
                setValue(options.minDate);
            }
            if (viewDate.isBefore(parsedDate)) {
                viewDate = parsedDate.clone().add(options.stepping, 'm');
            }
            update();
            return picker;
        };

        picker.defaultDate = function (defaultDate) {
            ///<signature helpKeyword="$.fn.datetimepicker.defaultDate">
            ///<summary>Returns a moment with the options.defaultDate option configuration or false if not set</summary>
            ///<returns type="Moment">date.clone()</returns>
            ///</signature>
            ///<signature>
            ///<summary>Will set the picker's inital date. If a boolean:false value is passed the options.defaultDate parameter is cleared.</summary>
            ///<param name="defaultDate" locid="$.fn.datetimepicker.defaultDate_p:defaultDate">Takes a string, Date, moment, boolean:false</param>
            ///</signature>
            if (arguments.length === 0) {
                return options.defaultDate ? options.defaultDate.clone() : options.defaultDate;
            }
            if (!defaultDate) {
                options.defaultDate = false;
                return picker;
            }

            if (typeof defaultDate === 'string') {
                if (defaultDate === 'now' || defaultDate === 'moment') {
                    defaultDate = getMoment();
                }
            }

            var parsedDate = parseInputDate(defaultDate);
            if (!parsedDate.isValid()) {
                throw new TypeError('defaultDate() Could not parse date parameter: ' + defaultDate);
            }
            if (!isValid(parsedDate)) {
                throw new TypeError('defaultDate() date passed is invalid according to component setup validations');
            }

            options.defaultDate = parsedDate;

            if (options.defaultDate && options.inline || input.val().trim() === '') {
                setValue(options.defaultDate);
            }
            return picker;
        };

        picker.locale = function (locale) {
            if (arguments.length === 0) {
                return options.locale;
            }

            if (!moment.localeData(locale)) {
                throw new TypeError('locale() locale ' + locale + ' is not loaded from moment locales!');
            }

            options.locale = locale;
            date.locale(options.locale);
            viewDate.locale(options.locale);

            if (actualFormat) {
                initFormatting(); // reinit formatting
            }
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.stepping = function (stepping) {
            if (arguments.length === 0) {
                return options.stepping;
            }

            stepping = parseInt(stepping, 10);
            if (isNaN(stepping) || stepping < 1) {
                stepping = 1;
            }
            options.stepping = stepping;
            return picker;
        };

        picker.useCurrent = function (useCurrent) {
            var useCurrentOptions = ['year', 'month', 'day', 'hour', 'minute'];
            if (arguments.length === 0) {
                return options.useCurrent;
            }

            if (typeof useCurrent !== 'boolean' && typeof useCurrent !== 'string') {
                throw new TypeError('useCurrent() expects a boolean or string parameter');
            }
            if (typeof useCurrent === 'string' && useCurrentOptions.indexOf(useCurrent.toLowerCase()) === -1) {
                throw new TypeError('useCurrent() expects a string parameter of ' + useCurrentOptions.join(', '));
            }
            options.useCurrent = useCurrent;
            return picker;
        };

        picker.collapse = function (collapse) {
            if (arguments.length === 0) {
                return options.collapse;
            }

            if (typeof collapse !== 'boolean') {
                throw new TypeError('collapse() expects a boolean parameter');
            }
            if (options.collapse === collapse) {
                return picker;
            }
            options.collapse = collapse;
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.icons = function (icons) {
            if (arguments.length === 0) {
                return $.extend({}, options.icons);
            }

            if (!(icons instanceof Object)) {
                throw new TypeError('icons() expects parameter to be an Object');
            }
            $.extend(options.icons, icons);
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.tooltips = function (tooltips) {
            if (arguments.length === 0) {
                return $.extend({}, options.tooltips);
            }

            if (!(tooltips instanceof Object)) {
                throw new TypeError('tooltips() expects parameter to be an Object');
            }
            $.extend(options.tooltips, tooltips);
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.useStrict = function (useStrict) {
            if (arguments.length === 0) {
                return options.useStrict;
            }

            if (typeof useStrict !== 'boolean') {
                throw new TypeError('useStrict() expects a boolean parameter');
            }
            options.useStrict = useStrict;
            return picker;
        };

        picker.sideBySide = function (sideBySide) {
            if (arguments.length === 0) {
                return options.sideBySide;
            }

            if (typeof sideBySide !== 'boolean') {
                throw new TypeError('sideBySide() expects a boolean parameter');
            }
            options.sideBySide = sideBySide;
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.viewMode = function (viewMode) {
            if (arguments.length === 0) {
                return options.viewMode;
            }

            if (typeof viewMode !== 'string') {
                throw new TypeError('viewMode() expects a string parameter');
            }

            if (viewModes.indexOf(viewMode) === -1) {
                throw new TypeError('viewMode() parameter must be one of (' + viewModes.join(', ') + ') value');
            }

            options.viewMode = viewMode;
            currentViewMode = Math.max(viewModes.indexOf(viewMode), minViewModeNumber);

            showMode();
            return picker;
        };

        picker.toolbarPlacement = function (toolbarPlacement) {
            if (arguments.length === 0) {
                return options.toolbarPlacement;
            }

            if (typeof toolbarPlacement !== 'string') {
                throw new TypeError('toolbarPlacement() expects a string parameter');
            }
            if (toolbarPlacements.indexOf(toolbarPlacement) === -1) {
                throw new TypeError('toolbarPlacement() parameter must be one of (' + toolbarPlacements.join(', ') + ') value');
            }
            options.toolbarPlacement = toolbarPlacement;

            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.widgetPositioning = function (widgetPositioning) {
            if (arguments.length === 0) {
                return $.extend({}, options.widgetPositioning);
            }

            if ({}.toString.call(widgetPositioning) !== '[object Object]') {
                throw new TypeError('widgetPositioning() expects an object variable');
            }
            if (widgetPositioning.horizontal) {
                if (typeof widgetPositioning.horizontal !== 'string') {
                    throw new TypeError('widgetPositioning() horizontal variable must be a string');
                }
                widgetPositioning.horizontal = widgetPositioning.horizontal.toLowerCase();
                if (horizontalModes.indexOf(widgetPositioning.horizontal) === -1) {
                    throw new TypeError('widgetPositioning() expects horizontal parameter to be one of (' + horizontalModes.join(', ') + ')');
                }
                options.widgetPositioning.horizontal = widgetPositioning.horizontal;
            }
            if (widgetPositioning.vertical) {
                if (typeof widgetPositioning.vertical !== 'string') {
                    throw new TypeError('widgetPositioning() vertical variable must be a string');
                }
                widgetPositioning.vertical = widgetPositioning.vertical.toLowerCase();
                if (verticalModes.indexOf(widgetPositioning.vertical) === -1) {
                    throw new TypeError('widgetPositioning() expects vertical parameter to be one of (' + verticalModes.join(', ') + ')');
                }
                options.widgetPositioning.vertical = widgetPositioning.vertical;
            }
            update();
            return picker;
        };

        picker.calendarWeeks = function (calendarWeeks) {
            if (arguments.length === 0) {
                return options.calendarWeeks;
            }

            if (typeof calendarWeeks !== 'boolean') {
                throw new TypeError('calendarWeeks() expects parameter to be a boolean value');
            }

            options.calendarWeeks = calendarWeeks;
            update();
            return picker;
        };

        picker.showTodayButton = function (showTodayButton) {
            if (arguments.length === 0) {
                return options.showTodayButton;
            }

            if (typeof showTodayButton !== 'boolean') {
                throw new TypeError('showTodayButton() expects a boolean parameter');
            }

            options.showTodayButton = showTodayButton;
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.showClear = function (showClear) {
            if (arguments.length === 0) {
                return options.showClear;
            }

            if (typeof showClear !== 'boolean') {
                throw new TypeError('showClear() expects a boolean parameter');
            }

            options.showClear = showClear;
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.widgetParent = function (widgetParent) {
            if (arguments.length === 0) {
                return options.widgetParent;
            }

            if (typeof widgetParent === 'string') {
                widgetParent = $(widgetParent);
            }

            if (widgetParent !== null && typeof widgetParent !== 'string' && !(widgetParent instanceof $)) {
                throw new TypeError('widgetParent() expects a string or a jQuery object parameter');
            }

            options.widgetParent = widgetParent;
            if (widget) {
                hide();
                show();
            }
            return picker;
        };

        picker.keepOpen = function (keepOpen) {
            if (arguments.length === 0) {
                return options.keepOpen;
            }

            if (typeof keepOpen !== 'boolean') {
                throw new TypeError('keepOpen() expects a boolean parameter');
            }

            options.keepOpen = keepOpen;
            return picker;
        };

        picker.focusOnShow = function (focusOnShow) {
            if (arguments.length === 0) {
                return options.focusOnShow;
            }

            if (typeof focusOnShow !== 'boolean') {
                throw new TypeError('focusOnShow() expects a boolean parameter');
            }

            options.focusOnShow = focusOnShow;
            return picker;
        };

        picker.inline = function (inline) {
            if (arguments.length === 0) {
                return options.inline;
            }

            if (typeof inline !== 'boolean') {
                throw new TypeError('inline() expects a boolean parameter');
            }

            options.inline = inline;
            return picker;
        };

        picker.clear = function () {
            clear();
            return picker;
        };

        picker.keyBinds = function (keyBinds) {
            options.keyBinds = keyBinds;
            return picker;
        };

        picker.getMoment = function (d) {
            return getMoment(d);
        };

        picker.debug = function (debug) {
            if (typeof debug !== 'boolean') {
                throw new TypeError('debug() expects a boolean parameter');
            }

            options.debug = debug;
            return picker;
        };

        picker.allowInputToggle = function (allowInputToggle) {
            if (arguments.length === 0) {
                return options.allowInputToggle;
            }

            if (typeof allowInputToggle !== 'boolean') {
                throw new TypeError('allowInputToggle() expects a boolean parameter');
            }

            options.allowInputToggle = allowInputToggle;
            return picker;
        };

        picker.showClose = function (showClose) {
            if (arguments.length === 0) {
                return options.showClose;
            }

            if (typeof showClose !== 'boolean') {
                throw new TypeError('showClose() expects a boolean parameter');
            }

            options.showClose = showClose;
            return picker;
        };

        picker.keepInvalid = function (keepInvalid) {
            if (arguments.length === 0) {
                return options.keepInvalid;
            }

            if (typeof keepInvalid !== 'boolean') {
                throw new TypeError('keepInvalid() expects a boolean parameter');
            }
            options.keepInvalid = keepInvalid;
            return picker;
        };

        picker.datepickerInput = function (datepickerInput) {
            if (arguments.length === 0) {
                return options.datepickerInput;
            }

            if (typeof datepickerInput !== 'string') {
                throw new TypeError('datepickerInput() expects a string parameter');
            }

            options.datepickerInput = datepickerInput;
            return picker;
        };

        picker.parseInputDate = function (parseInputDate) {
            if (arguments.length === 0) {
                return options.parseInputDate;
            }

            if (typeof parseInputDate !== 'function') {
                throw new TypeError('parseInputDate() sholud be as function');
            }

            options.parseInputDate = parseInputDate;

            return picker;
        };

        picker.disabledTimeIntervals = function (disabledTimeIntervals) {
            ///<signature helpKeyword="$.fn.datetimepicker.disabledTimeIntervals">
            ///<summary>Returns an array with the currently set disabled dates on the component.</summary>
            ///<returns type="array">options.disabledTimeIntervals</returns>
            ///</signature>
            ///<signature>
            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of
            ///options.enabledDates if such exist.</summary>
            ///<param name="dates" locid="$.fn.datetimepicker.disabledTimeIntervals_p:dates">Takes an [ string or Date or moment ] of values and allows the user to select only from those days.</param>
            ///</signature>
            if (arguments.length === 0) {
                return options.disabledTimeIntervals ? $.extend({}, options.disabledTimeIntervals) : options.disabledTimeIntervals;
            }

            if (!disabledTimeIntervals) {
                options.disabledTimeIntervals = false;
                update();
                return picker;
            }
            if (!(disabledTimeIntervals instanceof Array)) {
                throw new TypeError('disabledTimeIntervals() expects an array parameter');
            }
            options.disabledTimeIntervals = disabledTimeIntervals;
            update();
            return picker;
        };

        picker.disabledHours = function (hours) {
            ///<signature helpKeyword="$.fn.datetimepicker.disabledHours">
            ///<summary>Returns an array with the currently set disabled hours on the component.</summary>
            ///<returns type="array">options.disabledHours</returns>
            ///</signature>
            ///<signature>
            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of
            ///options.enabledHours if such exist.</summary>
            ///<param name="hours" locid="$.fn.datetimepicker.disabledHours_p:hours">Takes an [ int ] of values and disallows the user to select only from those hours.</param>
            ///</signature>
            if (arguments.length === 0) {
                return options.disabledHours ? $.extend({}, options.disabledHours) : options.disabledHours;
            }

            if (!hours) {
                options.disabledHours = false;
                update();
                return picker;
            }
            if (!(hours instanceof Array)) {
                throw new TypeError('disabledHours() expects an array parameter');
            }
            options.disabledHours = indexGivenHours(hours);
            options.enabledHours = false;
            if (options.useCurrent && !options.keepInvalid) {
                var tries = 0;
                while (!isValid(date, 'h')) {
                    date.add(1, 'h');
                    if (tries === 24) {
                        throw 'Tried 24 times to find a valid date';
                    }
                    tries++;
                }
                setValue(date);
            }
            update();
            return picker;
        };

        picker.enabledHours = function (hours) {
            ///<signature helpKeyword="$.fn.datetimepicker.enabledHours">
            ///<summary>Returns an array with the currently set enabled hours on the component.</summary>
            ///<returns type="array">options.enabledHours</returns>
            ///</signature>
            ///<signature>
            ///<summary>Setting this takes precedence over options.minDate, options.maxDate configuration. Also calling this function removes the configuration of options.disabledHours if such exist.</summary>
            ///<param name="hours" locid="$.fn.datetimepicker.enabledHours_p:hours">Takes an [ int ] of values and allows the user to select only from those hours.</param>
            ///</signature>
            if (arguments.length === 0) {
                return options.enabledHours ? $.extend({}, options.enabledHours) : options.enabledHours;
            }

            if (!hours) {
                options.enabledHours = false;
                update();
                return picker;
            }
            if (!(hours instanceof Array)) {
                throw new TypeError('enabledHours() expects an array parameter');
            }
            options.enabledHours = indexGivenHours(hours);
            options.disabledHours = false;
            if (options.useCurrent && !options.keepInvalid) {
                var tries = 0;
                while (!isValid(date, 'h')) {
                    date.add(1, 'h');
                    if (tries === 24) {
                        throw 'Tried 24 times to find a valid date';
                    }
                    tries++;
                }
                setValue(date);
            }
            update();
            return picker;
        };

        picker.viewDate = function (newDate) {
            ///<signature helpKeyword="$.fn.datetimepicker.viewDate">
            ///<summary>Returns the component's model current viewDate, a moment object or null if not set.</summary>
            ///<returns type="Moment">viewDate.clone()</returns>
            ///</signature>
            ///<signature>
            ///<summary>Sets the components model current moment to it. Passing a null value unsets the components model current moment. Parsing of the newDate parameter is made using moment library with the options.format and options.useStrict components configuration.</summary>
            ///<param name="newDate" locid="$.fn.datetimepicker.date_p:newDate">Takes string, viewDate, moment, null parameter.</param>
            ///</signature>
            if (arguments.length === 0) {
                return viewDate.clone();
            }

            if (!newDate) {
                viewDate = date.clone();
                return picker;
            }

            if (typeof newDate !== 'string' && !moment.isMoment(newDate) && !(newDate instanceof Date)) {
                throw new TypeError('viewDate() parameter must be one of [string, moment or Date]');
            }

            viewDate = parseInputDate(newDate);
            viewUpdate();
            return picker;
        };

        // initializing element and component attributes
        if (element.is('input')) {
            input = element;
        } else {
            input = element.find(options.datepickerInput);
            if (input.size() === 0) {
                input = element.find('input');
            } else if (!input.is('input')) {
                throw new Error('CSS class "' + options.datepickerInput + '" cannot be applied to non input element');
            }
        }

        if (element.hasClass('input-group')) {
            // in case there is more then one 'input-group-addon' Issue #48
            if (element.find('.datepickerbutton').size() === 0) {
                component = element.find('.input-group-addon');
            } else {
                component = element.find('.datepickerbutton');
            }
        }

        if (!options.inline && !input.is('input')) {
            throw new Error('Could not initialize DateTimePicker without an input element');
        }

        // Set defaults for date here now instead of in var declaration
        date = getMoment();
        viewDate = date.clone();

        $.extend(true, options, dataToOptions());

        picker.options(options);

        initFormatting();

        attachDatePickerElementEvents();

        if (input.prop('disabled')) {
            picker.disable();
        }
        if (input.is('input') && input.val().trim().length !== 0) {
            setValue(parseInputDate(input.val().trim()));
        } else if (options.defaultDate && input.attr('placeholder') === undefined) {
            setValue(options.defaultDate);
        }
        if (options.inline) {
            show();
        }
        return picker;
    };

    /********************************************************************************
     *
     * jQuery plugin constructor and defaults object
     *
     ********************************************************************************/

    $.fn.datetimepicker = function (options) {
        return this.each(function () {
            var $this = $(this);
            if (!$this.data('DateTimePicker')) {
                // create a private copy of the defaults object
                options = $.extend(true, {}, $.fn.datetimepicker.defaults, options);
                $this.data('DateTimePicker', dateTimePicker($this, options));
            }
        });
    };

    $.fn.datetimepicker.defaults = {
        timeZone: 'Etc/UTC',
        format: false,
        dayViewHeaderFormat: 'MMMM YYYY',
        extraFormats: false,
        stepping: 1,
        minDate: false,
        maxDate: false,
        useCurrent: true,
        collapse: true,
        locale: moment.locale(),
        defaultDate: false,
        disabledDates: false,
        enabledDates: false,
        icons: {
            time: 'glyphicon glyphicon-time',
            date: 'glyphicon glyphicon-calendar',
            up: 'glyphicon glyphicon-chevron-up',
            down: 'glyphicon glyphicon-chevron-down',
            previous: 'glyphicon glyphicon-chevron-left',
            next: 'glyphicon glyphicon-chevron-right',
            today: 'glyphicon glyphicon-screenshot',
            clear: 'glyphicon glyphicon-trash',
            close: 'glyphicon glyphicon-remove'
        },
        tooltips: {
            today: 'Go to today',
            clear: 'Clear selection',
            close: 'Close the picker',
            selectMonth: 'Select Month',
            prevMonth: 'Previous Month',
            nextMonth: 'Next Month',
            selectYear: 'Select Year',
            prevYear: 'Previous Year',
            nextYear: 'Next Year',
            selectDecade: 'Select Decade',
            prevDecade: 'Previous Decade',
            nextDecade: 'Next Decade',
            prevCentury: 'Previous Century',
            nextCentury: 'Next Century',
            pickHour: 'Pick Hour',
            incrementHour: 'Increment Hour',
            decrementHour: 'Decrement Hour',
            pickMinute: 'Pick Minute',
            incrementMinute: 'Increment Minute',
            decrementMinute: 'Decrement Minute',
            pickSecond: 'Pick Second',
            incrementSecond: 'Increment Second',
            decrementSecond: 'Decrement Second',
            togglePeriod: 'Toggle Period',
            selectTime: 'Select Time'
        },
        useStrict: false,
        sideBySide: false,
        daysOfWeekDisabled: false,
        calendarWeeks: false,
        viewMode: 'days',
        toolbarPlacement: 'default',
        showTodayButton: false,
        showClear: false,
        showClose: false,
        widgetPositioning: {
            horizontal: 'auto',
            vertical: 'auto'
        },
        widgetParent: null,
        ignoreReadonly: false,
        keepOpen: false,
        focusOnShow: true,
        inline: false,
        keepInvalid: false,
        datepickerInput: '.datepickerinput',
        keyBinds: {
            up: function up(widget) {
                if (!widget) {
                    return;
                }
                var d = this.date() || this.getMoment();
                if (widget.find('.datepicker').is(':visible')) {
                    this.date(d.clone().subtract(7, 'd'));
                } else {
                    this.date(d.clone().add(this.stepping(), 'm'));
                }
            },
            down: function down(widget) {
                if (!widget) {
                    this.show();
                    return;
                }
                var d = this.date() || this.getMoment();
                if (widget.find('.datepicker').is(':visible')) {
                    this.date(d.clone().add(7, 'd'));
                } else {
                    this.date(d.clone().subtract(this.stepping(), 'm'));
                }
            },
            'control up': function controlUp(widget) {
                if (!widget) {
                    return;
                }
                var d = this.date() || this.getMoment();
                if (widget.find('.datepicker').is(':visible')) {
                    this.date(d.clone().subtract(1, 'y'));
                } else {
                    this.date(d.clone().add(1, 'h'));
                }
            },
            'control down': function controlDown(widget) {
                if (!widget) {
                    return;
                }
                var d = this.date() || this.getMoment();
                if (widget.find('.datepicker').is(':visible')) {
                    this.date(d.clone().add(1, 'y'));
                } else {
                    this.date(d.clone().subtract(1, 'h'));
                }
            },
            left: function left(widget) {
                if (!widget) {
                    return;
                }
                var d = this.date() || this.getMoment();
                if (widget.find('.datepicker').is(':visible')) {
                    this.date(d.clone().subtract(1, 'd'));
                }
            },
            right: function right(widget) {
                if (!widget) {
                    return;
                }
                var d = this.date() || this.getMoment();
                if (widget.find('.datepicker').is(':visible')) {
                    this.date(d.clone().add(1, 'd'));
                }
            },
            pageUp: function pageUp(widget) {
                if (!widget) {
                    return;
                }
                var d = this.date() || this.getMoment();
                if (widget.find('.datepicker').is(':visible')) {
                    this.date(d.clone().subtract(1, 'M'));
                }
            },
            pageDown: function pageDown(widget) {
                if (!widget) {
                    return;
                }
                var d = this.date() || this.getMoment();
                if (widget.find('.datepicker').is(':visible')) {
                    this.date(d.clone().add(1, 'M'));
                }
            },
            enter: function enter() {
                this.hide();
            },
            escape: function escape() {
                this.hide();
            },
            //tab: function (widget) { //this break the flow of the form. disabling for now
            //    var toggle = widget.find('.picker-switch a[data-action="togglePicker"]');
            //    if(toggle.length > 0) toggle.click();
            //},
            'control space': function controlSpace(widget) {
                if (widget.find('.timepicker').is(':visible')) {
                    widget.find('.btn[data-action="togglePeriod"]').click();
                }
            },
            t: function t() {
                this.date(this.getMoment());
            },
            'delete': function _delete() {
                this.clear();
            }
        },
        debug: false,
        allowInputToggle: false,
        disabledTimeIntervals: false,
        disabledHours: false,
        enabledHours: false,
        viewDate: false
    };
});

},{"jquery":"jquery","moment":"moment"}],42:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

// http://spin.js.org/#v2.3.2
!function (a, b) {
  "object" == (typeof module === "undefined" ? "undefined" : _typeof(module)) && module.exports ? module.exports = b() : "function" == typeof define && define.amd ? define(b) : a.Spinner = b();
}(undefined, function () {
  "use strict";
  function a(a, b) {
    var c,
        d = document.createElement(a || "div");for (c in b) {
      d[c] = b[c];
    }return d;
  }function b(a) {
    for (var b = 1, c = arguments.length; c > b; b++) {
      a.appendChild(arguments[b]);
    }return a;
  }function c(a, b, c, d) {
    var e = ["opacity", b, ~~(100 * a), c, d].join("-"),
        f = .01 + c / d * 100,
        g = Math.max(1 - (1 - a) / b * (100 - f), a),
        h = j.substring(0, j.indexOf("Animation")).toLowerCase(),
        i = h && "-" + h + "-" || "";return m[e] || (k.insertRule("@" + i + "keyframes " + e + "{0%{opacity:" + g + "}" + f + "%{opacity:" + a + "}" + (f + .01) + "%{opacity:1}" + (f + b) % 100 + "%{opacity:" + a + "}100%{opacity:" + g + "}}", k.cssRules.length), m[e] = 1), e;
  }function d(a, b) {
    var c,
        d,
        e = a.style;if (b = b.charAt(0).toUpperCase() + b.slice(1), void 0 !== e[b]) return b;for (d = 0; d < l.length; d++) {
      if (c = l[d] + b, void 0 !== e[c]) return c;
    }
  }function e(a, b) {
    for (var c in b) {
      a.style[d(a, c) || c] = b[c];
    }return a;
  }function f(a) {
    for (var b = 1; b < arguments.length; b++) {
      var c = arguments[b];for (var d in c) {
        void 0 === a[d] && (a[d] = c[d]);
      }
    }return a;
  }function g(a, b) {
    return "string" == typeof a ? a : a[b % a.length];
  }function h(a) {
    this.opts = f(a || {}, h.defaults, n);
  }function i() {
    function c(b, c) {
      return a("<" + b + ' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">', c);
    }k.addRule(".spin-vml", "behavior:url(#default#VML)"), h.prototype.lines = function (a, d) {
      function f() {
        return e(c("group", { coordsize: k + " " + k, coordorigin: -j + " " + -j }), { width: k, height: k });
      }function h(a, h, i) {
        b(m, b(e(f(), { rotation: 360 / d.lines * a + "deg", left: ~~h }), b(e(c("roundrect", { arcsize: d.corners }), { width: j, height: d.scale * d.width, left: d.scale * d.radius, top: -d.scale * d.width >> 1, filter: i }), c("fill", { color: g(d.color, a), opacity: d.opacity }), c("stroke", { opacity: 0 }))));
      }var i,
          j = d.scale * (d.length + d.width),
          k = 2 * d.scale * j,
          l = -(d.width + d.length) * d.scale * 2 + "px",
          m = e(f(), { position: "absolute", top: l, left: l });if (d.shadow) for (i = 1; i <= d.lines; i++) {
        h(i, -2, "progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");
      }for (i = 1; i <= d.lines; i++) {
        h(i);
      }return b(a, m);
    }, h.prototype.opacity = function (a, b, c, d) {
      var e = a.firstChild;d = d.shadow && d.lines || 0, e && b + d < e.childNodes.length && (e = e.childNodes[b + d], e = e && e.firstChild, e = e && e.firstChild, e && (e.opacity = c));
    };
  }var j,
      k,
      l = ["webkit", "Moz", "ms", "O"],
      m = {},
      n = { lines: 12, length: 7, width: 5, radius: 10, scale: 1, corners: 1, color: "#000", opacity: .25, rotate: 0, direction: 1, speed: 1, trail: 100, fps: 20, zIndex: 2e9, className: "spinner", top: "50%", left: "50%", shadow: !1, hwaccel: !1, position: "absolute" };if (h.defaults = {}, f(h.prototype, { spin: function spin(b) {
      this.stop();var c = this,
          d = c.opts,
          f = c.el = a(null, { className: d.className });if (e(f, { position: d.position, width: 0, zIndex: d.zIndex, left: d.left, top: d.top }), b && b.insertBefore(f, b.firstChild || null), f.setAttribute("role", "progressbar"), c.lines(f, c.opts), !j) {
        var g,
            h = 0,
            i = (d.lines - 1) * (1 - d.direction) / 2,
            k = d.fps,
            l = k / d.speed,
            m = (1 - d.opacity) / (l * d.trail / 100),
            n = l / d.lines;!function o() {
          h++;for (var a = 0; a < d.lines; a++) {
            g = Math.max(1 - (h + (d.lines - a) * n) % l * m, d.opacity), c.opacity(f, a * d.direction + i, g, d);
          }c.timeout = c.el && setTimeout(o, ~~(1e3 / k));
        }();
      }return c;
    }, stop: function stop() {
      var a = this.el;return a && (clearTimeout(this.timeout), a.parentNode && a.parentNode.removeChild(a), this.el = void 0), this;
    }, lines: function lines(d, f) {
      function h(b, c) {
        return e(a(), { position: "absolute", width: f.scale * (f.length + f.width) + "px", height: f.scale * f.width + "px", background: b, boxShadow: c, transformOrigin: "left", transform: "rotate(" + ~~(360 / f.lines * k + f.rotate) + "deg) translate(" + f.scale * f.radius + "px,0)", borderRadius: (f.corners * f.scale * f.width >> 1) + "px" });
      }for (var i, k = 0, l = (f.lines - 1) * (1 - f.direction) / 2; k < f.lines; k++) {
        i = e(a(), { position: "absolute", top: 1 + ~(f.scale * f.width / 2) + "px", transform: f.hwaccel ? "translate3d(0,0,0)" : "", opacity: f.opacity, animation: j && c(f.opacity, f.trail, l + k * f.direction, f.lines) + " " + 1 / f.speed + "s linear infinite" }), f.shadow && b(i, e(h("#000", "0 0 4px #000"), { top: "2px" })), b(d, b(i, h(g(f.color, k), "0 0 1px rgba(0,0,0,.1)")));
      }return d;
    }, opacity: function opacity(a, b, c) {
      b < a.childNodes.length && (a.childNodes[b].style.opacity = c);
    } }), "undefined" != typeof document) {
    k = function () {
      var c = a("style", { type: "text/css" });return b(document.getElementsByTagName("head")[0], c), c.sheet || c.styleSheet;
    }();var o = e(a("group"), { behavior: "url(#default#VML)" });!d(o, "transform") && o.adj ? i() : j = d(o, "animation");
  }return h;
});

},{}],43:[function(require,module,exports){
'use strict';

//https://developer.mozilla.org/en-US/docs/Web/API/Element/closest
if (window.Element && !Element.prototype.closest) {
    Element.prototype.closest = function (s) {
        var matches = (this.document || this.ownerDocument).querySelectorAll(s),
            i,
            el = this;
        do {
            i = matches.length;
            while (--i >= 0 && matches.item(i) !== el) {};
        } while (i < 0 && (el = el.parentElement));
        return el;
    };
}

Number.isInteger = Number.isInteger || function (value) {
    return typeof value === "number" && isFinite(value) && Math.floor(value) === value;
};

//https://gist.github.com/paulirish/1579671
var requestAnimationFramePolyfill = function () {
    var clock = Date.now();

    return function (callback) {

        var currentTime = Date.now();

        if (currentTime - clock > 16) {
            clock = currentTime;
            callback(currentTime);
        } else {
            setTimeout(function () {
                polyfill(callback);
            }, 0);
        }
    };
}();

window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || requestAnimationFramePolyfill;

if (!window.Intl) {
    require('intl');
    require('intl/locale-data/jsonp/en.js');
}

//http://www.javascriptkit.com/dhtmltutors/sticky-hover-issue-solutions.shtml
var touchsupport = 'ontouchstart' in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;
if (!touchsupport) {
    // browser doesn't support touch
    document.documentElement.classList.add("non-touch");
}

require('smoothscroll-polyfill').polyfill();

module.exports = true;

},{"intl":"intl","intl/locale-data/jsonp/en.js":214,"smoothscroll-polyfill":217}],44:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = Object.create({

    Error: require('../../lib/MyError'),

    ViewFactory: require('./factory/View'),

    Views: require('./.ViewMap'),

    capitalizeFirstLetter: function capitalizeFirstLetter(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
    },

    initialize: function initialize() {
        var _this = this;

        this.content = document.querySelector('#content');

        window.onpopstate = this.handle.bind(this);

        this.user = require('./models/User');

        this.user.on('loggedIn', function () {
            return _this.onLogin();
        });

        this.userPromise = new Promise(function (resolve, reject) {
            return _this.user.fetch().done(resolve).fail(reject);
        });

        this.footer = this.ViewFactory.create('footer', { insertion: { el: this.content, method: 'after' } });

        this.views = {};

        this.handle();
    },
    handle: function handle() {
        this.handler(window.location.pathname.split('/').slice(1));
    },
    handleHeader: function handleHeader(resource) {
        var _this2 = this;

        if (/admin/.test(resource)) {
            if (this.adminHeader) {
                this.adminHeader.onNavigation();
            } else {
                this.adminHeader = this.ViewFactory.create('adminHeader', { insertion: { el: this.content, method: 'insertBefore' } }).on('signout', function () {
                    return _this2.onSignout();
                });
            }
        } else {
            if (this.adminHeader) {
                this.adminHeader.hide();
            }
            if (this.header) {
                return;
            } else {
                this.header = this.ViewFactory.create('header', { insertion: { el: this.content, method: 'insertBefore' } }).on('navigate', this.onViewNavigate.bind(this)).on('signInClicked', function () {
                    return _this2.handleLogin();
                }).on('signOutClicked', function () {
                    return _this2.onSignout();
                }).on('removeLogin', function () {
                    return _this2.Login.delete().catch(_this2.Error);
                });
            }
        }
    },
    handleLogin: function handleLogin() {
        var _this3 = this;

        Promise.all(Object.keys(this.views).map(function (view) {
            return _this3.views[view].hide();
        })).then(function () {
            _this3.Login = _this3.ViewFactory.create('login', { insertion: { el: _this3.content } }).on("success", function () {
                _this3.header.onLogin().then(function () {
                    return _this3.handle();
                }).catch(_this3.Error);
            }).on('loginCancelled', function () {
                return _this3.handle();
            });
        }).catch(this.Error);
    },
    handleFooter: function handleFooter(resource) {
        this.footer.els.container.classList.toggle('fd-hidden', /admin/.test(resource));
    },
    handler: function handler(path) {
        var _this4 = this;

        var name = this.pathToView(path[0]),
            view = this.Views[name] ? path[0] : 'home';

        if (this.resources[path[0]]) view = path[0];

        this.userPromise.then(function () {
            _this4.handleHeader(path[0]);
            _this4.handleFooter(path[0]);

            if (_this4.user.id && /admin/.test(path[0])) _this4.adminHeader.onUser(_this4.user);

            if (view === _this4.currentView) return _this4.views[view].onNavigation(path.slice(1));

            Promise.all(Object.keys(_this4.views).map(function (view) {
                return _this4.views[view].hide();
            })).then(function () {
                _this4.currentView = view;

                if (_this4.header) _this4.header.toggleSignUpBtn(view);

                if (_this4.views[view]) return _this4.views[view].onNavigation(path);

                _this4.views[view] = !_this4.resources[view] ? _this4.ViewFactory.create(view, {
                    insertion: { el: _this4.content },
                    path: path
                }).on('navigate', function (route, options) {
                    return _this4.navigate(route, options);
                }).on('deleted', function () {
                    return delete _this4.views[view];
                }) : new _this4.resources[view].view(_extends({ factory: _this4.ViewFactory }, _this4.resources[view].options)).on('navigate', function (route, options) {
                    return _this4.navigate(route, options);
                }).on('deleted', function () {
                    return delete _this4.views[view];
                });

                if (!/admin/.test(path[0])) document.body.scrollTop = 0;

                return Promise.resolve();
            });
        }).catch(function (err) {
            return new _this4.Error(err);
        });
    },
    navigate: function navigate(location) {
        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

        var path = ('' + window.location.pathname).split('/');

        if (options.replace || options.up) {
            path.pop();
            if (options.replace) path.push(location);
            location = path.join('/');
        } else if (options.append) {
            location = window.location.pathname + '/' + location;
        }

        if (path.includes('resetPassword') || path.includes('verify')) {
            window.location.pathname = '/' + location;
        }
        if (location !== window.location.pathname) history.pushState({}, '', location);
        if (!options.silent) this.handle();
    },
    onLogin: function onLogin() {
        this.onUser(this.user);
        if (this.header) this.header.onLogin().catch(this.Error);
    },
    onViewNavigate: function onViewNavigate(route) {
        this.navigate(route, { trigger: true });
    },
    onSignout: function onSignout() {
        var _this5 = this;

        return Promise.all(Object.keys(this.views).map(function (name) {
            return _this5.views[name].delete();
        })).then(function () {
            _this5.currentView = undefined;
            _this5.navigate("/");
        }).catch(this.Error);
    },
    onUser: function onUser(user) {
        this.adminHeader ? this.adminHeader.onUser(this.user) : this.header.onUser(this.user);
    },
    pathToView: function pathToView(path) {
        var _this6 = this;

        var hyphenSplit = path.split('-');
        return hyphenSplit.map(function (item) {
            return _this6.capitalizeFirstLetter(item);
        }).join('');
    },


    resources: {
        "sign-up": { view: require('./views/Signup'), options: {} }
    }

});

},{"../../lib/MyError":190,"./.ViewMap":3,"./factory/View":8,"./models/User":39,"./views/Signup":97}],45:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div class='intro'>" + p.intro + "</div><p>" + p.paragraph + "</p>";
};

},{}],46:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div data-js=\"container\" class=\"Signup\">\n    <h1>Sign Up</h1>\n    <h2 data-js=\"intro\">Welcome to our CSA Sign Up Page</h2>\n    <section>\n        <div data-js=\"walkthrough\"></div>\n        <div class=\"nav-arrows\">\n            <div data-js=\"leftBtn\">\n                <span class=\"glyphicon glyphicon-menu-left\"></span>\n                <span>Back</span>\n            </div>\n            <div data-js=\"rightBtn\">\n                <span>Next</span>\n                <span class=\"glyphicon glyphicon-menu-right\"></span>\n            </div>\n        </div>\n    </section>\n</div>";
};

},{}],47:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div class=\"DateSelection\" data-js=\"container\">\n    <div>Not going to be around?</div>\n    <div>Please choose any dates for which you will not be available to receive or pick up your share.</div>\n    <ul data-js=\"shares\"></ul>\n</div>";
};

},{}],48:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div class=\"Delivery\" data-js=\"container\">\n    <p>Please select a delivery option for your share(s).</p>\n    <ul data-js=\"shares\"></ul>\n</div>";
};

},{}],49:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<li class=\"delivery-option\" data-id=\"" + p.id + "\" data-js=\"container\">\n    <div>" + p.label + "</div>\n    <div data-js=\"deliveryPrice\">" + p.price + " / week</span></div>\n</li>";
};

},{}],50:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<li data-js=\"container\" class=\"delivery-options\">\n    <div>\n        <div class=\"share-label\">\n            <div>" + p.label + "</div>\n            <div>\n                <span>" + p.humanStartdate + "</span>\n                <span>-</span>\n                <span>" + p.humanEnddate + "</span>\n            </div>\n            <div>" + p.duration + " weeks</div>\n        </div>\n        <div>\n            <div data-js=\"options\" class=\"options\"></div>\n            <div data-js=\"feedback\" class=\"feedback-messages\"></div>\n        </div>\n    </div>\n    <div data-js=\"dropoffs\"></div>\n    <div class=\"error\">Please select a valid option.</div>\n</li>";
};

},{}],51:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    return '<div data-js="container" class="dropoff">\n    <div>' + p.label + '</div>\n    <div>' + (p.venue || '') + '</div>\n    <div>' + p.street + '</div>\n    <div>' + p.cityStateZip + '</div>\n    <div>' + p.dayOfWeek + ' : ' + p.starttime + ' - ' + p.endtime + '</div>\n</div>';
};

},{}],52:[function(require,module,exports){
"use strict";

module.exports = function (p) {
  return "<div class=\"dropoffs\" data-js=\"container\"></div>";
};

},{}],53:[function(require,module,exports){
"use strict";

module.exports = function (p) {
  return "<div>On-farm pickup available " + p.dayOfWeek + " " + p.starttime + " - " + p.endtime + "</div>";
};

},{}],54:[function(require,module,exports){
"use strict";

module.exports = function (p) {
  return "<div>Home delivery available " + p.dayOfWeek + " " + p.starttime + " - " + p.endtime + "</div>";
};

},{}],55:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<li data-js=\"container\" class=\"payment-option\">\n    <div>" + p.label + "</div>\n    <div>" + p.note + "</div>\n    <div class=\"method-total\"></div>    \n</li>";
};

},{}],56:[function(require,module,exports){
"use strict";

module.exports = function (p) {
  return "<ul class=\"payment-options\" data-js=\"container\"></ul>";
};

},{}],57:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    return '<div data-js="container" class="pickup-date ' + (p.selected ? 'selected' : '') + ' ' + (p.unselectable ? 'unselectable' : '') + '">\n    <div>' + p.dayOfWeek + '</div>\n    <div>' + p.month + '</div>\n    <div>' + p.dayOfMonth + '</div>\n</div>';
};

},{}],58:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<li data-js=\"container\" class=\"share-dates\">\n    <div>\n        <div class=\"share-label\">\n            <div>" + p.label + "</div>\n            <div>\n                <span>" + p.humanStartdate + "</span>\n                <span>-</span>\n                <span>" + p.humanEnddate + "</span>\n            </div>\n            <div>" + p.duration + " weeks</div>\n        </div>\n        <div data-js=\"dates\"></div>\n    </div>\n    <div class=\"error\">Please select at least one date to receive a share.</div>\n</li>";
};

},{}],59:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<li data-js=\"container\" class=\"share\" data-id=\"" + p.id + "\">\n    <div>\n        <div data-js=\"shareBox\"></div>\n        <div>" + p.description + "</div>\n    </div>\n</li>";
};

},{}],60:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var options = p.options.map(function (option) {
        return '<option value="' + option.id + '">' + option.label + '</option>';
    }).join(''),
        description = p.description ? '<span data-js="optionIcon" class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>' : '';

    return '' + ('<div data-js="container" class="share-option">\n    <div class="option-title">\n        <div>\n            <span>' + p.prompt + '</span>\n            ' + description + '\n       </div>\n        <div>\n            <select data-js="input" class="form-control">\n                ' + options + '\n            </select>    \n        </div>\n    </div>\n    <div class="total">\n        <div data-js="total"></div>\n    </div>\n</div>');
};

},{}],61:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div class=\"ShareOptions\" data-js=\"container\">\n    <p>Please make selections to customize your box</p>\n    <ul data-js=\"shares\"></ul>\n</div>";
};

},{}],62:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div class=\"Shares\" data-js=\"container\">\n    <p>As a member in our CSA program, you will receive a weekly box of fresh-picked, chemical-free produce all grown at Patchwork Gardens, right here in the Miami Valley.</p>\n    <p>If you\u2019re not quite sure you\u2019re ready for a CSA, check out our <span data-js=\"csaInfoBtn\" class=\"link\">CSA Program</span> page for more information</p>\n    <h2>Please select which season(s) you would like to join us</h2>\n    <ul data-js=\"shares\"></ul>\n    <div class=\"error\">Please select at least one share.</div>\n</div>";
};

},{}],63:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<li data-js=\"container\">\n    <div class=\"single-share\">\n        <div data-js=\"shareBox\"></div>\n        <div>\n            <h4 data-js=\"weeklyHeader\">Weekly Options</h4>\n            <div data-js=\"options\"></div>\n        </div>\n        <div data-js=\"seasonalContainer\">\n            <h4>Seasonal Items</h4>\n            <div data-js=\"seasonalOptions\"></div>\n        </div>\n    </div>\n    <div>\n        <div><span>Share Total: </span><span data-js=\"weeklyTotal\"></span></div>\n        <div><span>Seasonal Items Total: </span><span data-js=\"seasonalTotal\"></span></div>\n    </div>\n</li>";
};

},{}],64:[function(require,module,exports){
'use strict';

module.exports = function (p) {

    var shares = p.shares.map(function (share) {

        var selectedOptions = share.selectedOptions.map(function (opt) {
            return '<div class="item-row">\n            <div>' + opt.optionName + '</div>\n            <div>\n                <span>' + opt.selectedOptionLabel + '</span>\n                <span>' + (p.unit || '') + '</span>\n            </div>\n            <div class="price">\n                <span>' + opt.price + '</span>\n                <span>per week</span>\n            </div>\n        </div>';
        }).join('');

        var seasonalAddOns = share.seasonalAddOns.map(function (addon) {
            return '<div class="item-row">\n            <div>' + addon.label + '</div>\n            <div>\n                <span>' + addon.selectedOptionLabel + '</span>\n                <span>' + addon.unit + '</span>\n            </div>\n            <div class="price">\n                <span>' + addon.price + '</span>\n            </div>\n        </div>';
        }).join('');

        var seasonalTotal = share.seasonalAddOns.length ? '<div><div>Seasonal Items Total :</div><div>' + share.seasonalOptionsTotal + '</div></div>' : '';

        var groupdropoff = share.selectedDelivery.groupdropoff ? '<div class="item-row">\n            <div>Drop-off Location</div>\n            <div>' + share.selectedDelivery.groupdropoff + '</div>\n        </div>' : '';

        var skipDays = share.skipDays.length ? '<div>\n            <div class="section-title">Dates You Will Not Pickup</div>\n            <div class="pickup-dates">' + share.skipDays.join('') + '</div>\n        </div>' : '';

        return '' + ('<div class="share-summary">\n        <div>' + share.shareBox + '</div>\n        <div>\n            <div class="section-title">Share Options</div>\n            ' + selectedOptions + '\n            ' + seasonalAddOns + '\n        </div>\n        <div>\n            <div class="section-title">Delivery</div>\n            <div class="item-row">\n                <div>Method</div>\n                <div>' + share.selectedDelivery.deliveryType + '</div>\n                <div class="price">\n                    <span>' + share.selectedDelivery.weeklyCost + '</span>\n                    <span>per week</span>\n                </div>  \n            </div>\n            ' + groupdropoff + '\n            <div class="item-row">\n                <div>Address</div>\n                <div>' + share.selectedDelivery.address + '</div>\n            </div>\n            <div class="item-row">\n                <div>Pick-up Hours</div>\n                <div>\n                    <span>' + share.selectedDelivery.dayOfWeek + ' </span>\n                    <span>' + share.selectedDelivery.starttime + ' - ' + share.selectedDelivery.endtime + '</span>\n                </div>\n            </div>\n        </div>\n        <div>\n            <div class="section-title">Dates Selected for Delivery</div>\n            <div class="item-row">\n                <div>Number of weeks selected</div>\n                <div>' + share.weeksSelected + '</div>\n            </div>\n            <div class="pickup-dates">\n                ' + share.selectedDates.join('') + '\n            </div>\n        </div>\n        ' + skipDays + '\n        <div class="share-total">\n            <div class="section-title">Share Total</div>\n            ' + seasonalTotal + '\n            <div>\n                <div>Weekly Share Price :</div>\n                <div>' + share.weeklyPrice + '</div>\n            </div>\n            <div>\n                <div>Number of Weeks :</div>\n                <div>' + share.weeksSelected + '</div>\n            </div>\n            <div>\n                <div>Share Total :</div>\n                <div>' + share.total + '</div>\n            </div>\n        </div>\n    </div>');
    }).join('');

    return '' + ('<div data-js="container" class="Summary ' + p.containerClass + '">\n    <div class="summaries">\n        ' + shares + '\n    </div>\n    <div data-js="grandTotal" class="grand-total"></div>\n    <div class="payment">    \n        <h2>Select a method of payment</h2>\n        <div data-js="paymentOptions"></div>\n        <form data-js="paymentForm" class="hide">\n            <div class="credit-card-info">\n                <label class="control-label number">Card Number</label>\n                <div>\n                    <input type="text" class="form-control" data-js="number" id="number">\n                    <span class="glyphicon form-control-feedback hide" aria-hidden="true"></span>\n                </div>\n                <div>Visa, MasterCard, American Express, JCB, Discover, and Diners Club are accepted</div>\n            </div>\n            <div class="expiration">\n                <div>\n                    <label class="control-label">Exp Month</label>\n                    <div>\n                        <input type="number" class="form-control" data-js="exp_month" maxlength="2" size="3" placeholder="mm" id="exp_month">\n                        <span class="glyphicon form-control-feedback hide" aria-hidden="true"></span>\n                    </div>\n                </div>\n                <div>\n                    <label class="control-label">Exp Year</label>\n                    <div>\n                        <input type="number" class="form-control" data-js="exp_year" maxlength="4" size="4" placeholder="yyyy" id="exp_year">\n                        <span class="glyphicon form-control-feedback hide" aria-hidden="true"></span>\n                    </div>\n                </div>\n            </div>\n            <div>\n                <label class="control-label">CVC</label>\n                <div class="cvc">\n                    <input type="number" class="form-control" data-js="cvc" maxlength="4" size="4" id="cvc">\n                    <span class="glyphicon form-control-feedback hide" aria-hidden="true"></span>\n                </div>\n            </div>\n        </form>\n        <div class="button-row">\n            <button data-js="signupBtn" class="disabled">Become a Member!</button>\n        </div>\n    </div>\n</div>');
};

},{}],65:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div>\n    <div>Because you have selected home delivery, and your address could not be validated automatically, we would like you to verify your address and zip code</div>\n    <form class=\"form-horizontal\">\n        <div class=\"form-group\">\n            <label class=\"col-sm-3 control-label\">Address</label>\n            <div class=\"col-sm-9\">\n                <input type=\"text\" class=\"form-control\" id=\"verifiedAddress\" value=\"" + p.address + "\">\n            </div>\n        </div>\n        <div id=\"zipCodeFormGroup\" class=\"form-group\">\n            <label class=\"col-sm-3 control-label\">Zip Code</label>\n            <div class=\"col-sm-9\">\n                <input type=\"text\" class=\"form-control\" id=\"verifiedZipCode\" value=\"" + p.zipCode + "\">\n                <span id=\"zipCodeHelpBlock\" class=\"help-block hide\">Invalid Zip Code for Home Delivery</span>\n            </div>\n        </div>\n    </form>\n</div>";
};

},{}],66:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var CustomContent = require('./util/CustomContent');

module.exports = _extends({}, require('./__proto__'), CustomContent, {

    tables: [{ name: 'Staff', el: 'staff', template: 'staffProfile' }],

    templates: {
        staffProfile: require('./templates/StaffProfile')
    }

});

},{"./__proto__":104,"./templates/StaffProfile":169,"./util/CustomContent":185}],67:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    Customer: require('../models/Customer'),
    Delivery: require('../models/Delivery'),
    Transactions: require('../models/CsaTransaction'),

    Views: {
        personalInfo: function personalInfo() {
            return {
                model: Object.create(this.Model).constructor({}, {
                    attributes: require('../../../models/AccountInfo').attributes,
                    meta: { noPlaceholder: true },
                    resource: 'accountInfo'
                }),
                templateOpts: function templateOpts() {
                    return {
                        heading: 'Your Account Info',
                        submitText: 'Update'
                    };
                },
                onCancelBtnClick: function onCancelBtnClick() {
                    this.emit('cancel');
                },

                toastSuccess: 'Account updated!'
            };
        }
    },

    events: {
        accountInfoBtn: 'click',
        backBtn: 'click',
        ordersBtn: 'click',
        paymentBtn: 'click',

        views: {
            personalInfo: [['posted', function (response) {
                var _this = this;

                Object.keys(response).forEach(function (key) {
                    if (_this.user.has(key)) _this.user.set(key, response[key]);
                });

                this.selectedCustomer.person.data.name = response.name;
                this.selectedCustomer.person.data.email = response.email;
                this.selectedCustomer.member.data.phonenumber = response.phonenumber;
                this.selectedCustomer.member.data.address = response.address;
                this.selectedCustomer.member.data.extraaddress = response.extraaddress;
                this.selectedCustomer.member.data.zipcode = response.zipcode;

                this.clearSubviews();
            }], ['cancel', function () {
                var _this2 = this;

                this.hideEl(this.els.accountInfo).then(function () {
                    return _this2.showEl(_this2.els.accountNav);
                }).catch(this.Error);
            }]]
        }
    },

    addressSelected: function addressSelected() {
        var place = this.addressAutoComplete.getPlace(),
            zipcode = place.address_components.find(function (component) {
            return component.types[0] === "postal_code";
        }).short_name;

        this.views.personalInfo.model.set('zipcode', zipcode);
    },
    clearSubviews: function clearSubviews() {
        var _this3 = this;

        return Promise.all([this.hideEl(this.els.accountInfo), this.hideEl(this.els.orderInfo), this.views.accountPayments.hide()]).then(function () {
            _this3.views.sharePatch.reset();
            _this3.views.orderOptions.els.editSummary.classList.add('fd-hidden');
            _this3.views.weekOptions.els.editSummary.classList.add('fd-hidden');
            _this3.els.backBtn.classList.add('fd-hidden');
            return _this3.showEl(_this3.els.accountNav);
        }).catch(this.Error);
    },
    geolocate: function geolocate() {
        var _this4 = this;

        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                return _this4.addressAutoComplete.setBounds(new google.maps.Circle({
                    center: {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    },
                    radius: position.coords.accuracy }).getBounds());
            });
        }
    },
    initAutocomplete: function initAutocomplete() {
        this.addressAutoComplete = new google.maps.places.Autocomplete(this.views.personalInfo.els.address, { types: ['address'] });

        this.addressAutoComplete.addListener('place_changed', this.addressSelected.bind(this));
    },
    onAccountInfoBtnClick: function onAccountInfoBtnClick() {
        var _this5 = this;

        this.hideEl(this.els.accountNav).then(function () {
            _this5.els.backBtn.classList.remove('fd-hidden');
            _this5.populateAccountFields();
            return _this5.showEl(_this5.els.accountInfo);
        }).catch(this.Error);
    },
    onBackBtnClick: function onBackBtnClick() {
        this.clearSubviews();
    },
    onNavigation: function onNavigation() {
        var _this6 = this;

        return this.show().then(function () {
            return _this6.clearSubviews();
        }).then(function () {
            return _this6.views.seasons.update(_this6.selectedCustomer);
        }).catch(this.Error);
    },
    onOrdersBtnClick: function onOrdersBtnClick() {
        var _this7 = this;

        this.hideEl(this.els.accountNav).then(function () {
            return _this7.showEl(_this7.els.orderInfo);
        }).then(function () {
            _this7.views.orderOptions.hideSync();
            _this7.views.weekOptions.hideSync();
            _this7.els.backBtn.classList.remove('fd-hidden');
            return _this7.views.seasons.update(_this7.selectedCustomer);
        }).catch(this.Error);
    },
    onPaymentBtnClick: function onPaymentBtnClick() {
        var _this8 = this;

        this.hideEl(this.els.accountNav).then(function () {
            _this8.els.backBtn.classList.remove('fd-hidden');
            _this8.views.accountPayments.clear();
            _this8.views.accountPayments.views.seasons.update(_this8.selectedCustomer);
            return _this8.views.accountPayments.show();
        }).catch(this.Error);
    },
    patchMemberShare: function patchMemberShare() {
        var _this9 = this;

        var weekPatch = this.views.weekOptions.getPatchData();

        var weekDetail = '',
            emailTo = [this.selectedCustomer.person.data.email];

        if (this.selectedCustomer.person.data.secondaryEmail) emailTo.push(this.selectedCustomer.person.data.secondaryEmail);

        if (weekPatch.addedDates.length || weekPatch.removedDates.length) {
            weekDetail += ' ( ';
        }

        if (weekPatch.addedDates.length) {
            var description = weekPatch.addedDates.map(function (date) {
                return date.slice(5);
            }).join(',');
            weekDetail += 'Added Weeks: ' + description;
            if (weekPatch.removedDates.length) {
                weekDetail += ', ';
            }
        }

        if (weekPatch.removedDates.length) {
            var _description = weekPatch.removedDates.map(function (date) {
                return date.slice(5);
            }).join(',');
            weekDetail += 'Removed Weeks: ' + _description;
        }

        if (weekPatch.addedDates.length || weekPatch.removedDates.length) {
            weekDetail += ' ) ';
        }

        this.Xhr({
            id: this.memberShareId,
            method: 'patch',
            resource: 'member-order',
            data: JSON.stringify({
                adjustment: this.views.sharePatch.getPatchData(),
                memberShareId: this.memberShareId,
                name: this.selectedCustomer.person.data.name,
                orderOptions: this.views.orderOptions.getPatchData(),
                previousBalance: this.views.sharePatch.balance,
                shareLabel: this.selectedShare.label,
                weekOptions: weekPatch.allRemoved,
                weekDetail: weekDetail,
                to: emailTo
            })
        }).then(function () {
            _this9.Toast.showMessage('success', 'Order Updated! You will receive a confirmation email shortly.');

            Object.keys(_this9.views).forEach(function (key) {
                var view = _this9.views[key];
                if (view.els.editSummary && !view.isHidden(view.els.editSummary)) view.els.editSummary.classList.add('fd-hidden');
            });

            _this9.views.seasons.els.container.scrollIntoView({ behavior: 'smooth' });
            _this9.views.seasons.select(_this9.memberShareId);
        }).catch(function (e) {
            console.log(e.stack || e);
            _this9.Toast.showMessage('error', 'Update Failed. Please contact us for assistance.');
        });
    },
    populateAccountFields: function populateAccountFields() {
        var _this10 = this;

        this.views.personalInfo.clear();

        this.views.personalInfo.model.set('oldZipcode', this.selectedCustomer.member.data.zipcode || '');

        Object.keys(this.selectedCustomer.person.data).forEach(function (key) {
            if (_this10.views.personalInfo.els[key]) _this10.views.personalInfo.els[key].value = _this10.selectedCustomer.person.data[key];
        });

        Object.keys(this.selectedCustomer.member.data).forEach(function (key) {
            if (_this10.views.personalInfo.els[key]) _this10.views.personalInfo.els[key].value = _this10.selectedCustomer.member.data[key];
        });
    },
    postRender: function postRender() {
        var _this11 = this;

        this.Customer.get({ query: { email: this.user.get('email'), 'id': { operation: 'join', value: { table: 'member', column: 'personid' } } } }).then(function () {
            var customer = _this11.Customer.data[0];
            _this11.selectedCustomer = customer;

            _this11.views.orderOptions.hide();
            _this11.views.weekOptions.hide();
            _this11.views.sharePatch.reset();

            window.google && window.google.maps ? _this11.initAutocomplete() : window.initGMap = function () {
                return _this11.initAutocomplete();
            };

            _this11.views.seasons.on('selected', function (data) {
                _this11.views.sharePatch.reset();
                _this11.selectedShare = data.share;
                _this11.memberShareId = _this11.selectedShare.membershareid;

                Promise.all([_this11.Delivery.get({
                    query: {
                        membershareid: data.share.membershareid,
                        deliveryoptionid: { operation: 'join', value: { table: 'deliveryoption', column: 'id' } },
                        groupdropoffid: { operation: 'leftJoin', value: { table: 'groupdropoff', column: 'id' } }
                    }
                }), _this11.Transactions.get({ query: { memberShareId: data.share.membershareid } })]).then(function () {
                    var balance = _this11.Transactions.getBalance();
                    _this11.views.seasons.updateBalanceNotice(balance);
                    _this11.views.sharePatch.balance = balance;
                    _extends(data, { delivery: _this11.Delivery });
                    _this11.views.orderOptions.update(data).then(function () {
                        return _this11.views.sharePatch.setOriginalWeeklyPrice(_this11.views.orderOptions.originalWeeklyPrice);
                    }).catch(_this11.Error);
                    _this11.views.weekOptions.update(data).then(function () {
                        return _this11.views.sharePatch.setWeeksAffected(_this11.views.weekOptions.getWeeksAffected());
                    }).catch(_this11.Error);
                });
            });

            _this11.views.seasons.on('payBalance', function () {
                _this11.views.sharePatch.reset();

                return _this11.hideEl(_this11.els.orderInfo).then(function () {
                    return _this11.views.accountPayments.show();
                }).then(function () {
                    return _this11.views.accountPayments.update(customer, _this11.selectedShare, _this11.memberShareId);
                }).catch(_this11.Error);
            });

            _this11.views.orderOptions.on('deliveryChanged', function (data) {
                _this11.views.sharePatch.setWeeksAffected(_this11.views.weekOptions.getWeeksAffected());
                _this11.views.sharePatch.onWeeksReset();
                _this11.views.weekOptions.updateDelivery(data);
            });

            _this11.views.orderOptions.on('reset', function (model) {
                _this11.views.weekOptions.update(model);
                _this11.views.sharePatch.reset();
            });

            _this11.views.weekOptions.on('reset', function (model) {
                return _this11.views.sharePatch.onWeeksReset();
            });

            _this11.views.orderOptions.on('adjustment', function (data) {
                return _this11.views.sharePatch.onOptionsUpdate(data);
            });
            _this11.views.weekOptions.on('adjustment', function (data) {
                return _this11.views.sharePatch.onWeekUpdate(data);
            });

            _this11.views.sharePatch.on('patchMemberShare', function () {
                return _this11.patchMemberShare();
            });
        });

        return this;
    },


    requiresLogin: true

});

},{"../../../models/AccountInfo":192,"../models/CsaTransaction":14,"../models/Customer":16,"../models/Delivery":18,"./__proto__":104}],68:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    Customer: require('../models/Customer'),
    Transactions: require('../models/CsaTransaction'),

    Views: {
        creditCard: function creditCard() {
            return {
                model: Object.create(this.Model).constructor({}, {
                    attributes: require('../../../models/CreditCard').attributes,
                    meta: {
                        noPlaceholder: true
                    },
                    resource: 'payment'
                }),
                templateOpts: function templateOpts() {
                    return {
                        prompt: 'Please enter your credit card information.'
                    };
                },

                toastSuccess: 'Thank you for your payment! You will receive an email receipt shortly.'
            };
        }
    },

    events: {
        views: {
            creditCard: [['posted', function () {
                this.views.seasons.select(this.memberShareId);
            }]]
        }
    },

    clear: function clear() {
        this.els.total.textContent = '';
        this.els.ccWrapper.classList.add('fd-hidden');
    },
    postRender: function postRender() {
        var _this = this;

        this.Customer.get({ query: { email: this.user.get('email'), 'id': { operation: 'join', value: { table: 'member', column: 'personid' } } } }).then(function () {
            var customer = _this.Customer.data[0];
            if (!customer) return;

            _this.views.creditCard.model.set('member', customer.member.data);
            _this.views.creditCard.model.set('person', customer.person.data);

            _this.selectedCustomer = customer;

            _this.views.seasons.on('selected', function (data) {
                _this.selectedShare = data.share;
                _this.memberShareId = _this.selectedShare.membershareid;
                _this.Transactions.get({ query: { memberShareId: _this.memberShareId } }).then(function () {
                    _this.views.creditCard.model.set('share', _this.selectedShare);

                    _this.balance = _this.Transactions.getBalance();
                    _this.views.creditCard.model.set('total', _this.balance);

                    _this.els.total.textContent = 'Remaining Balance: ' + _this.Currency.format(_this.balance);
                    _this.slideIn(_this.els.total, 'right');

                    _this.els.ccWrapper.classList.toggle('fd-hidden', _this.balance <= 0);
                    if (_this.balance > 0) _this.slideIn(_this.els.ccWrapper, 'right');
                }).catch(_this.Error);
            });

            _this.views.seasons.update(customer);
        }).catch(this.Error);

        return this;
    },
    update: function update(customer, share, memberShareId) {
        var _this2 = this;

        this.selectedCustomer = customer;
        return this.views.seasons.update(customer).then(function () {
            return _this2.views.seasons.select(memberShareId);
        }).catch(this.Error);
    }
});

},{"../../../models/CreditCard":193,"../models/CsaTransaction":14,"../models/Customer":16,"./__proto__":104}],69:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = _extends({}, require('./__proto__'), {

    Pikaday: require('pikaday'),

    Views: {
        buttonFlow: function buttonFlow() {
            return {
                model: Object.create(this.Model).constructor({
                    disabled: true,
                    states: {
                        start: [{ name: 'addTransaction', class: 'save-btn', text: 'Add Transaction', nextState: 'confirm' }],
                        confirm: [{ name: 'confirmAdd', class: 'save-btn', text: 'Are you Sure?', emit: true, nextState: 'start' }, { name: 'cancel', class: 'reset-btn', nextState: 'start', text: 'Cancel', emit: true }]
                    }
                })
            };
        }
    },

    addTransaction: function addTransaction() {
        var _this = this;

        return this.model.post(_extends({ memberShareId: this.memberShareId }, this.model.attributes.reduce(function (memo, attr) {
            return _extends(memo, _defineProperty({}, attr, attr === 'created' ? _this.Moment(_this.els[attr].value, 'MMM D, YYYY').format('YYYY-MM-DD') : _this.els[attr].value));
        }, {}))).then(function () {
            return _this.Toast.showMessage('success', 'Transaction added!');
        }).catch(function (e) {
            _this.Error(e);_this.Toast.showMessage('error', 'Error adding transaction');
        });
    },
    onAddBlur: function onAddBlur(e) {
        isNaN(parseFloat(this.els.value.value)) ? this.els.form.classList.remove('active') : this.views.buttonFlow.enable();
    },
    onAddFocus: function onAddFocus(e) {
        this.els.form.classList.add('active');
    },
    onCancel: function onCancel() {
        this.reset();
        this.views.buttonFlow.disable();
    },
    postRender: function postRender() {
        var _this2 = this;

        this.model.attributes.forEach(function (attr) {
            _this2.els[attr].addEventListener('focus', function (e) {
                return _this2.onAddFocus(e);
            });
            _this2.els[attr].addEventListener('blur', function (e) {
                return _this2.onAddBlur(e);
            });
        });

        this.created = new this.Pikaday({ field: this.els.created, format: 'MMM D, YYYY' });

        this.views.buttonFlow.on('confirmAddClicked', function (e) {
            return _this2.addTransaction();
        });
        this.views.buttonFlow.on('cancelClicked', function (e) {
            return _this2.onCancel();
        });

        return this;
    },
    reset: function reset() {
        var _this3 = this;

        var now = this.Moment().format('MMM D, YYYY');
        this.model.attributes.forEach(function (attr) {
            return _this3.els[attr].value = attr === 'action' ? _this3.model.actions[0] : attr === 'created' ? now : '';
        });

        this.created.setMoment(now);
    },
    templateOpts: function templateOpts() {
        return { actions: this.model.actions };
    },
    update: function update(memberShareId) {
        this.memberShareId = memberShareId;
        this.reset();
    }
});

},{"./__proto__":104,"pikaday":"pikaday"}],70:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    events: {
        'signoutBtn': 'click'
    },

    templateOpts: { logo: '/static/img/logo.gif' },

    insertionMethod: 'before',

    onUser: function onUser() {
        this.els.name.textContent = this.user.get('name');
        this.els.userPanel.classList.remove('hide');
    },


    requiresLogin: false,

    onSignoutBtnClick: function onSignoutBtnClick() {
        document.cookie = 'patchworkjwt=; domain=' + window.location.hostname + '; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;';
        this.user.clear();

        this.user.set(this.user.defaults());

        this.els.name.textContent = '';
        this.els.userPanel.classList.add('hide');

        this.emit('signout');
    }

});

},{"./__proto__":104}],71:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    events: {
        'collectionManagerBtn': 'click',
        'manageCustomerBtn': 'click',
        'reportingBtn': 'click'
    },

    model: {

        manageCustomer: { label: 'Manage Customers', roles: new Set(['admin']), url: 'manage-customer' },

        collectionManager: {
            label: 'Collection Manager',
            roles: new Set(['admin']),
            url: 'collection-manager'
        },

        reporting: { label: '~_~ Reporting ~_~', roles: new Set(['admin']), url: 'reporting' }
    },

    onCollectionManagerBtnClick: function onCollectionManagerBtnClick() {
        this.emit('navigate', 'admin-plus/collection-manager');
    },
    onManageCustomerBtnClick: function onManageCustomerBtnClick() {
        this.emit('navigate', 'admin-plus/manage-customer');
    },
    onNavigation: function onNavigation(path) {
        var _this = this;

        this.path = path;

        var key = this.keys.find(function (key) {
            return _this.model[key].url === path[0];
        });

        if (key !== undefined) return this.showView(key);

        Promise.all(Object.keys(this.model).map(function (key) {
            var view = _this.model[key].view;
            return view ? view.hide() : Promise.resolve();
        })).then(function () {
            _this.currentEl = _this.els.nav;return _this.showEl(_this.els.nav);
        }).catch(this.Error);
    },
    onReportingBtnClick: function onReportingBtnClick() {
        this.emit('navigate', 'admin-plus/reporting');
    },
    postRender: function postRender() {
        var _this2 = this;

        this.keys = Object.keys(this.model);

        this.keys.forEach(function (name, i) {
            if (_this2.user.get('roles').filter(function (role) {
                return _this2.model[name].roles.has(role);
            }).length) {
                _this2.slurpTemplate({ template: '<button data-js="' + name + 'Btn">' + _this2.model[name].label + '</button>', insertion: { el: _this2.els.nav } });
            }
        });

        this.currentEl = this.els.nav;

        if (this.path.length > 1) this.onNavigation(this.path.slice(1));

        return this;
    },
    showView: function showView(key) {
        var _this3 = this;

        return this.hideEl(this.currentEl).then(function () {
            _this3.model[key].view ? _this3.model[key].view.onNavigation(_this3.path.slice(1)) : _this3.model[key].view = _this3.factory.create(key, { insertion: { el: _this3.els.views }, path: _this3.path.slice(1) }).on('navigate', function (route, opts) {
                return _this3.emit('navigate', route, opts);
            });

            _this3.currentView = _this3.model[key].view;
            _this3.currentEl = _this3.model[key].view.getContainer();
            return Promise.resolve();
        }).catch(this.Error);
    },


    requiresLogin: true,

    requiresRole: 'admin'

});

},{"./__proto__":104}],72:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {
    disable: function disable() {
        var _this = this;

        Object.keys(this.model.data.states).forEach(function (stateName) {
            return _this.model.data.states[stateName].forEach(function (button) {
                var el = _this.els[button.name];
                el.removeEventListener('click', button.clickListener);
                el.classList.add('disabled');
            });
        });
    },
    enable: function enable() {
        var _this2 = this;

        Object.keys(this.model.data.states).forEach(function (stateName) {
            return _this2.model.data.states[stateName].forEach(function (button) {
                var el = _this2.els[button.name];
                el.addEventListener('click', button.clickListener);
                el.classList.remove('disabled');
            });
        });
    },
    getListener: function getListener(name, button) {
        var _this3 = this;

        return function (e) {
            if (button.nextState) e.fdNextState = _this3.onNextState(button.nextState);
            if (button.emit) _this3.emit(name + 'Clicked', e);
        };
    },
    onNextState: function onNextState(newState) {
        var _this4 = this;

        return this.hideEl(this.els[this.state]).then(function () {
            _this4.showEl(_this4.els[newState]);
            return Promise.resolve(_this4.state = newState);
        }).catch(this.Error);
    },
    postRender: function postRender() {
        var _this5 = this;

        this.state = 'start';

        Object.keys(this.model.data.states).forEach(function (stateName) {
            return _this5.model.data.states[stateName].forEach(function (button) {
                var el = _this5.els[button.name];
                button.clickListener = _this5.getListener(button.name, button);
                if (!_this5.model.disabled) {
                    el.addEventListener('click', button.clickListener);
                }
            });
        });

        return this;
    }
});

},{"./__proto__":104}],73:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    model: require('../models/CollectionManager'),

    Collection: require('../models/Collection'),
    DocumentModel: require('../models/Document'),

    Templates: {
        Document: require('./templates/Document')
    },

    Views: {
        collections: function collections() {
            return {
                events: {
                    list: 'click'
                },
                model: Object.create(this.Model).constructor({
                    collection: Object.create(this.Collection),
                    delete: false,
                    fetch: true
                }),
                itemTemplate: function itemTemplate(collection) {
                    return '<span>' + (collection.label || collection.name) + '</span>';
                },
                templateOpts: { heading: 'Collections', name: 'Collections', toggle: true }
            };
        },


        /*createCollection() {
            return {
                insertion: { el: this.els.mainPanel },
                model: Object.create( this.Collection ).constructor(),
                templateOpts: { heading: 'Create Collection' }
            }
        },
         deleteCollection( model ) {
            return {
                insertion: { el: this.els.mainPanel },
                model: Object.create( this.Collection ).constructor( model ),
                templateOpts: { message: `Delete "${model.name}" Collection?` }
            }
        },*/

        deleteDocument: function deleteDocument(document) {
            var collectionName = this.model.git('currentCollection'),
                collection = this.views.collections.collection.store.name[collectionName],
                meta = this.model.meta[collectionName] || {},
                schema = collection.schema;

            return {
                insertion: { el: this.els.mainPanel },
                model: Object.create(this.DocumentModel).constructor(document, {
                    meta: { key: collection.key },
                    resource: collectionName
                }),
                templateOpts: { message: '<div><span>Delete </span>' + this.getDisplayValue(meta, document, schema) + '<span> from ' + collectionName + '?</span></div>' },
                toastSuccess: 'Item deleted.'
            };
        },
        documentList: function documentList() {
            var _this = this;

            var collectionName = this.model.git('currentCollection'),
                collection = this.views.collections.collection.store.name[collectionName],
                meta = this.model.meta[collectionName] || {},
                schema = collection.schema;

            return {
                model: Object.create(this.Model).constructor(_extends({
                    add: true,
                    collection: Object.create(this.DocumentModel).constructor([], {
                        meta: { key: collection.key },
                        resource: collectionName
                    }),
                    delete: true,
                    pageSize: 100,
                    skip: 0,
                    sort: { 'label': 1 },
                    scrollPagination: true
                }, meta)),
                events: { list: 'click' },
                insertion: { el: this.els.mainPanel },
                itemTemplate: function itemTemplate(datum) {
                    return _this.getDisplayValue(meta, datum, schema);
                }
            };
        },
        documentView: function documentView(model) {
            return {
                disallowEnterKeySubmission: true,
                insertion: { el: this.els.mainPanel },
                model: model,
                templateOpts: function templateOpts() {
                    return _extends({ heading: model.heading }, model.meta.templateOptions);
                },

                Views: {
                    typeAhead: {
                        Type: 'Document',
                        templateOpts: { hideSearch: true }
                    }
                }
            };
        }
    },

    events: {
        createCollectionBtn: 'click',
        backBtn: 'click',
        resource: 'click',

        views: {
            collections: [['deleteClicked', function (collection) {
                var _this2 = this;

                this.clearCurrentView().then(function () {
                    return Promise.resolve(_this2.createView('deleter', 'deleteCollection', collection));
                }).catch(this.Error);
            }], ['fetched', function () {
                this.views.collections.hideItems([this.model.git('currentCollection')]);
            }], ['itemClicked', function (model) {
                var _this3 = this;

                this.clearCurrentView().then(function () {
                    return Promise.resolve(_this3.model.set('currentCollection', model.name));
                }).catch(this.Error);
            }], ['successfulDrop', function (data) {
                this.swapDocument({ document: data.dropped, to: data.droppedOn.name, from: this.model.git('currentCollection') }).catch(this.toastError.bind(this));
            }]],
            /*createCollection: [
                [ 'deleted', function() { this.model.set( 'currentView', 'documentList' ) } ],
                [ 'posted', function( collection ) { this.views.collections.add( collection ) } ]
            ],
            deleteCollection: [
                [ 'deleted', function() { this.model.set('currentView', 'documentList' ) } ],
                [ 'modelDeleted', function( model ) { this.views.collections.remove( model ) } ]
            ],*/
            deleteDocument: [['deleted', function () {
                this.model.set('currentView', 'documentList');
            }], ['modelDeleted', function (model) {
                var _this4 = this;

                this.views.documentList.remove(model);
                this.views.documentList.getCount().then(function (count) {
                    return _this4.updateCount(count);
                }).catch(this.Error);
            }]],
            documentList: [['addClicked', function () {
                var _this5 = this;

                this.clearCurrentView().then(function () {
                    return Promise.resolve(_this5.createView('form', 'documentView', _this5.createDocumentModel()));
                }).catch(this.Error);
            }], ['itemClicked', function (document) {
                this.onDocumentSelected(document);
            }],
            //[ 'dragStart', function( type ) { this.views.collections.showDroppable( type ) } ],
            //[ 'dropped', function( data ) { this.views.collections.hideDroppable(); this.views.collections.checkDrop( data ) } ],
            ['deleteClicked', function (document) {
                var _this6 = this;

                this.clearCurrentView().then(function () {
                    _this6.createView('deleter', 'deleteDocument', document);
                    return Promise.resolve(window.scrollTo(0, 0));
                }).catch(this.Error);
            }]],
            documentView: [['deleted', function (model) {
                this.model.set('currentView', 'documentList');
            }], ['put', function (model) {
                var _this7 = this;

                if (this.views.documentList.fetched) this.views.documentList.updateItem(this.createDocumentModel(model));
                this.clearCurrentView().then(function () {
                    return Promise.resolve(_this7.model.set('currentView', 'documentList'));
                }).catch(this.Catch);
            }], ['posted', function (model) {
                var _this8 = this;

                if (this.views.documentList.fetched) this.views.documentList.add(model, true);
                this.clearCurrentView().then(function () {
                    return Promise.resolve(_this8.model.set('currentView', 'documentList'));
                }).catch(this.Catch);
            }]]

        }
    },

    cachedTables: ['deliveryoption', 'deliveryroute', 'groupdropoff', 'producefamily', 'seasonalAddOn', 'share', 'shareoption'],

    clearCurrentView: function clearCurrentView() {
        var currentView = this.model.git('currentView');

        return currentView !== 'documentList' ? this.views[currentView].delete({ silent: true }) : this.views[currentView].hide();
    },
    createDocumentList: function createDocumentList(collectionName) {
        var _this9 = this;

        var fetch = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

        this.createView('list', 'documentList');
        this.views.documentList.getCount().then(function (count) {
            return _this9.updateCount(count);
        }).catch(this.Error);
        return this.views.collections.unhideItems().hideItems([this.model.git('currentCollection')]);
    },
    createDocumentModel: function createDocumentModel() {
        var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

        var collectionName = this.model.git('currentCollection'),
            collection = this.views.collections.collection.store.name[collectionName],
            meta = _extends(this.model.meta[collectionName] || {}, { noPlaceholder: true, key: collection.key });

        var schema = this.model.git('currentCollection') === 'Pages' ? collection[data.name] : collection.schema;

        schema.attributes.forEach(function (attr) {
            if (attr.range === 'Geography' && data[attr.name] && !Array.isArray(data[attr.name])) data[attr.name] = JSON.parse(data[attr.name]).coordinates;
            if (meta.validate && meta.validate[attr.name || attr.fk]) attr.validate = meta.validate[attr.name || attr.fk];
        });

        return Object.create(this.Model).constructor(data, _extends({
            meta: meta,
            resource: collectionName,
            heading: this.getDisplayValue(meta, data, schema)
        }, schema));
    },
    createView: function createView(type, name, model) {
        var _this10 = this;

        this.views[name] = this.factory.create(type, Reflect.apply(this.Views[name], this, [model]));

        if (this.events.views[name]) this.events.views[name].forEach(function (arr) {
            return _this10.views[name].on(arr[0], function (eventData) {
                return Reflect.apply(arr[1], _this10, [eventData]);
            });
        });
        this.model.set('currentView', name);
    },
    getDisplayValue: function getDisplayValue(meta, datum, schema) {
        var _this11 = this;

        if (!Object.keys(datum).length) return '<div>New ' + this.model.git('currentCollection') + '</div>';
        if (this.Templates[meta.displayAttr]) return this.Templates[meta.displayAttr](datum);

        var value = void 0;

        if (meta.displayAttr) {
            value = meta.displayAttr.map(function (attr) {
                var fkColumn = schema.attributes.find(function (schemaAttr) {
                    return schemaAttr.fk === attr;
                });
                if (fkColumn) return _this11[attr].store.id[datum[fkColumn.columnName]].label || _this11[attr].store.id[datum[fkColumn.columnName]].name;

                return attr === 'createdAt' ? _this11.Format.Moment.utc(datum[meta.displayAttr]).format('YYYY-MM-DD hh:mm:ss') : datum[attr];
            }).join(' -- ');
        } else {
            value = datum.label || datum.name;
        }

        return '<div><span>' + value + '</span></div>';
    },
    getDocument: function getDocument(collection, value) {
        var query = Number.isNaN(+value) ? { name: value } : { id: value };

        return Object.create(this.Model).constructor({}, { resource: collection }).get({ query: query }).then(function (document) {
            return Promise.resolve(document.length === 1 ? document[0] : document);
        });
    },
    onBackBtnClick: function onBackBtnClick() {
        this.emit('navigate', '/admin-plus');
    },
    onCreateCollectionBtnClick: function onCreateCollectionBtnClick() {
        var _this12 = this;

        this.clearCurrentView().then(function () {
            return Promise.resolve(_this12.createView('form', 'createCollection'));
        }).catch(this.Error);
    },
    onDocumentSelected: function onDocumentSelected(document) {
        var _this13 = this;

        return this.clearCurrentView().then(function () {
            return Promise.resolve(_this13.showDocumentView(document));
        }).catch(this.Error);
    },
    onNavigation: function onNavigation(path) {
        var _this14 = this;

        this.path = path;

        (this.isHidden() ? this.show() : Promise.resolve()).then(function () {
            return _this14.clearCurrentView();
        }).then(function () {
            return _this14.showProperView(false);
        }).catch(this.Error);
    },
    onResourceClick: function onResourceClick() {
        var _this15 = this;

        if (this.model.git('currentView') === 'documentList') return;

        this.clearCurrentView().then(function () {
            return Promise.resolve(_this15.model.set('currentView', 'documentList'));
        }).catch(this.Error);
    },
    postRender: function postRender() {
        var _this16 = this;

        if (this.path.length > 0) this.model.set('currentCollection', this.path[0]);

        this.model.on('currentCollectionChanged', function () {
            return _this16.views.documentList.delete({ silent: true }).then(function () {
                return _this16.createDocumentList(_this16.model.git('currentCollection'));
            }).catch(_this16.Error);
        });

        this.model.on('currentViewChanged', function () {
            var currentView = _this16.model.git('currentView'),
                currentCollection = _this16.model.git('currentCollection'),
                path = currentView === 'documentView' ? '/' + currentCollection + '/' + (_this16.views.documentView.model.git('name') || _this16.views.documentView.model.git('id') || 'new-item') : currentView === 'documentList' ? '/' + currentCollection : '';

            _this16.emit('navigate', '/admin-plus/collection-manager' + path, { silent: true });

            (currentView === 'documentList' && _this16.views.documentList.collection.data.length === 0 ? _this16.views.documentList.fetch() : Promise.resolve()).then(function () {
                return _this16.views[currentView].show();
            }).catch(_this16.Error);
        });

        Promise.all(this.cachedTables.map(function (name) {
            _this16[name] = Object.create(_this16.Model).constructor({}, { resource: name });
            return _this16[name].get({ storeBy: ['id'] });
        })).then(function () {
            return _this16.showProperView(true);
        }).catch(this.Error);

        return this;
    },
    showDocumentView: function showDocumentView(document) {
        this.createView('form', 'documentView', this.createDocumentModel(document));
    },
    showProperView: function showProperView() {
        var _this17 = this;

        var path = this.path;

        if (path.length && path[0] !== this.model.git('currentCollection')) return Promise.resolve(this.model.set('currentCollection', path[0]));

        return (this.views.documentList ? Promise.resolve() : this.createDocumentList(this.model.git('currentCollection'), this.path.length === 2 ? false : true)).then(function () {
            return path.length === 2 && path[1] !== 'new-item' ? _this17.getDocument(path[0], path[1]).then(function (document) {
                return Array.isArray(document) ? Promise.resolve(_this17.model.set('currentView', 'documentList')) : _this17.clearCurrentView().then(function () {
                    return Promise.resolve(_this17.showDocumentView(document, false));
                }).catch(_this17.Error);
            }) : Promise.resolve(_this17.model.git('currentView') === 'documentList' ? '' : _this17.model.set('currentView', 'documentList'));
        }).catch(this.Error);
    },
    swapDocument: function swapDocument(_ref) {
        var _this18 = this;

        var document = _ref.document,
            to = _ref.to,
            from = _ref.from;

        return this.Xhr({ method: 'PATCH', resource: 'Document', id: document._id, data: JSON.stringify({ to: to, from: from }) }).then(function () {
            return Promise.resolve(_this18.views.documentList.remove(document));
        });
    },
    toastError: function toastError(e) {
        this.Error(e);
        this.Toast.showMessage('error', 'Something went wrong. Please try again or contact Chris.');
    },
    updateCount: function updateCount(count) {
        var collection = this.views.collections.collection.store.name[this.model.git('currentCollection')];
        this.els.resource.textContent = (collection.label || collection.name) + ' (' + count + ')';
    }
});

},{"../models/Collection":10,"../models/CollectionManager":11,"../models/Document":21,"./__proto__":104,"./templates/Document":140}],74:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var CustomContent = require('./util/CustomContent');

module.exports = _extends({}, require('./__proto__'), CustomContent, {

    tables: [{ name: 'contactinfo', el: 'contactInfo', template: 'contact' }],

    templates: {
        contact: require('./templates/Location')
    }

});

},{"./__proto__":104,"./templates/Location":153,"./util/CustomContent":185}],75:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), require('./util/CustomContent'), {

    CurrentShare: require('../models/CurrentShare'),
    Shares: Object.create(require('../models/__proto__'), { resource: { value: 'CsaPageShare' } }),
    ShareOptions: Object.create(require('../models/__proto__'), { resource: { value: 'shareoption' } }),

    events: {
        signupBtn: 'click'
    },

    hashToElement: {
        'how-do-i-know': 'howDoIKnow'
    },

    insertAddOnDescriptions: function insertAddOnDescriptions() {
        var _this = this;

        this.ShareOptions.data.filter(function (opt) {
            return opt.name !== 'Share size';
        }).forEach(function (shareOpt) {
            var addOnInfo = _this.CurrentShare.data.produceOptions.find(function (produceOpt) {
                return produceOpt.shareoptionid === shareOpt.id && produceOpt.name === 'one';
            });

            _this.slurpTemplate({
                template: _this.templates.csaItem(_extends(addOnInfo, { heading: shareOpt.name })),
                insertion: { el: _this.els.addOnItems }
            });
        });
    },
    insertDeliveryMatrix: function insertDeliveryMatrix() {
        this.slurpTemplate({
            template: this.templates.deliveryMatrix({
                deliveryOptions: this.CurrentShare.data.deliveryOptions,
                sizeOptions: this.CurrentShare.getSizeOptions()
            }),
            insertion: { el: this.els.deliveryMatrix }
        });
    },
    insertShareDescription: function insertShareDescription(share) {
        var deliveryOpts = this.CurrentShare.data.deliveryOptions,
            sharePrice = parseFloat(this.CurrentShare.data.produceOptions.find(function (opt) {
            return opt.prompt = 'Share size' && share.name === opt.name;
        }).price.replace('$', '')),
            lowPrice = sharePrice + parseFloat(this.CurrentShare.data.deliveryOptions[0].price.replace('$', '')),
            highPrice = sharePrice + parseFloat(this.CurrentShare.data.deliveryOptions[this.CurrentShare.data.deliveryOptions.length - 1].price.replace('$', '')),
            priceRange = '$' + lowPrice.toFixed(2) + ' - $' + highPrice.toFixed(2);

        this.slurpTemplate({
            template: this.templates.csaItem(_extends(share.shareDescription, { price: priceRange })),
            insertion: { el: this.els.shareDescriptions }
        });
    },
    insertShareExample: function insertShareExample(share) {
        this.slurpTemplate({
            template: this.templates.shareExample(share.shareExample),
            insertion: { el: this.els.shareExamples }
        });
    },
    onSignupBtnClick: function onSignupBtnClick() {
        this.emit('navigate', 'sign-up');
    },
    postRender: function postRender() {
        var _this2 = this;

        require('./util/CustomContent').postRender.call(this);

        if (window.location.hash) {
            this.els[this.hashToElement[window.location.hash.slice(1)]].scrollIntoView({ behavior: 'smooth' });
        }

        Promise.all([this.CurrentShare.get(), this.Shares.get(), this.ShareOptions.get()]).then(function () {
            _this2.insertDeliveryMatrix();

            _this2.Shares.data.forEach(function (share) {
                _this2.insertShareExample(share);
                _this2.insertShareDescription(share);
            });

            _this2.insertAddOnDescriptions();
        }).catch(this.Error);

        return this;
    },


    templates: {
        csaItem: require('./templates/CsaItem'),
        deliveryMatrix: require('./templates/deliveryMatrix'),
        shareExample: require('./templates/ShareExample')
    }

});

},{"../models/CurrentShare":15,"../models/__proto__":40,"./__proto__":104,"./templates/CsaItem":135,"./templates/ShareExample":167,"./templates/deliveryMatrix":175,"./util/CustomContent":185}],76:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    MemberFoodOmission: require('../models/MemberFoodOmission'),

    clear: function clear() {
        var _this = this;

        this.fields.forEach(function (field) {
            if (field.type !== 'select') _this.els[field.name].textContent = '';
        });

        this.els.infoTable.querySelectorAll('.edited').forEach(function (el) {
            return el.classList.remove('edited');
        });

        this.FoodOmission.clear();

        this.els.resetBtn.classList.add('fd-hidden');
        this.els.editSummary.classList.add('fd-hidden');
    },


    events: {
        onpaymentplan: 'change',
        resetBtn: 'click',
        saveBtn: 'click'
    },

    fields: [{ table: 'person', type: 'text', name: 'name', label: 'Name' }, { table: 'person', type: 'text', name: 'email', label: 'Email' }, { table: 'person', type: 'text', name: 'secondaryEmail', label: 'Secondary Email' }, { table: 'member', type: 'text', name: 'phonenumber', label: 'Phone' }, { table: 'member', type: 'text', name: 'zipcode', label: 'Zip Code' }, { table: 'member', type: 'text', name: 'address', label: 'Address' }, { table: 'memberFoodOmission', type: 'select', name: 'neverReceive', label: 'Opt-out Vegetable' }, { table: 'member', type: 'select', name: 'onpaymentplan', label: 'On Payment Plan' }],

    getTemplateOptions: function getTemplateOptions() {
        var isAdmin = window.location.pathname.indexOf('admin') !== -1;
        if (!isAdmin) this.fields.pop();
        return { fields: this.fields, isAdmin: isAdmin };
    },
    handleBlur: function handleBlur(e) {
        var el = e.target,
            field = this.fields.find(function (field) {
            return field.name === el.getAttribute('data-name');
        }),
            fieldValue = el.textContent.trim(),
            modelValue = this.model[field.table].data[field.name] || '';

        if (fieldValue !== modelValue) {
            el.classList.add('edited');
            this.editedFields[field.name] = fieldValue || null;
            this.showEditSummary();
            this.emit('edited');
        } else if (this.editedFields[field.name] !== undefined) {
            el.classList.remove('edited');
            this.editedFields[field.name] = undefined;
            this.showEditSummary();
        }
    },
    hasEdits: function hasEdits() {
        var _this2 = this;

        return Object.keys(this.editedFields).filter(function (key) {
            return _this2.editedFields[key] !== undefined;
        }).length > 0;
    },
    handleEdit: function handleEdit(e) {
        this.els.resetBtn.classList.remove('fd-hidden');
    },
    handleOmissionChange: function handleOmissionChange(e, m) {
        var values = m.val(),
            name = values.length ? m.val()[0].name : '',
            originalName = this.MemberFoodOmission.data.length ? this.MemberFoodOmission.data[0].name : '';

        if (originalName !== name) {
            this.editedFields.neverReceive = name;
            this.emit('edited');
            this.showEditSummary();
        } else if (this.editedFields.neverReceive !== undefined) {
            this.editedFields.neverReceive = undefined;
            this.showEditSummary();
        }
    },
    onOnpaymentplanChange: function onOnpaymentplanChange(e) {
        var el = e.target,
            fieldValue = Boolean(el.value === "true"),
            modelValue = this.model.member.data.onpaymentplan;

        if (modelValue !== fieldValue) {
            el.classList.add('edited');
            this.editedFields['onpaymentplan'] = Boolean(el.value === "true");
            this.emit('edited');
            this.showEditSummary();
        } else if (this.editedFields.onpaymentplan !== undefined) {
            el.classList.remove('edited');
            this.editedFields.onpaymentplan = undefined;
            this.showEditSummary();
        }
    },
    onResetBtnClick: function onResetBtnClick() {
        this.reset(this.model);
    },
    onSaveBtnClick: function onSaveBtnClick() {
        var _this3 = this;

        var resourcesToUpdate = [];

        this.memberData = {};
        this.personData = {};
        this.memberFoodOmissionData = {};

        this.fields.forEach(function (field) {
            if (_this3.editedFields[field.name] !== undefined) {
                _this3[field.table + 'Data'][field.name] = _this3.editedFields[field.name];
                if (resourcesToUpdate.indexOf(field.table) === -1) resourcesToUpdate.push(field.table);
            }
        });

        return Promise.all(resourcesToUpdate.map(function (resource) {
            return _this3['update' + (resource.charAt(0).toUpperCase() + resource.slice(1))]();
        })).then(function () {
            _this3.els.resetBtn.classList.add('fd-hidden');
            _this3.els.editSummary.classList.add('fd-hidden');

            _this3.Toast.showMessage('success', 'Customer Info Updated!');
            _this3.update(_this3.model);
        }).catch(this.Error);
    },
    populateTable: function populateTable() {
        var _this4 = this;

        this.fields.forEach(function (field) {
            if (field.type !== 'select') _this4.els[field.name].textContent = _this4.model[field.table].data[field.name];
        });

        if (this.MemberFoodOmission.data.length) {
            var datum = this.MemberFoodOmission.data[0],
                index = this.FoodOmission.Foods.data.findIndex(function (food) {
                return food.produceid == datum.produceid && food.produceid !== null || food.producefamilyid == datum.producefamilyid && datum.produceid === null;
            });

            if (index !== -1) {
                var foodDatum = this.FoodOmission.Foods.data[index];
                datum.name = foodDatum.name;
                this.FoodOmission.ms.setSelection([_extends({}, foodDatum, { id: index })]);
            }
        }

        if (this.els.onpaymentplan) this.els.onpaymentplan.selectedIndex = this.model.member.data.onpaymentplan ? 0 : 1;
    },
    postRender: function postRender() {
        var _this5 = this;

        this.FoodOmission = this.factory.create('foodOmission', { insertion: { el: this.els.neverReceive, method: 'after' } });

        this.els.neverReceive.remove();

        this.FoodOmission.initializeFoodOmission().then(function () {
            _this5.FoodOmission.removeHelperText();
            _this5.FoodOmission.unstyle();

            _this5.FoodOmission.on('selectionChange', function (e, m) {
                return _this5.handleOmissionChange(e, m);
            });
        });

        this.els.infoTable.querySelectorAll('div[contenteditable=true]').forEach(function (el) {
            el.addEventListener('blur', function (e) {
                return _this5.handleBlur(e);
            });
        });

        this.on('edited', function (e) {
            return _this5.handleEdit(e);
        });

        return this;
    },
    reset: function reset(customer) {
        this.els.resetBtn.classList.add('fd-hidden');
        this.update(customer);
    },
    showEditSummary: function showEditSummary() {
        var _this6 = this;

        var hasEdits = this.hasEdits();

        this.els.changes.innerHTML = '';

        this.fields.forEach(function (field) {
            if (_this6.editedFields[field.name] !== undefined) {
                var oldValue = field.name === 'neverReceive' ? _this6.MemberFoodOmission.data.length ? _this6.MemberFoodOmission.data[0].name : '' : _this6.model[field.table].data[field.name];
                var newValue = _this6.editedFields[field.name];

                if (!oldValue && field.name !== 'onpaymentplan') oldValue = 'EMPTY';
                if (!newValue && field.name !== 'onpaymentplan') newValue = 'EMPTY';

                if (field.name === 'onpaymentplan') {
                    oldValue = oldValue.toString();
                    newValue = newValue.toString();
                }

                if (oldValue === 'EMPTY' && newValue === 'EMPTY') return;

                _this6.slurpTemplate({ insertion: { el: _this6.els.changes }, template: _this6.Templates.fieldEdit({ label: field.label, oldValue: oldValue, newValue: newValue }) });
            }
        });

        this.els.resetBtn.classList.toggle('fd-hidden', !hasEdits);

        if (!this.isHidden(this.els.editSummary) && hasEdits) return;

        this['slide' + (hasEdits ? 'In' : 'Out')](this.els.editSummary, 'right');
    },


    Templates: {
        fieldEdit: require('./templates/FieldEdit')
    },

    update: function update(customer) {
        var _this7 = this;

        this.clear();

        this.model = customer;
        this.editedFields = {};

        return this.MemberFoodOmission.get({ query: { memberid: customer.member.data.id } }).then(function () {
            return _this7.populateTable();
        }).then(function () {
            return _this7.show();
        }).catch(this.Error);
    },
    updateMember: function updateMember() {
        var _this8 = this;

        return this.Xhr({ method: 'PATCH', id: this.model.member.data.id, resource: 'member', data: JSON.stringify(this.memberData) }).then(function () {
            return Promise.resolve(Object.keys(_this8.memberData).forEach(function (field) {
                return _this8.model.member.data[field] = _this8.memberData[field];
            }));
        });
    },
    updateMemberFoodOmission: function updateMemberFoodOmission() {
        var _this9 = this;

        var foodIdx = this.FoodOmission.Foods.data.findIndex(function (datum) {
            return datum.name == _this9.memberFoodOmissionData.neverReceive;
        });

        if (foodIdx === -1) return this.MemberFoodOmission.delete(this.MemberFoodOmission.data[0].id);

        var msData = this.FoodOmission.Foods.data[foodIdx],
            data = { memberid: this.model.member.data.id, produceid: msData.produceid, producefamilyid: msData.produceid ? null : msData.producefamilyid };

        return this.MemberFoodOmission.data.length ? this.MemberFoodOmission.patch(this.MemberFoodOmission.data[0].id, data) : this.MemberFoodOmission.post(data);
    },
    updatePerson: function updatePerson() {
        var _this10 = this;

        return this.Xhr({ method: 'PATCH', id: this.model.person.data.id, resource: 'person', data: JSON.stringify(this.personData) }).then(function () {
            return Promise.resolve(Object.keys(_this10.personData).forEach(function (field) {
                return _this10.model.person.data[field] = _this10.personData[field];
            }));
        });
    }
});

},{"../models/MemberFoodOmission":28,"./__proto__":104,"./templates/FieldEdit":143}],77:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), require('./Submitter'), {

    events: {
        cancelBtn: 'click',
        submitBtn: 'click'
    },

    onCancelBtnClick: function onCancelBtnClick() {
        this.delete();
    },
    onSubmitBtnClick: function onSubmitBtnClick() {
        var _this = this;

        if (this.submitting) return;
        this.onSubmitStart();
        this.submit().then(function () {
            return Promise.resolve(_this.onSubmitEnd());
        }).then(function () {
            return _this.delete();
        }).catch(function (e) {
            return _this.handleSubmissionError(e);
        });
    },
    submit: function submit() {
        var _this2 = this;

        return this.model.delete().then(function (keyValue) {
            _this2.emit('modelDeleted', _this2.model.data);
            _this2.Toast.showMessage('success', _this2.toastSuccess || 'Success');
            return Promise.resolve();
        });
    }
});

},{"./Submitter":98,"./__proto__":104}],78:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = Object.create(_extends({}, require('./__proto__'), {

    Icons: {
        error: require('./templates/lib/error')(),
        success: require('./templates/lib/checkmark')()
    },

    bindEvents: function bindEvents() {
        document.body.addEventListener('mousedown', this.onMouseDown);
        document.body.addEventListener('mouseup', this.onMouseUp);
        document.body.addEventListener('mousemove', this.onMouseMove);
    },
    listen: function listen() {
        this.listeners++;

        if (this.listeners === 1) this.bindEvents();
    },


    name: 'Dragger',

    postRender: function postRender() {
        var _this = this;

        this.listeners = 0;

        this.onMouseDown = function (e) {
            return _this.emit('mousedown', e);
        };
        this.onMouseUp = function (e) {
            return _this.emit('mouseup', e);
        };
        this.onMouseMove = function (e) {
            return _this.emit('mousemove', e);
        };

        return this;
    },
    stopListening: function stopListening() {
        this.listeners--;

        if (this.listeners === 0) this.unbindEvents();
    },


    template: require('./templates/Dragger'),

    unbindEvents: function unbindEvents() {
        document.body.removeEventListener('mousedown', this.onMouseDown);
        document.body.removeEventListener('mouseup', this.onMouseUp);
        document.body.removeEventListener('mousemove', this.onMouseMove);
    }
}), {}).constructor();

},{"./__proto__":104,"./templates/Dragger":141,"./templates/lib/checkmark":177,"./templates/lib/error":179}],79:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    $: require('jquery'),

    Foods: require('../models/Food'),

    clear: function clear() {
        this.ms.clear();
    },
    getMagicSuggest: function getMagicSuggest() {
        return this.ms;
    },
    initializeFoodOmission: function initializeFoodOmission() {
        var _this = this;

        return this.Foods.get().then(function () {
            if (!_this.Foods.data.length) return Promise.resolve();

            var data = _this.Foods.data.map(function (food, i) {
                return _extends({ id: i }, food);
            }),
                renderer = function renderer(data) {
                return data.produceid ? '<span class="' + (data.producefamilyid ? 'produce-in-family' : '') + '">' + data.name + '</span>' : '<span class="produce-family">All ' + data.name + '</span>';
            };

            _this.ms = _this.$(_this.els.container).magicSuggest({
                allowFreeEntries: false,
                data: data,
                highlight: false,
                placeholder: '',
                maxDropHeight: 200,
                maxSelection: 1,
                renderer: renderer,
                selectionRenderer: renderer,
                valueField: 'id'
            });

            _this.ms.val = function (value) {
                return value ? _this.ms.setSelection(value) : _this.ms.getSelection();
            };

            _this.$(_this.ms).on('selectionchange', function (e, m) {
                return _this.emit('selectionChange', e, m);
            });

            return Promise.resolve();
        }).catch(this.Error);
    },
    removeHelperText: function removeHelperText() {
        this.ms.helper[0].remove();
    },
    setPlaceholder: function setPlaceholder(text) {
        this.ms.input.attr('placeholder', text);
    },
    unstyle: function unstyle() {
        this.ms.container.removeClass('form-control');
    }
});

},{"../models/Food":25,"./__proto__":104,"jquery":"jquery"}],80:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {});

},{"./__proto__":104}],81:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var Submitter = require('./Submitter');

module.exports = _extends({}, require('./__proto__'), Submitter, {

    Flatpickr: require('flatpickr'),

    events: _extends(Submitter.events, { previewBtn: 'click' }),

    onPreviewBtnClick: function onPreviewBtnClick(e) {
        e.target.nextElementSibling.src = this.Format.ImageSrc(e.target.parentElement.previousElementSibling.value);
    },
    clear: function clear() {
        var _this = this;

        this.inputEls.forEach(function (el) {
            return el.value = '';
        });

        if (this.views) {
            Object.keys(this.views).forEach(function (key) {
                var view = _this.views[key];

                if (view.itemViews) {
                    view.itemViews.forEach(function (itemView) {
                        if (itemView.name !== 'Form') return;
                        itemView.clear();
                    });
                } else {
                    if (view.name !== 'Form') return;
                    view.clear();
                }
            });
        }
    },
    getElementValue: function getElementValue(el, attribute) {
        if (attribute === undefined || !attribute.fk && attribute.range && typeof attribute.range === 'string') return el.value;
    },
    getFormValues: function getFormValues() {
        var _this2 = this;

        var attributes = this.model.attributes;

        var data = this.reducer(Object.keys(this.els), function (key) {
            return (/(INPUT|SELECT|TEXTAREA)/.test(_this2.els[key].tagName) ? _defineProperty({}, key, _this2.getElementValue(_this2.els[key], attributes.find(function (attribute) {
                    return attribute.name === key;
                }))) : {}
            );
        });

        attributes.forEach(function (attribute) {
            if (attribute.fk) {
                data[attribute.columnName] = _this2.views[attribute.fk].getSelectedId();
            } else if (attribute.range === 'Geography') {
                data[attribute.name] = Array.from(_this2.els[attribute.name].querySelectorAll('input')).map(function (el) {
                    return el.value;
                });
            } else if (_typeof(attribute.range) === "object") {
                data[attribute.name] = _this2.views[attribute.name].getFormValues();
            } else if (attribute.range === "List") {
                data[attribute.name] = Array.from(_this2.views[attribute.name].els.list.children).map(function (itemEl) {
                    var selector = attribute.itemRange === 'Text' ? '.item textarea' : '.item input';
                    return _this2.getElementValue(itemEl.querySelector(selector), { range: attribute.itemRange });
                });
            }
        });

        return data;
    },
    handleValidationError: function handleValidationError(attr) {
        this.Toast.showMessage('error', attr.error);
        this.els[attr.name].classList.add('error');
        this.onSubmitEnd();
    },
    initTypeAheads: function initTypeAheads() {
        var _this3 = this;

        this.model.attributes.forEach(function (attribute) {
            if (attribute.fk) _this3.views[attribute.fk].setResource(attribute.fk).initAutoComplete(_this3.model.git(attribute.columnName));else if (attribute.range === 'Time') {
                var flatpickr = _this3.Flatpickr(_this3.els[attribute.name], {
                    enableTime: true,
                    noCalendar: true,
                    dateFormat: "H:i"
                });
            } else if (attribute.range === 'Date') {
                var _flatpickr = _this3.Flatpickr(_this3.els[attribute.name], {});
            } else if (_typeof(attribute.range) === "object") {
                _this3.Views[attribute.name] = {
                    disallowEnterKeySubmission: true,
                    model: Object.create(_this3.Model).constructor(_this3.model.data[attribute.name], {
                        meta: _extends({ isNested: !_this3.model.meta.isNested }, _this3.model.meta),
                        attributes: attribute.range
                    }),
                    templateOpts: { hideButtonRow: true },
                    Views: {}
                };
                var el = _this3.els[attribute.name];
                delete _this3.els[attribute.name];
                _this3.subviewElements = [{ el: el, view: 'form', name: attribute.name }];
                _this3.renderSubviews();
            } else if (attribute.range === "List") {
                var collectionData = _this3.model.git(attribute.name) ? _this3.model.git(attribute.name).map(function (datum) {
                    return { value: datum };
                }) : [];

                _this3.Views[attribute.name] = {
                    model: Object.create(_this3.model).constructor({
                        add: true,
                        collection: Object.create(_this3.Model).constructor(collectionData, { meta: { key: 'value' } }),
                        delete: true,
                        isDocumentList: false,
                        draggable: 'listItem'
                    }),
                    itemTemplate: function itemTemplate(datum) {
                        return Reflect.apply(_this3.Format.GetFormField, _this3.Format, [{ range: attribute.itemRange }, datum.value, _this3.model.meta]);
                    }
                };
                var _el = _this3.els[attribute.name];
                delete _this3.els[attribute.name];
                _this3.subviewElements = [{ el: _el, view: 'list', name: attribute.name }];
                _this3.renderSubviews();
                _this3.views[attribute.name].on('addClicked', function () {
                    return _this3.views[attribute.name].add({ value: '' });
                });
                _this3.views[attribute.name].on('deleteClicked', function (datum) {
                    return _this3.views[attribute.name].remove(datum);
                });
            }
        });
    },
    postRender: function postRender() {
        var _this4 = this;

        if (this.model.meta.isNested && this.els.container.closest('.form-group')) this.els.container.closest('.form-group').classList.add('vertical');
        this.inputEls = this.els.container.querySelectorAll('input, select, textarea');

        if (!this.disallowEnterKeySubmission) this.els.container.addEventListener('keyup', function (e) {
            if (e.keyCode === 13) _this4.onSubmitBtnClick();
        });

        this.inputEls.forEach(function (el) {
            return el.addEventListener('focus', function () {
                return el.classList.remove('error');
            });
        });

        if (this.model) {
            this.model.on('validationError', function (attr) {
                return _this4.handleValidationError(attr);
            });
            this.initTypeAheads();
            this.key = this.model.meta ? this.model.meta.key : '_id';
        }

        return this;
    },
    submit: function submit() {
        var _this5 = this;

        if (!this.validate(this.getFormValues())) return Promise.resolve(this.onSubmitEnd());

        var method = !Boolean(this.model.data[this.key]) ? 'post' : this.key === 'id' ? 'patch' : 'put';

        return (method === 'post' ? this.model.post() : this.model[method](this.model.data[this.key], this.omit(this.model.data, [this.key]))).then(function () {
            _this5.emit(method === 'post' ? 'posted' : 'put', _extends({}, _this5.model.data));
            _this5.model.data = {};
            _this5.clear();
            _this5.Toast.showMessage('success', _this5.toastSuccess || 'Success');
            return Promise.resolve();
        });
    },
    validate: function validate(data) {
        var _this6 = this;

        var valid = true;

        if (!this.model.validate(data)) valid = false;

        if (this.views) {
            Object.keys(this.views).forEach(function (key) {
                var view = _this6.views[key];

                if (view.itemViews) {
                    view.itemViews.forEach(function (itemView) {
                        if (itemView.name !== 'Form') return;
                        if (!itemView.validate(itemView.getFormValues())) valid = false;
                    });
                } else {
                    if (view.name !== 'Form') return;
                    if (!view.validate(view.getFormValues())) valid = false;
                }
            });
        }

        return valid;
    }
});

},{"./Submitter":98,"./__proto__":104,"flatpickr":213}],82:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var CustomContent = require('./util/CustomContent');

module.exports = _extends({}, require('./__proto__'), CustomContent, {});

},{"./__proto__":104,"./util/CustomContent":185}],83:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    Nav: require('../models/Nav'),

    events: {
        accountBtn: 'click',
        csaSignUpBtn: 'click',
        justify: 'click',
        navLinks: 'click',
        signInBtn: 'click',
        signOutBtn: 'click',
        title: 'click',
        userName: 'click'
    },

    onAccountBtnClick: function onAccountBtnClick() {
        console.log('onAccountBtnClick');
        this.toggleAccountMenu();
        this.emit('navigate', 'account-home');
    },
    onCsaSignUpBtnClick: function onCsaSignUpBtnClick() {
        this.emit('navigate', 'sign-up');
    },
    onJustifyClick: function onJustifyClick() {
        this.els.navLinks.classList.toggle('is-mobile');
    },
    onLogin: function onLogin() {
        this.onUser();
        this.displayingLogin = false;
        this.toggleAccountUI();
        return Promise.resolve();
    },
    onNavLinksClick: function onNavLinksClick(e) {
        console.log('onNavLinksClick');
        if (this.displayingLogin) this.emit('removeLogin');
        var el = e.target.closest('li');

        if (!el) return;

        this.emit('navigate', el.getAttribute('data-name'));
        if (this.els.navLinks.classList.contains('is-mobile')) this.els.navLinks.classList.remove('is-mobile');
    },
    onSignInBtnClick: function onSignInBtnClick() {
        this.emit('signInClicked');
        this.displayingLogin = true;
    },
    onSignOutBtnClick: function onSignOutBtnClick() {
        console.log('onSignOutBtnClick');
        document.cookie = 'patchworkjwt=; domain=' + window.location.hostname + '; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;';

        this.user.clear();

        this.user.set(this.user.defaults());

        this.toggleAccountUI();
        this.toggleAccountMenu();

        this.emit('signOutClicked');

        this.Toast.showMessage('success', 'You are now signed out.');
    },
    onTitleClick: function onTitleClick() {
        if (this.displayingLogin) this.emit('removeLogin');
        this.emit('navigate', '/');
    },
    onUser: function onUser() {
        this.els.userName.textContent = 'Hello, ' + this.user.get('name');
    },
    onUserNameClick: function onUserNameClick(e) {
        console.log('onUserNameClick');this.toggleAccountMenu();e.stopPropagation();
    },
    postRender: function postRender() {
        var _this = this;

        this.on('imgLoaded', function () {
            return _this.els.nav.classList.remove('fd-hidden');
        });
        //console.log( this.els.accountBtn )
        //this.els.accountBtn.addEventListener('click', () => console.log( 'clickkkkkkkk' ) )
        this.toggleAccountUI();

        if (this.user.isLoggedIn()) this.onUser();

        return this;
    },
    templateOpts: function templateOpts() {
        return { fields: this.Nav.data, home: { label: 'Patchwork Gardens', name: 'home' } };
    },
    toggleAccountUI: function toggleAccountUI() {
        this.els.signInBtn.classList.toggle('fd-hidden', this.user.isLoggedIn());
        this.els.memberMenu.classList.toggle('fd-hidden', !this.user || !this.user.id);
    },
    toggleAccountMenu: function toggleAccountMenu() {
        this.els.accountMenu.classList.toggle('fd-hidden', !this.els.accountMenu.classList.contains('fd-hidden'));
    },
    toggleSignUpBtn: function toggleSignUpBtn(view) {
        this.els.csaSignUpBtn.parentNode.classList.toggle('fd-hidden', view === 'home');
    }
});

},{"../models/Nav":31,"./__proto__":104}],84:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var CustomContent = require('./util/CustomContent');

module.exports = _extends({}, require('./__proto__'), CustomContent, {

    events: {
        joinBtn: 'click'
    },

    onJoinBtnClick: function onJoinBtnClick() {
        this.emit('navigate', 'sign-up');
    },
    postRender: function postRender() {
        var _this = this;

        this.on('imgLoaded', function () {
            return _this.els.container.classList.add('img-loaded');
        });

        return CustomContent.postRender.call(this);
    }
});

},{"./__proto__":104,"./util/CustomContent":185}],85:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var Super = require('./__proto__');

module.exports = _extends({}, Super, {
    add: function add(datum) {
        var _this = this;

        var sort = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

        if (!this.collection) this.collection = Object.create(this.Model);

        var keyValue = datum[this.key];
        var insertion = { el: this.els.list };

        this.collection.add(datum);
        this.collection.store[this.key][keyValue] = datum;

        if (sort && this.collection.data.length !== 1) {
            this.collection.sort(this.model.git('sort'));
            var index = this.collection.data.findIndex(function (datum) {
                return datum[_this.key] == keyValue;
            });

            if (index !== -1) insertion = this.els.list.children.item(index) ? { method: 'insertBefore', el: this.els.list.children.item(index) } : { el: this.els.list };
        }

        this.updateStyle();

        if (this.itemTemplate) {
            this.slurpTemplate({
                insertion: insertion,
                renderSubviews: true,
                template: this.getItemTemplateResult(keyValue, datum)
            });

            //this.els.list.querySelector(`*[data-key="${keyValue}"]`).scrollIntoView( { behavior: 'smooth' } )

            return;
        }

        this.itemViews[keyValue] = this.factory.create(this.model.git('view'), { insertion: insertion, model: Object.create(this.collection.model).constructor(datum) }).on('deleted', function () {
            return _this.onDeleted(datum);
        });

        this.itemViews[keyValue].els.container.scrollIntoView({ behavior: 'smooth' });
    },
    checkDrag: function checkDrag(e) {
        if (!this.dragging) return;

        e.preventDefault();

        this.Dragger.els.container.classList.remove('fd-hidden');
        this.Dragger.els.container.style.top = e.clientY + 5 + 'px';
        this.Dragger.els.container.style.left = e.clientX + 5 + 'px';

        if (this.model.git('draggable') !== 'listItem') return;

        var listItemRectangles = Array.from(this.els.list.children).map(function (item) {
            return { el: item, rectangle: item.getBoundingClientRect() };
        }),
            matchingItem = listItemRectangles.find(function (item) {
            return item.rectangle.right >= e.clientX && item.rectangle.left <= e.clientX && item.rectangle.bottom >= e.clientY && item.rectangle.top <= e.clientY;
        });

        if (!matchingItem || !matchingItem && this.dragoverEl || matchingItem && this.dragoverEl && matchingItem.el.isSameNode(this.dragging.el)) {
            if (this.dragoverEl) this.dragoverEl.classList.remove('dragover-top', 'dragover-bottom');
            this.dragoverEl = undefined;
            return;
        }

        if (matchingItem && !matchingItem.el.isSameNode(this.dragging.el)) {
            if (this.dragoverEl) this.dragoverEl.classList.remove('dragover-top', 'dragover-bottom');
            this.dragoverEl = matchingItem.el;
            var itemRect = matchingItem.el.querySelector('.item').getBoundingClientRect();

            if (e.clientY < itemRect.bottom - itemRect.height / 2) {
                if (this.dragoverEl.previousSibling && this.dragoverEl.previousSibling.isSameNode(this.dragging.el)) return;
                this.dragoverEl.classList.add('dragover-top');
            } else {
                if (this.dragoverEl.nextSibling && this.dragoverEl.nextSibling.isSameNode(this.dragging.el)) return;
                this.dragoverEl.classList.add('dragover-bottom');
            }
        }
    },
    checkDragEnd: function checkDragEnd(e) {
        if (!this.dragging) return;

        if (this.dragoverEl) {
            this.els.list.insertBefore(this.dragging.el, this.dragoverEl.classList.contains('dragover-top') ? this.dragoverEl : this.dragoverEl.nextSibling);
            this.dragoverEl.classList.remove('dragover-top', 'dragover-bottom');
            this.dragoverEl = undefined;
        }

        this.emit('dropped', { e: e, type: this.model.git('draggable'), model: this.dragging.model });
        this.dragging.el.classList.remove('is-dragging');
        this.els.list.classList.remove('is-dragging');
        this.Dragger.els.container.classList.add('fd-hidden');
        this.dragging = false;
    },
    checkDragStart: function checkDragStart(e) {
        var closestList = e.target.closest('.List');
        if (closestList === null || !closestList.isSameNode(this.els.container)) return;

        var el = e.target.closest('.item');
        if (!el) return null;

        var model = this.collection.store[this.key][el.parentNode.getAttribute('data-key')];

        this.dragging = { el: el.parentNode, model: model };
        this.dragging.el.classList.add('is-dragging');
        this.els.list.classList.add('is-dragging');
        if (model && model.label) this.Dragger.els.container.textContent = 'Move ' + model.label + '.';
        this.emit('dragStart', this.model.git('draggable'));
    },
    checkDrop: function checkDrop(_ref) {
        var e = _ref.e,
            type = _ref.type,
            model = _ref.model;

        if (this.model.git('droppable') !== type) return;

        var el = e.target.closest('.item');

        if (!el) return;

        var localModel = this.collection.store[this.key][el.parentNode.getAttribute('data-key')];

        if (!localModel) return;

        this.emit('successfulDrop', { dropped: model, droppedOn: localModel });
    },
    fetch: function fetch() {
        var _this2 = this;

        var nextPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

        this.fetching = true;
        if (nextPage) this.model.set('skip', this.model.git('skip') + this.model.git('pageSize'));

        var query = this.key === 'id' ? {} : { skip: this.model.git('skip'), limit: this.model.git('pageSize'), sort: this.model.git('sort') };

        return this.collection.get({ query: query }).then(function (newData) {
            _this2.populateList(newData);
            _this2.fetched = true;
            _this2.fetching = false;
            _this2.emit('fetched');
            if (newData.length == 0 && nextPage) _this2.els.list.removeEventListener('scroll', _this2.onScrollPagination);
            return Promise.resolve();
        });
    },
    getCount: function getCount() {
        var _this3 = this;

        return this.collection.getCount().then(function () {
            return Promise.resolve(_this3.collection.meta.count);
        }).catch(this.Error);
    },
    getItemTemplateResult: function getItemTemplateResult(keyValue, datum) {
        var buttonsOnRight = this.model.git('delete') ? '<div class="buttons">' + this.deleteIcon + '</div>' : '',
            selection = this.toggleSelection ? '<div class="selection"><input data-js="checkbox" type="checkbox" /></div>' : '';

        return '' + ('<li data-key="' + keyValue + '">\n            ' + selection + '\n            <div class="item">' + this.itemTemplate(datum) + '</div>\n            ' + buttonsOnRight + '\n        </li>');
    },
    hide: function hide() {
        if (this.els.resetBtn) this.els.resetBtn.classList.add('fd-hidden');
        if (this.els.saveBtn) this.els.saveBtn.classList.add('fd-hidden');
        return Reflect.apply(Super.hide, this, []);
    },
    hideItems: function hideItems(keys) {
        var _this4 = this;

        return Promise.all(keys.map(function (key) {
            var el = _this4.els.list.querySelector('li[data-key="' + key + '"]');
            return el ? _this4.hideEl(el) : Promise.resolve();
        })).catch(this.Error);
    },
    hideList: function hideList() {
        var _this5 = this;

        return this.hideEl(this.els.list).then(function () {
            return Promise.resolve(_this5.els.toggle.classList.add('is-hidden'));
        }).catch(this.Error);
    },
    initializeDragDrop: function initializeDragDrop() {
        var _this6 = this;

        this.Dragger.on('mousedown', function (e) {
            return _this6.checkDragStart(e);
        });
        this.Dragger.on('mouseup', function (e) {
            return _this6.checkDragEnd(e);
        });
        this.Dragger.on('mousemove', function (e) {
            return _this6.checkDrag(e);
        });
        this.Dragger.listen();
    },
    initializeScrollPagination: function initializeScrollPagination() {
        var _this7 = this;

        var listEl = this.els.list;

        this.onScrollPagination = function (e) {
            if (_this7.fetching) return;
            if (_this7.scrollHeight - (listEl.scrollTop + _this7.offsetHeight) < 100) window.requestAnimationFrame(function () {
                return _this7.fetch(true).catch(_this7.Error);
            });
        };

        listEl.addEventListener('scroll', this.onScrollPagination);
    },
    empty: function empty() {
        this.els.list.innerHTML = '';
    },


    events: {
        addBtn: 'click',
        checkbox: 'change',
        goBackBtn: 'click',
        resetBtn: 'click',
        saveBtn: 'click',
        toggle: 'click'
    },

    getListItemKey: function getListItemKey(e) {
        var el = e.target.closest('.item');

        if (!el) return null;

        return this.collection.store[this.key][el.parentNode.getAttribute('data-key')];
    },
    hideDroppable: function hideDroppable() {
        this.els.list.classList.remove('is-droppable');
        Array.from(this.els.list.children).forEach(function (child) {
            return child.removeChild(child.lastChild);
        });
    },
    onAddBtnClick: function onAddBtnClick(e) {
        this.collection.model ? this.add(this.collection.model.CreateDefault()) : this.emit('addClicked');
    },
    onCheckboxChange: function onCheckboxChange(e) {
        var el = e.target.closest('LI');

        if (!el) return false;

        var model = this.collection.store[this.key][el.getAttribute('data-key')];
        event = 'toggled' + (e.target.checked ? 'On' : 'Off');

        if (!model) return;

        el.classList.toggle('checked', e.target.checked);

        this.emit(event, model);
    },
    onGoBackBtnClick: function onGoBackBtnClick(e) {
        this.emit('goBackClicked');
    },
    onItemMouseenter: function onItemMouseenter(e) {
        e.target.classList.add('mouseover');
    },
    onItemMouseleave: function onItemMouseleave(e) {
        e.target.classList.remove('mouseover');
    },
    onListClick: function onListClick(e) {
        var model = this.getListItemKey(e);

        if (!model) return;

        this.emit('itemClicked', model);
    },
    onListDblclick: function onListDblclick(e) {
        var model = this.getListItemKey(e);

        if (!model) return;

        this.emit('itemDblClicked', model);
    },
    onResetBtnClick: function onResetBtnClick() {
        this.emit('resetClicked');
    },
    onSaveBtnClick: function onSaveBtnClick() {
        var _this8 = this;

        if (this.model.git('view')) {
            this.emit('saveClicked', Object.keys(this.itemViews).map(function (key) {
                return _this8.itemViews[key].getProposedModel();
            }));
        }
    },
    onToggleClick: function onToggleClick() {
        this.els.list.classList.contains('fd-hidden') ? this.showList() : this.hideList();
    },
    populateList: function populateList(data) {
        var _this9 = this;

        data = data || this.collection.data;

        if (!Array.isArray(data)) data = [data];

        this.updateStyle();

        if (data.length === 0) return;

        if (this.model.git('view')) {
            var viewName = this.model.git('view');
            var fragment = data.reduce(function (fragment, datum) {
                var keyValue = datum[_this9.key];

                _this9.collection.store[_this9.key][keyValue] = datum;

                _this9.itemViews[keyValue] = _this9.factory.create(viewName, { model: Object.create(_this9.collection.model).constructor(datum), storeFragment: true }).on('deleted', function () {
                    return _this9.onDeleted(datum);
                });

                while (_this9.itemViews[keyValue].fragment.firstChild) {
                    fragment.appendChild(_this9.itemViews[keyValue].fragment.firstChild);
                }return fragment;
            }, document.createDocumentFragment());

            this.els.list.appendChild(fragment);
        } else {
            this.slurpTemplate({
                insertion: { el: this.els.list },
                renderSubviews: true,
                template: data.reduce(function (memo, datum) {
                    var keyValue = datum[_this9.key];
                    _this9.collection.store[_this9.key][keyValue] = datum;
                    return memo + _this9.getItemTemplateResult(keyValue, datum);
                }, '')
            });

            if (this.model.git('scrollPagination')) {
                this.scrollHeight = this.els.list.scrollHeight;this.offsetHeight = this.els.list.offsetHeight;
            }
        }
    },
    postRender: function postRender() {
        var _this10 = this;

        this.collection = this.model.git('collection') || Object.create(this.Model);
        this.key = this.collection.meta.key;

        if (this.collection) this.collection.store = _defineProperty({}, this.key, {});

        if (this.model.git('delete')) {
            this.deleteIcon = this.Format.GetIcon('garbage');
            this.els.list.addEventListener('click', function (e) {
                var target = e.target;
                if (target.tagName === 'svg' && target.classList.contains('garbage')) {
                    _this10.emit('deleteClicked', _this10.collection.store[_this10.key][target.closest('LI').getAttribute('data-key')]);
                }
            });
        }

        if (this.model.git('fetch')) this.fetch().catch(this.Error);

        if (this.model.git('scrollPagination')) this.initializeScrollPagination();

        this.updateStyle();

        if (this.collection.data.length) this.populateList();

        if (this.model.git('draggable')) this.initializeDragDrop();

        return this;
    },
    remove: function remove(datum) {
        this.collection.remove(datum);

        this.updateStyle();

        if (this.model.git('view')) {
            delete this.itemViews[datum[this.key]];
        } else {
            var child = this.els.list.querySelector('[data-key="' + datum[this.key] + '"]');

            if (child) this.els.list.removeChild(child);
        }

        return this;
    },
    show: function show() {
        if (this.els.resetBtn) this.els.resetBtn.classList.remove('fd-hidden');
        if (this.els.saveBtn) this.els.saveBtn.classList.remove('fd-hidden');
        return Reflect.apply(Super.show, this, []);
    },
    showList: function showList() {
        var _this11 = this;

        return this.showEl(this.els.list).then(function () {
            return Promise.resolve(_this11.els.toggle.classList.remove('is-hidden'));
        }).catch(this.Error);
    },
    showDroppable: function showDroppable(type) {
        var _this12 = this;

        this.els.list.classList.add('is-droppable');
        Array.from(this.els.list.children).forEach(function (child) {
            _this12.bindEvent('item', 'mouseenter', child);
            _this12.bindEvent('item', 'mouseleave', child);
            child.appendChild(_this12.htmlToFragment('<div class="drag">Drag here to move ' + type + '</div>'));
        });
    },
    unhideItems: function unhideItems() {
        var _this13 = this;

        Promise.all(Array.from(this.els.list.querySelectorAll('li.fd-hidden')).map(function (el) {
            return _this13.showEl(el);
        })).catch(this.Error);

        return this;
    },
    update: function update(items) {
        this.collection.constructor(items, { storeBy: [this.key] });

        if (this.itemTemplate) return this.removeChildren(this.els.list).populateList();

        this.empty();

        _extends(this, { itemViews: {} }).populateList();

        //window.scroll( { behavior: 'smooth', top: this.els.container.getBoundingClientRect().top + window.pageYOffset - 50 } )
        this.els.container.scrollIntoView({ behavior: 'smooth' });

        return this;
    },
    updateItem: function updateItem(model) {
        var keyValue = model.git(this.key);

        this.collection._put(keyValue, model.data);

        if (!this.model.git('view')) {
            var oldItem = this.els.list.querySelector('*[data-key="' + keyValue + '"]');
            this.slurpTemplate({
                insertion: { method: 'insertBefore', el: oldItem },
                renderSubviews: true,
                template: this.getItemTemplateResult(keyValue, model.data)
            });
            this.els.list.removeChild(oldItem);
        }
    },
    updateStyle: function updateStyle() {
        this.els.list.classList.toggle('no-items', this.collection.data.length === 0);
    }
});

},{"./__proto__":104}],86:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var CustomContent = require('./util/CustomContent');

module.exports = _extends({}, require('./__proto__'), CustomContent, {

    events: {
        legend: 'click',
        signupBtn: 'click'
    },

    model: require('../models/Locations'),

    models: {
        groupLocation: require('../models/CurrentShare'),
        farmerMarket: require('../models/FarmerMarket'),
        retailOutlet: require('../models/RetailOutlet'),
        restaurant: require('../models/Restaurant'),
        farmPickup: require('../models/FarmPickup')
    },

    templates: {
        infoWindow: require('./templates/InfoWindow'),
        location: require('./templates/Location')
    },

    createDeliveryRange: function createDeliveryRange() {
        var overlayColor = this.model.attributes.find(function (attr) {
            return attr.name === 'deliveryRange';
        }).color;

        this.deliveryRange = new google.maps.Polygon({
            paths: this.model.data.deliveryRangeCoords,
            strokeColor: overlayColor,
            strokeOpacity: .3,
            strokeWeight: 1,
            fillColor: overlayColor,
            fillOpacity: .3,
            clickable: false
        });

        this.deliveryRange.setMap(this.map);
    },
    createMarkers: function createMarkers(data, category) {
        var _this = this;

        this.icons[category] = this.getIcon(category);
        this.markers[category] = [];

        data.forEach(function (datum) {
            if (!datum.location) return;

            var infowindow = new google.maps.InfoWindow({
                content: _this.templates.infoWindow(datum)
            });

            var marker = new google.maps.Marker({
                position: { lat: datum.location[0], lng: datum.location[1] },
                map: _this.map,
                draggable: false,
                icon: _this.icons[category],
                title: datum.name
            });

            _this.markers[category].push(marker);

            marker.addListener('click', function () {
                return infowindow.open(_this.map, marker);
            });
        });
    },
    fetchAndRender: function fetchAndRender() {
        var _this2 = this;

        var chain = Promise.resolve();

        Object.keys(this.models).forEach(function (name) {
            chain = chain.then(function () {
                return _this2.models[name].get().then(function () {
                    return name === 'groupLocation' ? _this2.models.groupLocation.getCurrentGroupDropoffs() : name === 'farmPickup' ? _this2.models.farmPickup.getHours() : Promise.resolve();
                }).then(function (dropoffData) {
                    var modelAttr = _this2.model.attributes.find(function (attr) {
                        return attr.name === name;
                    }),
                        data = dropoffData || _this2.models[name].data;

                    _this2.insertListLocations(data, _this2.els[modelAttr.el]);
                    _this2.createMarkers(data, name);

                    return Promise.resolve();
                }).catch(function (e) {
                    return Promise.resolve(console.log('Failed to retrieve ' + name + ' data.'));
                });
            });
        });
    },
    getIcon: function getIcon(category) {
        if (category === 'farmPickup') return '/static/img/favicon.png';

        var color = this.model.attributes.find(function (attr) {
            return category === attr.name;
        }).color;

        return {
            path: google.maps.SymbolPath.CIRCLE,
            strokeColor: color,
            fillColor: color,
            fillOpacity: 1,
            scale: 4
        };
    },
    initMap: function initMap() {
        var mapOpts = {
            center: { lat: 39.758948, lng: -84.191607 },
            zoom: 10,
            mapTypeControl: false
        };

        this.map = new google.maps.Map(this.els.map, mapOpts);

        this.markers = {};
        this.icons = {};

        this.createDeliveryRange();

        this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(this.els.legend);

        this.fetchAndRender();
    },
    insertListLocations: function insertListLocations(data, el) {
        var _this3 = this;

        data.forEach(function (datum) {
            return _this3.slurpTemplate({
                template: _this3.templates.location(datum),
                insertion: { el: el }
            });
        });
    },
    onLegendClick: function onLegendClick(e) {
        if (e.target.tagName !== "INPUT") return;

        var category = e.target.getAttribute('data-name'),
            checked = e.target.checked;

        if (category === 'deliveryRange') return this.toggleDeliveryRange(checked);

        this.toggleMarkerCategory(category, checked);
    },
    onSignupBtnClick: function onSignupBtnClick() {
        this.emit('navigate', 'sign-up');
    },
    postRender: function postRender() {
        if (window.google) {
            this.initMap();
        } else {
            window.initGMap = this.initMap;
        }

        return CustomContent.postRender.call(this);
    },
    templateOpts: function templateOpts() {
        return { categories: this.model.attributes };
    },
    toggleDeliveryRange: function toggleDeliveryRange(checked) {
        this.deliveryRange.setMap(checked ? this.map : null);
    },
    toggleMarkerCategory: function toggleMarkerCategory(category, checked) {
        var _this4 = this;

        this.markers[category].forEach(function (marker) {
            return marker.setMap(checked ? _this4.map : null);
        });
    }
});

},{"../models/CurrentShare":15,"../models/FarmPickup":23,"../models/FarmerMarket":24,"../models/Locations":26,"../models/Restaurant":34,"../models/RetailOutlet":35,"./__proto__":104,"./templates/InfoWindow":151,"./templates/Location":153,"./util/CustomContent":185}],87:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    Views: {
        loginForm: function loginForm() {
            return {
                handleSubmissionError: function handleSubmissionError(err) {
                    this.emit('loginError', err);
                    this.Error(err);
                    this.onSubmitEnd();
                },

                model: Object.create(this.Model).constructor({}, {
                    attributes: require('../../../models/Login').attributes,
                    resource: 'auth'
                }),
                templateOpts: function templateOpts() {
                    return {
                        heading: 'Sign In'
                    };
                },
                onCancelBtnClick: function onCancelBtnClick() {
                    this.emit('cancel');
                },

                toastSuccess: 'You are signed in!'
            };
        },
        forgotPassword: function forgotPassword() {
            return {
                model: Object.create(this.Model).constructor({}, {
                    attributes: [require('../../../models/Email')],
                    resource: 'reset-password'
                }),
                templateOpts: function templateOpts() {
                    return {
                        heading: 'Reset Password',
                        prompt: 'Please enter your email address'
                    };
                },
                onCancelBtnClick: function onCancelBtnClick() {
                    this.emit('cancel');
                }
            };
        }
    },

    events: {
        forgotPassword: 'click',

        views: {
            loginForm: [['posted', function (data) {
                this.user.set(data);
                this.emit("success", data);
                this.delete().catch(this.Error);
            }], ['loginError', function (err) {
                this.els.errorMessage.textContent = err;
                this.slideIn(this.els.errorMessage, 'right');
            }], ['cancel', function () {
                var _this = this;

                this.delete().then(function () {
                    return _this.emit('loginCancelled');
                }).catch(this.Error);
            }]],
            forgotPassword: [['posted', function (data) {
                this.Toast.showMessage('success', data.message);
            }], ['cancel', function () {
                var _this2 = this;

                this.views.forgotPassword.hide().then(function () {
                    return _this2.showEl(_this2.els.loginWrapper);
                }).catch(this.Error);
            }]]
        }
    },

    onForgotPasswordClick: function onForgotPasswordClick() {
        var _this3 = this;

        return this.hideEl(this.els.loginWrapper).then(function () {
            return _this3.views.forgotPassword.show();
        }).catch(this.Error);
    }
});

},{"../../../models/Email":194,"../../../models/Login":195,"./__proto__":104}],88:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    Customer: require('../models/Customer'),
    Delivery: require('../models/Delivery'),

    patchMemberShare: function patchMemberShare() {
        var _this = this;

        var weekPatch = this.views.weekOptions.getPatchData();

        var weekDetail = '',
            emailTo = [this.selectedCustomer.person.data.email];

        if (this.selectedCustomer.person.data.secondaryEmail) emailTo.push(this.selectedCustomer.person.data.secondaryEmail);

        if (weekPatch.addedDates.length || weekPatch.removedDates.length) {
            weekDetail += ' ( ';
        }

        if (weekPatch.addedDates.length) {
            var description = weekPatch.addedDates.map(function (date) {
                return date.slice(5);
            }).join(',');
            weekDetail += 'Added Weeks: ' + description;
            if (weekPatch.removedDates.length) {
                weekDetail += ', ';
            }
        }

        if (weekPatch.removedDates.length) {
            var _description = weekPatch.removedDates.map(function (date) {
                return date.slice(5);
            }).join(',');
            weekDetail += 'Removed Weeks: ' + _description;
        }

        if (weekPatch.addedDates.length || weekPatch.removedDates.length) {
            weekDetail += ' ) ';
        }

        this.Xhr({
            id: this.memberShareId,
            method: 'patch',
            resource: 'member-order',
            data: JSON.stringify({
                adjustment: this.views.sharePatch.getPatchData(),
                memberShareId: this.memberShareId,
                name: this.selectedCustomer.person.data.name,
                orderOptions: this.views.orderOptions.getPatchData(),
                previousBalance: this.views.sharePatch.balance,
                shareLabel: this.selectedShare.label,
                weekOptions: weekPatch.allRemoved,
                weekDetail: weekDetail,
                to: emailTo
            })
        }).then(function () {
            _this.Toast.showMessage('success', 'Order Updated');
            _this.views.seasons.select(_this.memberShareId);
        }).catch(function (e) {
            console.log(e.stack || e);
            _this.Toast.showMessage('error', 'Update Failed');
        });
    },
    postRender: function postRender() {
        var _this2 = this;

        this.views.memberTypeahead.focus();

        this.views.memberTypeahead.on('customerSelected', function (customer) {
            _this2.selectedCustomer = customer;
            _this2.views.customerInfo.reset(customer);
            _this2.views.seasons.update(customer);
            _this2.views.orderOptions.hide();
            _this2.views.weekOptions.hide();
            _this2.views.transactions.hide();
            _this2.views.sharePatch.reset();
        });

        this.views.seasons.on('selected', function (data) {
            _this2.views.sharePatch.reset();
            _this2.selectedShare = data.share;
            _this2.memberShareId = _this2.selectedShare.membershareid;

            _this2.Delivery.get({
                query: {
                    membershareid: data.share.membershareid,
                    deliveryoptionid: { operation: 'join', value: { table: 'deliveryoption', column: 'id' } },
                    groupdropoffid: { operation: 'leftJoin', value: { table: 'groupdropoff', column: 'id' } }
                }
            }).then(function () {
                //TODO:If no delivery, Toast, or some UI
                _extends(data, { delivery: _this2.Delivery });
                _this2.views.orderOptions.update(data).then(function () {
                    return _this2.views.sharePatch.setOriginalWeeklyPrice(_this2.views.orderOptions.originalWeeklyPrice);
                }).catch(_this2.Error);
                _this2.views.weekOptions.update(data).then(function () {
                    return _this2.views.sharePatch.setWeeksAffected(_this2.views.weekOptions.getWeeksAffected());
                }).catch(_this2.Error);
                _this2.views.transactions.update(data).then(function () {
                    return _this2.views.sharePatch.balance = _this2.views.transactions.model.getBalance();
                }).catch(_this2.Error);
            });
        });

        this.views.orderOptions.on('deliveryChanged', function (data) {
            _this2.views.sharePatch.setWeeksAffected(_this2.views.weekOptions.getWeeksAffected());
            _this2.views.sharePatch.onWeeksReset();
            _this2.views.weekOptions.updateDelivery(data);
        });

        this.views.orderOptions.on('reset', function (model) {
            _this2.views.weekOptions.update(model);
            _this2.views.sharePatch.onOptionsReset();
        });

        this.views.weekOptions.on('reset', function (model) {
            return _this2.views.sharePatch.onWeeksReset();
        });

        this.views.orderOptions.on('adjustment', function (data) {
            return _this2.views.sharePatch.onOptionsUpdate(data);
        });
        this.views.weekOptions.on('adjustment', function (data) {
            return _this2.views.sharePatch.onWeekUpdate(data);
        });

        this.views.sharePatch.on('patchMemberShare', function () {
            return _this2.patchMemberShare();
        });

        return this;
    },


    requiresLogin: true,

    requiresRole: 'admin'

});

},{"../models/Customer":16,"../models/Delivery":18,"./__proto__":104}],89:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = _extends({}, require('./__proto__'), {

    AutoComplete: require('../AutoComplete'),

    Customer: require('../models/Customer'),

    focus: function focus() {
        this.els.customerInput.focus();
    },
    postRender: function postRender() {
        var _this = this;

        new this.AutoComplete({
            delay: 500,
            selector: this.els.customerInput,
            minChars: 3,
            cache: false,
            source: function source(term, suggest) {
                _this.search('name', term.trim(), suggest).then(function (found) {
                    return found ? Promise.resolve(true) : _this.search('email', term, suggest);
                }).then(function (found) {
                    return found ? Promise.resolve(true) : _this.search('secondaryEmail', term, suggest);
                }).then(function (found) {
                    return found ? Promise.resolve(true) : suggest([]);
                }).catch(_this.Error);
            },
            onSelect: function onSelect(e, term, item) {
                _this.selectedCustomer = _this.Customer.data.find(function (datum) {
                    return datum.person.data[_this.attr] === term;
                });
                _this.emit('customerSelected', _this.selectedCustomer);
            }

        });

        return this;
    },
    search: function search(attr, term, suggest) {
        var _query,
            _this2 = this;

        return this.Customer.get({ query: (_query = {}, _defineProperty(_query, attr, { operation: '~*', value: term }), _defineProperty(_query, 'id', { operation: 'join', value: { table: 'member', column: 'personid' } }), _query) }).then(function () {
            if (!_this2.Customer.data.length) return Promise.resolve(false);

            _this2.attr = attr;
            suggest(_this2.Customer.data.map(function (datum) {
                return datum.person.data[attr];
            }));
            return Promise.resolve(true);
        });
    }
});

},{"../AutoComplete":4,"../models/Customer":16,"./__proto__":104}],90:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var MyView = function MyView(data) {
    return _extends(this, data).initialize();
};

_extends(MyView.prototype, require('events').EventEmitter.prototype, {

    Collection: require('backbone').Collection,

    Error: require('../MyError'),

    Model: require('backbone').Model,

    _: require('underscore'),

    $: require('jquery'),

    Xhr: require('../Xhr'),

    delegateEvents: function delegateEvents(key, el) {
        var _this = this;

        var type;

        if (!this.events[key]) return;

        type = Object.prototype.toString.call(this.events[key]);

        if (type === '[object Object]') {
            this.bindEvent(key, this.events[key], el);
        } else if (type === '[object Array]') {
            this.events[key].forEach(function (singleEvent) {
                return _this.bindEvent(key, singleEvent, el);
            });
        }
    },


    delete: function _delete() {
        if (this.templateData && this.templateData.container) {
            this.templateData.container.remove();
            this.emit("deleted");
        }

        return Promise.resolve();
    },

    fadeIn: function fadeIn(el) {
        var onFadeEnd = function onFadeEnd() {
            el.classList.remove('animate-in');
            el.removeEventListener('animationend', onFadeEnd);
        };

        el.addEventListener('animationend', onFadeEnd);
        if (el.classList.contains('fd-hidden')) el.classList.remove('fd-hidden');
        el.classList.add('animate-in');
    },
    fadeOut: function fadeOut(el) {
        var onFadeEnd = function onFadeEnd() {
            el.classList.add('fd-hidden');
            el.classList.remove('animate-out');
            el.removeEventListener('animationend', onFadeEnd);
        };

        el.addEventListener('animationend', onFadeEnd);
        el.classList.add('animate-out');
    },


    format: {
        capitalizeFirstLetter: function capitalizeFirstLetter(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }
    },

    getFormData: function getFormData() {
        var _this2 = this;

        this.formData = {};

        Object.keys(this.templateData).forEach(function (key) {
            var $el = _this2.templateData[key],
                val = $el.val();
            if (/INPUT|TEXTAREA|SELECT/.test($el.prop('tagName')) && val) _this2.formData[key] = val;
        });

        return this.formData;
    },

    getRouter: function getRouter() {
        return require('../router');
    },

    getTemplateOptions: function getTemplateOptions() {
        return {};
    },

    hide: function hide() {
        var _this3 = this;

        return new Promise(function (resolve, reject) {
            _this3.templateData.container.hide();
            resolve();
        });
    },
    initialize: function initialize() {
        var _this4 = this;

        if (!this.container) this.container = this.$('#content');

        this.router = this.getRouter();

        this.modalView = require('./modal');

        this.$(window).resize(this._.throttle(function () {
            return _this4.size();
        }, 500));

        if (this.requiresLogin && !this.user.id) {
            this.Login = this.factory.create('login', { insertion: { el: document.querySelector('#content') } }).on("success", function () {
                _this4.router.onUser(_this4.user);

                if (_this4.requiresRole && !_this4._(_this4.user.get('roles')).contains(_this4.requiresRole)) {
                    return alert('You do not have access');
                }

                _this4.render();
            }).on('loginCancelled', function () {
                return _this4.router.navigate('/');
            });

            return this;
        } else if (this.user.id && this.requiresRole) {
            if (!this._(this.user.get('roles')).contains(this.requiresRole)) {
                return alert('You do not have access');
            }
        }

        return this.render();
    },


    isHidden: function isHidden() {
        return this.templateData.container.css('display') === 'none';
    },

    moment: require('moment'),

    onNavigation: function onNavigation(path) {
        return this.show();
    },


    postRender: function postRender() {
        this.renderSubviews();
        return this;
    },

    Q: require('q'),

    render: function render() {
        this.slurpTemplate({
            template: this.template(this.getTemplateOptions()),
            insertion: { $el: this.insertionEl || this.container, method: this.insertionMethod } });

        this.size();

        this.postRender();

        return this;
    },


    renderSubviews: function renderSubviews() {
        var _this5 = this;

        Object.keys(this.subviews || []).forEach(function (key) {
            return _this5.subviews[key].forEach(function (subviewMeta) {
                _this5[subviewMeta.name] = new subviewMeta.view({ container: _this5.templateData[key] });
            });
        });
    },

    show: function show() {
        this.templateData.container.show();
        this.size();
        return this;
    },

    slideIn: function slideIn(el, direction) {
        var onSlideEnd = function onSlideEnd() {
            el.classList.remove('slide-in-' + direction);
            el.removeEventListener('animationend', onSlideEnd);
        };

        el.addEventListener('animationend', onSlideEnd);
        if (el.classList.contains('fd-hidden')) el.classList.remove('fd-hidden');
        el.classList.add('slide-in-' + direction);
    },
    slideOut: function slideOut(el, direction) {
        var onSlideEnd = function onSlideEnd() {
            el.classList.add('fd-hidden');
            el.classList.remove('slide-out-' + direction);
            el.removeEventListener('animationend', onSlideEnd);
        };

        el.addEventListener('animationend', onSlideEnd);
        el.classList.add('slide-out-' + direction);
    },


    slurpEl: function slurpEl(el) {

        var key = el.attr('data-js');

        this.templateData[key] = this.templateData.hasOwnProperty(key) ? this.templateData[key].add(el) : el;

        el.removeAttr('data-js');

        if (this.events[key]) this.delegateEvents(key, el);

        return this;
    },

    slurpTemplate: function slurpTemplate(options) {
        var _this6 = this;

        var $html = this.$(options.template),
            selector = '[data-js]';

        if (this.templateData === undefined) this.templateData = {};

        $html.each(function (index, el) {
            var $el = _this6.$(el);
            if ($el.is(selector)) _this6.slurpEl($el);
        });

        $html.get().forEach(function (el) {
            _this6.$(el).find(selector).each(function (i, elToBeSlurped) {
                return _this6.slurpEl(_this6.$(elToBeSlurped));
            });
        });

        if (options && options.insertion) options.insertion.$el[options.insertion.method ? options.insertion.method : 'append']($html);

        return this;
    },

    bindEvent: function bindEvent(elementKey, eventData, el) {
        var elements = el ? el : this.templateData[elementKey];

        elements.on(eventData.event || 'click', eventData.selector, eventData.meta, this[eventData.method].bind(this));
    },

    events: {},

    isMouseOnEl: function isMouseOnEl(event, el) {

        var elOffset = el.offset(),
            elHeight = el.outerHeight(true),
            elWidth = el.outerWidth(true);

        if (event.pageX < elOffset.left || event.pageX > elOffset.left + elWidth || event.pageY < elOffset.top || event.pageY > elOffset.top + elHeight) {

            return false;
        }

        return true;
    },

    requiresLogin: true,

    size: function size() {
        undefined;
    },

    user: require('../models/User'),

    util: require('util')

});

module.exports = MyView;

},{"../MyError":6,"../Xhr":7,"../models/User":39,"../router":44,"./modal":107,"backbone":"backbone","events":212,"jquery":"jquery","moment":"moment","q":216,"underscore":"underscore","util":220}],91:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var Model = require('../models/__proto__');

module.exports = _extends({}, require('./__proto__'), {

    DeliveryOptions: Object.create(Model, { resource: { value: 'deliveryoption' } }),
    GroupDropoffs: Object.create(Model, { resource: { value: 'groupdropoff' } }),
    MemberSelection: require('../models/MemberSelection'),
    MemberShareOption: Object.create(Model, { resource: { value: 'membershareoption' } }),
    OrderOption: require('../models/OrderOption'),
    ShareOptionOption: require('../models/ShareOptionOption'),

    calculateWeeklyPrice: function calculateWeeklyPrice() {
        var optionPrice = this.MemberSelection.data.reduce(function (sum, selection) {
            return sum + Model.moneyToReal(selection.price);
        }, 0);
        return optionPrice + Model.moneyToReal(this.model.delivery.data[0].deliveryoption.price);
    },
    calculatePriceAdjustment: function calculatePriceAdjustment() {
        var _this = this;

        return Object.keys(this.editedFields).reduce(function (acc, key) {
            if (!_this.editedFields[key].newValue || key === 'groupOption') return acc;

            var oldPrice = void 0,
                newPrice = void 0,
                diff = void 0;

            if (key === 'deliveryOption') {
                oldPrice = _this.DeliveryOptions.data.find(function (option) {
                    return option.name === _this.editedFields[key].oldValue;
                }).price;
                newPrice = _this.DeliveryOptions.data.find(function (option) {
                    return option.name === _this.editedFields[key].newValue;
                }).price;
            } else {
                var shareOptionId = _this.OrderOption.data.find(function (option) {
                    return option.key === key;
                }).id;

                oldPrice = _this.ShareOptionOption.data.find(function (option) {
                    return option.name === _this.editedFields[key].oldValue && option.shareoptionid === shareOptionId;
                }).price;

                newPrice = _this.ShareOptionOption.data.find(function (option) {
                    return option.name === _this.editedFields[key].newValue && option.shareoptionid === shareOptionId;
                }).price;
            }

            diff = Model.moneyToReal(newPrice) - Model.moneyToReal(oldPrice);

            return acc + diff;
        }, 0);
    },
    clear: function clear() {
        this.els.changes.innerHTML = '';
        this.els.options.innerHTML = '';

        this.els.resetBtn.classList.add('fd-hidden');
        this.els.editSummary.classList.add('fd-hidden');

        this.els = {
            editSummary: this.els.editSummary,
            changes: this.els.changes,
            container: this.els.container,
            seasonLabel: this.els.seasonLabel,
            options: this.els.options,
            resetBtn: this.els.resetBtn,
            newWeeklyPrice: this.els.newWeeklyPrice,
            originalWeeklyPrice: this.els.originalWeeklyPrice
        };
    },


    events: {
        options: 'change',
        resetBtn: 'click'
    },

    getAdjustmentDescription: function getAdjustmentDescription() {
        var _this2 = this;

        return Array.from(this.els.options.querySelectorAll('li.edited')).map(function (el) {
            var fieldName = el.getAttribute('data-name'),
                fieldLabel = _this2.capitalizeFirstLetter(fieldName),
                oldValue = _this2.editedFields[fieldName].oldValue ? _this2.editedFields[fieldName].oldValue.toString() : 'none',
                newValue = _this2.editedFields[fieldName].newValue.toString();

            return fieldLabel + ': ' + oldValue + ' to ' + newValue;
        }).join('\n\t');
    },
    getDeliveryData: function getDeliveryData() {
        var _this3 = this;

        var patchId = this.model.delivery.data[0].membersharedelivery.id,
            newDeliveryId = this.DeliveryOptions.data.find(function (option) {
            return option.name === _this3.editedFields.deliveryOption.newValue;
        }).id,
            dropoffId = this.editedFields.deliveryOption.newValue === 'group' ? this.GroupDropoffs.data.find(function (option) {
            return option.name === _this3.editedFields.groupOption.newValue;
        }).id : null;

        return {
            id: patchId,
            deliveryoptionid: newDeliveryId,
            groupdropoffid: dropoffId
        };
    },
    getShareOptionData: function getShareOptionData(key) {
        var _this4 = this;

        var shareOptionId = this.OrderOption.data.find(function (option) {
            return option.key === key;
        }).id,
            memberShareId = this.model.share.membershareid;

        var shareOptionOptionId = this.ShareOptionOption.data.find(function (option) {
            return option.name === _this4.editedFields[key].newValue && option.shareoptionid === shareOptionId;
        }).id;

        return {
            id: this.MemberSelection.data.find(function (memberSelection) {
                return shareOptionId == memberSelection.shareoptionid;
            }).membershareoptionid,
            shareoptionoptionid: shareOptionOptionId
        };
    },
    getPatchData: function getPatchData() {
        var _this5 = this;

        var rv = { membersharedelivery: this.editedFields.deliveryOption.newValue || this.editedFields.groupOption.newValue ? this.getDeliveryData() : {},
            membershareoption: []
        };

        Object.keys(this.editedFields).forEach(function (key) {
            if (!_this5.editedFields[key].newValue || key === 'deliveryOption' || key === 'groupOption') return;

            rv.membershareoption.push(_this5.getShareOptionData(key));
        });

        return rv;
    },
    onOptionsChange: function onOptionsChange(e) {
        var listItemEl = e.target.closest('li.editable'),
            shareOptionKey = listItemEl.getAttribute('data-name'),
            val = e.target.value;

        if (shareOptionKey === 'deliveryOption' && val !== 'group') this.emit('deliveryChanged', { deliveryOption: val });
        if (shareOptionKey === 'groupOption' && val !== 'none') this.emit('deliveryChanged', { deliveryOption: 'group', groupOption: val });

        if (shareOptionKey === 'deliveryOption') {
            if (val !== 'group') {
                this.els.groupOption.selectedIndex = 0;
                this.els.groupOption.disabled = true;
                this.els.groupOption.closest('li').classList.remove('edited');
                this.editedFields.groupOption.newValue = undefined;
            } else {
                this.els.groupOption.disabled = false;
            }
        }

        if (this.editedFields[shareOptionKey].oldValue === val) {
            this.editedFields[shareOptionKey].newValue = undefined;
            listItemEl.classList.remove('edited');
            return this.showEditSummary();
        }

        this.editedFields[shareOptionKey].newValue = val;
        listItemEl.classList.add('edited');

        this.els.resetBtn.classList.remove('fd-hidden');

        this.showEditSummary();
    },
    onResetBtnClick: function onResetBtnClick() {
        this.els.resetBtn.classList.add('fd-hidden');
        this.els.editSummary.classList.add('fd-hidden');
        this.update(this.model);
        this.emit('reset', this.model);
    },
    renderDeliveryOptions: function renderDeliveryOptions() {
        var _this6 = this;

        var option = _extends({}, this.model.delivery.data[0]);

        this.slurpTemplate({ template: this.templates[this.optionTemplate]({ name: 'Delivery Option', id: 'deliveryOption' }), insertion: { el: this.els.options } });

        this.slurpTemplate({ template: this.templates[this.optionTemplate]({ name: 'Group Option', id: 'groupOption' }), insertion: { el: this.els.options } });

        if (this.optionTemplate === 'editableOption') {

            this.DeliveryOptions.data.forEach(function (option) {
                return _this6.slurpTemplate({ template: _this6.templates.selectOption(option), insertion: { el: _this6.els.deliveryOption } });
            });

            this.els.deliveryOption.querySelector('option[value=' + CSS.escape(option.deliveryoption.name)).selected = true;
            this.editedFields.deliveryOption = {};
            this.editedFields.deliveryOption.oldValue = this.els.deliveryOption.value;

            this.GroupDropoffs.data.unshift({ name: 'none', label: 'None' });
            this.GroupDropoffs.data.forEach(function (option) {
                return _this6.slurpTemplate({ template: _this6.templates.selectOption(option), insertion: { el: _this6.els.groupOption } });
            });

            if (!option.groupdropoff.id) {
                this.els.groupOption.selectedIndex = 0;
                this.els.groupOption.disabled = true;
            } else this.els.groupOption.querySelector('option[value=' + CSS.escape(option.groupdropoff.name)).selected = true;

            this.editedFields.groupOption = {};
            this.editedFields.groupOption.oldValue = this.els.groupOption.disabled ? undefined : this.els.groupOption.value;
        } else {
            this.els.deliveryOption.textContent = option.deliveryoption.label;
            this.els.groupOption.textContent = option.groupdropoff.label || 'N/A';
        }

        return this;
    },
    renderShareOptions: function renderShareOptions() {
        var _this7 = this;

        this.OrderOption.data.forEach(function (shareOption) {
            _this7.slurpTemplate({ template: _this7.templates[_this7.optionTemplate](shareOption), insertion: { el: _this7.els.options } });

            if (_this7.editable) {
                _this7.ShareOptionOption.data.forEach(function (option) {
                    if (option.shareoptionid === shareOption.id) _this7.slurpTemplate({
                        template: _this7.templates.selectOption(option), insertion: { el: _this7.els[shareOption.id] }
                    });
                });
            }
        });

        this.MemberSelection.data.forEach(function (selection) {
            if (_this7.editable) {
                var key = _this7.OrderOption.data.find(function (shareOption) {
                    return shareOption.id === selection.shareoptionid;
                }).key;
                _this7.els[selection.shareoptionid].querySelector('option[value=' + CSS.escape(selection.name)).selected = true;
                _this7.editedFields[key] = {};
                _this7.editedFields[key].oldValue = _this7.els[selection.shareoptionid].value;
            } else {
                _this7.els[selection.shareoptionid].textContent = selection.label;
            }
        });
    },
    showEditSummary: function showEditSummary() {
        var _this8 = this;

        var priceAdjustment = this.calculatePriceAdjustment(),
            edits = this.els.options.querySelectorAll('li.edited');

        this.els.changes.innerHTML = '';

        if (edits.length === 0) {
            this.emit('reset', this.model);
            this.els.resetBtn.classList.add('fd-hidden');
            return this.slideOut(this.els.editSummary, 'right');
        }

        edits.forEach(function (el) {
            var fieldName = el.getAttribute('data-name'),
                fieldLabel = _this8.capitalizeFirstLetter(fieldName),
                oldValue = _this8.editedFields[fieldName].oldValue ? _this8.editedFields[fieldName].oldValue.toString() : 'none',
                newValue = _this8.editedFields[fieldName].newValue.toString();

            _this8.slurpTemplate({ insertion: { el: _this8.els.changes }, template: _this8.templates.fieldEdit({ label: fieldLabel, oldValue: oldValue, newValue: newValue }) });
        });

        this.els.originalWeeklyPrice.textContent = this.Currency.format(this.originalWeeklyPrice);
        this.els.newWeeklyPrice.textContent = this.Currency.format(this.originalWeeklyPrice + priceAdjustment);

        this.emit('adjustment', { description: this.getAdjustmentDescription(), originalWeeklyPrice: this.originalWeeklyPrice, priceAdjustment: priceAdjustment });

        if (!this.isHidden(this.els.editSummary) && edits.length) return;

        this.slideIn(this.els.editSummary, 'right');
    },


    templates: {
        fieldEdit: require('./templates/FieldEdit'),
        archivedOption: function archivedOption(option) {
            return '<li><div class="cell">' + option.name + '</div><div class="cell" data-js="' + option.id + '"></div></li>';
        },
        editableOption: function editableOption(option) {
            return '<li data-name="' + (option.key || option.id) + '" class="editable"><span>' + option.name + '</span><select data-js="' + option.id + '"></select></li>';
        },
        selectOption: function selectOption(option) {
            return '<option value="' + option.name + '">' + option.label + '</option>';
        }
    },

    update: function update(_ref) {
        var _this9 = this;

        var customer = _ref.customer,
            delivery = _ref.delivery,
            share = _ref.share;

        this.clear();
        this.editedFields = {};

        this.model = arguments[0];

        this.editable = this.Moment() < this.Moment(share.enddate);
        this.optionTemplate = this.editable ? 'editableOption' : 'archivedOption';

        this.els.seasonLabel.textContent = share.label;

        return this.OrderOption.get({ query: { shareid: share.id, shareoptionid: { operation: 'join', value: { table: 'shareoption', column: 'id' } } } }).then(function () {
            return _this9.ShareOptionOption.get();
        }).then(function () {
            return _this9.MemberSelection.get({ query: { membershareid: share.membershareid, shareoptionoptionid: { operation: 'join', value: { table: 'shareoptionoption', column: 'id' } } } });
        }).then(function () {
            return _this9.renderShareOptions();
        }).then(function () {
            return _this9.DeliveryOptions.get();
        }).then(function () {
            return _this9.GroupDropoffs.get();
        }).then(function () {
            _this9.renderDeliveryOptions();
            _this9.originalWeeklyPrice = _this9.calculateWeeklyPrice();
            _this9.show();
            return Promise.resolve();
        });
    }
});

},{"../models/MemberSelection":30,"../models/OrderOption":32,"../models/ShareOptionOption":38,"../models/__proto__":40,"./__proto__":104,"./templates/FieldEdit":143}],92:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    Pikaday: require('pikaday'),

    events: {
        dateTypeSelect: 'change',
        exportBtn: 'click',
        viewBtn: 'click'
    },

    clearTable: function clearTable() {
        this.removeChildren(this.els.columns);
        this.removeChildren(this.els.rows);
    },
    getDateQueries: function getDateQueries() {
        var _this = this;

        var from = this.dateType === 'season' ? this.Moment(this.Shares.data.find(function (datum) {
            return datum.name === _this.els.season.value;
        }).startdate).format('YYYY-MM-DD') : this.dateType === 'year' ? this.els[this.dateType].value + '-01-01' : this.els.from.value;

        var to = this.dateType === 'season' ? this.Moment(this.Shares.data.find(function (datum) {
            return datum.name === _this.els.season.value;
        }).enddate).format('YYYY-MM-DD') : this.dateType === 'year' ? this.els[this.dateType].value + '-12-31' : this.els.to.value;

        return { from: from, to: to };
    },
    getReportOptions: function getReportOptions() {
        var _this2 = this;

        this.Reports.data.forEach(function (report) {
            return _this2.slurpTemplate({
                template: '<option value="' + report.id + '">' + report.label + '</option>',
                insertion: { el: _this2.els.report }
            });
        });
    },
    getSeasonOptions: function getSeasonOptions() {
        var _this3 = this;

        this.Shares.data.forEach(function (share) {
            return _this3.slurpTemplate({
                template: '<option value="' + share.name + '">' + share.label + '</option>',
                insertion: { el: _this3.els.season }
            });
        });
    },
    getYearOptions: function getYearOptions() {
        var _this4 = this;

        var currentYear = new Date().getFullYear(),
            range = this.Format.FillRange(currentYear - 10, currentYear).reverse();

        range.forEach(function (year) {
            return _this4.slurpTemplate({
                template: '<option value="' + year + '">' + year + '</option>',
                insertion: { el: _this4.els.year }
            });
        });
    },
    handleColumns: function handleColumns(rows) {
        var _this5 = this;

        var columns = this.els.columns;

        this.columns = Object.keys(rows[0]);

        this.columns.forEach(function (column) {
            return _this5.slurpTemplate({ template: '<li>' + column + '</li>', insertion: { el: columns } });
        });
    },
    handleRows: function handleRows(rows) {
        var _this6 = this;

        var rowsEl = this.els.rows;

        var template = rows.map(function (row) {
            var columns = _this6.columns.map(function (column) {
                return '<li>' + row[column] + '</li>';
            }).join('');
            return '<ol>' + columns + '</ol>';
        }).join('');

        this.slurpTemplate({ template: template, insertion: { el: rowsEl } });
    },
    noResults: function noResults() {
        this.els.empty.classList.remove('fd-hidden');
    },
    onDateTypeSelectChange: function onDateTypeSelectChange(e) {
        this.dateType = e.target.value;
        this.toggleDateTypes(e.target.value);
    },
    onExportBtnClick: function onExportBtnClick() {
        var qs = _extends(this.getDateQueries(), { id: this.els.report.value, export: true });
        window.open('/report?' + window.encodeURIComponent(JSON.stringify(qs)));
    },
    onViewBtnClick: function onViewBtnClick() {
        var _this7 = this;

        this.Xhr({ method: 'get', resource: 'report', qs: JSON.stringify(_extends(this.getDateQueries(), { id: this.els.report.value })) }).then(function (result) {
            _this7.clearTable();

            if (result.length == 0) return _this7.noResults();

            _this7.els.empty.classList.add('fd-hidden');

            _this7.handleColumns(result);
            _this7.handleRows(result);
            return Promise.resolve();
        }).catch(this.Error);
    },
    postRender: function postRender() {
        var _this8 = this;

        this.Reports = Object.create(this.Model, { resource: { value: 'report' } });
        this.Shares = Object.create(this.Model, { resource: { value: 'share' } });

        Promise.all([this.Reports.get(), this.Shares.get()]).then(function () {
            _this8.getReportOptions();
            _this8.getSeasonOptions();
            _this8.getYearOptions();
        }).catch(this.Error);

        new this.Pikaday({ field: this.els.from, format: 'YYYY-MM-DD' });
        new this.Pikaday({ field: this.els.to, format: 'YYYY-MM-DD' });

        return this;
    },
    removeChildren: function removeChildren(el) {
        while (el.firstChild) {
            el.removeChild(el.firstChild);
        }
    },
    toggleDateTypes: function toggleDateTypes(type) {
        this.els.custom.classList.toggle('fd-hidden', type !== 'custom');
        this.els.season.parentNode.classList.toggle('fd-hidden', type !== 'season');
        this.els.year.parentNode.classList.toggle('fd-hidden', type !== 'year');
    }
});

},{"./__proto__":104,"pikaday":"pikaday"}],93:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    Views: {
        resetPassword: function resetPassword() {
            return {
                model: Object.create(this.Model).constructor({}, {
                    attributes: [require('../../../models/Password'), require('../../../models/ResetPassword')],
                    resource: 'person'
                }),
                templateOpts: function templateOpts() {
                    return {
                        heading: 'Reset Your Password',
                        prompt: 'Please enter a new password.'
                    };
                },
                submit: function submit() {
                    var _this = this;

                    if (!this.validate(this.getFormValues()) || !this.model.validateRepeatPassword()) return Promise.resolve(this.onSubmitEnd());

                    return this.Xhr({ method: 'patch', resource: 'person', data: JSON.stringify(this.model.data) }).then(function (response) {
                        _this.model.data = {};
                        _this.clear();
                        return _this.Toast.showMessage('success', response.message);
                    }).then(function () {
                        return Promise.resolve(_this.emit('patched'));
                    });
                }
            };
        }
    },

    events: {
        views: {
            resetPassword: [['patched', function () {
                var _this2 = this;

                this.delete().then(function () {
                    return _this2.emit('navigate', '');
                }).catch(this.Error);
            }]]
        }
    },

    postRender: function postRender() {
        this.views.resetPassword.model.set('token', window.location.pathname.split('/').pop());
        return this;
    }
});

},{"../../../models/Password":197,"../../../models/ResetPassword":198,"./__proto__":104}],94:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    MemberSeason: require('../models/MemberSeason'),

    clear: function clear() {
        this.els.list.innerHTML = '';
        this.els.balanceNotice.classList.add('fd-hidden');
    },


    events: {
        list: 'click',
        payment: 'click'
    },

    insertShareLabels: function insertShareLabels() {
        var _this = this;

        var countPerShare = {};

        this.MemberSeason.data.forEach(function (season) {
            countPerShare[season.name] ? ++countPerShare[season.name] : countPerShare[season.name] = 1;
            if (countPerShare[season.name] > 1) season.count = countPerShare[season.name];

            _this.slurpTemplate({ template: _this.templates.ShareBox(season), insertion: { el: _this.els.list } });
        });
    },
    onListClick: function onListClick(e) {
        if (!e.target.closest('div.share-label')) return;

        if (this.currentSelection) this.currentSelection.classList.remove('selected');

        var el = e.target.closest('div.share-label');

        this.currentSelection = el;
        el.classList.add('selected');
        this.emit('selected', { customer: this.customer, share: this.MemberSeason.data.find(function (season) {
                return season.membershareid == el.getAttribute('data-id');
            }) });
    },
    onPaymentClick: function onPaymentClick() {
        this.emit('payBalance');
    },
    select: function select(memberShareId) {
        this.els.list.querySelector('div.share-label[data-id="' + memberShareId + '"]').click();
    },
    templateOpts: function templateOpts() {
        return { isAdmin: window.location.pathname.split('/').includes('admin-plus') };
    },


    templates: {
        ShareBox: require('./templates/ShareBox')
    },

    update: function update(customer) {
        var _this2 = this;

        this.customer = customer;

        this.clear();

        return this.MemberSeason.get({ query: { memberid: customer.member.data.id, shareid: { operation: 'join', value: { table: 'share', column: 'id' } } } }).then(function () {
            return _this2.insertShareLabels();
        }).then(function () {
            return _this2.show();
        }).catch(this.Error);
    },
    updateBalanceNotice: function updateBalanceNotice(amount) {
        this.els.balanceNotice.classList.toggle('fd-hidden', amount <= 0);
        this.els.balanceAmount.textContent = this.Currency.format(amount);
    }
});

},{"../models/MemberSeason":29,"./__proto__":104,"./templates/ShareBox":166}],95:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {
    getTemplateOptions: function getTemplateOptions() {
        return this.model.attributes;
    },


    requiresLogin: false
});

},{"./__proto__":104}],96:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {

    Views: {
        buttonFlow: function buttonFlow() {
            return {
                model: Object.create(this.Model).constructor({
                    states: {
                        start: [{ name: 'save', text: 'Update Share', class: 'save-btn', nextState: 'confirm' }],
                        confirm: [{ name: 'confirmBtn', class: 'save-btn', text: 'Are You Sure?', emit: true, nextState: 'start' }, { name: 'cancel', class: 'reset-btn', nextState: 'start', text: 'Cancel' }]
                    }
                })
            };
        }
    },

    displayTotal: function displayTotal() {
        this.total = 0;

        this.total += this.weeksRemovedPrice;
        this.total += this.weeksAddedPrice;

        if (this.weeklyPriceAdjustment) this.total += this.optionsAdjustment;

        this.els.adjustment.textContent = (this.total < 0 ? 'Price Reduction' : 'New Charges') + ': ' + this.Currency.format(Math.abs(this.total));

        return this;
    },
    getWhitespace: function getWhitespace(count) {
        var rv = "";

        while (count > 0) {
            rv += " ";count--;
        }

        return rv;
    },
    getDescription: function getDescription() {
        var lineWidth = 100,
            lines = [['Weeks Removed: ' + this.els.weeksRemoved.textContent, 'Adjustment: ' + this.Currency.format(this.weeksRemovedPrice)], ['Weeks Added: ' + this.els.weeksAdded.textContent, 'Adjustment: ' + this.Currency.format(this.weeksAddedPrice)]];

        return ['' + lines[0][0] + this.getWhitespace(lineWidth - lines[0][0].length - lines[0][1].length) + lines[0][1], '' + lines[1][0] + this.getWhitespace(lineWidth - lines[1][0].length - lines[1][1].length) + lines[1][1], 'Options Update: ' + this.optionsDescription, 'Weekly price adjustment: ' + this.Currency.format(this.weeklyPriceAdjustment), 'Weeks affected: ' + this.weeksAffected].join('\n');
    },
    getPatchData: function getPatchData() {
        return {
            value: this.total,
            description: this.getDescription(),
            sendEmail: this.els.sendEmail.checked
        };
    },
    onOptionsReset: function onOptionsReset() {
        this.weeklyPriceAdjustment = false;
        this.els.options.classList.add('fd-hidden');

        this.els.weeklyAdjustment.textContent = this.Currency.format(0);
        this.els.shareOptionDescription.innerHTML = '';

        this.displayTotal();

        if (this.els.weeksRemoved.textContent == 0 && this.els.weeksAdded.textContent == 0) this.els.container.classList.add('fd-hidden');
    },
    onWeeksReset: function onWeeksReset() {
        this.onWeekUpdate({ added: 0, removed: 0 });
    },
    onOptionsUpdate: function onOptionsUpdate(_ref) {
        var description = _ref.description,
            priceAdjustment = _ref.priceAdjustment;

        this.optionsDescription = description;

        this.els.options.classList.remove('fd-hidden');

        this.weeklyPriceAdjustment = priceAdjustment;
        this.els.weeklyAdjustment.textContent = this.Currency.format(priceAdjustment);
        this.els.shareOptionDescription.innerHTML = '';

        this.slurpTemplate({
            insertion: { el: this.els.shareOptionDescription },
            template: description.split('\n\t').map(function (option) {
                return '<li>' + option + '</li>';
            }).join('')
        });

        this.updateOptionsAdjustment();

        this.displayTotal().show();
    },
    onWeekUpdate: function onWeekUpdate(_ref2) {
        var added = _ref2.added,
            removed = _ref2.removed;

        this.weeksAffected = this.originalWeeksAffected - removed;
        this.els.weeksAffected.textContent = this.weeksAffected;

        this.els.weeksRemoved.textContent = removed;
        this.els.weeksAdded.textContent = added;

        this.weeksAddedPrice = added * (this.originalWeeklyPrice + (this.weeklyPriceAdjustment || 0));
        this.els.weeksAddedPrice.textContent = this.Currency.format(this.weeksAddedPrice);

        this.weeksRemovedPrice = -1 * removed * this.originalWeeklyPrice;
        this.els.weeksRemovedPrice.textContent = this.Currency.format(this.weeksRemovedPrice);

        if (added == 0 && removed == 0 && !this.weeklyPriceAdjustment) return this.els.container.classList.add('fd-hidden');

        this.updateOptionsAdjustment();

        this.displayTotal().show();
    },
    postRender: function postRender() {
        var _this = this;

        this.optionsDescription = '';
        this.els.weeksAdded.textContent = 0;
        this.els.weeksRemoved.textContent = 0;
        this.weeksRemovedPrice = 0;
        this.weeksAddedPrice = 0;
        this.els.weeksRemovedPrice.textContent = this.Currency.format(this.weeksRemovedPrice);
        this.els.weeksAddedPrice.textContent = this.Currency.format(this.weeksAddedPrice);

        this.views.buttonFlow.on('confirmBtnClicked', function () {
            return _this.emit('patchMemberShare');
        });

        return this;
    },
    reset: function reset() {
        this.els.sendEmail.checked = false;
        this.optionsDescription = '';
        this.els.weeksAdded.textContent = 0;
        this.els.weeksRemoved.textContent = 0;
        this.weeksRemovedPrice = 0;
        this.els.weeksRemovedPrice.textContent = this.Currency.format(this.weeksRemovedPrice);
        this.els.weeklyAdjustment.textContent = this.Currency.format(0);
        this.weeklyPriceAdjustment = false;
        this.els.shareOptionDescription.innerHTML = '';
        this.hide();
    },
    setOriginalWeeklyPrice: function setOriginalWeeklyPrice(price) {
        this.originalWeeklyPrice = price;
    },
    setWeeksAffected: function setWeeksAffected(_ref3) {
        var selectable = _ref3.selectable,
            skipped = _ref3.skipped;

        this.originalWeeksAffected = selectable - skipped;
        this.weeksAffected = this.originalWeeksAffected;
        this.els.weeksAffected.textContent = this.weeksAffected;
    },
    templateOpts: function templateOpts() {
        return { isAdmin: window.location.pathname.split('/').includes('admin-plus') };
    },
    updateOptionsAdjustment: function updateOptionsAdjustment() {
        this.optionsAdjustment = this.weeksAffected * this.weeklyPriceAdjustment;
        this.els.optionsAdjustment.textContent = this.Currency.format(this.optionsAdjustment);
    }
});

},{"./__proto__":104}],97:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var MyView = require('./MyView'),
    Signup = function Signup() {
    return MyView.apply(this, arguments);
};

_extends(Signup.prototype, MyView.prototype, {
    done: function done() {
        this.templateData.leftBtn.hide();
        this.templateData.rightBtn.hide();
    },


    events: {
        'leftBtn': { method: 'goBack' },
        'rightBtn': { method: 'validateView' }
    },

    goBack: function goBack() {
        var _this = this;

        this.templateData.leftBtn.off();

        this.instances[this.views[this.currentIndex].name].hide();
        this.instances[this.views[this.currentIndex].name].templateData.container.removeClass('slide-in-left').removeClass('slide-in-right');

        this.currentIndex -= 1;

        this.state.signup.index = this.currentIndex;
        this.saveState();

        this.showProperView(true);

        window.setTimeout(function () {
            return _this.delegateEvents('leftBtn', _this.templateData.leftBtn);
        }, 1000);
    },
    noShares: function noShares() {
        this.templateData.leftBtn.hide();
        this.templateData.rightBtn.hide();

        this.instances.shares.templateData.header.text('There are no shares available at this time');
    },
    onNavigation: function onNavigation(path) {
        var instance = this.instances[this.views[this.currentIndex].name];
        if (instance.onSignupNavigation) instance.onSignupNavigation();
        return this.show();
    },
    postRender: function postRender() {
        this.signupData = {};
        this.instances = {};

        this.state = this.user.get('state');
        if (!this.state) this.user.set('state', {});

        if (this.state.signup && Object.keys(this.state.signup).length) return this.updateState(this.state.signup);

        if (!this.currentIndex) this.currentIndex = 0;
        this.state.signup = { index: this.currentIndex, shares: [] };

        this.showProperView();
    },


    requiresLogin: false,

    saveState: function saveState() {
        var _this2 = this;

        var data = this.user.isLoggedIn() ? this.user.attributes : { state: this.state };
        this.$.ajax({
            data: JSON.stringify(data),
            method: "PATCH",
            url: "/user" }).fail(function (e) {
            return new _this2.Error(e);
        });
    },
    serializeShare: function serializeShare(share) {
        return {
            id: share.id,
            seasonalAddOns: share.get('seasonalAddOns'),
            selectedDelivery: share.get('selectedDelivery'),
            selectedOptions: share.get('selectedOptions'),
            skipDays: share.get('skipDays')
        };
    },
    showNext: function showNext() {
        var _this3 = this;

        this.instances[this.views[this.currentIndex].name].hide();
        this.instances[this.views[this.currentIndex].name].templateData.container.removeClass('slide-in-left').removeClass('slide-in-right');

        this.currentIndex += 1;

        this.state.signup.index = this.currentIndex;
        this.state.signup.shares = this.signupData.shares.map(function (share) {
            return _this3.serializeShare(share);
        });
        this.saveState();

        this.showProperView();
    },
    showProperNav: function showProperNav() {
        var left = this.templateData.leftBtn,
            right = this.templateData.rightBtn;

        if (this.currentIndex > 0) this.templateData.intro.text('Continue your CSA sign-up');
        if (this.currentIndex === 5) this.templateData.intro.text('Review your order and check out');

        if (this.currentIndex === 0) {
            left.hide();
            if (right.is(':hidden')) right.show();
        } else if (this.currentIndex === this.views.length - 1) {
            right.hide();
            if (left.is(':hidden')) left.show();
        } else {
            if (left.is(':hidden')) left.show();
            if (right.is(':hidden')) right.show();
        }
    },
    showProperView: function showProperView(back) {
        var _this4 = this;

        var currentViewName = this.views[this.currentIndex].name,
            klass = this.util.format('slide-in-%s', back ? 'left' : 'right');

        this.showProperNav();

        if (this.instances[currentViewName]) {
            this.instances[currentViewName].show().templateData.container.addClass(klass);
            if (this.instances[currentViewName].goBack) this.goBack();
            return;
        }

        this.instances[currentViewName] = new this.views[this.currentIndex].view({
            container: this.templateData.walkthrough,
            containerClass: klass,
            factory: this.factory,
            signupData: this.signupData
        });

        if (this.instances[currentViewName].templateData) this.instances[currentViewName].templateData.container.addClass(klass);

        if (this.views[this.currentIndex].on) {
            this.views[this.currentIndex].on.forEach(function (eventData) {
                return _this4.instances[currentViewName].on(eventData.event, function () {
                    return _this4[eventData.method]();
                });
            });
        }

        if (this.instances[currentViewName].goBack) this.goBack();

        return this;
    },


    template: require('../templates/signup'),

    updateState: function updateState(data) {
        var _this5 = this;

        this.currentIndex = data.index;

        this.instances.shares = new this.views[0].view({
            container: this.templateData.walkthrough,
            factory: this.factory,
            sessionShares: data.shares,
            signupData: this.signupData
        }).on('initialized', function () {
            return _this5.showProperView();
        });

        this.instances.shares.hide();
    },
    validateView: function validateView() {
        var _this6 = this;

        var view = this.instances[this.views[this.currentIndex].name];

        this.templateData.rightBtn.off();

        this.Q.when(view.validate()).then(function (result) {
            if (result) _this6.showNext();
        }).fail(function (e) {
            return new _this6.Error(e);
        }).done(function () {
            return window.setTimeout(function () {
                return _this6.delegateEvents('rightBtn', _this6.templateData.rightBtn);
            }, 1000);
        });
    },


    views: [{ name: 'shares', view: require('./signup/Shares'), on: [{ event: 'noShares', method: 'noShares' }] }, { name: 'memberInfo', view: require('./signup/MemberInfo') }, { name: 'shareOptions', view: require('./signup/ShareOptions') }, { name: 'delivery', view: require('./signup/Delivery') }, { name: 'dateSelection', view: require('./signup/DateSelection') }, { name: 'summary', view: require('./signup/Summary'), on: [{ event: 'done', method: 'done' }] }]

});

module.exports = Signup;

},{"../templates/signup":46,"./MyView":90,"./signup/DateSelection":108,"./signup/Delivery":109,"./signup/MemberInfo":114,"./signup/ShareOptions":121,"./signup/Shares":122,"./signup/Summary":124}],98:[function(require,module,exports){
'use strict';

module.exports = {

    events: {
        'cancelBtn': 'click',
        'submitBtn': 'click'
    },

    handleSubmissionError: function handleSubmissionError(e) {
        this.emit('submissionError', e);
        this.Toast.showMessage('error', e || this.toastError || 'Error');
        this.Error(e);
        this.onSubmitEnd();
    },
    onCancelBtnClick: function onCancelBtnClick() {
        this.delete().catch(this.Error);
    },
    onSubmitBtnClick: function onSubmitBtnClick() {
        var _this = this;

        if (this.submitting) return;
        this.onSubmitStart();
        this.submit().then(function () {
            return Promise.resolve(_this.onSubmitEnd());
        }).catch(function (e) {
            return _this.handleSubmissionError(e);
        });
    },
    onSubmitEnd: function onSubmitEnd() {
        this.submitting = false;
        this.els.submitBtn.classList.remove('submitting');
    },
    onSubmitStart: function onSubmitStart() {
        this.submitting = true;
        this.els.submitBtn.classList.add('submitting');
    }
};

},{}],99:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = Object.create(_extends({}, require('./__proto__'), {

    Icons: {
        error: require('./templates/lib/error')(),
        success: require('./templates/lib/checkmark')()
    },

    insertion: { el: document.body },

    name: 'Toast',

    requiresLogin: false,

    showMessage: function showMessage(type, message) {
        var _this = this;

        return new Promise(function (resolve, reject) {
            if (/show/.test(_this.status)) return resolve();

            _this.resolution = resolve;

            if (type !== 'error') _this.els.container.classList.add('success');

            _this.els.message.textContent = message;
            _this.els.title.textContent = type === 'error' ? 'Error' : 'Success';
            _this.slurpTemplate({ insertion: { el: _this.els.icon }, template: type === 'error' ? _this.Icons.error : _this.Icons.success });

            _this.status = 'showing';

            _this.show(true).then(function () {
                return _this.hide(true);
            }).then(function () {
                return _this.teardown();
            }).catch(reject);
        });
    },
    teardown: function teardown() {
        if (this.els.container.classList.contains('success')) this.els.container.classList.remove('success');
        this.els.message.textContent = '';
        this.els.message.title = '';
        if (this.els.icon.firstChild) this.els.icon.removeChild(this.els.icon.firstChild);

        this.status = 'hidden';
        this.resolution();
    },


    template: require('./templates/Toast')

}), {}).constructor();

},{"./__proto__":104,"./templates/Toast":170,"./templates/lib/checkmark":177,"./templates/lib/error":179}],100:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = _extends({}, require('./__proto__'), {

    Pikaday: require('pikaday'),

    Templates: {
        Transaction: require('./templates/CsaTransaction'),
        EditTransaction: require('./templates/EditCsaTransaction')
    },

    Views: {
        editButtons: function editButtons() {
            return {
                model: Object.create(this.Model).constructor({
                    hide: true,
                    states: {
                        start: [{ name: 'edit', svg: require('./templates/lib/edit')(), emit: true, nextState: 'onEdit' }, { name: 'garbage', svg: require('./templates/lib/garbage')(), nextState: 'onDelete', emit: true }],
                        onDelete: [{ name: 'confirmDelete', class: 'link', 'text': 'Delete?', nextState: 'start', emit: 'true' }, { name: 'cancelDelete', svg: require('./templates/lib/ex')({ name: 'cancelDelete' }), nextState: 'start', emit: true }],
                        onEdit: [{ name: 'confirmEdit', class: 'link', 'text': 'Edit', emit: 'true', nextState: 'start' }, { name: 'cancelEdit', svg: require('./templates/lib/ex')({ name: 'cancelEdit' }), nextState: 'start', emit: true }]
                    }
                })
            };
        },
        emailButtons: function emailButtons() {
            return {
                model: Object.create(this.Model).constructor({
                    hide: true,
                    states: {
                        start: [{ name: 'sendEmail', class: 'save-btn', text: 'Send Email Reminder', nextState: 'confirm' }],
                        confirm: [{ name: 'confirmEmail', class: 'save-btn', text: 'Are you Sure?', emit: true, nextState: 'start' }, { name: 'cancel', nextState: 'start', class: 'reset-btn', text: 'Cancel' }]
                    }
                })
            };
        },

        addTransaction: function addTransaction() {
            return { model: this.model };
        }
    },

    addTransaction: function addTransaction() {
        var _this = this;

        this.model.post(_extends({ memberShareId: this.share.membershareid }, this.model.attributes.reduce(function (memo, attr) {
            return _extends(memo, _defineProperty({}, attr, _this.els[attr].value));
        }, {}))).then(function (response) {
            _this.insertTransaction(response.id);
            _this.updateBalance();
            _this.Toast.showMessage('success', 'Transaction added!');
        }).catch(function (e) {
            _this.Error(e);_this.Toast.showMessage('error', 'Error adding transaction');
        });
    },
    clear: function clear() {
        this.els.transactions.innerHTML = '';
    },


    events: {
        list: 'click',
        transaction: ['mouseenter', 'mouseleave']
    },

    appendTransaction: function appendTransaction(transaction) {
        this.slurpTemplate({
            template: this.Templates.Transaction(transaction, { currency: this.Currency.format, moment: this.Moment }),
            insertion: { el: this.els.transactions }
        });
    },
    insertTransaction: function insertTransaction(transactionId) {
        var index = this.model.data.findIndex(function (datum) {
            return datum.id == transactionId;
        }),
            children = Array.from(this.els.transactions.children),
            insertion = index === 0 ? { el: children[0], method: 'insertBefore' } : { el: children[index - 1], method: 'after' };

        this.slurpTemplate({
            template: this.Templates.Transaction(this.model.data[index], { currency: this.Currency.format, moment: this.Moment }),
            insertion: insertion
        });
    },
    editTransaction: function editTransaction(e) {
        var _this2 = this;

        var el = e.target.closest('li'),
            id = el.getAttribute('data-id');

        return Promise.all([this.model.patch(id, this.model.attributes.reduce(function (memo, attr) {
            return _extends(memo, _defineProperty({}, attr, attr === 'created' ? _this2.Moment(_this2.els.editTransaction.querySelector('[data-attr="created"]').value, 'MMM D, YYYY').format('YYYY-MM-DD') : _this2.els.editTransaction.querySelector('[data-attr="' + attr + '"]').value));
        }, {})), e.fdNextState]).then(function (datum) {
            _this2.removeEditRow();
            _this2.moveOutEditButtons();
            el.remove();
            _this2.insertTransaction(id);
            _this2.updateBalance();
            _this2.Toast.showMessage('success', 'Transaction edited!');
        }).catch(function (e) {
            _this2.removeEditRow();
            _this2.Error(e);
            _this2.Toast.showMessage('error', 'Error editing transaction');
        });
    },
    deleteTransaction: function deleteTransaction(e) {
        var _this3 = this;

        var id = e.target.closest('li').getAttribute('data-id');

        Promise.all([this.model.delete(id), e.fdNextState]).then(function () {
            _this3.moveOutEditButtons();
            _this3.els.transactions.querySelector('li[data-id="' + id + '"]').remove();
            _this3.updateBalance();
            _this3.Toast.showMessage('success', 'Transaction deleted!');
        }).catch(function (e) {
            _this3.Error(e);
            _this3.Toast.showMessage('error', 'Error adding transaction');
        });
    },


    model: require('../models/CsaTransaction'),

    onAddBtnClick: function onAddBtnClick() {
        var _this4 = this;

        if (this.state === 'confirmDelete') {
            this.model.delete(this.markedForDeletion).then(function () {
                _this4.els.transactions.querySelector('li[data-id="' + _this4.markedForDeletion + '"]').remove();
                _this4.updateBalance();
                _this4.Toast.showMessage('success', 'Transaction deleted!');
                _this4.resetState();
            });
        } else if (this.state === 'confirming') {
            this.model.post(_extends({ memberShareId: this.share.membershareid }, this.model.attributes.reduce(function (memo, attr) {
                return _extends(memo, _defineProperty({}, attr, _this4.els[attr].value));
            }, {}))).then(function (response) {
                _this4.insertTransaction(response.id);
                _this4.updateBalance();
                _this4.Toast.showMessage('success', 'Transaction added!');
                _this4.resetState();
            }).catch(function (e) {
                _this4.Error(e);
                _this4.Toast.showMessage('error', 'Error adding transaction');
                _this4.resetState();
            });
        } else if (this.state === 'adding') {

            this.els.addBtn.textContent = 'Are you sure?';
            this.state = 'confirming';
        } else if (!this.state) {
            this.els.cancelBtn.classList.remove('hidden');
            this.els.addTransactionRow.classList.remove('hidden');

            this.state = 'adding';
        }
    },
    onExClick: function onExClick(e) {
        if (this.markedForDeletion) return;

        var item = e.target.closest('li');

        this.markedForDeletion = item.getAttribute('data-id');
        item.classList.add('marked');

        this.els.addBtn.textContent = 'Confirm Delete';
        this.els.cancelBtn.classList.remove('hidden');
        this.state = 'confirmDelete';
    },
    onListClick: function onListClick(e) {
        if (this.currentSelection) this.currentSelection.classList.remove('selected');

        var el = e.target;
        this.currentSelection = el;
        el.classList.add('selected');
        this.emit('selected', { customer: this.customer, share: this.MemberSeason.data.find(function (season) {
                return season.id == el.getAttribute('data-id');
            }) });
    },
    onTransactionMouseenter: function onTransactionMouseenter(e) {
        if (e.target.tagName !== "LI") return;
        if (this.views.editButtons.state !== 'start') return;
        e.target.children[0].appendChild(this.views.editButtons.els.container);
        this.views.editButtons.els.container.classList.remove('fd-hidden');
    },
    onTransactionMouseleave: function onTransactionMouseleave(e) {
        if (e.target.tagName !== "LI") return;
        if (this.views.editButtons.state !== 'start') return;
        this.moveOutEditButtons();
    },
    moveOutEditButtons: function moveOutEditButtons() {
        this.els.transactions.after(this.views.editButtons.els.container);
        this.views.editButtons.els.container.classList.add('fd-hidden');
    },
    postRender: function postRender() {
        var _this5 = this;

        this.views.emailButtons.on('confirmEmailClicked', function (e) {
            return _this5.sendMail();
        });

        this.views.editButtons.on('editClicked', function (e) {
            return _this5.createEditRow(e);
        });
        this.views.editButtons.on('cancelEditClicked', function (e) {
            return _this5.removeEditRow(e);
        });
        this.views.editButtons.on('confirmEditClicked', function (e) {
            return _this5.editTransaction(e);
        });

        this.views.editButtons.on('garbageClicked', function (e) {
            return _this5.toggleDeleteStyle(e, true);
        });
        this.views.editButtons.on('cancelDeleteClicked', function (e) {
            return _this5.toggleDeleteStyle(e, false);
        });
        this.views.editButtons.on('confirmDeleteClicked', function (e) {
            return _this5.deleteTransaction(e);
        });

        this.model.on('added', function (datum) {
            return _this5.onModelAdd(datum);
        });

        return this;
    },
    createEditRow: function createEditRow(e) {
        var _this6 = this;

        this.editedRow = e.target.closest('li');
        this.editedRow.classList.add('confirming-edit');

        var model = this.model.data.find(function (datum) {
            return datum.id == _this6.editedRow.getAttribute('data-id');
        });

        this.slurpTemplate({
            insertion: { el: this.editedRow, method: 'after' },
            template: this.Templates.EditTransaction(this.model.attributes.reduce(function (memo, attr) {
                return _extends(memo, _defineProperty({}, attr, attr === 'created' ? _this6.Moment(model.created).format('MMM D, YYYY') : model[attr]));
            }, { actions: this.model.actions }))
        });

        this.created = new this.Pikaday({ field: this.els.editTransaction.querySelector('input[data-attr="created"]'), format: 'MMM D, YYYY' });
    },
    removeEditRow: function removeEditRow(e) {
        this.editedRow.classList.remove('confirming-edit');
        this.editedRow = undefined;
        this.els.editTransaction.remove();
        delete this.els.editTransaction;
    },
    toggleDeleteStyle: function toggleDeleteStyle(e, value) {
        e.target.closest('li').classList.toggle('confirming-delete', value);
    },
    onCancelAddTransaction: function onCancelAddTransaction() {
        var _this7 = this;

        this.els.addTransactionRow.classList.add('hidden');
        this.model.attributes.forEach(function (attr) {
            return _this7.els[attr].value = attr === 'action' ? _this7.model.actions[0] : '';
        });
    },
    onModelAdd: function onModelAdd(datum) {
        this.insertTransaction(datum.id);
        this.updateBalance();
    },
    sendMail: function sendMail() {
        var _this8 = this;

        return this.Xhr({
            method: 'post',
            resource: 'mail',
            data: JSON.stringify({
                to: this.customer.person.data.email,
                subject: 'Patchwork Gardens ' + this.share.label + ' Balance',
                body: 'According to our records, you have an outstanding balance of ' + this.els.balance.textContent + '.\r\n\r\nPlease send payment at your earliest convenience to Patchwork Gardens, 9057 W Third St, Dayton OH 45417.\r\n\r\nIf you believe this is incorrect, please contact us by email or phone (937) 835-5807.\r\n\r\nThank You.'
            })
        }).then(function () {
            return _this8.Toast.showMessage('success', 'Email sent.');
        }).catch(function (e) {
            _this8.Error(e);_this8.Toast.showMessage('error', 'Error sending email.');
        });
    },
    update: function update(_ref) {
        var _this9 = this;

        var customer = _ref.customer,
            share = _ref.share;

        this.customer = customer;
        this.share = share;

        this.clear();
        this.views.addTransaction.update(share.membershareid);

        return this.model.get({ query: { memberShareId: share.membershareid } }).then(function () {
            return _this9.model.data.forEach(function (csaTransaction) {
                return _this9.appendTransaction(csaTransaction);
            });
        }).then(function () {
            return _this9.updateBalance().show();
        }).catch(this.Error);
    },
    updateBalance: function updateBalance() {
        var balance = this.model.getBalance();
        this.els.balance.textContent = this.Currency.format(balance);

        if (balance > 0) {
            this.views.emailButtons.show();
        } else {
            this.views.emailButtons.hide();
        }

        return this;
    }
});

},{"../models/CsaTransaction":14,"./__proto__":104,"./templates/CsaTransaction":136,"./templates/EditCsaTransaction":142,"./templates/lib/edit":178,"./templates/lib/ex":180,"./templates/lib/garbage":181,"pikaday":"pikaday"}],101:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = _extends({}, require('./__proto__'), {

    AutoComplete: require('./lib/AutoComplete'),

    Resources: {
        Document: {
            Model: _extends({}, require('../models/Document')),
            renderItem: function renderItem(item, search) {
                return '<div class="autocomplete-suggestion" data-val="' + (item.label || item.name) + '" data-id="' + item.id + '">' + (item.label || item.name) + '</div>';
            },
            search: function search(term, suggest) {
                var _this = this;

                return this.Xhr({ method: 'get', qs: this.getQs(term), resource: this.Resource }).then(function (documents) {
                    if (!Array.isArray(documents)) documents = [documents];
                    if (documents.length === 0) return Promise.resolve(false);

                    _this.resource.Model.constructor(documents, { storeBy: ['id'] });
                    suggest(_this.resource.Model.data);
                    return Promise.resolve(true);
                });
            }
        }
    },

    clear: function clear(suppressEmit) {
        this.els.input.value = '';
        if (!suppressEmit) this.emit('cleared');
    },


    events: {
        input: 'input'
    },

    focus: function focus() {
        this.els.input.focus();
    },
    getSelectedId: function getSelectedId() {
        if (!this.selectedModel) return undefined;

        return this.selectedModel._id || this.selectedModel.id;
    },
    getQs: function getQs(term) {
        var attr = this.Resource === 'deliveryroute' ? 'label' : 'name';
        return JSON.stringify(_extends({}, _defineProperty({}, attr, { operation: '~*', value: term })));
    },
    initAutoComplete: function initAutoComplete(initialId) {
        var _this2 = this;

        new this.AutoComplete({
            delay: 500,
            selector: this.els.input,
            minChars: 1,
            cache: false,
            renderItem: this.resource.renderItem,
            source: function source(term, suggest) {
                Reflect.apply(_this2.resource.search, _this2, [term.trim(), suggest]).then(function (found) {
                    return found ? Promise.resolve(true) : suggest([]);
                }).catch(_this2.Error);
            },
            onSelect: function onSelect(e, term, item) {
                var store = _this2.resource.Model.store;
                _this2.selectedModel = (store.id ? store.id : store['_id'])[item.getAttribute('data-id')];
                _this2.emit('itemSelected', _this2.selectedModel);
            }
        });

        if (initialId) {
            this.Xhr({ method: 'get', resource: this.Resource, id: initialId }).then(function (document) {
                document = Array.isArray(document) ? document[0] : document;
                _this2.selectedModel = document;
                _this2.els.input.value = document.label || document.name;
                return Promise.resolve();
            }).catch(this.Error);
        }
    },
    onInputInput: function onInputInput() {
        if (this.els.input.value.trim() === "") this.emit('cleared');
    },
    postRender: function postRender() {
        this.Resource = this.Resource;
        this.Type = this.Type;
        this.resource = this.Resources[this.Type];

        if (this.resource && this.Resource) this.initAutoComplete();

        return this;
    },
    setResource: function setResource(resource) {
        this.Resource = resource;
        this.resource = this.Resources[this.Type];
        return this;
    }
});

},{"../models/Document":21,"./__proto__":104,"./lib/AutoComplete":105}],102:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('./__proto__'), {
    postRender: function postRender() {
        var _this = this;

        this.Xhr({
            method: 'get',
            resource: 'verify',
            qs: '{ "token": "' + this.path[1] + '" }'
        }).then(function () {
            return _this.Toast.showMessage('success', 'Email verified! You are now free to log in.');
        }).then(function () {
            return _this.delete().then(function () {
                return _this.emit('navigate', '');
            }).catch(_this.Error);
        }).catch(function (e) {
            _this.Error(e);
            _this.Toast.showMessage('error', 'Failed to verify email. Please try again or contact us.');
        });

        return this;
    }
});

},{"./__proto__":104}],103:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var Super = require('./__proto__');

module.exports = _extends({}, Super, {

    DeliveryOption: Object.create(Super.Model, { resource: { value: 'deliveryoption' } }),
    GroupDropoffs: Object.create(Super.Model, { resource: { value: 'groupdropoff' } }),
    Route: Object.create(Super.Model, { resource: { value: 'deliveryroute' } }),
    SkipWeeks: Object.create(Super.Model, { resource: { value: 'membershareskipweek' } }),

    Share: require('../models/Share'),

    events: {
        dates: 'click',
        resetBtn: 'click'
    },

    clear: function clear() {
        this.els.dates.innerHTML = '';
        this.els.resetBtn.classList.add('hidden');
    },
    determineDates: function determineDates(dayOfWeek) {
        var _this = this;

        this.els.deliveryDay.textContent = this.Moment().isoWeekday(dayOfWeek).format('dddd');
        this.dates = [];

        if (!Number.isInteger(dayOfWeek)) return this;

        var now = this.Moment(),
            nextDeliveryCutoff = now,
            endDate = this.Moment(this.model.share.enddate);

        var deliveryDate = this.Moment(this.model.share.startdate),
            startDay = deliveryDate.day();

        while (startDay != dayOfWeek) {
            deliveryDate.add(1, 'days');
            startDay = this.Moment(deliveryDate).day();
        }

        while (endDate.diff(deliveryDate, 'days') >= 0) {
            var isSkipWeek = this.SkipWeeks.data.find(function (week) {
                return _this.Moment(week.date).week() === _this.Moment(deliveryDate).week();
            }) ? true : false;

            this.dates.push({
                date: this.Moment(deliveryDate),
                unselectable: Boolean(deliveryDate.diff(nextDeliveryCutoff) < 0),
                selected: !isSkipWeek
            });

            deliveryDate.add(7, 'days');
        }

        return this;
    },
    getPatchData: function getPatchData() {
        var _this2 = this;

        var addedDates = [],
            removedDates = [];

        Object.keys(this.changedDates).forEach(function (date) {
            var editedStatus = _this2.changedDates[date].editedStatus;

            if (!editedStatus) return;

            var formattedDate = _this2.Moment(date).format("YYYY-MM-DD");
            if (editedStatus === 'selected') addedDates.push(formattedDate);else removedDates.push(formattedDate);
        });

        return {
            addedDates: addedDates,
            removedDates: removedDates,
            allRemoved: Array.from(this.els.dates.querySelectorAll('li:not(.selected)')).map(function (el) {
                return _this2.Moment(el.getAttribute('data-date'), 'YYYYMMDD').format('YYYY-MM-DD');
            })
        };
    },
    getWeeksAffected: function getWeeksAffected() {
        var selectableDates = this.dates.filter(function (date) {
            return !date.unselectable;
        });
        return { selectable: selectableDates.length, skipped: selectableDates.filter(function (date) {
                return !date.selected;
            }).length };
    },
    getDayOfWeek: function getDayOfWeek() {
        var delivery = this.model.delivery.data[0];

        return delivery.groupdropoff.id ? this.Xhr({ method: 'get', resource: 'sharegroupdropoff', qs: JSON.stringify({ shareid: this.model.share.id, groupdropoffid: delivery.groupdropoff.id }) }).then(function (response) {
            return Promise.resolve(response[0].dayofweek);
        }) : delivery.deliveryoption.name === 'farm' ? this.Route.data.find(function (route) {
            return route.label == 'farm';
        }).dayofweek : this.Xhr({
            method: 'get',
            resource: 'zipcoderoute',
            qs: JSON.stringify({
                zipcode: this.model.customer.member.data.zipcode,
                routeid: { operation: 'join', value: { table: 'deliveryroute', column: 'id' } }
            })
        }).then(function (response) {
            return Promise.resolve(response[0]['deliveryroute.dayofweek']);
        });
    },
    getTotalDates: function getTotalDates() {
        return this.els.dates.querySelectorAll('li.selected').length;
    },
    onDatesClick: function onDatesClick(e) {
        var _this3 = this;

        var el = e.target.closest('li'),
            date = el.getAttribute('data-date');

        if (el.classList.contains('unselectable')) return;

        var editedStatus = void 0;

        if (!this.changedDates[date]) this.changedDates[date] = { initialStatus: el.classList.contains('selected') ? 'selected' : 'removed' };

        el.classList.toggle('selected');
        editedStatus = el.classList.contains('selected') ? 'selected' : 'removed';

        if (editedStatus !== this.changedDates[date].initialStatus) {
            this.changedDates[date].editedStatus = editedStatus;
            el.classList.add('edited');
            this.els.resetBtn.classList.remove('hidden');
        } else {
            this.changedDates[date].editedStatus = undefined;
            el.classList.remove('edited');
        }

        if (!Object.keys(this.changedDates).find(function (key) {
            return _this3.changedDates[key].editedStatus !== undefined;
        })) {
            this.els.resetBtn.classList.add('hidden');
            this.emit('reset', this.model);
            return this.slideOut(this.els.editSummary, 'right');
        }

        this.showEditSummary();
    },
    onResetBtnClick: function onResetBtnClick() {
        var _this4 = this;

        this.els.resetBtn.classList.add('hidden');

        Object.keys(this.changedDates).forEach(function (key) {
            if (_this4.changedDates[key].editedStatus) {
                var el = _this4.els.dates.querySelector('li[data-date=' + CSS.escape(key));
                el.classList.toggle('selected');
                el.classList.remove('edited');
            }
        });

        this.update(this.model);
        this.emit('reset', this.model);
    },
    renderDates: function renderDates() {
        var _this5 = this;

        this.dates.forEach(function (datum) {
            return _this5.slurpTemplate({ template: _this5.templates.date(datum), insertion: { el: _this5.els.dates } });
        });
        return this;
    },
    showEditSummary: function showEditSummary() {
        var _this6 = this;

        var result = 0,
            added = 0,
            removed = 0;

        this.els.selectedDates.innerHTML = '';
        this.els.removedDates.innerHTML = '';

        Object.keys(this.changedDates).forEach(function (date) {
            var editedStatus = _this6.changedDates[date].editedStatus;

            if (editedStatus) {

                editedStatus === 'selected' ? added += 1 : removed += 1;

                _this6.slurpTemplate({
                    insertion: { el: _this6.els[editedStatus + 'Dates'] },
                    template: _this6.templates.summaryColumn({ value: _this6.Moment(date).format("MMM D") })
                });
            }
        });

        result = added - removed;
        this.els.weekChange.textContent = result;
        this.els.weekChange.classList.toggle('is-negative', Boolean(result < 0));

        if (this.isHidden(this.els.editSummary)) this.slideIn(this.els.editSummary, 'right');

        this.emit('adjustment', { added: added, removed: removed });
    },


    templates: {
        date: require('./templates/DeliveryDate'),
        summaryColumn: function summaryColumn(date) {
            return '<li>' + date.value + '</li>';
        }
    },

    update: function update(_ref) {
        var _this7 = this;

        var customer = _ref.customer,
            delivery = _ref.delivery,
            share = _ref.share;

        if (this.updating) return;
        this.els.editSummary.classList.add('fd-hidden');

        this.updating = true;

        this.model = arguments[0];

        this.changedDates = {};

        return this.Route.get().then(function () {
            return _this7.SkipWeeks.get({ query: { membershareid: share.membershareid } });
        }).then(function () {
            return _this7.getDayOfWeek();
        }).then(function (dayOfWeek) {
            _this7.clear();
            _this7.determineDates(dayOfWeek).renderDates().show();
            return Promise.resolve(_this7.updating = false);
        });
    },
    updateDelivery: function updateDelivery(data) {
        var _this8 = this;

        var modelCopy = JSON.parse(JSON.stringify(this.model));

        return this.DeliveryOption.get({ query: { name: data.deliveryOption } }).then(function () {
            if (_this8.DeliveryOption.data.length) modelCopy.delivery.data[0].deliveryoption = _this8.DeliveryOption.data[0];

            if (!data.groupOption) {
                Object.keys(modelCopy.delivery.data[0].groupdropoff).forEach(function (key) {
                    return modelCopy.delivery.data[0].groupdropoff[key] = null;
                });
            }

            return data.groupOption ? _this8.GroupDropoffs.get({ query: { name: data.groupOption } }).then(function () {
                if (_this8.GroupDropoffs.data.length) modelCopy.delivery.data[0].groupdropoff = _this8.GroupDropoffs.data[0];
                _this8.update(modelCopy);
            }) : _this8.update(modelCopy);
        }).catch(this.Error);
    }
});

},{"../models/Share":36,"./__proto__":104,"./templates/DeliveryDate":139}],104:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

module.exports = _extends({}, require('../../../lib/MyObject').prototype, require('events').EventEmitter.prototype, {

    Currency: new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD',
        minimumFractionDigits: 2
    }),

    Error: require('../../../lib/MyError'),

    Format: require('../Format'),

    Model: require('../models/__proto__'),

    Moment: require('moment'),

    OptimizedResize: require('./lib/OptimizedResize'),

    UUID: require('uuid-v4'),

    P: function P(fun) {
        var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
        var thisArg = arguments[2];
        return new Promise(function (resolve, reject) {
            return Reflect.apply(fun, thisArg || undefined, args.concat(function (e) {
                for (var _len = arguments.length, callback = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                    callback[_key - 1] = arguments[_key];
                }

                return e ? reject(e) : resolve(callback);
            }));
        });
    },

    Xhr: require('../Xhr'),

    bindEvent: function bindEvent(key, event, el) {
        var _this = this;

        var els = el ? [el] : Array.isArray(this.els[key]) ? this.els[key] : [this.els[key]];
        els.forEach(function (el) {
            return el.addEventListener(event || 'click', function (e) {
                return _this['on' + _this.capitalizeFirstLetter(key) + _this.capitalizeFirstLetter(event)](e);
            });
        });
    },


    capitalizeFirstLetter: function capitalizeFirstLetter(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
    },

    constructor: function constructor() {
        var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};


        if (opts.events) {
            _extends(this.events, opts.events);delete opts.events;
        }
        _extends(this, opts);

        this.subviewElements = [];

        if (this.requiresLogin && !this.user.isLoggedIn()) return this.handleLogin();
        if (this.user && !this.isAllowed(this.user.attributes)) return this.scootAway();

        return this.initialize().render();
    },
    delegateEvents: function delegateEvents(key, el) {
        var _this2 = this;

        var type = _typeof(this.events[key]);

        if (type === "string") {
            this.bindEvent(key, this.events[key], el);
        } else if (Array.isArray(this.events[key])) {
            this.events[key].forEach(function (eventObj) {
                return _this2.bindEvent(key, eventObj);
            });
        } else {
            this.bindEvent(key, this.events[key].event);
        }
    },
    delete: function _delete() {
        var _this3 = this;

        return this.hide().then(function () {
            _this3.els.container.parentNode.removeChild(_this3.els.container);
            return Promise.resolve(_this3.emit('deleted'));
        });
    },


    events: {},

    fadeInImage: function fadeInImage(el) {
        var _this4 = this;

        el.onload = function () {
            _this4.emit('imgLoaded', el);
            el.removeAttribute('data-src');
        };

        el.setAttribute('src', el.getAttribute('data-src'));
    },
    getContainer: function getContainer() {
        return this.els.container;
    },
    getData: function getData() {
        if (!this.model) this.model = Object.create(this.Model, { resource: { value: this.name } });

        return this.model.get();
    },
    getTemplateOptions: function getTemplateOptions() {
        var rv = _extends(this.user ? { user: this.user.data } : {}, this.Format);

        if (this.model) {
            rv.model = this.model.data;

            if (this.model.meta) rv.meta = this.model.meta;
            if (this.model.attributes) rv.attributes = this.model.attributes;
        }

        if (this.templateOpts) rv.opts = typeof this.templateOpts === 'function' ? this.templateOpts() : this.templateOpts || {};

        return rv;
    },
    handleLogin: function handleLogin() {
        var _this5 = this;

        this.factory.create('login', { insertion: { el: document.querySelector('#content') } }).on("success", function (userData) {
            if (!_this5.isAllowed(userData)) return _this5.scootAway();

            _this5.user.set(userData);
            _this5.user.trigger('loggedIn');

            return _this5.onLogin();
        });

        return this;
    },
    hide: function hide(isSlow) {
        var _this6 = this;

        if (!this.els || this.isHiding) return Promise.resolve();

        this.isHiding = true;
        return this.hideEl(this.els.container, isSlow).then(function () {
            return Promise.resolve(_this6.isHiding = false);
        });
    },
    hideSync: function hideSync() {
        this.els.container.classList.add('fd-hidden');return this;
    },
    _hideEl: function _hideEl(el, resolve, hash, isSlow) {
        el.removeEventListener('animationend', this[hash]);
        el.classList.add('fd-hidden');
        el.classList.remove('animate-out' + (isSlow ? '-slow' : ''));
        delete this[hash];
        resolve();
    },
    hideEl: function hideEl(el, isSlow) {
        var _this7 = this;

        if (this.isHidden(el)) return Promise.resolve();

        var uuid = this.UUID(),
            hash = uuid + 'Hide';

        return new Promise(function (resolve) {
            _this7[hash] = function (e) {
                return _this7._hideEl(el, resolve, hash, isSlow);
            };
            el.addEventListener('animationend', _this7[hash]);
            el.classList.add('animate-out' + (isSlow ? '-slow' : ''));
        });
    },
    htmlToFragment: function htmlToFragment(str) {
        var range = document.createRange();
        // make the parent of the first div in the document becomes the context node
        range.selectNode(document.getElementsByTagName("div").item(0));
        return range.createContextualFragment(str);
    },
    initialize: function initialize() {
        return _extends(this, { els: {}, slurp: { attr: 'data-js', view: 'data-view', name: 'data-name', img: 'data-src', bgImg: 'data-bg' }, views: {} });
    },
    insertToDom: function insertToDom(fragment, options) {
        var insertion = typeof options.insertion === 'function' ? options.insertion() : options.insertion;

        insertion.method === 'insertBefore' ? insertion.el.parentNode.insertBefore(fragment, insertion.el) : insertion.el[insertion.method || 'appendChild'](fragment);
    },
    isAllowed: function isAllowed(user) {
        if (!this.requiresRole) return true;
        return this.requiresRole && user.roles.includes(this.requiresRole);
    },
    isHidden: function isHidden(el) {
        return el ? el.classList.contains('fd-hidden') : this.els.container.classList.contains('fd-hidden');
    },
    loadBgImage: function loadBgImage(el) {
        var img = new Image();

        img.onload = function () {
            return el.classList.add('bg-loaded');
        };
        img.src = this.Format.ImageSrc(el.getAttribute('data-bg'));
    },
    onLogin: function onLogin() {
        this.initialize().render();
    },
    onNavigation: function onNavigation(path) {
        return this.show();
    },
    showNoAccess: function showNoAccess() {
        alert("No privileges, son");
        return this;
    },
    postRender: function postRender() {
        return this;
    },
    render: function render() {
        if (this.data) this.model = Object.create(this.Model, {}).constructor(this.data);

        this.slurpTemplate({
            insertion: this.insertion || { el: document.body },
            isView: true,
            storeFragment: this.storeFragment,
            template: this.template(this.getTemplateOptions(), { Moment: this.Moment })
        });

        this.renderSubviews();

        if (this.size) {
            this.size();this.OptimizedResize.add(this.size.bind(this));
        }

        return this.postRender();
    },
    renderSubviews: function renderSubviews() {
        var _this8 = this;

        this.subviewElements.forEach(function (obj) {
            var name = obj.name || obj.view;

            var opts = {};

            if (_this8.Views && _this8.Views[obj.view]) opts = _typeof(_this8.Views[obj.view]) === "object" ? _this8.Views[obj.view] : Reflect.apply(_this8.Views[obj.view], _this8, []);
            if (_this8.Views && _this8.Views[name]) opts = _typeof(_this8.Views[name]) === "object" ? _this8.Views[name] : Reflect.apply(_this8.Views[name], _this8, []);

            _this8.views[name] = _this8.factory.create(obj.view, _extends({ insertion: { el: obj.el, method: 'insertBefore' } }, opts));

            if (_this8.events.views) {
                if (_this8.events.views[name]) _this8.events.views[name].forEach(function (arr) {
                    return _this8.views[name].on(arr[0], function (eventData) {
                        return Reflect.apply(arr[1], _this8, [eventData]);
                    });
                });else if (_this8.events.views[obj.view]) _this8.events.views[obj.view].forEach(function (arr) {
                    return _this8.views[name].on(arr[0], function (eventData) {
                        return Reflect.apply(arr[1], _this8, [eventData]);
                    });
                });
            }

            if (obj.el.classList.contains('fd-hidden')) _this8.views[name].hideSync();
            obj.el.remove();
        });

        this.subviewElements = [];

        return this;
    },


    requiresLogin: false,

    scootAway: function scootAway() {
        var _this9 = this;

        this.Toast.showMessage('error', 'You are not allowed here.  Sorry.').catch(function (e) {
            _this9.Error(e);_this9.emit('navigate', '/');
        }).then(function () {
            return _this9.emit('navigate', '/');
        });

        return this;
    },
    show: function show(isSlow) {
        return this.showEl(this.els.container, isSlow);
    },
    showSync: function showSync() {
        this.els.container.classList.remove('fd-hidden');return this;
    },
    _showEl: function _showEl(el, resolve, hash, isSlow) {
        el.removeEventListener('animationend', this[hash]);
        el.classList.remove('animate-in' + (isSlow ? '-slow' : ''));
        delete this[hash];
        resolve();
    },
    showEl: function showEl(el, isSlow) {
        var _this10 = this;

        var uuid = this.UUID(),
            hash = uuid + 'Show';

        return new Promise(function (resolve) {
            _this10[hash] = function (e) {
                return _this10._showEl(el, resolve, hash, isSlow);
            };
            el.addEventListener('animationend', _this10[hash]);
            el.classList.remove('fd-hidden');
            el.classList.add('animate-in' + (isSlow ? '-slow' : ''));
        });
    },
    slideIn: function slideIn(el, direction) {
        var onSlideEnd = function onSlideEnd() {
            el.classList.remove('slide-in-' + direction);
            el.removeEventListener('animationend', onSlideEnd);
        };

        el.addEventListener('animationend', onSlideEnd);
        if (el.classList.contains('fd-hidden')) el.classList.remove('fd-hidden');
        el.classList.add('slide-in-' + direction);
    },
    slideOut: function slideOut(el, direction) {
        var onSlideEnd = function onSlideEnd() {
            el.classList.add('fd-hidden');
            el.classList.remove('slide-out-' + direction);
            el.removeEventListener('animationend', onSlideEnd);
        };

        el.addEventListener('animationend', onSlideEnd);
        el.classList.add('slide-out-' + direction);
    },
    slurpEl: function slurpEl(el) {
        var key = el.getAttribute(this.slurp.attr) || 'container';

        if (key === 'container') el.classList.add(this.name);

        this.els[key] = Array.isArray(this.els[key]) ? this.els[key].concat(el) : this.els[key] !== undefined ? [this.els[key], el] : el;

        el.removeAttribute(this.slurp.attr);

        if (this.events[key]) this.delegateEvents(key, el);
    },
    slurpTemplate: function slurpTemplate(options) {
        var _this11 = this;

        var fragment = this.htmlToFragment(options.template),
            selector = '[' + this.slurp.attr + ']',
            viewSelector = '[' + this.slurp.view + ']',
            imgSelector = '[' + this.slurp.img + ']',
            bgImgSelector = '[' + this.slurp.bgImg + ']',
            firstEl = fragment.querySelector('*');

        if (options.isView || firstEl.getAttribute(this.slurp.attr)) this.slurpEl(firstEl);

        Array.from(fragment.querySelectorAll(selector + ', ' + viewSelector + ', ' + imgSelector + ', ' + bgImgSelector)).forEach(function (el) {
            if (el.hasAttribute(_this11.slurp.attr)) {
                _this11.slurpEl(el);
            } else if (el.hasAttribute(_this11.slurp.img)) return _this11.fadeInImage(el);else if (el.hasAttribute(_this11.slurp.bgImg)) return _this11.loadBgImage(el);else if (el.hasAttribute(_this11.slurp.view)) {
                _this11.subviewElements.push({ el: el, view: el.getAttribute(_this11.slurp.view), name: el.getAttribute(_this11.slurp.name) });
            }
        });

        if (options.storeFragment) return _extends(this, { fragment: fragment });

        this.insertToDom(fragment, options);

        if (options.renderSubviews) this.renderSubviews();

        return this;
    }
});

},{"../../../lib/MyError":190,"../../../lib/MyObject":191,"../Format":5,"../Xhr":7,"../models/__proto__":40,"./lib/OptimizedResize":106,"events":212,"moment":"moment","uuid-v4":221}],105:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

module.exports = function () {
    // "use strict";
    function autoComplete(options) {
        if (!document.querySelector) return;

        // helpers
        function hasClass(el, className) {
            return el.classList ? el.classList.contains(className) : new RegExp('\\b' + className + '\\b').test(el.className);
        }

        function addEvent(el, type, handler) {
            if (el.attachEvent) el.attachEvent('on' + type, handler);else el.addEventListener(type, handler);
        }
        function removeEvent(el, type, handler) {
            // if (el.removeEventListener) not working in IE11
            if (el.detachEvent) el.detachEvent('on' + type, handler);else el.removeEventListener(type, handler);
        }
        function live(elClass, event, cb, context) {
            addEvent(context || document, event, function (e) {
                var found,
                    el = e.target || e.srcElement;
                while (el && !(found = hasClass(el, elClass))) {
                    el = el.parentElement;
                }if (found) cb.call(el, e);
            });
        }

        var o = {
            selector: 0,
            source: 0,
            minChars: 3,
            delay: 150,
            offsetLeft: 0,
            offsetTop: 1,
            cache: 1,
            menuClass: '',
            renderItem: function renderItem(item, search) {
                // escape special characters
                search = search.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
                var re = new RegExp("(" + search.split(' ').join('|') + ")", "gi");
                return '<div class="autocomplete-suggestion" data-val="' + item + '">' + item.replace(re, "<b>$1</b>") + '</div>';
            },
            onSelect: function onSelect(e, term, item) {}
        };
        for (var k in options) {
            if (options.hasOwnProperty(k)) o[k] = options[k];
        }

        // init
        var elems = _typeof(o.selector) == 'object' ? [o.selector] : document.querySelectorAll(o.selector);
        for (var i = 0; i < elems.length; i++) {
            var that = elems[i];

            // create suggestions container "sc"
            that.sc = document.createElement('div');
            that.sc.className = 'autocomplete-suggestions ' + o.menuClass;

            that.autocompleteAttr = that.getAttribute('autocomplete');
            that.setAttribute('autocomplete', 'off');
            that.cache = {};
            that.last_val = '';

            that.updateSC = function (resize, next) {
                var rect = that.getBoundingClientRect();
                that.sc.style.left = Math.round(rect.left + (window.pageXOffset || document.documentElement.scrollLeft) + o.offsetLeft) + 'px';
                that.sc.style.top = Math.round(rect.bottom + (window.pageYOffset || document.documentElement.scrollTop) + o.offsetTop) + 'px';
                that.sc.style.width = Math.round(rect.right - rect.left) + 'px'; // outerWidth
                if (!resize) {
                    that.sc.style.display = 'block';
                    if (!that.sc.maxHeight) {
                        that.sc.maxHeight = parseInt((window.getComputedStyle ? getComputedStyle(that.sc, null) : that.sc.currentStyle).maxHeight);
                    }
                    if (!that.sc.suggestionHeight) that.sc.suggestionHeight = that.sc.querySelector('.autocomplete-suggestion').offsetHeight;
                    if (that.sc.suggestionHeight) if (!next) that.sc.scrollTop = 0;else {
                        var scrTop = that.sc.scrollTop,
                            selTop = next.getBoundingClientRect().top - that.sc.getBoundingClientRect().top;
                        if (selTop + that.sc.suggestionHeight - that.sc.maxHeight > 0) that.sc.scrollTop = selTop + that.sc.suggestionHeight + scrTop - that.sc.maxHeight;else if (selTop < 0) that.sc.scrollTop = selTop + scrTop;
                    }
                }
            };
            addEvent(window, 'resize', that.updateSC);
            document.body.appendChild(that.sc);

            live('autocomplete-suggestion', 'mouseleave', function (e) {
                var sel = that.sc.querySelector('.autocomplete-suggestion.selected');
                if (sel) setTimeout(function () {
                    sel.className = sel.className.replace('selected', '');
                }, 20);
            }, that.sc);

            live('autocomplete-suggestion', 'mouseover', function (e) {
                var sel = that.sc.querySelector('.autocomplete-suggestion.selected');
                if (sel) sel.className = sel.className.replace('selected', '');
                this.className += ' selected';
            }, that.sc);

            live('autocomplete-suggestion', 'mousedown', function (e) {
                if (hasClass(this, 'autocomplete-suggestion')) {
                    // else outside click
                    var v = this.getAttribute('data-val');
                    that.value = v;
                    o.onSelect(e, v, this);
                    that.sc.style.display = 'none';
                }
            }, that.sc);

            that.blurHandler = function () {
                try {
                    var over_sb = document.querySelector('.autocomplete-suggestions:hover');
                } catch (e) {
                    var over_sb = 0;
                }
                if (!over_sb) {
                    that.last_val = that.value;
                    that.sc.style.display = 'none';
                    setTimeout(function () {
                        that.sc.style.display = 'none';
                    }, 350); // hide suggestions on fast input
                } else if (that !== document.activeElement) setTimeout(function () {
                    that.focus();
                }, 20);
            };
            addEvent(that, 'blur', that.blurHandler);

            var suggest = function suggest(data) {
                var val = that.value;
                that.cache[val] = data;
                if (data.length && val.length >= o.minChars) {
                    var s = '';
                    for (var i = 0; i < data.length; i++) {
                        s += o.renderItem(data[i], val);
                    }that.sc.innerHTML = s;
                    that.updateSC(0);
                } else that.sc.style.display = 'none';
            };

            that.keydownHandler = function (e) {
                var key = window.event ? e.keyCode : e.which;
                // down (40), up (38)
                if ((key == 40 || key == 38) && that.sc.innerHTML) {
                    var next,
                        sel = that.sc.querySelector('.autocomplete-suggestion.selected');
                    if (!sel) {
                        next = key == 40 ? that.sc.querySelector('.autocomplete-suggestion') : that.sc.childNodes[that.sc.childNodes.length - 1]; // first : last
                        next.className += ' selected';
                        that.value = next.getAttribute('data-val');
                    } else {
                        next = key == 40 ? sel.nextSibling : sel.previousSibling;
                        if (next) {
                            sel.className = sel.className.replace('selected', '');
                            next.className += ' selected';
                            that.value = next.getAttribute('data-val');
                        } else {
                            sel.className = sel.className.replace('selected', '');that.value = that.last_val;next = 0;
                        }
                    }
                    that.updateSC(0, next);
                    return false;
                }
                // esc
                else if (key == 27) {
                        that.value = that.last_val;that.sc.style.display = 'none';
                    }
                    // enter
                    else if (key == 13 || key == 9) {
                            var sel = that.sc.querySelector('.autocomplete-suggestion.selected');
                            if (sel && that.sc.style.display != 'none') {
                                o.onSelect(e, sel.getAttribute('data-val'), sel);setTimeout(function () {
                                    that.sc.style.display = 'none';
                                }, 20);
                            }
                        }
            };
            addEvent(that, 'keydown', that.keydownHandler);

            that.keyupHandler = function (e) {
                var key = window.event ? e.keyCode : e.which;
                if (!key || (key < 35 || key > 40) && key != 13 && key != 27) {
                    var val = that.value;
                    if (val.length >= o.minChars) {
                        if (val != that.last_val) {
                            that.last_val = val;
                            clearTimeout(that.timer);
                            if (o.cache) {
                                if (val in that.cache) {
                                    suggest(that.cache[val]);return;
                                }
                                // no requests if previous suggestions were empty
                                for (var i = 1; i < val.length - o.minChars; i++) {
                                    var part = val.slice(0, val.length - i);
                                    if (part in that.cache && !that.cache[part].length) {
                                        suggest([]);return;
                                    }
                                }
                            }
                            that.timer = setTimeout(function () {
                                o.source(val, suggest);
                            }, o.delay);
                        }
                    } else {
                        that.last_val = val;
                        that.sc.style.display = 'none';
                    }
                }
            };
            addEvent(that, 'keyup', that.keyupHandler);

            that.focusHandler = function (e) {
                that.last_val = '\n';
                that.keyupHandler(e);
            };
            if (!o.minChars) addEvent(that, 'focus', that.focusHandler);
        }

        // public destroy method
        this.destroy = function () {
            for (var i = 0; i < elems.length; i++) {
                var that = elems[i];
                removeEvent(window, 'resize', that.updateSC);
                removeEvent(that, 'blur', that.blurHandler);
                removeEvent(that, 'focus', that.focusHandler);
                removeEvent(that, 'keydown', that.keydownHandler);
                removeEvent(that, 'keyup', that.keyupHandler);
                if (that.autocompleteAttr) that.setAttribute('autocomplete', that.autocompleteAttr);else that.removeAttribute('autocomplete');
                document.body.removeChild(that.sc);
                that = null;
            }
        };
    }
    return autoComplete;
}();

},{}],106:[function(require,module,exports){
'use strict';

module.exports = Object.create({
    add: function add(callback) {
        if (!this.callbacks.length) window.addEventListener('resize', this.onResize.bind(this));
        this.callbacks.push(callback);
    },
    onResize: function onResize() {
        if (this.running) return;

        this.running = true;

        window.requestAnimationFrame ? window.requestAnimationFrame(this.runCallbacks.bind(this)) : setTimeout(this.runCallbacks, 66);
    },
    runCallbacks: function runCallbacks() {
        this.callbacks = this.callbacks.filter(function (callback) {
            return callback();
        });
        this.running = false;
    }
}, { callbacks: { writable: true, value: [] }, running: { writable: true, value: false } });

},{}],107:[function(require,module,exports){
'use strict';

var MyView = require('./MyView'),
    Modal = function Modal() {
    return MyView.apply(this, arguments);
};

MyView.prototype._.extend(Modal.prototype, MyView.prototype, {
    checkForEnter: function checkForEnter(e) {
        if (e.keyCode === 13) this.emitConfirmation();
    },


    emitConfirmation: function emitConfirmation() {
        this.emit('submit', this.getFormData());
    },

    events: {
        'confirmBtn': { event: 'click', selector: '', method: 'emitConfirmation' }
    },

    hide: function hide(options) {

        this.templateData = this._.pick(this.templateData, this.templateDataKeys);

        this.templateData.container.modal('hide');

        this.templateData.title.text('');
        this.templateData.header.show();
        this.templateData.body.removeClass('hide').empty();
        this.templateData.footer.show();
        this.templateData.cancelBtn.show().text('Cancel');
        this.templateData.closeBtn.show();
        this.templateData.confirmBtn.show().text('Save');

        return this;
    },

    postRender: function postRender() {
        var _this = this;

        this.$(document).on('keyup', this.checkForEnter.bind(this));

        this.templateData.container.on('hidden.bs.modal', function () {
            _this.hide({ reset: true });
            _this.emit('hidden');
            _this.removeAllListeners('submit');
        });

        this.templateData.container.on('shown.bs.modal', function () {
            var firstInput = _this.$('.modal-body input:first');
            _this.emit('shown');
            if (firstInput.length && !/date/.test(firstInput.attr('id'))) firstInput.focus();
        });

        return this;
    },

    requiresLogin: false,

    show: function show(options) {

        this.templateDataKeys = Object.keys(this.templateData);

        var bsOpts = { show: true };

        if (options.title) {
            this.templateData.title.text(options.title);
            this.templateData.header.show();
        } else {
            this.templateData.header.hide();
        }

        if (options.body) {
            this.templateData.body.removeClass('hide');
            options.body.charAt(0) === '<' ? this.slurpTemplate({ template: options.body, insertion: { $el: this.templateData.body, method: 'append' } }) : this.templateData.body.html(options.body);
        } else if (!options.body && this.templateData.body.children().length === 0) {
            this.templateData.body.addClass('hide');
        }

        if (options.hideFooter) this.templateData.footer.hide();

        if (options.confirmText) this.templateData.confirmBtn.text(options.confirmText);

        if (options.hideCancelBtn) this.templateData.cancelBtn.hide();
        if (options.cancelText) this.templateData.cancelBtn.text(options.cancelText);

        if (options.static) {
            bsOpts.backdrop = 'static';
            bsOpts.keyboard = false;
            this.templateData.closeBtn.hide();
        }

        this.templateData.container.modal(bsOpts);

        return this;
    },


    template: require('./templates/Modal'),

    updateContent: function updateContent(updates) {
        var _this2 = this;

        this._.updates.each(function (value, key) {
            return _this2.templateData[key].html(value);
        });
    }

});

module.exports = new Modal({ container: MyView.prototype.$('body') });

},{"./MyView":90,"./templates/Modal":160}],108:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var List = require('../util/List'),
    DateSelection = function DateSelection() {
    return List.apply(this, arguments);
};

_extends(DateSelection.prototype, List.prototype, {

    ItemView: require('./PickupDates'),

    collection: { comparator: 'startEpoch' },

    getItemViewOptions: function getItemViewOptions() {
        return { container: this.templateData.shares };
    },
    itemModels: function itemModels() {
        return this.signupData.shares.models;
    },
    postRender: function postRender() {
        var _this = this;

        List.prototype.postRender.call(this);

        this.signupData.shares.on('add', function (share) {
            return _this.items.add(share);
        }).on('remove', function (share) {
            return _this.items.remove(share);
        });

        this.preValidate();
    },
    preValidate: function preValidate() {
        var _this2 = this;

        this.goBack = false;

        this.items.forEach(function (share) {
            var selectedDelivery = share.get('selectedDelivery');

            if (!Number.isInteger(selectedDelivery.dayofweek) || !selectedDelivery.starttime || !selectedDelivery.starttime) {
                share.set({ selectedDelivery: {} });
                _this2.goBack = true;
            }
        });
    },


    requiresLogin: false,

    selection: true,

    show: function show() {
        List.prototype.show.call(this);

        this.preValidate();

        return this;
    },


    template: require('../../templates/signup/dateSelection'),

    validate: function validate() {
        var _this3 = this;

        var valid = true,
            errorViews = [],
            targetErrorView = null;

        Object.keys(this.itemViews).forEach(function (id) {
            if (!_this3.itemViews[id].valid) {
                valid = false;
                errorViews.push(_this3.itemViews[id].templateData.container);
                _this3.itemViews[id].templateData.container.addClass('has-error');
            }
        });

        if (errorViews.length) {
            targetErrorView = errorViews.slice(-1)[0];
            this.$('html, body').animate({
                scrollTop: targetErrorView.offset().top
            }, 500);
        }

        if (valid) {
            //.reject( deliveryDay => deliveryDay.get('unselectable') )

            this.items.forEach(function (item) {
                return item.set('skipDays', _this3._(item.get('deliveryDates').reject(function (deliveryDay) {
                    return _this3.itemViews[item.id].selectedItems[deliveryDay.id] ? true : false;
                })).map(function (deliveryDay) {
                    return deliveryDay.id;
                }));
            });
        }

        return valid;
    }
});

module.exports = DateSelection;

},{"../../templates/signup/dateSelection":47,"../util/List":187,"./PickupDates":118}],109:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var List = require('../util/List'),
    Delivery = function Delivery() {
    return List.apply(this, arguments);
};

_extends(Delivery.prototype, List.prototype, {

    ItemView: require('./DeliveryOptions'),

    Models: {
        DeliveryRoute: require('../../models/DeliveryRoute')
    },

    collection: { comparator: 'startEpoch' },

    getItemViewOptions: function getItemViewOptions() {
        return { container: this.templateData.shares, signupData: this.signupData };
    },
    itemModels: function itemModels() {
        return this.signupData.shares.models;
    },
    postRender: function postRender() {
        var _this = this;

        List.prototype.postRender.call(this);

        this.signupData.shares.on('add', function (share) {
            return _this.items.add(share);
        }).on('remove', function (share) {
            return _this.items.remove(share);
        });
    },


    requiresLogin: false,

    template: require('../../templates/signup/delivery'),

    templates: {
        verifyAddress: require('../../templates/signup/verifyAddress')
    },

    validate: function validate() {
        var _this2 = this;

        var valid = true,
            errorViews = [],
            targetErrorView = null,
            homeDeliverySelected = false,
            addressModel = this.user.get('addressModel'),
            postalCode = addressModel && addressModel.postalCode ? addressModel.postalCode : undefined,
            deferred = this.Q.defer();

        Object.keys(this.itemViews).forEach(function (id) {
            if (!_this2.itemViews[id].valid) {
                valid = false;
                errorViews.push(_this2.itemViews[id].templateData.container);
                _this2.itemViews[id].templateData.container.addClass('has-error');
            }
        });

        if (!valid) return false;

        Object.keys(this.itemViews).forEach(function (id) {
            _this2.items.get(id).set('selectedDelivery', _extends({}, _this2.itemViews[id].selectedDelivery));
            if (_this2.itemViews[id].selectedDelivery.isHome) homeDeliverySelected = true;
        });

        if (errorViews.length) {
            targetErrorView = errorViews.slice(-1)[0];
            this.$('html, body').animate({
                scrollTop: targetErrorView.offset().top
            }, 500);
        }

        if (!valid) return false;

        if (homeDeliverySelected && this.user.get('customAddress')) {
            this.modalView.show({
                body: this.templates.verifyAddress({ address: this.user.get('address'), zipCode: postalCode }),
                title: 'Verify Adress' }).on('hidden', function () {

                Object.keys(_this2.itemViews).forEach(function (id) {
                    var selectedDelivery = _this2.items.get(id).get('selectedDelivery');
                    if (!selectedDelivery.dayofweek || !selectedDelivery.starttime || !selectedDelivery.endtime) deferred.reject();
                });

                deferred.resolve();
            }).on('submit', function () {
                var zipRoute = new (_this2.Model.extend({ parse: function parse(response) {
                        return response[0];
                    }, urlRoot: "/zipcoderoute" }))(),
                    homeDeliveryRoute = new _this2.Models.DeliveryRoute(),
                    userAttributes;

                _this2.$('#zipCodeFormGroup').removeClass('has-error');
                _this2.$('#zipCodeHelpBlock').addClass('hide');

                if (!_this2.$('#verifiedZipCode').val().length) {
                    _this2.$('#zipCodeFormGroup').addClass('has-error');
                    _this2.$('#zipCodeHelpBlock').removeClass('hide');
                    return;
                }

                _this2.Q(zipRoute.fetch({ data: { zipcode: _this2.$('#verifiedZipCode').val() } })).then(function () {
                    if (Object.keys(zipRoute.attributes).length === 0) {
                        _this2.$('#zipCodeFormGroup').addClass('has-error');
                        _this2.$('#zipCodeHelpBlock').removeClass('hide');
                        return;
                    }

                    return _this2.Q(homeDeliveryRoute.set({ id: zipRoute.get('routeid') }).fetch()).then(function () {
                        Object.keys(_this2.itemViews).forEach(function (id) {
                            var selectedDelivery = _extends({}, _this2.itemViews[id].selectedDelivery, homeDeliveryRoute.pick(['dayofweek', 'starttime', 'endtime']));
                            if (_this2.itemViews[id].selectedDelivery.isHome) {
                                _this2.items.get(id).set('selectedDelivery', selectedDelivery);
                                _this2.itemViews[id].selectedDelivery = selectedDelivery;
                                _this2.itemViews[id].showFeedback(_this2.itemViews[id].feedback.home(selectedDelivery));
                            }
                        });

                        userAttributes = _extends({}, _this2.user.attributes, {
                            address: _this2.$('#verifiedAddress').val(),
                            addressModel: _extends(_this2.user.get('addressModel') || {}, { postalCode: _this2.$('#verifiedZipCode').val(), types: ["street_address"] }),
                            customAddress: false
                        });

                        return _this2.Q(_this2.$.ajax({ data: JSON.stringify(userAttributes), method: "PATCH", url: "/user" }));
                    }).then(function () {
                        _this2.user.set(userAttributes, { silent: true });
                        _this2.modalView.templateData.container.modal('hide');
                        deferred.resolve(true);
                    });
                }).fail(function (e) {
                    console.log(e.stack || e);
                    deferred.reject(e);
                }).done();
            });

            return deferred.promise;
        }

        return true;
    }
});

module.exports = Delivery;

},{"../../models/DeliveryRoute":20,"../../templates/signup/delivery":48,"../../templates/signup/verifyAddress":65,"../util/List":187,"./DeliveryOptions":111}],110:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var ListItem = require('../util/ListItem'),
    DeliveryOption = function DeliveryOption() {
    return ListItem.apply(this, arguments);
};

_extends(DeliveryOption.prototype, ListItem.prototype, {

    requiresLogin: false,

    template: require('../../templates/signup/deliveryOption')

});

module.exports = DeliveryOption;

},{"../../templates/signup/deliveryOption":49,"../util/ListItem":188}],111:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var List = require('../util/List'),
    DeliveryOptions = function DeliveryOptions() {
    return List.apply(this, arguments);
};

_extends(DeliveryOptions.prototype, List.prototype, {

    ItemView: require('./DeliveryOption'),

    Models: {
        DeliveryRoute: require('../../models/DeliveryRoute')
    },

    Views: {
        Dropoffs: require('./Dropoffs')
    },

    farmFeedback: function farmFeedback(model) {
        var _this = this;

        this.farmPickup = new (this.Models.DeliveryRoute.extend({ parse: function parse(response) {
                return _this.Models.DeliveryRoute.prototype.parse(response[0]);
            } }))();
        this.farmPickup.fetch({ data: { label: 'farm' } }).done(function () {
            if (Object.keys(_this.farmPickup.attributes).length === 0) {
                _this.valid = false;
                return _this.showFeedback(_this.feedback.noFarmRoute());
            }

            _this.showFeedback(_this.feedback.farm(_this.farmPickup.attributes));

            _this.selectedDelivery = _extends({}, { deliveryoptionid: model.id }, _this.farmPickup.pick(['dayofweek', 'starttime', 'endtime']));

            _this.valid = true;
        });
    },


    feedback: {
        home: require('../../templates/signup/homeDeliveryFeedback'),
        farm: require('../../templates/signup/farmPickupFeedback'),
        group: function group() {
            return "Please select a dropoff location below.";
        },
        invalidZip: function invalidZip(zipcode) {
            return this.util.format('Postal Code of %s is not in our delivery area.  Please contact us to discuss options.', zipcode);
        },
        noFarmRoute: function noFarmRoute() {
            return "There is currently an error with On-Farm Pickup selection.";
        }
    },

    getItemViewOptions: function getItemViewOptions() {
        return { container: this.templateData.options };
    },
    getTemplateOptions: function getTemplateOptions() {
        return this.model.attributes;
    },
    groupFeedback: function groupFeedback(deliveryOption) {
        var _this2 = this;

        if (this.dropoffView) {
            if (!Object.keys(this.dropoffView.selectedItems).length) this.showFeedback(this.feedback.group());
            return this.slideIn(this.dropoffView.templateData.container.get(0), 'right');
        }

        this.groupDropoffPromise.then(function () {

            if (!_this2.selectedDelivery || _this2.selectedDelivery && !_this2.selectedDelivery.groupdropoffid) _this2.showFeedback(_this2.feedback.group());

            _this2.dropoffView = new _this2.Views.Dropoffs({ container: _this2.templateData.dropoffs }).on('itemUnselected', function () {
                _this2.dropoffView.itemViews.forEach(function (view) {
                    return _this2.fadeIn(view.templateData.container.get(0));
                });

                _this2.showFeedback(_this2.feedback.group());

                _this2.valid = false;
            }).on('itemSelected', function (model) {
                var selectedId = model.id;

                _this2.model.get('groupdropoffs').forEach(function (dropoffModel) {
                    if (dropoffModel.id !== selectedId) _this2.fadeOut(_this2.dropoffView.itemViews[dropoffModel.id].templateData.container.get(0));
                });

                _this2.selectedDelivery = _extends({}, { deliveryoptionid: deliveryOption.id, groupdropoffid: model.id }, model.pick(['dayofweek', 'starttime', 'endtime']));

                _this2.templateData.feedback.empty();

                _this2.valid = true;
            }).on('itemAdded', function (model) {
                var selectedDelivery = _this2.model.get('selectedDelivery');
                if (selectedDelivery && Object.keys(_this2.dropoffView.itemViews).length == _this2.dropoffView.items.length && _this2.dropoffView.itemViews[selectedDelivery.groupdropoffid]) {

                    _this2.dropoffView.selectItem(_this2.dropoffView.items.get(selectedDelivery.groupdropoffid));
                }
            });

            _this2.dropoffView.items.reset(_this2.model.get('groupdropoffs').models);

            if (_this2.model.get('groupdropoffs').length === 0) {
                _this2.dropoffView.templateData.container.text("No available group dropoff locations, please select another option");
            }

            _this2.slideIn(_this2.dropoffView.templateData.container.get(0), 'right');
        }).fail(function (e) {
            return console.log(e.stack || e);
        }).done();
    },
    homeFeedback: function homeFeedback(deliveryOption) {
        var _this3 = this;

        var addressModel = this.user.get('addressModel'),
            userPostalCode = addressModel ? addressModel.postalCode : undefined;

        if (!userPostalCode) {

            this.showFeedback('<div>Because we could not lookup your address, we are currently unable to provide a delivery day for the week or time.  We will take care of this in the next step by having you verify your address.</div>');

            this.selectedDelivery = { deliveryoptionid: deliveryOption.id, isHome: true };

            return this.valid = true;
        }

        this.zipRoute = new (this.Model.extend({ parse: function parse(response) {
                return response[0];
            }, urlRoot: "/zipcoderoute" }))();
        this.homeDeliveryRoute = new this.Models.DeliveryRoute();

        this.zipRoute.fetch({ data: { zipcode: userPostalCode } }).fail(function (e) {
            return console.log(e.stack || e);
        }).done(function () {
            if (Object.keys(_this3.zipRoute.attributes).length === 0) {
                _this3.valid = false;
                return _this3.showFeedback(_this3.feedback.invalidZip.call(_this3, userPostalCode));
            }
            _this3.homeDeliveryRoute.set({ id: _this3.zipRoute.get('routeid') }).fetch().fail(function (e) {
                return console.log(e.stack || e);
            }).done(function () {
                _this3.showFeedback(_this3.feedback.home(_this3.homeDeliveryRoute.attributes));

                _this3.selectedDelivery = _extends({ deliveryoptionid: deliveryOption.id, isHome: true }, _this3.homeDeliveryRoute.pick(['dayofweek', 'starttime', 'endtime']));

                _this3.valid = true;
            });
        });
    },
    postRender: function postRender() {
        var _this4 = this;

        var share = this.model;

        this.selection = 'single';

        List.prototype.postRender.call(this);

        this.on('itemAdded', function (model) {
            var price = parseFloat(model.get('price').replace(/\$|,/g, "")),
                selectedDelivery = _this4.model.get('selectedDelivery');

            if (price == 0) _this4.itemViews[model.id].templateData.deliveryPrice.text("No charge");else if (price < 0) _this4.itemViews[model.id].templateData.deliveryPrice.text(_this4.util.format('Save %s per week', model.get('price').replace('-', '')));

            if (selectedDelivery && selectedDelivery.deliveryoptionid == model.id) _this4.selectItem(model);
        });

        share.getDeliveryOptions().then(function () {
            var deliveryOptions = share.get('deliveryoptions');

            _this4.items.reset(deliveryOptions.models);

            if (deliveryOptions.length === 0) _this4.templateData.options.text('This share does not have delivery options associated with it.  Please contact Patchwork and sign up for this particular share at a later date.');
        }).fail(function (e) {
            return console.log(e.stack || e);
        }).done();

        this.on('itemSelected', function (model) {
            _this4.templateData.container.removeClass('has-error');
            if (_this4.dropoffView && model.get('name') !== 'group') {
                _this4.dropoffView.delete();_this4.dropoffView = undefined;
            }
            _this4[_this4.util.format('%sFeedback', model.get('name'))](model);
        }).on('itemUnselected', function () {
            _this4.valid = false;
            _this4.templateData.feedback.empty();
            _this4.selectedDelivery = null;
            if (_this4.dropoffView) _this4.slideOut(_this4.dropoffView.templateData.container.get(0), 'right');
        });

        this.groupDropoffPromise = share.getGroupDropoffs();

        this.user.on('change:address', function () {
            var selectedIds = Object.keys(_this4.selectedItems);

            if (selectedIds.length === 0) return;

            _this4.unselectItem(_this4.items.get(selectedIds[0]));
        });
    },


    requiresLogin: false,

    showFeedback: function showFeedback(html) {
        this.templateData.feedback.html(html).show();
    },


    template: require('../../templates/signup/deliveryOptions')
});

module.exports = DeliveryOptions;

},{"../../models/DeliveryRoute":20,"../../templates/signup/deliveryOptions":50,"../../templates/signup/farmPickupFeedback":53,"../../templates/signup/homeDeliveryFeedback":54,"../util/List":187,"./DeliveryOption":110,"./Dropoffs":113}],112:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var Item = require('../util/ListItem'),
    Dropoff = function Dropoff() {
    return Item.apply(this, arguments);
};

_extends(Dropoff.prototype, Item.prototype, {

    requiresLogin: false,

    template: require('../../templates/signup/dropoff')

});

module.exports = Dropoff;

},{"../../templates/signup/dropoff":51,"../util/ListItem":188}],113:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var List = require('../util/List'),
    Dropoffs = function Dropoffs() {
    return List.apply(this, arguments);
};

_extends(Dropoffs.prototype, List.prototype, {

    ItemView: require('./Dropoff'),

    requiresLogin: false,

    selection: 'single',

    template: require('../../templates/signup/dropoffs')

});

module.exports = Dropoffs;

},{"../../templates/signup/dropoffs":52,"../util/List":187,"./Dropoff":112}],114:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var View = require('../MyView'),
    Form = require('../util/Form').prototype,
    MemberInfo = function MemberInfo() {
    return View.apply(this, arguments);
};

_extends(MemberInfo.prototype, View.prototype, {

    Customer: require('../../models/Customer'),
    MemberFoodOmission: require('../../models/MemberFoodOmission'),

    addressSelected: function addressSelected() {
        var place = this.addressAutoComplete.getPlace();

        this.templateData.address.val(place.formatted_address);
        this.showValid(this.templateData.address);

        this.user.set({
            address: place.formatted_address,
            addressModel: {
                postalCode: this._(place.address_components).find(function (component) {
                    return component.types[0] === "postal_code";
                }).short_name,
                types: place.types
            }
        });
    },
    checkForAccount: function checkForAccount(valid) {
        var _this = this;

        var email = this.templateData.email.val();
        if (!email) return this.Q();

        return this.Q(this.$.ajax({
            data: JSON.stringify({ email: this.$.trim(email) }),
            headers: { 'Content-Type': 'application/json' },
            method: "POST",
            url: "/check-email"
        })).then(function (response) {
            if (response.hasAccount) {
                _this.templateData.existingAccountNotice.removeClass('fd-hidden');
                _this.templateData.container.get(0).scrollIntoView({ behavior: 'smooth' });
                valid = false;
            }

            return _this.Q();
        });
    },


    emailRegex: Form.emailRegex,

    events: {
        'infoBtn': { method: 'showInfoModal' }
    },

    fields: [{
        name: 'name',
        label: 'Name',
        type: 'text',
        error: "Name is a required field.",
        validate: function validate(val) {
            return this.$.trim(val) !== '';
        }
    }, {
        name: 'email',
        label: 'Email',
        type: 'text',
        error: "Please enter a valid email address.",
        validate: function validate(val) {
            return this.emailRegex.test(val);
        }
    }, {
        name: 'phonenumber',
        label: 'Phone Number',
        type: 'text',
        error: "Please enter a valid phone number.",
        validate: function validate(val) {
            return val.length > 8;
        }
    }, {
        name: 'address',
        label: 'Address 1',
        type: 'text',
        error: "Please enter a valid address.",
        validate: function validate(val) {
            return this.validateAddress(val);
        }
    }, {
        name: 'extraaddress',
        label: 'Address 2',
        type: 'text',
        validate: function validate() {
            return true;
        }
    }, {
        name: 'password',
        label: 'Password',
        type: 'password',
        error: "Password must be at least six characters.",
        validate: function validate(val) {
            return this.user.isAdmin() || this.user.isLoggedIn() || val.length > 5;
        }
    }, {
        name: 'repeatpassword',
        label: 'Repeat Password',
        type: 'password',
        error: "Passwords must match.",
        validate: function validate(val) {
            return this.user.isAdmin() || this.user.isLoggedIn() || val === this.templateData.password.val();
        }
    }, {
        name: 'omission',
        label: 'Opt-out Vegetable',
        type: 'select',
        info: true,
        validate: function validate() {
            return true;
        }
    }, {
        name: 'heard',
        label: 'How you heard about us',
        type: 'text',
        validate: function validate() {
            return true;
        }
    }],

    geolocate: function geolocate() {
        var _this2 = this;

        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                return _this2.addressAutoComplete.setBounds(new google.maps.Circle({
                    center: {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    },
                    radius: position.coords.accuracy }).getBounds());
            });
        }
    },
    getTemplateOptions: function getTemplateOptions() {
        return { fields: this.fields };
    },
    initAutocomplete: function initAutocomplete() {
        this.addressAutoComplete = new google.maps.places.Autocomplete(this.templateData.address.get(0), { types: ['address'] });

        this.addressAutoComplete.addListener('place_changed', this.addressSelected.bind(this));
    },
    onSignupNavigation: function onSignupNavigation() {
        var _this3 = this;

        this.fields.filter(function (field) {
            return field.name !== 'omission';
        }).forEach(function (field) {
            return _this3.removeError(_this3.templateData[field.name]);
        });
        this.templateData.existingAccountNotice.addClass('fd-hidden');
        this.populateFields();
    },
    populateFields: function populateFields() {
        var _this4 = this;

        if (this.user.isLoggedIn()) {
            this.Customer.get({ query: { email: this.user.get('email'), 'id': { operation: 'join', value: { table: 'member', column: 'personid' } } } }).then(function () {
                var customer = _this4.Customer.data[0];

                Object.keys(customer.person.data).forEach(function (key) {
                    if (_this4.fields.find(function (field) {
                        return field.name === key;
                    }) && !_this4.user.get(key)) _this4.templateData[key].val(customer.person.data[key]);
                });

                Object.keys(customer.member.data).forEach(function (key) {
                    if (_this4.fields.find(function (field) {
                        return field.name === key;
                    }) && !_this4.user.get(key)) _this4.templateData[key].val(customer.member.data[key]);
                });

                _this4.memberAddress = customer.member.data.address;
                _this4.memberZipcode = customer.member.data.zipcode;
                _this4.setFoodOmission(customer).catch(function (e) {
                    console.log('error', 'Error retrieving Food Omission Data');_this4.Error;
                });
            });
        } else this.Customer.data = {};

        this.fields.forEach(function (field) {
            if (_this4.user.has(field.name)) {
                _this4.templateData[field.name].val(_this4.user.get(field.name));
            }
        });

        this.templateData.email.get(0).closest('.form-group').classList.toggle('fd-hidden', this.user.isLoggedIn());
        this.templateData.password.get(0).closest('.form-group').classList.toggle('fd-hidden', this.user.isLoggedIn());
        this.templateData.repeatpassword.get(0).closest('.form-group').classList.toggle('fd-hidden', this.user.isLoggedIn());
    },
    setFoodOmission: function setFoodOmission(customer) {
        var _this5 = this;

        return this.MemberFoodOmission.get({ query: { memberid: customer.member.data.id } }).then(function () {
            if (_this5.MemberFoodOmission.data.length) {
                var datum = _this5.MemberFoodOmission.data[0],
                    index = _this5.FoodOmission.Foods.data.findIndex(function (food) {
                    return food.produceid == datum.produceid && food.produceid !== null || food.producefamilyid == datum.producefamilyid && datum.produceid === null;
                });

                if (index !== -1) {
                    var foodDatum = _this5.FoodOmission.Foods.data[index];
                    datum.name = foodDatum.name;
                    _this5.FoodOmission.ms.setSelection([_extends({}, foodDatum, { id: index })]);
                }
            } else {
                _this5.FoodOmission.clear();
            }

            return Promise.resolve();
        });
    },
    postRender: function postRender() {
        var _this6 = this;

        var self = this;

        if (this.user.isAdmin()) {
            this.views = { memberTypeahead: this.factory.create('memberTypeahead', _extends({ insertion: { el: this.templateData.container.get(0).firstChild, method: 'insertBefore' } })) };
            this.views.memberTypeahead.focus();

            this.views.memberTypeahead.on('customerSelected', function (customer) {
                _this6.selectedCustomer = customer;
                _this6.templateData.name.val(customer.person.data.name);
                _this6.templateData.email.val(customer.person.data.secondaryEmail ? [customer.person.data.email, customer.person.data.secondaryEmail].join(', ') : customer.person.data.email);
                _this6.templateData.phonenumber.val(customer.member.data.phonenumber);
                _this6.templateData.address.val(customer.member.data.address);
                _this6.templateData.extraaddress.val(customer.member.data.extraaddress);
                _this6.templateData.heard.val(customer.member.data.heard);

                _this6.setFoodOmission(customer).catch(function (e) {
                    _this6.Toast.showMessage('error', 'Error retrieving Food Omission Data');_this6.Error;
                });
            });
        }

        window.google && window.google.maps ? this.initAutocomplete() : window.initGMap = function () {
            return _this6.initAutocomplete();
        };

        this.templateData.address.attr('placeholder', '');

        this.FoodOmission = this.factory.create('foodOmission', { insertion: { el: this.templateData.omission.get(0), method: 'after' } });

        this.templateData.omission.remove();

        this.FoodOmission.initializeFoodOmission().then(function () {
            _this6.templateData.omission = _this6.FoodOmission.getMagicSuggest();
        });

        this.populateFields();

        this.templateData.container.find('form input').on('blur', function () {
            var $el = self.$(this),
                field = self._(self.fields).find(function (field) {
                return field.name === $el.attr('id');
            });

            if (field.name === 'address') {
                if (self.templateData.address.val() === '') self.showError($el, field.error);
                return;
            }

            self.Q.fcall(field.validate.bind(self, $el.val())).then(function (valid) {
                if (valid) {
                    self.showValid($el);
                } else {
                    self.showError($el, field.error);
                }
            });
        }).on('focus', function () {
            self.removeError(self.$(this));
        });

        this.fields.forEach(function (field) {
            return _this6.removeError(_this6.templateData[field.name]);
        });
    },
    removeError: function removeError($el) {
        $el.parent().parent().removeClass('has-error');
        $el.next().removeClass('hide').removeClass('glyphicon-remove');
        $el.siblings('.help-block').remove();
    },


    requiresLogin: false,

    showError: function showError($el, error) {
        var formGroup = $el.parent().parent();

        if (formGroup.hasClass('has-error')) return;

        formGroup.removeClass('has-success').addClass('has-feedback has-error');
        $el.next().removeClass('hide').removeClass('glyphicon-ok').addClass('glyphicon-remove').after(Form.templates.fieldError({ error: error }));
    },
    showInfoModal: function showInfoModal() {
        var _this7 = this;

        this.Xhr({ method: 'get', resource: 'csacustomization' }).then(function (data) {
            return _this7.modalView.show({
                body: _this7.templates.csaCustomization(data[0]),
                hideFooter: true
            });
        }).catch(function (e) {
            return new _this7.Error(e);
        });
    },
    showValid: function showValid($el) {
        $el.parent().parent().removeClass('has-error').addClass('has-feedback has-success');
        $el.next().removeClass('hide').removeClass('glyphicon-remove').addClass('glyphicon-ok');
        $el.siblings('.help-block').remove();
    },


    template: require('../templates/MemberInfo'),

    templates: {
        csaCustomization: require('../../templates/csaCustomization')
    },

    validate: function validate() {
        var _this8 = this;

        var valid = true;

        if (this.templateData.container.find('has-error').length) return false;

        return this.Q.all(this.fields.map(function (field) {
            return _this8.Q.when(field.validate.call(_this8, _this8.templateData[field.name].val())).then(function (result) {
                if (result === false) {
                    valid = false;
                    _this8.showError(_this8.templateData[field.name], field.error);
                } else {
                    _this8.user.set(field.name, _this8.templateData[field.name].val());
                }
            });
        })).then(function () {
            if (valid && !_this8.user.isAdmin()) {
                return _this8.Q(_this8.$.ajax({
                    data: JSON.stringify(_this8.user.attributes),
                    method: "PATCH",
                    url: "/user" }));
            }
        }).then(function () {
            return _this8.user.isLoggedIn() ? _this8.Q() : _this8.checkForAccount(valid);
        }).then(function () {
            return valid;
        }).fail(function (e) {
            console.log(e.stack || e);return false;
        });
    },
    validateAddress: function validateAddress(address) {
        var addressModel, customAddress;

        if (this.$.trim(address).length === 0) return false;

        addressModel = this.user.get('addressModel');
        customAddress = address !== this.user.get('address') || !addressModel || !this._(addressModel.types).contains("street_address") ? true : false;

        if (address === this.memberAddress) {
            customAddress = false;
            this.user.set('addressModel', _extends(this.user.get('addressModel') || {}, { postalCode: this.memberZipcode, types: ["street_address"] }));
        }

        this.user.set({ customAddress: customAddress });

        if (customAddress) this.user.set({ addressModel: {} });

        return true;
    }
});

module.exports = MemberInfo;

},{"../../models/Customer":16,"../../models/MemberFoodOmission":28,"../../templates/csaCustomization":45,"../MyView":90,"../templates/MemberInfo":157,"../util/Form":186}],115:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var ListItem = require('../util/ListItem'),
    PaymentOption = function PaymentOption() {
    return ListItem.apply(this, arguments);
};

_extends(PaymentOption.prototype, ListItem.prototype, {

    requiresLogin: false,

    template: require('../../templates/signup/paymentOption')

});

module.exports = PaymentOption;

},{"../../templates/signup/paymentOption":55,"../util/ListItem":188}],116:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var List = require('../util/List'),
    PaymentOptions = function PaymentOptions() {
    return List.apply(this, arguments);
};

_extends(PaymentOptions.prototype, List.prototype, {

    ItemView: require('./PaymentOption'),

    itemModels: [{ id: 1, name: 'cash', label: 'Cash or Check', note: 'Mail payment to Patchwork' }, { id: 2, name: 'card', label: 'Credit Card', note: 'Pay online.' }],

    requiresLogin: false,

    selection: 'single',

    template: require('../../templates/signup/paymentOptions')
});

module.exports = PaymentOptions;

},{"../../templates/signup/paymentOptions":56,"../util/List":187,"./PaymentOption":115}],117:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var ListItem = require('../util/ListItem'),
    PickupDate = function PickupDate() {
    return ListItem.apply(this, arguments);
};

_extends(PickupDate.prototype, ListItem.prototype, {

    requiresLogin: false,

    template: require('../../templates/signup/pickupDate')

});

module.exports = PickupDate;

},{"../../templates/signup/pickupDate":57,"../util/ListItem":188}],118:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var List = require('../util/List'),
    PickupDates = function PickupDates() {
    return List.apply(this, arguments);
};

_extends(PickupDates.prototype, List.prototype, {

    ItemView: require('./PickupDate'),

    getItemViewOptions: function getItemViewOptions() {
        return { container: this.templateData.dates };
    },
    getTemplateOptions: function getTemplateOptions() {
        return this.model.attributes;
    },
    itemModels: function itemModels() {
        return this.model.getDeliveryDates().models;
    },
    postRender: function postRender() {
        var _this = this;

        this.valid = true;

        this.on('itemSelected', function (model) {
            _this.templateData.container.removeClass('has-error');
            _this.updateShare();
        });

        this.on('itemUnselected', function (model) {
            return _this.updateShare();
        });

        this.on('itemAdded', function () {
            if (_this.model.has('skipDays') && _this.model.get('skipDays').length && Object.keys(_this.itemViews).length == _this.items.length) {

                _this.model.set({ skipDays: _this.model.get('skipDays').filter(function (skipDayId) {
                        if (_this.items.get(skipDayId)) {
                            _this.unselectItem(_this.items.get(skipDayId));return true;
                        }
                        return false;
                    })
                });
            }
        });

        this.model.on('change:selectedDelivery', function () {
            return _this.items.reset(_this.itemModels());
        });

        List.prototype.postRender.call(this);
    },


    requiresLogin: false,

    selected: true,

    selection: 'multiSimple',

    template: require('../../templates/signup/pickupDates'),

    updateShare: function updateShare() {
        this.valid = Object.keys(this.selectedItems).length === 0 ? false : true;
    }
});

module.exports = PickupDates;

},{"../../templates/signup/pickupDates":58,"../util/List":187,"./PickupDate":117}],119:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var ListItem = require('../util/ListItem'),
    Share = function Share() {
    return ListItem.apply(this, arguments);
};

_extends(Share.prototype, ListItem.prototype, {
    postRender: function postRender() {
        ListItem.prototype.postRender.call(this);

        this.factory.create('shareBox', { insertion: { el: this.templateData.shareBox.get(0) }, model: this.model });

        if (!this.user.isAdmin() && (/spring/i.test(this.model.get('name')) || /spring/i.test(this.model.get('label')))) {
            this.templateData.container.addClass('inactive').off('click');
        }

        return this;
    },


    requiresLogin: false,

    template: require('../../templates/signup/share')

});

module.exports = Share;

},{"../../templates/signup/share":59,"../util/ListItem":188}],120:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var View = require('../MyView'),
    ShareOption = function ShareOption() {
    return View.apply(this, arguments);
};

_extends(ShareOption.prototype, View.prototype, {

    events: {
        'optionIcon': { method: 'showOptionInfo' }
    },

    getTemplateOptions: function getTemplateOptions() {
        return _extends({}, this.model.attributes, { options: this.model.get('options').map(function (model) {
                return model.attributes;
            }) });
    },
    postRender: function postRender() {
        var _this = this;

        this.updateTotal();

        this.templateData.input.on('change', function () {
            _this.updateTotal();
            _this.emit('changed', _this.templateData.input.val());
        });
    },


    requiresLogin: false,

    showOptionInfo: function showOptionInfo() {
        this.modalView.show({
            title: this.model.get('name'),
            body: this.model.get('description'),
            hideFooter: true
        });
    },


    template: require('../../templates/signup/shareOption'),

    updateTotal: function updateTotal() {
        this.templateData.total.text(this.util.format('$%s per week', parseFloat(this.model.get('options').at(this.templateData.input.get(0).selectedIndex).get('price').replace(/\$|,/g, "")).toFixed(2)));
    }
});

module.exports = ShareOption;

},{"../../templates/signup/shareOption":60,"../MyView":90}],121:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var List = require('../util/List'),
    ShareOptions = function ShareOptions() {
    return List.apply(this, arguments);
};

_extends(ShareOptions.prototype, List.prototype, {

    ItemView: require('./SingleShareOptions'),

    collection: { comparator: 'startEpoch' },

    events: {},

    getItemViewOptions: function getItemViewOptions() {
        return { container: this.templateData.shares, signupData: this.signupData, factory: this.factory };
    },
    itemModels: function itemModels() {
        return this.signupData.shares.models;
    },
    postRender: function postRender() {
        var _this = this;

        List.prototype.postRender.call(this);

        this.signupData.shares.on('add', function (share) {
            return _this.items.add(share);
        }).on('remove', function (share) {
            return _this.items.remove(share);
        });
    },


    requiresLogin: false,

    selection: true,

    template: require('../../templates/signup/shareOptions'),

    validate: function validate() {
        var _this2 = this;

        this.signupData.shares.forEach(function (share) {
            share.set('selectedOptions', share.get('shareoptions').map(function (shareOption) {
                return {
                    shareoptionid: shareOption.id,
                    shareoptionoptionid: _this2.itemViews[share.id].itemViews[shareOption.id].templateData.input.val()
                };
            }));

            share.set('seasonalAddOns', _this2.itemViews[share.id].seasonalAddOns.map(function (addon) {
                var option = _this2.itemViews[share.id].SeasonalAddOnOption.data.find(function (option) {
                    return option.id == _this2.itemViews[share.id].templateData[addon.name].val() && option.seasonalAddOnId === addon.id;
                });

                return {
                    name: addon.name,
                    label: addon.label,
                    seasonalAddOnId: addon.id,
                    seasonalAddOnOptionId: _this2.itemViews[share.id].templateData[addon.name].val(),
                    price: option.price,
                    unit: option.unit,
                    selectedOptionLabel: option.label
                };
            }));
        });

        return true;
    }
});

module.exports = ShareOptions;

},{"../../templates/signup/shareOptions":61,"../util/List":187,"./SingleShareOptions":123}],122:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var List = require('../util/List'),
    ShareSelection = function ShareSelection() {
    return List.apply(this, arguments);
};

_extends(ShareSelection.prototype, List.prototype, {

    ItemView: require('./Share'),

    Models: {
        DeliveryDate: require('../../models/DeliveryDate'),
        Share: require('../../models/Share')
    },

    collection: { comparator: 'startEpoch', model: require('../../models/Share'), url: "/share" },

    events: {
        csaInfoBtn: { method: 'showCSAInfoPageInNewTab' }
    },

    fetch: { data: {
            display: true,
            enddate: JSON.stringify({ operation: '>', value: require('moment')().add(2, 'weeks').format('YYYY-MM-DD') }),
            signupcutoff: JSON.stringify({ operation: '>', value: require('moment')().format('YYYY-MM-DD') })
        } },

    getItemViewOptions: function getItemViewOptions() {
        return { container: this.templateData.shares, factory: this.factory };
    },
    isSeason: function isSeason(season, model) {
        var re = new RegExp(season, 'i');

        return Boolean(re.test(model.get('name')) || re.test(model.get('label')));
    },
    postRender: function postRender() {
        var _this = this;

        List.prototype.postRender.call(this);

        this.on('itemSelected', function (model) {
            _this.templateData.container.removeClass('has-error');
            if (!_this.user.isAdmin() && _this.isSeason('summer', model)) {
                _this.items.forEach(function (share) {
                    if (_this.isSeason('spring', share)) {
                        _this.itemViews[share.id].templateData.container.removeClass('inactive').on('click', function () {
                            return _this.itemViews[share.id].emit('clicked', _this.itemViews[share.id].model);
                        });
                    }
                });
            }
        });

        this.on('itemUnselected', function (model) {
            if (!_this.user.isAdmin() && _this.isSeason('summer', model)) {
                _this.items.forEach(function (share) {
                    if (_this.isSeason('spring', share)) {
                        _this.itemViews[share.id].templateData.container.addClass('inactive').off('click');
                        _this.unselectItem(share);
                    }
                });
            }
        });

        this.signupData.shares = new (this.Collection.extend({ comparator: 'startEpoch' }))();

        this.items.on('reset', function () {
            if (_this.items.length === 0) return _this.emit('noShares');
        });

        this.on('initialized', function () {
            return _this.items.forEach(function (item) {
                var sessionShare = _this.sessionShares.find(function (share) {
                    return share.id === item.id;
                });
                if (sessionShare) {
                    _this.selectItem(item);
                    _this.signupData.shares.add(item);
                    if (sessionShare.seasonalAddOns) item.set('seasonalAddOns', sessionShare.seasonalAddOns);
                    if (sessionShare.selectedOptions) item.set('selectedOptions', sessionShare.selectedOptions);
                    if (sessionShare.selectedDelivery) item.set('selectedDelivery', sessionShare.selectedDelivery);
                    if (sessionShare.skipDays) {
                        item.set('skipDays', sessionShare.skipDays);
                    }
                }
            });
        });

        if (this.sessionShares) {
            this.on('itemAdded', function () {
                if (Object.keys(_this.itemViews).length === _this.items.length) _this.emit('initialized');
            });
        }
    },


    requiresLogin: false,

    selection: true,

    showCSAInfoPageInNewTab: function showCSAInfoPageInNewTab() {
        window.open('/csa#how-do-i-know');
    },


    template: require('../../templates/signup/shares'),

    validate: function validate() {
        var _this2 = this;

        var prevShareIds = this.signupData.shares.map(function (share) {
            return share.id;
        }),
            selectedShareIds = Object.keys(this.selectedItems).map(function (id) {
            return parseInt(id);
        });

        if (selectedShareIds.length === 0) {
            this.templateData.container.addClass('has-error');return false;
        }

        this._(prevShareIds).difference(selectedShareIds).forEach(function (id) {
            var share = _this2.items.get(id);
            share.unset('selectedOptions');
            share.unset('selectedDelivery');
            share.unset('skipDays');
            _this2.signupData.shares.remove(share);
        });

        this._(selectedShareIds).difference(prevShareIds).forEach(function (id) {
            return _this2.signupData.shares.add(_this2.items.get(id));
        });

        return true;
    }
});

module.exports = ShareSelection;

},{"../../models/DeliveryDate":19,"../../models/Share":36,"../../templates/signup/shares":62,"../util/List":187,"./Share":119,"moment":"moment"}],123:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var List = require('../util/List'),
    SingleShareOptions = function SingleShareOptions() {
    return List.apply(this, arguments);
};

_extends(SingleShareOptions.prototype, List.prototype, {

    SeasonalAddOn: Object.create(require('../../models/__proto__'), { resource: { value: 'seasonalAddOn' } }),
    SeasonalAddOnOption: Object.create(require('../../models/__proto__'), { resource: { value: 'seasonalAddOnOption' } }),

    ItemView: require('./ShareOption'),

    getItemViewOptions: function getItemViewOptions() {
        return {
            container: this.templateData.options,
            share: this.model
        };
    },
    getTemplateOptions: function getTemplateOptions() {
        return this.model.attributes;
    },
    insertSeasonalOptions: function insertSeasonalOptions() {
        var _this = this;

        Promise.all([this.SeasonalAddOn.get(), this.SeasonalAddOnOption.get()]).then(function () {
            _this.seasonalAddOns = _this.SeasonalAddOn.data.filter(function (addon) {
                return addon.shareid === _this.model.id;
            });

            if (!_this.seasonalAddOns.length) {
                _this.templateData.seasonalContainer.get(0).classList.add('fd-hidden');
                _this.templateData.seasonalTotal.get(0).parentNode.classList.add('fd-hidden');
                _this.templateData.weeklyHeader.get(0).classList.add('fd-hidden');
                _this.templateData.container.get(0).children[0].classList.add('horizontal');
            }

            _this.seasonalAddOns.forEach(function (addon) {
                var options = _this.SeasonalAddOnOption.data.filter(function (option) {
                    return option.seasonalAddOnId === addon.id;
                });

                _this.slurpTemplate({
                    insertion: { $el: _this.templateData.seasonalOptions },
                    template: _this.Templates.SeasonalAddOn({ name: addon.name, label: addon.label, options: options })
                });

                _this.templateData[addon.name].on('change', function () {
                    return _this.updateSeasonalTotal();
                });
            });

            if (_this.model.get('seasonalAddOns') && _this.model.get('seasonalAddOns').length) {
                _this.model.get('seasonalAddOns').forEach(function (selectedAddon) {
                    _this.templateData[selectedAddon.name].val(selectedAddon.seasonalAddOnOptionId);
                    _this.updateSeasonalTotal();
                });
            }
        }).catch(function (e) {
            return console.log(e.stack || e);
        });
    },
    postRender: function postRender() {
        var _this2 = this;

        var share = this.model;

        List.prototype.postRender.call(this);

        this.insertSeasonalOptions();

        this.on('itemAdded', function (shareOption) {
            _this2.itemViews[shareOption.id].on('changed', function () {
                return _this2.updateTotal();
            });

            if (share.get('selectedOptions')) {
                share.get('selectedOptions').forEach(function (selectedOption) {
                    if (selectedOption.shareoptionid == shareOption.id) {
                        _this2.itemViews[shareOption.id].templateData.input.val(selectedOption.shareoptionoptionid);
                    }
                });
            }

            if (Object.keys(_this2.itemViews).length == _this2.items.length) {
                Object.keys(_this2.itemViews).forEach(function (key) {
                    return _this2.itemViews[key].updateTotal();
                });
                _this2.updateTotal();
            }
        });

        this.factory.create('shareBox', { insertion: { el: this.templateData.shareBox.get(0) }, model: share });

        //TODO: Write UI when no options exist.
        this.model.getShareOptions().then(function () {
            return share.get('shareoptions').forEach(function (shareoption) {
                return _this2.items.add(shareoption);
            });
        }).fail(function (e) {
            return console.log(e.stack || e);
        });
    },


    requiresLogin: false,

    template: require('../../templates/signup/singleShareOptions'),

    Templates: {
        SeasonalAddOn: require('../templates/SeasonalAddOn')
    },

    updateSeasonalTotal: function updateSeasonalTotal() {
        var _this3 = this;

        var seasonalTotal = 0;

        this.seasonalAddOns.forEach(function (addon) {
            var selectedOption = _this3.SeasonalAddOnOption.data.find(function (option) {
                return option.id == _this3.templateData[addon.name].val() && option.seasonalAddOnId === addon.id;
            }),
                optionPrice = parseFloat(selectedOption.price.replace(/\$|,/g, ""));

            seasonalTotal += optionPrice;
            _this3.templateData[addon.name + 'Total'].text('$' + optionPrice.toFixed(2) + ' for the season');
        });

        this.templateData.seasonalTotal.text('$' + seasonalTotal.toFixed(2) + ' for the season');
    },
    updateTotal: function updateTotal() {
        var _this4 = this;

        var total = this.items.map(function (shareOption) {
            return parseFloat(shareOption.get('options').get(_this4.itemViews[shareOption.id].templateData.input.val()).get('price').replace(/\$|,/g, ""));
        }).reduce(function (a, b) {
            return a + b;
        }).toFixed(2);

        this.templateData.weeklyTotal.text(this.util.format('$%s per week', total));
    }
});

module.exports = SingleShareOptions;

},{"../../models/__proto__":40,"../../templates/signup/singleShareOptions":63,"../templates/SeasonalAddOn":164,"../util/List":187,"./ShareOption":120}],124:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var View = require('../MyView'),
    Form = require('../util/Form').prototype,
    Summary = function Summary() {

    window.spinner = this.spinner = new this.Spinner({
        color: '#fff',
        lines: 7,
        length: 2,
        radius: 14,
        scale: 0.5
    });

    return View.apply(this, arguments);
};

_extends(Summary.prototype, View.prototype, {

    DayOfWeekMap: require('../../models/DeliveryRoute').prototype.dayOfWeekMap,

    ContactInfo: require('../../models/ContactInfo'),

    Spinner: require('../../plugins/spinner.js'),

    buildRequest: function buildRequest() {
        var addressModel = this.user.get('addressModel');

        return JSON.stringify({
            member: _extends(this.user.pick(['name', 'email', 'phonenumber', 'password', 'repeatpassword', 'address', 'extraaddress', 'heard', 'omission']), { zipcode: addressModel && addressModel.postalCode ? addressModel.postalCode : '' }),
            payment: this.paymentSelected === 'card' ? this.getFormData() : {},
            shares: this.buildShares(),
            total: this.fee ? this.grandTotalPlusFee : this.grandTotal,
            isAdmin: this.user.isAdmin()
        });
    },
    buildShares: function buildShares() {
        var _this = this;

        return this.signupData.shares.map(function (share) {
            var selectedWeeks = share.get('selectedDates').length,
                skipDays = share.get('skipDays'),
                skipDaysTotal = skipDays ? skipDays.length : 0;

            return {
                id: share.id,
                description: _this.util.format('From %s to %s you will be receiving fresh food for %d out of %d weeks.', share.get('humanStartdate'), share.get('humanEnddate'), selectedWeeks, selectedWeeks + skipDaysTotal),
                label: share.get('label'),
                options: share.get('selectedOptions'),
                seasonalAddOns: share.get('seasonalAddOns'),
                delivery: _this._(share.get('selectedDelivery')).pick(['deliveryoptionid', 'groupdropoffid', 'description']),
                skipDays: skipDays ? skipDays.map(function (skipDayId) {
                    return share.get('deliveryDates').get(skipDayId).get('date');
                }) : undefined,
                total: share.get('total')
            };
        });
    },
    cardPaymentSelected: function cardPaymentSelected() {
        var _this2 = this;

        this.signupHandler = function () {
            if (_this2.validateCardInfo()) _this2.signup();
        };

        this.fee = false;
        this.paymentSelected = 'card';
        this.updateGrandTotal();

        this.templateData.paymentForm.removeClass('hide');

        this.enableSignupBtn();
    },
    cashPaymentSelected: function cashPaymentSelected() {
        var _this3 = this;

        this.signupHandler = function () {
            return _this3.signup();
        };

        this.fee = false;
        this.paymentSelected = 'cash';

        this.enableSignupBtn();
    },
    disableSignupBtn: function disableSignupBtn() {
        this.templateData.signupBtn.addClass('disabled').removeClass('btn-success').off('click');
    },
    enableSignupBtn: function enableSignupBtn() {
        this.templateData.signupBtn.removeClass('disabled').addClass('btn-success').off('click').one('click', this.signupHandler);
    },


    events: {
        'paymentForm': [{ event: 'blur', 'selector': 'input', method: 'onInputBlur' }, { event: 'focus', 'selector': 'input', method: 'onInputFocus' }]
    },

    fields: {
        number: {
            error: "Enter a card number",
            validate: function validate(val) {
                return this.$.trim(val).length > 0;
            }
        },
        "exp_month": {
            error: 'Enter the month in "MM" format',
            validate: function validate(val) {
                return val.length === 2;
            }
        },
        "exp_year": {
            error: 'Enter the year in "YYYY" format',
            validate: function validate(val) {
                return val.length === 4;
            }
        },
        cvc: {
            error: "Enter a cvc number",
            validate: function validate(val) {
                return this.$.trim(val).length > 0;
            }
        }
    },

    getTemplateOptions: function getTemplateOptions() {
        var _this4 = this;

        var spaceTwoTab = "\r\n\t\t";
        return {
            containerClass: this.containerClass,
            shares: this.signupData.shares.map(function (share) {
                var selectedDelivery = share.get('deliveryoptions').get(share.get('selectedDelivery').deliveryoptionid),
                    groupDropoff = share.get('selectedDelivery').groupdropoffid ? share.get('groupdropoffs').get(share.get('selectedDelivery').groupdropoffid) : undefined,
                    times = groupDropoff ? groupDropoff.pick(['starttime', 'endtime']) : _this4._(share.get('selectedDelivery')).pick(['starttime', 'endtime']),
                    shareOptionWeeklyTotal = share.get('selectedOptions').map(function (selectedOption) {
                    return parseFloat(share.get('shareoptions').get(selectedOption.shareoptionid).get('options').get(selectedOption.shareoptionoptionid).get('price').replace(/\$|,/g, ""));
                }).reduce(function (a, b) {
                    return a + b;
                }),
                    weeklyTotal = shareOptionWeeklyTotal + parseFloat(selectedDelivery.get('price').replace(/\$|,/g, "")),
                    seasonalAddOnTotal = share.get('seasonalAddOns').map(function (addon) {
                    return parseFloat(addon.price.replace(/\$|,/g, ""));
                }).reduce(function (a, b) {
                    return a + b;
                }, 0),
                    address = selectedDelivery.get('name') === 'home' ? _this4.user.get('address') : groupDropoff ? groupDropoff.get('address') : _this4.ContactInfo.data.farmpickup;

                share.set({
                    selectedDelivery: _extends(share.get('selectedDelivery'), {
                        description: _this4.util.format('Delivery:%sMethod: %s%sDay/Time: %ss %s-%s%sPlace: %s%sCost: %s per week', spaceTwoTab, selectedDelivery.get('label'), spaceTwoTab, share.dayOfWeekMap[share.get('selectedDelivery').dayofweek], times.starttime, times.endtime, spaceTwoTab, address, spaceTwoTab, selectedDelivery.get('price')) }),
                    total: weeklyTotal * share.get('selectedDates').length + seasonalAddOnTotal
                });

                share.set('selectedOptions', share.get('selectedOptions').map(function (selectedOption) {
                    var shareOption = share.get('shareoptions').get(selectedOption.shareoptionid),
                        shareOptionOption = shareOption.get('options').get(selectedOption.shareoptionoptionid);

                    return _extends(selectedOption, {
                        description: _this4.util.format('%s: %s %s -- %s per week', shareOption.get('name'), shareOptionOption.get('label'), shareOptionOption.get('unit') || "", shareOptionOption.get('price'))
                    });
                }));

                return {
                    shareBox: _this4.templates.ShareBox(share.attributes),
                    seasonalAddOns: share.get('seasonalAddOns'),
                    selectedOptions: share.get('selectedOptions').map(function (selectedOption) {
                        var shareOption = share.get('shareoptions').get(selectedOption.shareoptionid),
                            shareOptionOption = shareOption.get('options').get(selectedOption.shareoptionoptionid);

                        return {
                            optionName: shareOption.get('name'),
                            price: shareOptionOption.get('price'),
                            selectedOptionLabel: shareOptionOption.get('label'),
                            unit: shareOptionOption.get('unit')
                        };
                    }),
                    selectedDelivery: {
                        deliveryType: selectedDelivery.get('label'),
                        weeklyCost: selectedDelivery.get('price'),
                        groupdropoff: groupDropoff ? groupDropoff.get('label') : undefined,
                        address: groupDropoff ? groupDropoff.get('street') + ', ' + groupDropoff.get('cityStateZip') : selectedDelivery.get('name') === 'farm' ? _this4.ContactInfo.data.farmpickup : _this4.user.get('address'),
                        dayOfWeek: _this4.DayOfWeekMap[share.get('selectedDelivery').dayofweek],
                        starttime: times.starttime,
                        endtime: times.endtime
                    },
                    weeklyPrice: _this4.util.format('$%s', weeklyTotal.toFixed(2)),
                    seasonalOptionsTotal: '$' + seasonalAddOnTotal.toFixed(2),
                    selectedDates: share.get('selectedDates').map(function (date) {
                        return _this4.templates.PickupDate(_extends({ selected: true }, date.attributes));
                    }),
                    weeksSelected: share.get('selectedDates').length,
                    skipDays: share.has('skipDays') ? share.get('skipDays').map(function (skipDayId) {
                        return _this4.templates.PickupDate(share.get('deliveryDates').get(skipDayId).attributes);
                    }) : undefined,
                    total: _this4.util.format('$%s', share.get('total').toFixed(2))
                };
            })
        };
    },
    onInputBlur: function onInputBlur(e) {
        var $el = this.$(e.currentTarget),
            field = this.fields[$el.attr('id')],
            result;

        result = field.validate.call(this, $el.val());

        if (result) {
            $el.parent().parent().removeClass('has-error').addClass('has-feedback has-success');
            $el.next().removeClass('hide').removeClass('glyphicon-remove').addClass('glyphicon-ok');
            $el.siblings('.help-block').remove();
        } else {
            this.showError($el, field.error);
            // this.disableSignupBtn()
        }
    },
    onInputFocus: function onInputFocus(e) {
        var $el = this.$(e.currentTarget);
        if ($el.next().hasClass('glyphicon-remove')) this.removeError(this.$(e.currentTarget));
        // if( this.templateData.paymentForm.find('.has-error').length === 0 ) this.enableSignupBtn()
    },
    paymentUnselected: function paymentUnselected() {

        this.fee = false;
        this.selectedPayment = undefined;
        this.updateGrandTotal();

        // this.disableSignupBtn()
        this.templateData.paymentForm.addClass('hide');
    },
    postRender: function postRender() {
        var _this5 = this;

        this.fee = false;
        this.selectedPayment = undefined;

        View.prototype.postRender.call(this);

        this.paymentOptions.on('itemSelected', function (model) {
            return _this5[_this5.util.format('%sPaymentSelected', model.get('name'))]();
        }).on('itemUnselected', function (model) {
            return _this5.paymentUnselected();
        });

        this.grandTotal = this.signupData.shares.map(function (share) {
            return share.get('total');
        }).reduce(function (a, b) {
            return a + b;
        });
        this.grandTotalPlusFee = this.grandTotal + this.grandTotal * .03;

        this.updateGrandTotal();
    },


    requiresLogin: false,

    removeError: function removeError($el) {
        if ($el.siblings('.help-block').length === 1) $el.parent().parent().removeClass('has-error');
        $el.next().removeClass('hide').removeClass('glyphicon-remove');
        $el.siblings(this.util.format('.help-block.%s', $el.attr('id'))).remove();
    },
    render: function render() {
        var _this6 = this;

        var dataPromises = [];

        dataPromises.push(this.ContactInfo.get());

        this.signupData.shares.forEach(function (share) {
            if (!share.has('shareoptions')) dataPromises.push(share.getShareOptions());
            if (!share.has('deliveryoptions')) dataPromises.push(share.getDeliveryOptions());
            if (!share.has('groupdropoffs')) dataPromises.push(share.getGroupDropoffs());
            if (!share.has('deliveryDates')) dataPromises.push(share.getDeliveryDates());
        });

        this.Q.all(dataPromises).then(function () {
            _this6.signupData.shares.forEach(function (share) {
                return share.getSelectedDates();
            });
            View.prototype.render.call(_this6);
        }).fail(function (e) {
            return new _this6.Error(e);
        }).done();
    },
    show: function show() {
        this.templateData.container.empty().remove();
        this.render();
        return this;
    },
    showError: function showError($el, error) {
        var formGroup = $el.parent().parent();

        if ($el.next().hasClass('glyphicon-remove')) return;

        formGroup.removeClass('has-success').addClass('has-feedback has-error');
        $el.next().removeClass('hide').removeClass('glyphicon-ok').addClass('glyphicon-remove').parent().append(Form.templates.fieldError({ error: error, name: $el.attr('id') }));
    },
    showErrorModal: function showErrorModal(opts) {
        var _this7 = this;

        this.modalView.show({
            title: 'Hmmm',
            body: opts && opts.error ? opts.error : 'There was a problem.  Please contact us at eat.patchworkgardens@gmail.com.  We apologize for the inconvenience',
            hideCancelBtn: true,
            confirmText: 'Okay' }).on('submit', function () {
            return _this7.modalView.hide();
        });
    },
    showSuccessModal: function showSuccessModal() {
        this.modalView.show({
            title: 'Great Success',
            body: this.util.format('Thanks for signing up.  We look forward to sharing the season with you. %s', Object.keys(this.getFormData()).length ? 'You should find a receipt in your email inbox' : ''),
            hideCancelBtn: true,
            confirmText: 'Okay' }).on('submit', function () {
            return window.location = '/';
        }).on('hidden', function () {
            return window.location = '/';
        });
    },
    signup: function signup() {
        var _this8 = this;

        this.templateData.signupBtn.off('click').addClass('has-spinner').append(this.spinner.spin().el);

        this.$.ajax({
            data: this.buildRequest(),
            headers: { 'Content-Type': 'application/json' },
            method: "POST",
            url: "/signup" }).done(function (response) {
            if (response.error) {
                _this8.showErrorModal({ error: response.error });
                _this8.templateData.signupBtn.off('click').one('click', _this8.signupHandler).text('Become a Member!');
                return;
            }
            _this8.emit('done');
            _this8.paymentOptions.removeAllListeners('itemSelected').removeAllListeners('itemUnselected');
            _this8.templateData.signupBtn.text('Thank you');
            _this8.user.set('state', {});

            if (!_this8.user.isLoggedIn()) {
                _this8.user.set(_this8.user.defaults());
                document.cookie = 'patchworkjwt=; domain=' + window.location.hostname + '; path=/; expires=Thu, 01 Jan 1970 00:00:01 GMT;';
            }

            _this8.showSuccessModal();
        }).fail(function () {
            _this8.showErrorModal();
            _this8.templateData.signupBtn.off('click').one('click', _this8.signupHandler).text('Become a Member!');
        }).always(function () {
            _this8.spinner.stop();
            _this8.templateData.signupBtn.removeClass('has-spinner');
        });
    },


    subviews: {
        paymentOptions: [{ name: 'paymentOptions', view: require('./PaymentOptions') }]
    },

    template: require('../../templates/signup/summary'),

    templates: {
        PickupDate: require('../../templates/signup/pickupDate'),
        ShareBox: require('../templates/ShareBox')
    },

    updateGrandTotal: function updateGrandTotal() {
        var total = this.fee ? this.grandTotalPlusFee : this.grandTotal;
        this.templateData.grandTotal.text('Grand Total :  ' + '$' + total.toFixed(2));

        this.$('.payment-option:first-child .method-total').text('Grand Total :  ' + '$' + this.grandTotal.toFixed(2));
        this.$('.payment-option:last-child .method-total').text('Grand Total :  ' + '$' + this.grandTotal.toFixed(2));
    },
    validateCardInfo: function validateCardInfo() {
        var _this9 = this;

        var valid = true;

        Object.keys(this.fields).forEach(function (key) {
            var result = _this9.fields[key].validate.call(_this9, _this9.templateData[key].val());

            if (!result) {
                _this9.showError(_this9.templateData[key], _this9.fields[key].error);
                valid = false;
            }
        });

        // if( ! valid ) this.disableSignupBtn()

        return valid;
    }
});

module.exports = Summary;

},{"../../models/ContactInfo":12,"../../models/DeliveryRoute":20,"../../plugins/spinner.js":42,"../../templates/signup/pickupDate":57,"../../templates/signup/summary":64,"../MyView":90,"../templates/ShareBox":166,"../util/Form":186,"./PaymentOptions":116}],125:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div>\n    <h1>Fresh food from farmers you know!</h1>\n    <section data-js=\"sectionOne\" class=\"striped\">\n        <h2></h2>\n    </section>\n    <section data-js=\"sectionTwo\">\n        <h2></h2>\n    </section>\n    <section data-js=\"sectionThree\" class=\"striped\">\n        <h2></h2>\n    </section>\n    <section data-js=\"sectionFour\">\n        <h2></h2>\n        <div class=\"staff\" data-js=\"staff\"></div>\n    </section>\n</div>";
};

},{}],126:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div>\n    <div class=\"fd-hidden back-btn\" data-js=\"backBtn\">\n        <span class=\"glyphicon glyphicon-menu-left\"></span>\n        <span>Account Options</span>\n    </div>\n    <div class=\"account-nav\" data-js=\"accountNav\">\n        <div data-js=\"accountInfoBtn\">\n            <h4>Account Info</h4>\n            <div>View and edit your name, email, phone number, and address.</div>\n        </div>\n        <div data-js=\"ordersBtn\">\n            <h4>Your Orders</h4>\n            <div>View past orders and make changes to current order options.</div>\n        </div>\n        <div data-js=\"paymentBtn\">\n            <h4>Payment</h4>\n            <div>Make a credit card payment on any remaining balances.</div>\n        </div>\n    </div>\n    <div class=\"fd-hidden\" data-js=\"accountInfo\">\n        <div data-view=\"form\" data-name=\"personalInfo\"></div>\n    </div>\n    <div class=\"fd-hidden\" data-js=\"orderInfo\">\n        <div data-view=\"seasons\"></div>\n        <div data-view=\"orderOptions\"></div>\n        <div data-view=\"weekOptions\"></div>\n        <div data-view=\"sharePatch\"></div>\n    </div>\n    <div class=\"fd-hidden\" data-view=\"accountPayments\"></div>\n</div>";
};

},{}],127:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div>\n    <div class=\"section-heading\">\n        <h3>Make a Payment</h3>\n        <p data-js=\"balanceMessage\">Select a share to view your balance and make a credit card payment</p>\n    </div>\n    <div data-view=\"seasons\"></div>\n    <div class=\"payment\">\n        <div class=\"total\" data-js=\"total\"></div>\n        <div class=\"fd-hidden\" data-js=\"ccWrapper\">\n            <div data-view=\"form\" data-name=\"creditCard\"></div>\n        </div>\n    </div>\n</div>";
};

},{}],128:[function(require,module,exports){
'use strict';

module.exports = function (p, _ref) {
    var Moment = _ref.Moment;

    var actions = p.opts.actions.map(function (action) {
        return '<option value="' + action + '">' + action + '</option>';
    }).join('');
    return '' + ('<div>\n    <form data-js="form">\n        <span></span>\n        <select data-js="action">' + actions + '</select>\n        <input type="text" data-js="value" placeholder="$0.00"/>\n        <input type="text" data-js="checkNumber"/>\n        <input type="text" data-js="created" value="' + Moment().format('MMM D, YYYY') + '" />\n        <input type="text" data-js="description" placeholder="description"/>\n    </form>\n    <div data-view="buttonFlow"></div>\n</div>');
};

},{}],129:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<nav data-js=\"container\" class=\"admin-header\">\n    <div class=\"clearfix hidden-xs\">\n        <div class=\"logo-container\">\n            <img src=\"" + p.opts.logo + "\"/>\n        </div>\n        <div data-js=\"userPanel\" class=\"pull-right hide\">\n            <button data-js=\"signoutBtn\" class=\"btn btn-link\">Sign Out</button>\n            <span data-js=\"name\"></span>\n            <span data-js=\"profileBtn\" class=\"glyphicon glyphicon-user hide\"></span>\n        </div>\n    </div>\n</nav>";
};

},{}],130:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div>\n    <div data-js=\"nav\"></div>\n    <div class=\"views\" data-js=\"views\"></div>\n</div>";
};

},{}],131:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var disabled = p.disabled ? 'disabled' : '';

    return '' + ('<section class="' + (p.hide ? 'fd-hidden' : '') + '">') + Object.keys(p.model.states).map(function (stateName) {
        return '<div data-js="' + stateName + '" class="state ' + stateName + ' ' + (stateName === 'start' ? '' : 'fd-hidden') + '">' + p.model.states[stateName].map(function (button) {
            return button.svg ? button.svg : '<button class="' + disabled + ' ' + (button.class || '') + ' "data-js="' + button.name + '">' + button.text + '</button>';
        }).join('') + '</div>';
    }).join('') + '</section>';
};

},{}],132:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    return '<section>\n    <div class="left-panel" data-js="leftPanel">\n        <section>\n            <button class="link" data-js="backBtn">' + require('./lib/leftArrow')() + '<span>Back to Admin</span></button>\n        </section>\n        <section>\n            <button class="link" data-js="resource"></button>\n        </section>\n        <section>\n            <div data-view="list" data-name="collections"></div>\n        </section>\n    </div>\n    <div data-js="mainPanel" class="main-panel"></div>\n</section>';
};

},{"./lib/leftArrow":183}],133:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div>\n    <h1>Contact</h1>\n    <section>\n        <h2 data-js=\"intro\"></h2>\n        <div data-js=\"contactInfo\"></div>\n    </section>\n</div>";
};

},{}],134:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div>\n    <h1>CSA Program</h1>\n    <section data-js=\"aboutCSA\" class=\"about-csa\">\n        <h2></h2>\n    </section>\n    <div class=\"image-row\" data-js=\"dividerImagesOne\"></div>\n    <section data-js=\"csaFit\" class=\"csa-fit\">\n        <h2 data-js=\"howDoIKnow\"></h2>\n        <p></p>\n        <ul data-js=\"csaFitStatements\"></ul>\n    </section>\n    <section data-js=\"csaContents\" class=\"csa-contents\">\n        <h2></h2>\n        <p></p>\n        <div data-js=\"shareExamples\" class=\"share-examples\"></div>\n        <div data-js=\"shareDescriptions\" class=\"share-descriptions\"></div>\n        <p data-js=\"sharePriority\"></p>\n        <div class=\"button-row\">\n            <button class=\"btn-yellow\" data-js=\"signupBtn\" type=\"button\">Sign Up Now!</button>\n        </div>\n    </section>\n    <div class=\"image-row\" data-js=\"dividerImagesTwo\"></div>\n    <section data-js=\"csaDelivery\" class=\"delivery\">\n        <h2></h2>\n        <p></p>\n        <div class=\"delivery-matrix\" data-js=\"deliveryMatrix\"></div>\n    </section>\n    <section data-js=\"csaCustomization\">\n        <h2></h2>\n        <p><p>\n    </section>\n    <section data-js=\"addOns\">\n        <h2></h2>\n        <p></p>\n        <div data-js=\"addOnItems\" class=\"add-ons\"></div>\n    </section>\n    <section data-js=\"payment\">\n        <h2></h2>\n        <p></p>\n        <p data-js=\"payableTo\"></p>\n        <div data-js=\"contact\" class=\"contact\"></div>\n        <p data-js=\"emailUs\"></p>\n        <div class=\"button-row\">\n            <button class=\"btn-yellow\" data-js=\"signupBtn\" type=\"button\">Sign Up Now!</button>\n        </div>\n    </section>\n</div>";
};

},{}],135:[function(require,module,exports){
'use strict';

var Format = require('../../Format');

module.exports = function (p) {
    var price = p.unit ? p.price + ' per ' + p.unit : p.price;

    return '' + ('<div class="item-detail">\n    <div>\n        <span>' + p.heading + '</span>\n        <span>|</span>\n        <span>' + price + '</span>\n    </div>\n    <p>' + Format.ParseTextLinks(p.information || p.description) + '</p>\n</div>');
};

},{"../../Format":5}],136:[function(require,module,exports){
'use strict';

module.exports = function (p, format) {
    var negativeClass = p.isNegative ? 'negative' : '';

    return '' + ('<li data-js="transaction" data-id="' + p.id + '">\n    <span class="cell"></span>\n    <span data-attr="action" class="cell">' + p.action + '</span>\n    <span data-attr="value" class="cell ' + negativeClass + '">' + format.currency(Math.abs(p.value)) + '</span>\n    <span data-attr="checkNumber" class="cell">' + (p.checkNumber || '') + '</span>\n    <span data-attr="created" class="cell">' + format.moment(p.created).format('MMM D, YYYY') + '</span>\n    <span data-attr="description" class="cell">' + p.description + '</span>\n</li>');
};

},{}],137:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var heading = p.isAdmin ? 'Customer Info' : 'Your Account Info';
    var rows = p.fields.map(function (field) {
        var rowValue = field.name === 'neverReceive' ? '<div data-js="neverReceive" class="cell"></div>' : field.name === 'onpaymentplan' ? '<select data-js="onpaymentplan" class="cell">\n                        <option value="true">True</option>\n                        <option value="false">False</option>\n                    </select>' : '<div data-name="' + field.name + '" data-js="' + field.name + '" class="cell" contenteditable="true"></div>';

        return '' + ('<div class="table-row ' + field.name + '">\n            <div class="cell">' + field.label + '</div>\n            ' + rowValue + '\n        </div>');
    }).join('');

    return '' + ('<div class="fd-hidden section">\n        <div class="section-heading">\n            <h3>' + heading + '</h3>\n            <button class="reset-btn fd-hidden" data-js="resetBtn">Reset</button>\n        </div>\n        <div class="content">\n            <div class="data">\n                <div data-js="infoTable" class="customer-table">' + rows + '</div>\n            </div>\n            <div data-js="editSummary" class="edit-summary fd-hidden">\n                <div>Summary of Changes</div>\n                <div data-js="changes"></div>\n                <div>\n                    <button class="save-btn" data-js="saveBtn">Update Account</button>\n                </div>\n            </div>\n        </div>\n    </div>');
};

},{}],138:[function(require,module,exports){
"use strict";

module.exports = function (_ref) {
   var opts = _ref.opts;
   return "<section>\n    <p>" + opts.message + "</p>\n    <div class=\"button-row\">\n       <button data-js=\"submitBtn\" class=\"btn-submit\">Delete</button>\n       <button data-js=\"cancelBtn\" class=\"btn-cancel\">Cancel</button>\n    </div>\n</section>";
};

},{}],139:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    return '<li data-date="' + p.date.format('YYYYMMDD') + '" class="delivery-date ' + (p.selected ? 'selected' : '') + ' ' + (p.unselectable ? 'unselectable' : '') + '">\n    <div>' + p.date.format('ddd') + '</div>\n    <div>' + p.date.format('MMM') + '</div>\n    <div>' + p.date.format('D') + '</div>\n</div>';
};

},{}],140:[function(require,module,exports){
"use strict";

module.exports = function (datum) {
    return "<div>\n    <span>" + (datum.label || datum.name) + "</span>\n</div>";
};

},{}],141:[function(require,module,exports){
"use strict";

module.exports = function (p) {
  return "<section class=\"no-select fd-hidden\">Dragging Item</section>";
};

},{}],142:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var actions = p.actions.map(function (action) {
        var selected = action === p.action ? 'selected="selected"' : '';
        return '<option value="' + action + '" ' + selected + '>' + action + '</option>';
    }).join('');
    return '' + ('<li data-js="editTransaction" class="edit-transaction">\n    <span></span>\n    <select data-attr="action">' + actions + '</select>\n    <input type="text" data-attr="value" value="' + p.value + '"/>\n    <input type="text" data-attr="checkNumber" value="' + (p.checkNumber || '') + '"/>\n    <input type="text" data-attr="created" value="' + (p.created || '') + '" />\n    <input type="text" data-attr="description" value="' + (p.description || '') + '"/>\n</li>');
};

},{}],143:[function(require,module,exports){
"use strict";

module.exports = function (p) {
  return "<div>" + p.label + ": <span>" + p.oldValue + "</span>to<span>" + p.newValue + "</span></div>";
};

},{}],144:[function(require,module,exports){
"use strict";

module.exports = function (p) {
  return "<span class=\"help-block " + p.name + "\" data-js=\"fieldError\">" + p.error + "</span>";
};

},{}],145:[function(require,module,exports){
"use strict";

module.exports = function (p) {
  return "<div></div>";
};

},{}],146:[function(require,module,exports){
"use strict";

module.exports = function () {
    return "<div>\n    <p>A <a href='mailto:topherbaron@gmail.com'>FutureDays</a> Site</p>\n</div>";
};

},{}],147:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var heading = p.opts.heading ? '<div class="heading">' + p.opts.heading + '</div>' : '',
        prompt = p.opts.prompt ? '<div class="prompt">' + p.opts.prompt + '</div>' : '',
        fields = p.GetFormFields(p.attributes, p.model, p.meta),
        buttonRow = p.opts.hideButtonRow ? '' : '<div class="btn-row">\n            <button class="btn-submit" data-js="submitBtn" type="button">\n                <span>' + (p.opts.submitText || 'Submit') + '</span>\n            </button>\n            <button class="btn-cancel" data-js="cancelBtn" type="button">\n                <span>' + (p.opts.cancelText || 'Cancel') + '</span>\n            </button>\n        </div>';

    return '<section>\n    ' + heading + '\n    <div class="form-box">\n        ' + prompt + '\n        <form>' + fields + '</form>\n        ' + buttonRow + '  \n    </div>\n</section>';
};

},{}],148:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div>\n    <h1>Get Involved</h1>\n    <section data-js=\"employment\" class=\"striped\">\n        <h2></h2>\n        <p></p>\n        <ul class=\"positions\" data-js=\"openPositions\"></ul>\n    </section>\n    <section class=\"internships\" data-js=\"internships\">\n        <h2></h2>\n        <p></p>\n        <div>\n            <div data-js=\"internDuties\">\n                <h3></h3>\n                <ul data-js=\"dutyList\"></ul>\n            </div>\n            <div data-js=\"internQualifications\">\n                <h3></h3>\n                <ul data-js=\"qualificationList\"></ul>\n            </div>\n            <div data-js=\"internCompensation\">\n                <h3></h3>\n                <ul data-js=\"compensationList\"></ul>\n            </div>\n        </div>\n        <p data-js=\"application\"></p>\n    </section>\n    <section data-js=\"volunteer\" class=\"striped\">\n        <h2></h2>\n        <p></p>\n    </section>\n</div>";
};

},{}],149:[function(require,module,exports){
'use strict';

module.exports = function (_ref) {
    var opts = _ref.opts,
        ImageSrc = _ref.ImageSrc;

    var fields = opts.fields.map(function (field) {
        return '<li data-name="' + field.name + '">' + field.label + '</li>';
    }).join('');

    return '' + ('<div>\n    <div>\n        <img data-src="' + ImageSrc('header_sunrays') + '" />\n    </div>\n    <div data-js="nav" class="fd-hidden">\n        <div>\n            ' + require('./lib/justify') + '\n            <div><span data-js="title" data-name="' + opts.home.name + '">' + opts.home.label + '</span></div>\n        </div>\n        <div>\n            <ul data-js="navLinks">' + fields + '</ul>\n            <div>\n                <li class="account-ui">\n                    <div data-js="signInBtn" class="fd-hidden">Member Sign In</div>\n                    <div class="member-ui" data-js="memberMenu" class="fd-hidden">\n                        <div data-js="userName"></div>\n                        <ul class="account-menu fd-hidden" data-js="accountMenu">        \n                            <li data-js="accountBtn">Your Account</li>\n                            <li data-js="signOutBtn">Sign Out</li>                         \n                        </ul>\n                    </div>\n                </li>\n            </div>\n        </div>\n        <div><span data-js="csaSignUpBtn">CSA Sign Up</span></div>\n    </div>\n</div>');
};

/*   
return `` +
`<div>
    <div>
        <img data-src="${ImageSrc('header_sunrays')}" />
    </div>
    <div data-js="nav" class="fd-hidden">
        <div>
            ${require('./lib/justify')}
            <div><span data-js="title" data-name="${opts.home.name}">${opts.home.label}</span></div>
        </div>
        <ul data-js="navLinks">${fields}</ul>
        <div class="account-ui">
            <div data-js="signInBtn" class="fd-hidden">Sign In</div>
            <div class="member-ui" data-js="memberMenu" class="fd-hidden">
                <div data-js="userName"></div>
                <ul class="account-menu fd-hidden" data-js="accountMenu">
                    <li data-js="accountBtn">Your Account</li>
                    <li data-js="signOutBtn">Sign Out</li>         
                </ul>
            </div>
        </div>
    </div>
</div>`




     <div class="account-ui">
            <div data-js="signInBtn" class="fd-hidden">Member Sign In</div>
            <div class="member-ui" data-js="memberMenu" class="fd-hidden">
                <div data-js="userName"></div>
                <ul class="account-menu fd-hidden" data-js="accountMenu">
                    <li data-js="accountBtn">Your Account</li>
                    <li data-js="signOutBtn">Sign Out</li>         
                </ul>
            </div>
        </div>

    const fields = opts.fields.map( field => field.name === 'login'
        ? `<li class="account-ui" data-name="login">
            <div data-js="signInBtn" class="fd-hidden">Member Sign In</div>
            <div class="member-ui" data-js="memberMenu" class="fd-hidden">
                <div data-js="userName"></div>
                <ul class="account-menu fd-hidden" data-js="accountMenu">
                    <li data-js="accountBtn">Your Account</li>
                    <li data-js="signOutBtn">Sign Out</li>         
                </ul>
            </div>
          </li>`
        : `<li data-js="${field.name}" data-name="${field.name}">${field.label}</li>` ).join('')
        */

},{"./lib/justify":182}],150:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    return '<div>\n    <img data-src="' + p.ImageSrc('cornucopia') + '" />\n    <div class="overlay">\n        <div data-js="slogan"></div>\n        <div>\n            <button class="btn-yellow" data-js="joinBtn" type="button">Join our CSA!</button>\n        </div>\n    </div>\n</div>';
};

},{}],151:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var website = p.url ? '<a target="_blank" href="' + p.url + '">Website</a>' : '',
        directions = p.street && p.cityStateZip ? '<a target="_blank" href="http://maps.google.com/?q=' + p.street + ', ' + p.cityStateZip + '">Directions</a>' : '';

    return '' + ('<div class="info-window">\n    <div>' + p.name + '</div>\n    <div>\n        <div>' + (p.street || '') + '</div>\n        <div>' + (p.cityStateZip || '') + '</div>\n        <div>' + (p.phonenumber || '') + '</div>\n    </div>\n    <div>\n        <div>' + directions + '</div>\n        <div>' + website + '</div>\n    </div>\n</div>');
};

},{}],152:[function(require,module,exports){
'use strict';

var getHeading = function getHeading() {
    var p = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { opts: {} };

    if (!p.opts || !p.opts.name) return '';
    return p.opts.toggle ? '<div data-js="toggle" class="heading side-by-side toggle">\n            ' + p.GetIcon('caret-down') + '\n            <span>' + p.opts.name + '</span>\n          </div>' : '<h3 class="heading">' + p.opts.name + '</h3>';
};

module.exports = function (p) {
    var buttonClass = p.model.isDocumentList ? 'floating' : 'btn-yellow';

    return '' + ('<section>\n    ' + getHeading(p) + '\n    <ol data-js="list" class="list ' + (p.model.draggable || p.model.droppable ? 'no-select' : '') + '"></ol>\n    <div class="button-row">\n        ' + (p.model.reset ? '<button class="' + buttonClass + '" data-js="resetBtn" type="button">Reset</button>' : '') + '\n        ' + (p.model.save ? '<button class="' + buttonClass + '" data-js="saveBtn" type="button">Save</button>' : '') + '\n        ' + (p.model.add ? '<button class="' + buttonClass + '" data-js="addBtn" type="button">Add</button>' : '') + '\n    </div>\n</section>');
};

},{}],153:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var name = p.url ? '<div><a target="_blank" href="' + p.url + '">' + (p.name || '') + '</a></div>' : '<div>' + (p.name || '') + '</div>';
    var hours = p.hours ? p.hours.split(',').map(function (item) {
        return '<div>' + item + '</div>';
    }).join('') : '';

    return '' + ('<li class="location">\n    ' + name + '\n    <div>' + (p.label || '') + '</div>\n    <div>' + (p.venue || '') + '</div>\n    <div>' + (p.street || '') + '</div>\n    <div>' + (p.cityStateZip || '') + '</div>\n    <div>' + (p.phonenumber || '') + '</div>\n    <div><a href="mailto:' + p.email + '">' + (p.email || '') + '</a></div>\n    ' + hours + '\n</li>');
};

},{}],154:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var categories = p.opts.categories.map(function (attr) {
        return '<li>\n            <label>\n                <input data-name="' + attr.name + '" type="checkbox" checked />\n                <span></span>\n                <span class="' + attr.name + '">' + attr.label + '</span>\n            </label>\n        </li>';
    }).join('');

    return '' + ('<div>\n    <h1>Locations</h1>\n    <section>\n        <p data-js="intro"></p>\n    </section>\n    <div>\n        <div class="map-wrap">\n            <div data-js="map"></div>\n            <ul class="legend" data-js="legend">\n                ' + categories + '\n            </ul>\n        </div>\n    </div>\n    <section data-js="farmersMarkets" class="striped">\n        <h2></h2>\n        <p></p>\n        <ul data-js="farmerMarketsList"></ul>\n    </section>\n    <section data-js="retailOutlets">\n        <h2></h2>\n        <p></p>\n        <ul data-js="retailOutletsList"></ul>\n    </section>\n    <section data-js="restaurants" class="striped">\n        <h2></h2>\n        <p></p>\n        <ul data-js="restaurantsList"></ul>\n    </section>  \n    <section data-js="pickupLocations">\n        <h2></h2>\n        <p></p>\n        <ul data-js="groupLocationsList"></ul>\n        <div class="button-row">\n            <button class="btn-yellow" data-js="signupBtn" type="button">Sign Up Now!</button>\n        </div>\n    </section>\n</div>');
};

},{}],155:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div>\n    <div class=\"notice fd-hidden\" data-js=\"errorMessage\"></div>\n    <div>\n        <div class=\"form-wrap\">\n            <div data-js=\"loginWrapper\">\n                <div data-view=\"form\" data-name=\"loginForm\"></div>\n                <div data-js=\"forgotPassword\">Forgot Your Password?</div>\n            </div>\n            <div class=\"fd-hidden\" data-view=\"form\" data-name=\"forgotPassword\"</div>\n        </div>\n    </div>\n</div>";
};

},{}],156:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div>\n    <div class=\"main-search\">\n        <div data-view=\"memberTypeahead\"></div>\n    </div>\n    <div data-view=\"customerInfo\"></div>\n    <div data-view=\"seasons\"></div>\n    <div data-view=\"orderOptions\"></div>\n    <div data-view=\"weekOptions\"></div>\n    <div data-view=\"sharePatch\"></div>\n    <div data-view=\"transactions\"></div>\n</div>";
};

},{}],157:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var fields = p.fields.map(function (field) {
        return '<div class="form-group">\n            <label for="' + field.name + '">' + field.label + '</label>\n            <div>\n                <input type="' + field.type + '" class="form-control" id="' + field.name + '" data-js="' + field.name + '">\n                <span class="glyphicon form-control-feedback hide" aria-hidden="true"></span>\n            </div>\n        </div>';
    }).join('');

    return '' + ('<div class="MemberInfo" data-js="container">\n    <p>Please provide us with some information about yourself</p>\n    <div class="notice fd-hidden" data-js="existingAccountNotice">Our records show that an account already exists for the email you have entered. Please sign in before continuing.</div>\n    <form>\n        ' + fields + '\n        <div style="display: none;"><input type="text" id="PreventChromeAutocomplete" name="PreventChromeAutocomplete" autocomplete="address-level4" /></div>\n    </form>\n</div>');
};

},{}],158:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div>\n    <label class=\"form-label\">Search Customers</label>  \n    <input data-js=\"customerInput\" class=\"input-std type=\"text\">\n</div>";
};

},{}],159:[function(require,module,exports){
"use strict";

module.exports = function (p) {
  return "";
};

},{}],160:[function(require,module,exports){
"use strict";

module.exports = function (p) {
  return "<div data-js=\"container\" class=\"modal fade\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div data-js=\"header\" class=\"modal-header\">\n        <button data-js=\"closeBtn\" type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n        <h4 class=\"modal-title\" data-js=\"title\"></h4>\n      </div>\n      <div data-js=\"body\" class=\"modal-body\"></div>\n      <div data-js=\"footer\" class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-default\" data-js=\"cancelBtn\" data-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\" data-js=\"confirmBtn\">Save</button>\n      </div>\n    </div>\n  </div>\n</div>";
};

},{}],161:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div class=\"fd-hidden section\">\n    <div class=\"section-heading\">\n        <h3>Order Options</h3>\n        <span data-js=\"seasonLabel\"></span>\n        <button class=\"reset-btn fd-hidden\" data-js=\"resetBtn\">Reset</button>\n    </div>\n    <div class=\"content\">\n        <div class=\"data\">\n            <ol data-js=\"options\"></ol>\n        </div>\n        <div data-js=\"editSummary\" class=\"edit-summary fd-hidden\">\n            <div>Summary of Changes</div>\n            <div data-js=\"changes\"></div>\n            <div>\n                <span>Weekly price adjustment: </span>\n                <span class=\"original-price\" data-js=\"originalWeeklyPrice\"></span>\n                <span>to</span>\n                <span class=\"new-price\" data-js=\"newWeeklyPrice\"></span>\n            </div>\n        </div>\n    </div>\n</div>";
};

},{}],162:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<section>\n    <h4>Reporting</h4>\n    <form>\n        <div>\n            <div>\n                <label>Name:</label>\n                <select data-js=\"report\"></select>\n            </div>\n            <div>\n                <label>Select Date By:</label>\n                <select data-js=\"dateTypeSelect\">\n                    <option value=\"custom\">Custom Range</option>\n                    <option value=\"year\">Year</option>\n                    <option value=\"season\">Season</option>\n                </select>\n            </div>\n        </div>\n        <div>\n            <div data-js=\"custom\">\n                <div>\n                    <label>From:</label>\n                    <input type=\"text\" data-js=\"from\" />\n                </div>\n                <div>\n                    <label>To:</label>\n                    <input type=\"text\" data-js=\"to\" />\n                </div>\n            </div>\n            <div class=\"fd-hidden\">\n                <label>Choose Year:</label>\n                <select data-js=\"year\"></select>\n            </div>\n            <div class=\"fd-hidden\">\n                <label>Choose Season:</label>\n                <select data-js=\"season\"></select>\n            </div>\n        </div>\n        <div>\n            <button type=\"button\" data-js=\"viewBtn\" class=\"btn-yellow\">View</button>\n            <button type=\"button\" data-js=\"exportBtn\" class=\"btn-yellow\">Export</button>\n        </div>\n    </form>\n    <div class=\"results\" data-js=\"results\">\n        <h4 class=\"fd-hidden\" data-js=\"empty\">No results</h4>\n        <ol class=\"columns\" data-js=\"columns\"></ol>\n        <div class=\"rows\" data-js=\"rows\"></div>\n    </div>\n</section>";
};

},{}],163:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div>\n    <div class=\"form-wrap\">\n        <div data-view=\"form\" data-name=\"resetPassword\"</div>\n    </div>\n</div>";
};

},{}],164:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var options = p.options.map(function (option) {
        return '<option value="' + option.id + '">' + option.label + '</option>';
    }).join(''),
        description = p.description ? '<span data-js="' + p.name + 'Icon" class="glyphicon glyphicon-info-sign" aria-hidden="true"></span>' : '';

    return '' + ('<div class="share-option">\n    <div class="option-title">\n        <div>\n            <span>' + p.label + '</span>\n            ' + description + '\n       </div>\n        <div>\n            <select data-js="' + p.name + '" class="form-control">\n                ' + options + '\n            </select>    \n        </div>\n    </div>\n    <div class="total">\n        <div data-js="' + p.name + 'Total"></div>\n    </div>\n</div>');
};

},{}],165:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var heading = p.opts.isAdmin ? 'All Seasons' : 'Your Orders',
        instructions = p.opts.isAdmin ? '' : '<p>Select a share to view your order details. If the share is still current, you may change its options. We will bill or refund you based on the price adjustment.</p>';

    return '' + ('<div class="fd-hidden section">\n    <div class="section-heading">\n        <h3>' + heading + '</h3>\n        ' + instructions + '\n    </div>\n    <div class="table">\n        <ol class="table-row" data-js="list"></ol>\n    </div>\n    <div data-js="balanceNotice" class="fd-hidden">Our records indicate an outstanding balance of <span data-js="balanceAmount"></span> for this share. <span class="link" data-js="payment">Pay now</span> if you\'d like or continue below if you want to view your order details or make changes.</div>\n</div>');
};

},{}],166:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    var dataId = p.membershareid ? "data-id=\"" + p.membershareid + "\"" : "",
        count = p.count ? "<span>(" + p.count + ")</span>" : "";

    return "" + ("<div " + dataId + " class=\"share-label\">\n        <div><span>" + p.label + "</span> " + count + "</div>\n        <div>\n            <span>" + p.humanStartdate + "</span>\n            <span>-</span>\n            <span>" + p.humanEnddate + "</span>\n        </div>\n        <div>" + p.duration + " weeks</div>\n    </div>");
};

},{}],167:[function(require,module,exports){
'use strict';

var Format = require('../../Format');

module.exports = function (p) {
    return '<div>\n    <h4>' + p.heading + '</h4>\n    <div><img data-src="' + Format.ImageSrc(p.image) + '" /></div>\n    <div>' + p.listHeading + '</div>\n    <ul>' + Format.GetListItems(p.sampleList) + '</ul>\n</div>';
};

},{"../../Format":5}],168:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var heading = p.opts.isAdmin ? 'Adjust Member Share Options' : 'Summary of Share Updates';

    return '' + ('<div class="fd-hidden">\n    <div class="section-heading">\n        <h3>' + heading + '</h3>\n    </div>\n    <div class="content">\n        <div>\n            <ul>\n                <li class="line-item">\n                    <span>Share Change</span>\n                    <span>Price Adjustment</span>\n                </li>\n                <li class="line-item">\n                    <div>\n                        <span>Weeks Removed: </span>\n                        <span data-js="weeksRemoved"></span>\n                    </div>\n                    <div class="adjustment" data-js="weeksRemovedPrice"></div>\n                </li>\n                <li class="line-item">\n                    <div>\n                        <span>Weeks Added: </span>\n                        <span data-js="weeksAdded"></span>\n                    </div>\n                    <div data-js="weeksAddedPrice" class="adjustment"></div>\n                </li>\n                <li data-js="options" class="line-item options fd-hidden">\n                    <div>\n                        <div>Options Update:</div>\n                        <ul data-js="shareOptionDescription"></ul>\n                    </div>\n                    <div>\n                        <span>Weekly price adjustment: </span>\n                        <span data-js="weeklyAdjustment"></span>\n                    </div>\n                    <div>\n                        <div>\n                            <span>Weeks affected: </span>\n                            <span data-js="weeksAffected"></span>\n                        </div>\n                        <div>\n                            <span class="adjustment">\n                                <span data-js="optionsAdjustment"></span>\n                            </span>\n                        </div>\n                    </div>\n                </li>\n            </ul>\n            <div data-js="adjustment" class="total"></div>\n            <div class="email ' + (!p.opts.isAdmin ? 'fd-hidden' : '') + '">\n                <label><input data-js="sendEmail" type="checkbox">Send Email</label>\n            </div>\n            <div data-view="buttonFlow"></div>\n        </div>\n    </div>\n</div>');
};

},{}],169:[function(require,module,exports){
'use strict';

var Format = require('../../Format');

module.exports = function (p) {
    return '<div class="bio">\n    <div>\n        <img data-src="' + Format.ImageSrc(p.image) + '" />\n        <div class="overlay">\n            <div>' + (p.bio || '') + '</div>\n        </div>\n    </div>\n    <div>' + p.name + '</div>\n</div>';
};

},{"../../Format":5}],170:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "" + "<div class=\"clearfix fd-hidden\">\n    <div data-js=\"icon\"></div>\n    <div>\n        <div data-js=\"title\"></div>\n        <div data-js=\"message\"></div>\n    </div>\n</div>";
};

},{}],171:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div class=\"fd-hidden section\">\n    <div class=\"heading\">\n        <span></span>\n        <h3>Transactions</h3>\n        <span>Value</span>\n        <span>Check #</span>\n        <span>Date</span>\n        <span>Description</span>\n    </div>\n    <ol data-js=\"transactions\"></ol>\n    <div data-view=\"buttonFlow\" data-name=\"editButtons\"></div>\n    <div data-view=\"addTransaction\"></div>\n    <div class=\"balance\">\n        <h3>Balance</h3>\n        <span data-js=\"balance\"></span>\n        <span></span>\n        <span>\n            <div data-view=\"buttonFlow\" data-name=\"emailButtons\"></div>\n        </span>\n    </div>\n</div>";
};

},{}],172:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    return '<div class="' + (p.opts.hideSearch ? 'hiding-search' : '') + '">\n    <input data-js="input" placeholder="' + (p.opts.placeholder || '') + '" "type="text">\n    ' + (p.opts.hideSearch ? '' : require('./lib/search')()) + '\n</div>';
};

},{"./lib/search":184}],173:[function(require,module,exports){
"use strict";

module.exports = function (p) {
  return "<div></div>";
};

},{}],174:[function(require,module,exports){
"use strict";

module.exports = function (p) {
    return "<div class=\"fd-hidden\">\n    <div class=\"section-heading\">\n        <h3>Week Options</h3>\n        <div>\n            <span>Delivery Day: </span>\n            <span data-js=\"deliveryDay\"></span>\n        </div>\n        <button class=\"reset-btn hidden\" data-js=\"resetBtn\">Reset</button>\n    </div>\n    <div class=\"content\">\n        <div class=\"data\">\n            <ol data-js=\"dates\"></ol>\n        </div>\n        <div data-js=\"editSummary\" class=\"edit-summary fd-hidden\">\n            <div>Summary of Changes</div>\n            <div data-js=\"changes\">\n                <div class=\"column\">\n                    <div>Added Dates</div>\n                    <ol data-js=\"selectedDates\" class=\"added-dates\"></ol>\n                </div>\n                <div class=\"column\">\n                    <div>Removed Dates</div>\n                    <ol data-js=\"removedDates\" class=\"removed-dates\"></ol>\n                </div>\n            </div>\n            <div>\n                <span>Week count adjustment: </span>\n                <span class=\"price-change\" data-js=\"weekChange\"></span>\n            </div>\n        </div>\n    </div>\n</div>";
};

},{}],175:[function(require,module,exports){
'use strict';

module.exports = function (p) {
    var sizeOptions = p.sizeOptions.map(function (option) {
        return '<div class="cell">' + option.label + ' Share</div>';
    }).join(''),
        rows = p.deliveryOptions.map(function (deliveryOption) {
        return '<div>' + ('<div class="cell">' + deliveryOption.label + '</div>') + p.sizeOptions.map(function (sizeOption) {
            var price = (parseFloat(sizeOption.price.replace('$', '')) + parseFloat(deliveryOption.price.replace('$', ''))).toFixed(2);
            return '<div class="cell">$' + price + ' / box</div>';
        }).join('') + '</div>';
    }).join('');

    return '' + ('<div>\n    <div>\n        <div class="cell">Delivery Option</div>\n        ' + sizeOptions + '\n    </div>\n    ' + rows + '\n</div>');
};

},{}],176:[function(require,module,exports){
"use strict";

module.exports = function () {
	var p = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

	return "" + ("<svg class=\"caret-down\" version=\"1.1\" class=\"caret-down\" " + this.IconDataJs(p) + " xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t viewBox=\"0 0 292.362 292.362\" style=\"enable-background:new 0 0 292.362 292.362;\"\n\t xml:space=\"preserve\">\n<g>\n\t<path d=\"M286.935,69.377c-3.614-3.617-7.898-5.424-12.848-5.424H18.274c-4.952,0-9.233,1.807-12.85,5.424\n\t\tC1.807,72.998,0,77.279,0,82.228c0,4.948,1.807,9.229,5.424,12.847l127.907,127.907c3.621,3.617,7.902,5.428,12.85,5.428\n\t\ts9.233-1.811,12.847-5.428L286.935,95.074c3.613-3.617,5.427-7.898,5.427-12.847C292.362,77.279,290.548,72.998,286.935,69.377z\"/>\n</g></svg>");
};

},{}],177:[function(require,module,exports){
'use strict';

module.exports = function () {
	var p = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	return '<svg version="1.1" data-js="' + (p.name || 'checkmark') + '" class="checkmark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t width="97.619px" height="97.618px" viewBox="0 0 97.619 97.618" style="enable-background:new 0 0 97.619 97.618;"\n\t xml:space="preserve">\n<g>\n\t<path d="M96.939,17.358L83.968,5.959c-0.398-0.352-0.927-0.531-1.449-0.494C81.99,5.5,81.496,5.743,81.146,6.142L34.1,59.688\n\t\tL17.372,37.547c-0.319-0.422-0.794-0.701-1.319-0.773c-0.524-0.078-1.059,0.064-1.481,0.385L0.794,47.567\n\t\tc-0.881,0.666-1.056,1.92-0.39,2.801l30.974,40.996c0.362,0.479,0.922,0.771,1.522,0.793c0.024,0,0.049,0,0.073,0\n\t\tc0.574,0,1.122-0.246,1.503-0.68l62.644-71.297C97.85,19.351,97.769,18.086,96.939,17.358z"/>\n</g></svg>';
};

},{}],178:[function(require,module,exports){
'use strict';

module.exports = function () {
  var p = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return '<svg data-js="' + (p.name || 'edit') + '" class="edit" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" version="1.1" x="0px" y="0px" viewBox="0 0 100 100"><g transform="translate(0,-952.36218)"><path style="opacity:1;color:#000000;fill:#000000;stroke:none;stroke-width:4;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dashoffset:0;marker:none;visibility:visible;display:inline;overflow:visible;enable-background:accumulate;fill-opacity:1;stroke-dasharray:none" d="M 70 13 L 61.4375 21.5625 L 78.4375 38.5625 L 87 30 L 70 13 z M 58.59375 24.40625 L 20.4375 62.5625 L 37.4375 79.5625 L 75.59375 41.40625 L 58.59375 24.40625 z M 17.84375 65.65625 L 13 87 L 34.34375 82.15625 L 17.84375 65.65625 z " transform="translate(0,952.36218)"/></g></svg>';
};

},{}],179:[function(require,module,exports){
'use strict';

module.exports = function () {
    var p = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    return '<svg version="1.1" data-js="' + (p.name || 'error') + '" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 18.978 18.978" style="enable-background:new 0 0 18.978 18.978;" xml:space="preserve">\n<g>\n    <path d="M16.088,1.675c-0.133-0.104-0.306-0.144-0.47-0.105c-0.013,0.002-1.261,0.29-2.594,0.29\n        c-1.788,0-2.789-0.476-2.975-1.415C9.999,0.191,9.779,0.007,9.521,0c-0.257-0.007-0.487,0.167-0.55,0.418\n        C8.727,1.386,7.71,1.877,5.95,1.877c-1.332,0-2.571-0.302-2.583-0.305c-0.166-0.04-0.34-0.004-0.474,0.102\n        C2.76,1.777,2.681,1.938,2.681,2.108v4.869c0,0.04,0.004,0.078,0.013,0.115c0.057,1.647,0.65,8.714,6.528,11.822\n        c0.08,0.043,0.169,0.064,0.258,0.064c0.092,0,0.183-0.021,0.266-0.066c5.74-3.137,6.445-10.115,6.532-11.791\n        c0.012-0.046,0.019-0.094,0.019-0.144V2.108C16.297,1.939,16.219,1.78,16.088,1.675z M15.19,6.857\n        c-0.007,0.031-0.012,0.064-0.013,0.097c-0.053,1.298-0.574,7.832-5.701,10.838c-5.215-2.965-5.646-9.526-5.68-10.83\n        c0-0.029-0.004-0.058-0.009-0.085V2.784C4.322,2.877,5.112,2.982,5.95,2.982c1.911,0,2.965-0.54,3.537-1.208\n        c0.553,0.661,1.599,1.191,3.536,1.191c0.839,0,1.631-0.101,2.166-0.188L15.19,6.857L15.19,6.857z"/>\n    <polygon points="10.241,11.237 10.529,5.311 8.449,5.311 8.75,11.237 \t\t"/>\n    <path d="M9.496,11.891c-0.694,0-1.178,0.498-1.178,1.189c0,0.682,0.471,1.191,1.178,1.191\n        c0.706,0,1.164-0.51,1.164-1.191C10.647,12.389,10.189,11.891,9.496,11.891z"/>\n</g></svg>';
};

},{}],180:[function(require,module,exports){
'use strict';

module.exports = function () {
  var p = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  return '<svg class="ex" data-js="' + (p.name || 'ex') + '" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><g><g><polygon points="405,136.798 375.202,107 256,226.202 136.798,107 107,136.798 226.202,256 107,375.202 136.798,405 256,285.798     375.202,405 405,375.202 285.798,256   "/></g></g></svg>';
};

},{}],181:[function(require,module,exports){
'use strict';

module.exports = function () {
	var p = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	return '<svg version="1.1" class="garbage" data-js="' + (p.name || 'garbage') + '" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 59 59" style="enable-background:new 0 0 59 59;" xml:space="preserve">\n<g><path d="M29.5,51c0.552,0,1-0.447,1-1V17c0-0.553-0.448-1-1-1s-1,0.447-1,1v33C28.5,50.553,28.948,51,29.5,51z"/>\n\t<path d="M19.5,51c0.552,0,1-0.447,1-1V17c0-0.553-0.448-1-1-1s-1,0.447-1,1v33C18.5,50.553,18.948,51,19.5,51z"/>\n\t<path d="M39.5,51c0.552,0,1-0.447,1-1V17c0-0.553-0.448-1-1-1s-1,0.447-1,1v33C38.5,50.553,38.948,51,39.5,51z"/>\n\t<path d="M52.5,6H38.456c-0.11-1.25-0.495-3.358-1.813-4.711C35.809,0.434,34.751,0,33.499,0H23.5c-1.252,0-2.31,0.434-3.144,1.289\n\t\tC19.038,2.642,18.653,4.75,18.543,6H6.5c-0.552,0-1,0.447-1,1s0.448,1,1,1h2.041l1.915,46.021C10.493,55.743,11.565,59,15.364,59\n\t\th28.272c3.799,0,4.871-3.257,4.907-4.958L50.459,8H52.5c0.552,0,1-0.447,1-1S53.052,6,52.5,6z M21.792,2.681\n\t\tC22.24,2.223,22.799,2,23.5,2h9.999c0.701,0,1.26,0.223,1.708,0.681c0.805,0.823,1.128,2.271,1.24,3.319H20.553\n\t\tC20.665,4.952,20.988,3.504,21.792,2.681z M46.544,53.979C46.538,54.288,46.4,57,43.636,57H15.364\n\t\tc-2.734,0-2.898-2.717-2.909-3.042L10.542,8h37.915L46.544,53.979z"/>\n</g></svg>';
};

},{}],182:[function(require,module,exports){
"use strict";

module.exports = "<svg version=\"1.1\" data-js=\"justify\" class=\"justify\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"-2 -2 28 28\" style=\"enable-background:new 0 0 22.916 22.916;\" xml:space=\"preserve\">\n<g>\n\t<path d=\"M22.416,22.828H0.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h21.916c0.276,0,0.5,0.224,0.5,0.5\n\t\tS22.692,22.828,22.416,22.828z\"/>\n\t<path d=\"M22.416,15.582H0.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h21.916c0.276,0,0.5,0.224,0.5,0.5\n\t\tS22.692,15.582,22.416,15.582z\"/>\n\t<path d=\"M22.416,8.335H0.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h21.916c0.276,0,0.5,0.224,0.5,0.5\n\t\tS22.692,8.335,22.416,8.335z\"/>\n\t<path d=\"M22.416,1.088H0.5c-0.276,0-0.5-0.224-0.5-0.5s0.224-0.5,0.5-0.5h21.916c0.276,0,0.5,0.224,0.5,0.5\n\t\tS22.692,1.088,22.416,1.088z\"/></g></svg>";

},{}],183:[function(require,module,exports){
'use strict';

module.exports = function () {
	var p = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	return '<svg class="left-arrow" data-js="' + (p.name || 'leftArrow') + '" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 31.494 31.494" style="enable-background:new 0 0 31.494 31.494;" xml:space="preserve">\n<path style="fill:#1E201D;" d="M10.273,5.009c0.444-0.444,1.143-0.444,1.587,0c0.429,0.429,0.429,1.143,0,1.571l-8.047,8.047h26.554\n\tc0.619,0,1.127,0.492,1.127,1.111c0,0.619-0.508,1.127-1.127,1.127H3.813l8.047,8.032c0.429,0.444,0.429,1.159,0,1.587\n\tc-0.444,0.444-1.143,0.444-1.587,0l-9.952-9.952c-0.429-0.429-0.429-1.143,0-1.571L10.273,5.009z"/></svg>';
};

},{}],184:[function(require,module,exports){
'use strict';

module.exports = function () {
	var p = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	return '<svg class="search" data-js="' + (p.name || 'search') + '" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n viewBox="0 0 30.239 30.239" style="enable-background:new 0 0 30.239 30.239;" xml:space="preserve">\n<g>\n\t<path d="M20.194,3.46c-4.613-4.613-12.121-4.613-16.734,0c-4.612,4.614-4.612,12.121,0,16.735\n\t\tc4.108,4.107,10.506,4.547,15.116,1.34c0.097,0.459,0.319,0.897,0.676,1.254l6.718,6.718c0.979,0.977,2.561,0.977,3.535,0\n\t\tc0.978-0.978,0.978-2.56,0-3.535l-6.718-6.72c-0.355-0.354-0.794-0.577-1.253-0.674C24.743,13.967,24.303,7.57,20.194,3.46z\n\t\t M18.073,18.074c-3.444,3.444-9.049,3.444-12.492,0c-3.442-3.444-3.442-9.048,0-12.492c3.443-3.443,9.048-3.443,12.492,0\n\t\tC21.517,9.026,21.517,14.63,18.073,18.074z"/>\n</g></svg>';
};

},{}],185:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

module.exports = {
    loadTableData: function loadTableData(table) {
        var _this = this;

        this.models[table.name] = Object.create(require('../../models/__proto__'), { resource: { value: table.name } });

        this.models[table.name].get().then(function () {
            if (table.image) {
                var promise = Promise.resolve();
                _this.models[table.name].data.forEach(function (model) {
                    return promise = promise.then(function () {
                        return _this.loadImageTable(table, model);
                    });
                });
                return promise;
            } else {
                _this.models[table.name].data.forEach(function (model) {
                    return _this.slurpTemplate({
                        insertion: { el: _this.els[table.el] },
                        template: _this.templates[table.template](model)
                    });
                });
            }
        }).catch(this.Error);
    },
    processObject: function processObject(name, data) {
        var _this2 = this;

        Object.keys(data).forEach(function (key) {
            var val = data[key];

            if ((typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object') return Array.isArray(val) ? _this2.insertArrayData(name, key, val) : _this2.processObject(key, val);

            if (_this2.els[key]) return (/image/i.test(key) ? _this2.slurpTemplate({
                    insertion: { el: _this2.els[key] },
                    template: '<img data-src="' + _this2.Format.ImageSrc(data[key]) + '" />'
                }) : _this2.els[key].innerHTML = _this2.Format.ParseTextLinks(data[key])
            );

            if (_this2.nameToTagName[key]) {
                _this2.els[name].querySelector(_this2.nameToSelector[key] || _this2.nameToTagName[key]).innerHTML = _this2.Format.ParseTextLinks(data[key]);
            }
        });
    },
    insertArrayData: function insertArrayData(sectionName, key, data) {
        var _this3 = this;

        var el = this.els[key] || this.els[sectionName],
            hasImages = /image/i.test(key);

        data.forEach(function (datum) {
            return _this3.slurpTemplate({
                insertion: { el: el },
                template: hasImages ? '<img data-src="' + _this3.Format.ImageSrc(datum) + '" />' : '<' + (_this3.nameToTagName[key] || 'li') + '>' + _this3.Format.ParseTextLinks(datum) + '</' + (_this3.nameToTagName[key] || 'li') + '>'
            });
        });
    },


    nameToSelector: {
        heading: 'h2, h3, h4'
    },

    nameToTagName: {
        heading: 'h2',
        description: 'p'
    },

    onLinkClick: function onLinkClick(el) {
        if (!el.hasAttribute('data-name')) return;
        this.emit('navigate', el.getAttribute('data-name'));
    },
    postRender: function postRender() {
        var _this4 = this;

        if (this.tables.length) {
            this.models = {};
            this.tables.forEach(function (table) {
                return _this4.loadTableData(table);
            });
        }

        this.Xhr({ method: 'get', resource: 'Pages', qs: JSON.stringify({ name: this.documentName }) }).then(function (data) {
            _this4.processObject(null, data);
            _this4.els.container.querySelectorAll('.link').forEach(function (el) {
                return el.addEventListener('click', function () {
                    return _this4.onLinkClick(el);
                });
            });
        }).catch(this.Error);

        return this;
    },


    tables: []

};

},{"../../models/__proto__":40}],186:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var MyView = require('../MyView'),
    Form = function Form() {
    return MyView.apply(this, arguments);
};

_extends(Form.prototype, MyView.prototype, {

    emailRegex: /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,

    fields: [],

    onFormFail: function onFormFail(error) {
        console.log(error.stack || error);
        this.slurpTemplate({ template: this.templates.serverError(error), insertion: { $el: this.templateData.buttonRow, method: 'before' } });
    },

    onSubmissionResponse: function onSubmissionResponse() {},

    postForm: function postForm(data) {
        return this.Q(this.$.ajax({
            data: JSON.stringify(data.values) || JSON.stringify(this.getFormData()),
            headers: { token: this.user ? this.user.get('token') : '' },
            type: "POST",
            url: this.util.format("/%s", data.resource)
        }));
    },


    removeErrors: function removeErrors(e) {

        var input = this.$(e.target);
        input.parent().removeClass('has-error');
        input.next().remove();
    },

    submitForm: function submitForm(resource) {

        if (this.validateForm() === false) return;
        this.postForm(resource).then(this.onSubmissionResponse.bind(this)).fail(this.onFormFail.bind(this)).done();
    },

    templates: {
        fieldError: require('../templates/FieldError')
    },

    validateForm: function validateForm() {
        var valid = true;

        this.fields.forEach(function (field) {

            this.templateData[field.name].parent().removeClass('has-error');
            this.templateData[field.name].next().remove();

            if (field.validate.call(this, this.templateData[field.name].val()) === false) {
                valid = false;

                this.templateData[field.name].parent().addClass('has-error');
                this.slurpTemplate({ template: this.templates.fieldError(field), insertion: { $el: this.templateData[field.name].parent(), method: 'append' } });
            }
        }, this);

        return valid;
    },

    validatePassword: function validatePassword(val) {
        if (!val) return false;else return val.length >= 6;
    }
});

module.exports = Form;

},{"../MyView":90,"../templates/FieldError":144}],187:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var MyView = require('../MyView'),
    ListView = function ListView() {
    return MyView.apply(this, arguments);
};

_extends(ListView.prototype, MyView.prototype, {

    addItem: function addItem(model) {
        var _this = this;

        this.itemViews[model.id] = new this.ItemView(_extends({ container: this.templateData.container, model: model, selection: this.selection }, this.getItemViewOptions())).on('removed', function () {
            return delete _this.itemViews[model.id];
        });

        this.emit('itemAdded', model);

        if (model.get('unselectable')) return;

        if (this.selection) this.itemViews[model.id].on('clicked', function (model) {
            return _this.onItemClick(model);
        });
        if (this.selected) this.onItemClick(model);
    },

    collection: {},

    createItems: function createItems() {
        var _this2 = this;

        this.items = new (this.Collection.extend(typeof this.collection === "function" ? this.collection() : this.collection))().on('reset', function () {
            return _this2.onItemsReset();
        }).on('add', function (item) {
            return _this2.addItem(item);
        }).on('remove', function (item) {
            return _this2.removeItem(item);
        }).on('update', function () {
            return _this2.noItemCheck();
        }).on('sort', function () {
            return _this2.reOrderDOM();
        });

        return this;
    },
    fetchItems: function fetchItems() {
        var _this3 = this;

        this.items.fetch(_extends({}, { reset: true }, this.fetch)).fail(function (err) {
            return console.log('Error fetching collection : ' + _this3.url + " -- " + err.stack || err);
        });

        return this;
    },


    getClosestClickedIndex: function getClosestClickedIndex(model) {
        var _this4 = this;

        var clickedIndex = this.items.indexOf(model),
            closest = undefined,
            maxDistance = 0,
            selectedIndexes = Object.keys(this.selectedItems).map(function (id) {
            return _this4.items.indexOf(_this4.items.get(id));
        }).sort();

        selectedIndexes.forEach(function (index) {
            var distance = Math.abs(index - clickedIndex);
            if (distance > maxDistance) {
                maxDistance = distance;closest = index;
            }
        });

        return closest;
    },

    getItemViewOptions: function getItemViewOptions() {
        return {};
    },

    handleKeydown: function handleKeydown(e) {

        this.pressedKey = e.which === 16 ? 'shift' : e.which === 17 || e.which === 91 ? 'ctrl' : undefined;
    },

    handleKeyup: function handleKeyup(e) {

        this.pressedKey = e.which === 16 && this.pressedKey === 'shift' ? undefined : (e.which === 17 || e.which === 91) && this.pressedKey === 'ctrl' ? undefined : this.pressedKey;
    },

    noItemCheck: function noItemCheck() {
        var container = this.getItemViewOptions().container || this.templateData.container;
        if (this.items.length === 0) container.addClass('no-items');else container.removeClass('no-items');
    },

    onItemClick: function onItemClick(model) {
        var method = this.util.format('%sselectItem', this.itemViews[model.id].templateData.container.hasClass('selected') && this.selection !== 'multiComplex' ? 'un' : '');

        this[method](model);
    },

    onItemsReset: function onItemsReset() {
        var _this5 = this;

        var listContainer = this.getItemViewOptions().container || this.templateData.container;

        listContainer.empty();
        this.itemViews = [];
        if (this.items.length && this.setFields) {
            this.setFields(this.items.at(0).attributes);
        }
        this.items.forEach(function (item) {
            return _this5.addItem(item);
        });
        this.noItemCheck();
    },
    postRender: function postRender() {
        var _this6 = this;

        if (this.selection === 'multiComplex') {

            this.$(document).on('keydown', this.handleKeydown.bind(this)).on('keyup', this.handleKeyup.bind(this));

            window.addEventListener("blur", function (e) {
                return _this6.pressedKey = undefined;
            });
            window.addEventListener("focus", function (e) {
                return _this6.pressedKey = undefined;
            });
        }

        this.itemViews = [];
        this.selectedItems = {};

        this.createItems();

        if (this.itemModels) this.items.reset(typeof this.itemModels === "function" ? this.itemModels() : this.itemModels);

        if (this.fetch) this.fetchItems();
    },
    removeItem: function removeItem(item) {
        if (this.itemViews[item.id].templateData.container.hasClass('selected')) this.unselectItem(item);
        this.itemViews[item.id].delete();
        delete this.itemViews[item.id];
    },


    reOrderDOM: function reOrderDOM() {
        var _this7 = this;

        var container = this.getItemViewOptions().container || this.templateData.container;
        this.items.forEach(function (item) {
            return container[_this7.reverseSort ? 'prepend' : 'append'](_this7.itemViews[item.id].templateData.container);
        });
    },

    scrollToBottom: function scrollToBottom() {
        var _this8 = this;

        var height;

        var intervalId = setInterval(function () {
            var newHeight = _this8.templateData.container.outerHeight(true);
            if (height === newHeight) {
                clearInterval(intervalId);
                _this8.container.scrollTop(_this8.container.prop('scrollHeight'));
            } else {
                height = _this8.templateData.container.outerHeight(true);
            }
        }, 100);
    },

    selectItem: function selectItem(model) {
        var _this9 = this;

        var selectedIds = Object.keys(this.selectedItems);

        if (this.pressedKey === undefined && this.selection === 'multiComplex' || this.selection === 'single') {
            selectedIds.forEach(function (id) {
                return _this9.unselectItem(_this9.selectedItems[id]);
            });
        }

        if (this.pressedKey === 'shift' && selectedIds.length) {
            var end = this.getClosestClickedIndex(model),
                start = this.items.indexOf(model);

            this._.range(start, end, start < end ? 1 : -1).forEach(function (index) {
                var itemToSelect = _this9.items.at(index);
                _this9.itemViews[itemToSelect.id].templateData.container.addClass('selected');
                _this9.selectedItems[itemToSelect.id] = itemToSelect;
                _this9.emit('itemSelected', itemToSelect);
            });
        } else {
            this.itemViews[model.id].templateData.container.addClass('selected');
            this.selectedItems[model.id] = model;
            this.emit('itemSelected', model);
        }
    },


    unselectItem: function unselectItem(model) {

        this.itemViews[model.id].templateData.container.removeClass('selected');

        delete this.selectedItems[model.id];

        this.emit('itemUnselected', model);
    }

});

module.exports = ListView;

},{"../MyView":90}],188:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var MyView = require('../MyView'),
    ListItem = function ListItem() {
	return MyView.apply(this, arguments);
};

_extends(ListItem.prototype, MyView.prototype, {
	getTemplateOptions: function getTemplateOptions() {
		return this.model.attributes;
	},
	postRender: function postRender() {
		var _this = this;

		if (this.selection) this.templateData.container.on('click', function () {
			return _this.emit('clicked', _this.model);
		});
	}
});

module.exports = ListItem;

},{"../MyView":90}],189:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

module.exports = _extends({}, require('./MyObject').prototype, {
    CreateDefault: function CreateDefault() {
        return this.reducer(this.attributes, function (attr) {
            return _defineProperty({}, attr.name, typeof attr.default === 'function' ? attr.default() : attr.default);
        });
    },


    attributes: [],

    data: {},

    constructor: function constructor() {
        var _this = this;

        var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
        var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

        _extends(this, { store: {}, data: data }, opts);

        if (this.storeBy) {
            this.storeBy.forEach(function (key) {
                return _this.store[key] = {};
            });
            this._store();
        }

        return this;
    },


    meta: {},

    sort: function sort(opts) {
        var attr = Object.keys(opts)[0],
            value = opts[attr];

        this.data.sort(function (a, b) {
            return value ? a[attr] < b[attr] ? -1 : 1 : b[attr] < a[attr] ? -1 : 1;
        });

        return this;
    },
    _resetStore: function _resetStore(storeBy) {
        var _this2 = this;

        this.store = {};
        storeBy.forEach(function (attr) {
            return _this2.store[attr] = {};
        });
        this.storeBy = storeBy;
    },
    _store: function _store(data) {
        var _this3 = this;

        data = data || this.data;
        data.forEach(function (datum) {
            return _this3.storeBy.forEach(function (attr) {
                return _this3._storeAttr(datum, attr);
            });
        });
    },
    _storeAttr: function _storeAttr(datum, attr) {
        this.store[attr][datum[attr]] = this.store[attr][datum[attr]] ? Array.isArray(this.store[attr][datum[attr]]) ? this.store[attr][datum[attr]].concat(datum) : [this.store[attr][datum[attr]], datum] : datum;
    },
    _storeOne: function _storeOne(datum) {
        var _this4 = this;

        this.storeBy.forEach(function (attr) {
            return _this4._storeAttr(datum, attr);
        });
    }
});

},{"./MyObject":191}],190:[function(require,module,exports){
"use strict";

module.exports = function (err) {
  console.log(err.stack || err);
};

},{}],191:[function(require,module,exports){
'use strict';

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var MyObject = function MyObject(data) {
    return _extends(this, data);
};

_extends(MyObject.prototype, {

    Error: require('./MyError'),

    _: require('underscore'),

    format: require('util').format,

    moment: require('moment'),

    capitalizeFirstLetter: function capitalizeFirstLetter(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
    },

    getIntRange: function getIntRange(int) {
        return Array.from(Array(int).keys());
    },
    getRandomInclusiveInteger: function getRandomInclusiveInteger(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
    },
    omit: function omit(obj, keys) {
        return Object.keys(obj).filter(function (key) {
            return !keys.includes(key);
        }).reduce(function (memo, key) {
            return _extends(memo, _defineProperty({}, key, obj[key]));
        }, {});
    },
    fdPick: function fdPick(obj, keys) {
        return keys.reduce(function (memo, key) {
            return _extends(memo, _defineProperty({}, key, obj[key]));
        }, {});
    },
    reducer: function reducer(arr, fn) {
        return arr.reduce(function (memo, item, i) {
            return _extends(memo, fn(item, i));
        }, {});
    },
    shuffleArray: function shuffleArray(arr) {
        var _this = this;

        var rv = Array.from(arr);

        rv.forEach(function (item, i) {
            if (i === rv.length - 1) return;
            var int = _this.getRandomInclusiveInteger(i, rv.length - 1),
                holder = rv[i];

            rv[i] = rv[int];
            rv[int] = holder;
        });

        return rv;
    },


    P: function P(fun) {
        var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
        var thisArg = arguments[2];
        return new Promise(function (resolve, reject) {
            return Reflect.apply(fun, thisArg || undefined, args.concat(function (e) {
                for (var _len = arguments.length, callback = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                    callback[_key - 1] = arguments[_key];
                }

                return e ? reject(e) : resolve(callback);
            }));
        });
    },

    Q: require('q')

});

module.exports = MyObject;

},{"./MyError":190,"moment":"moment","q":216,"underscore":"underscore","util":220}],192:[function(require,module,exports){
'use strict';

module.exports = {
    attributes: [require('./Name'), require('./Email'), {
        name: 'phonenumber',
        label: 'Phone Number',
        range: 'String',
        error: "Please enter a valid phone number.",
        validate: function validate(val) {
            return (/^\(?(\d{3})\)?[-. ]?(\d{3})[-. ]?(\d{4})$/.test(val)
            );
        }
    }, {
        name: 'address',
        label: 'Address 1',
        range: 'String',
        error: "Please enter a valid address.",
        validate: function validate(val) {
            return val !== '';
        }
    }, {
        name: 'extraaddress',
        label: 'Address 2',
        range: 'String',
        validate: function validate() {
            return true;
        }
    }]
};

},{"./Email":194,"./Name":196}],193:[function(require,module,exports){
'use strict';

module.exports = {
    attributes: [{
        name: 'ccNo',
        label: 'Card Number',
        range: 'String',
        error: 'A credit card number is required',
        prompt: 'Visa, MasterCard, American Express, JCB, Discover, and Diners Club are accepted.'
    }, {
        name: 'ccMonth',
        label: 'Exp Month',
        metadata: {
            options: [{ name: '1', label: '01' }, { name: '2', label: '02' }, { name: '3', label: '03' }, { name: '4', label: '04' }, { name: '5', label: '05' }, { name: '6', label: '06' }, { name: '7', label: '07' }, { name: '8', label: '08' }, { name: '9', label: '09' }, { name: '10', label: '10' }, { name: '11', label: '11' }, { name: '12', label: '12' }]
        },
        range: 'String',
        error: 'A credit card month expiration is required'
    }, {
        name: 'ccYear',
        label: 'Exp Year',
        metadata: {
            options: [{ name: '2018', label: '2018' }, { name: '2019', label: '2019' }, { name: '2020', label: '2020' }, { name: '2021', label: '2021' }, { name: '2022', label: '2022' }, { name: '2023', label: '2023' }, { name: '2024', label: '2024' }, { name: '2025', label: '2025' }, { name: '2026', label: '2026' }]
        },
        range: 'String',
        error: 'A credit card year expiration is required'
    }, {
        name: 'cvc',
        label: 'CVC',
        range: 'String',
        error: 'A credit card cvc is required'
    }]
};

},{}],194:[function(require,module,exports){
'use strict';

module.exports = {
    name: 'email',
    label: 'Email',
    range: 'Email',
    error: 'A valid email address is required',
    validate: function validate(val) {
        return (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(val)
        );
    }
};

},{}],195:[function(require,module,exports){
'use strict';

module.exports = {
    attributes: [require('./Email'), require('./Password')]
};

},{"./Email":194,"./Password":197}],196:[function(require,module,exports){
'use strict';

module.exports = {
    name: 'name',
    label: 'Name',
    range: 'String',
    error: "Name is a required field.",
    validate: function validate(val) {
        return val !== '';
    }
};

},{}],197:[function(require,module,exports){
'use strict';

module.exports = {
    name: 'password',
    label: 'Password',
    range: 'Password',
    error: "Password must be at least six characters.",
    validate: function validate(val) {
        return val.length > 5;
    }
};

},{}],198:[function(require,module,exports){
'use strict';

module.exports = {
    name: 'repeatPassword',
    label: 'Repeat Password',
    range: 'Password',
    error: 'Passwords must match',
    validate: function validate(val) {
        return true;
    }
};

},{}],199:[function(require,module,exports){
// This file is autogenerated via the `commonjs` Grunt task. You can require() this file in a CommonJS environment.
require('../../js/transition.js')
require('../../js/alert.js')
require('../../js/button.js')
require('../../js/carousel.js')
require('../../js/collapse.js')
require('../../js/dropdown.js')
require('../../js/modal.js')
require('../../js/tooltip.js')
require('../../js/popover.js')
require('../../js/scrollspy.js')
require('../../js/tab.js')
require('../../js/affix.js')
},{"../../js/affix.js":200,"../../js/alert.js":201,"../../js/button.js":202,"../../js/carousel.js":203,"../../js/collapse.js":204,"../../js/dropdown.js":205,"../../js/modal.js":206,"../../js/popover.js":207,"../../js/scrollspy.js":208,"../../js/tab.js":209,"../../js/tooltip.js":210,"../../js/transition.js":211}],200:[function(require,module,exports){
/* ========================================================================
 * Bootstrap: affix.js v3.3.5
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // AFFIX CLASS DEFINITION
  // ======================

  var Affix = function (element, options) {
    this.options = $.extend({}, Affix.DEFAULTS, options)

    this.$target = $(this.options.target)
      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))
      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))

    this.$element     = $(element)
    this.affixed      = null
    this.unpin        = null
    this.pinnedOffset = null

    this.checkPosition()
  }

  Affix.VERSION  = '3.3.5'

  Affix.RESET    = 'affix affix-top affix-bottom'

  Affix.DEFAULTS = {
    offset: 0,
    target: window
  }

  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {
    var scrollTop    = this.$target.scrollTop()
    var position     = this.$element.offset()
    var targetHeight = this.$target.height()

    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false

    if (this.affixed == 'bottom') {
      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'
      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'
    }

    var initializing   = this.affixed == null
    var colliderTop    = initializing ? scrollTop : position.top
    var colliderHeight = initializing ? targetHeight : height

    if (offsetTop != null && scrollTop <= offsetTop) return 'top'
    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'

    return false
  }

  Affix.prototype.getPinnedOffset = function () {
    if (this.pinnedOffset) return this.pinnedOffset
    this.$element.removeClass(Affix.RESET).addClass('affix')
    var scrollTop = this.$target.scrollTop()
    var position  = this.$element.offset()
    return (this.pinnedOffset = position.top - scrollTop)
  }

  Affix.prototype.checkPositionWithEventLoop = function () {
    setTimeout($.proxy(this.checkPosition, this), 1)
  }

  Affix.prototype.checkPosition = function () {
    if (!this.$element.is(':visible')) return

    var height       = this.$element.height()
    var offset       = this.options.offset
    var offsetTop    = offset.top
    var offsetBottom = offset.bottom
    var scrollHeight = Math.max($(document).height(), $(document.body).height())

    if (typeof offset != 'object')         offsetBottom = offsetTop = offset
    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)
    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)

    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)

    if (this.affixed != affix) {
      if (this.unpin != null) this.$element.css('top', '')

      var affixType = 'affix' + (affix ? '-' + affix : '')
      var e         = $.Event(affixType + '.bs.affix')

      this.$element.trigger(e)

      if (e.isDefaultPrevented()) return

      this.affixed = affix
      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null

      this.$element
        .removeClass(Affix.RESET)
        .addClass(affixType)
        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')
    }

    if (affix == 'bottom') {
      this.$element.offset({
        top: scrollHeight - height - offsetBottom
      })
    }
  }


  // AFFIX PLUGIN DEFINITION
  // =======================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.affix')
      var options = typeof option == 'object' && option

      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.affix

  $.fn.affix             = Plugin
  $.fn.affix.Constructor = Affix


  // AFFIX NO CONFLICT
  // =================

  $.fn.affix.noConflict = function () {
    $.fn.affix = old
    return this
  }


  // AFFIX DATA-API
  // ==============

  $(window).on('load', function () {
    $('[data-spy="affix"]').each(function () {
      var $spy = $(this)
      var data = $spy.data()

      data.offset = data.offset || {}

      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom
      if (data.offsetTop    != null) data.offset.top    = data.offsetTop

      Plugin.call($spy, data)
    })
  })

}(jQuery);

},{}],201:[function(require,module,exports){
/* ========================================================================
 * Bootstrap: alert.js v3.3.5
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // ALERT CLASS DEFINITION
  // ======================

  var dismiss = '[data-dismiss="alert"]'
  var Alert   = function (el) {
    $(el).on('click', dismiss, this.close)
  }

  Alert.VERSION = '3.3.5'

  Alert.TRANSITION_DURATION = 150

  Alert.prototype.close = function (e) {
    var $this    = $(this)
    var selector = $this.attr('data-target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    var $parent = $(selector)

    if (e) e.preventDefault()

    if (!$parent.length) {
      $parent = $this.closest('.alert')
    }

    $parent.trigger(e = $.Event('close.bs.alert'))

    if (e.isDefaultPrevented()) return

    $parent.removeClass('in')

    function removeElement() {
      // detach from parent, fire event then clean up data
      $parent.detach().trigger('closed.bs.alert').remove()
    }

    $.support.transition && $parent.hasClass('fade') ?
      $parent
        .one('bsTransitionEnd', removeElement)
        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :
      removeElement()
  }


  // ALERT PLUGIN DEFINITION
  // =======================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.alert')

      if (!data) $this.data('bs.alert', (data = new Alert(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  var old = $.fn.alert

  $.fn.alert             = Plugin
  $.fn.alert.Constructor = Alert


  // ALERT NO CONFLICT
  // =================

  $.fn.alert.noConflict = function () {
    $.fn.alert = old
    return this
  }


  // ALERT DATA-API
  // ==============

  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)

}(jQuery);

},{}],202:[function(require,module,exports){
/* ========================================================================
 * Bootstrap: button.js v3.3.5
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // BUTTON PUBLIC CLASS DEFINITION
  // ==============================

  var Button = function (element, options) {
    this.$element  = $(element)
    this.options   = $.extend({}, Button.DEFAULTS, options)
    this.isLoading = false
  }

  Button.VERSION  = '3.3.5'

  Button.DEFAULTS = {
    loadingText: 'loading...'
  }

  Button.prototype.setState = function (state) {
    var d    = 'disabled'
    var $el  = this.$element
    var val  = $el.is('input') ? 'val' : 'html'
    var data = $el.data()

    state += 'Text'

    if (data.resetText == null) $el.data('resetText', $el[val]())

    // push to event loop to allow forms to submit
    setTimeout($.proxy(function () {
      $el[val](data[state] == null ? this.options[state] : data[state])

      if (state == 'loadingText') {
        this.isLoading = true
        $el.addClass(d).attr(d, d)
      } else if (this.isLoading) {
        this.isLoading = false
        $el.removeClass(d).removeAttr(d)
      }
    }, this), 0)
  }

  Button.prototype.toggle = function () {
    var changed = true
    var $parent = this.$element.closest('[data-toggle="buttons"]')

    if ($parent.length) {
      var $input = this.$element.find('input')
      if ($input.prop('type') == 'radio') {
        if ($input.prop('checked')) changed = false
        $parent.find('.active').removeClass('active')
        this.$element.addClass('active')
      } else if ($input.prop('type') == 'checkbox') {
        if (($input.prop('checked')) !== this.$element.hasClass('active')) changed = false
        this.$element.toggleClass('active')
      }
      $input.prop('checked', this.$element.hasClass('active'))
      if (changed) $input.trigger('change')
    } else {
      this.$element.attr('aria-pressed', !this.$element.hasClass('active'))
      this.$element.toggleClass('active')
    }
  }


  // BUTTON PLUGIN DEFINITION
  // ========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.button')
      var options = typeof option == 'object' && option

      if (!data) $this.data('bs.button', (data = new Button(this, options)))

      if (option == 'toggle') data.toggle()
      else if (option) data.setState(option)
    })
  }

  var old = $.fn.button

  $.fn.button             = Plugin
  $.fn.button.Constructor = Button


  // BUTTON NO CONFLICT
  // ==================

  $.fn.button.noConflict = function () {
    $.fn.button = old
    return this
  }


  // BUTTON DATA-API
  // ===============

  $(document)
    .on('click.bs.button.data-api', '[data-toggle^="button"]', function (e) {
      var $btn = $(e.target)
      if (!$btn.hasClass('btn')) $btn = $btn.closest('.btn')
      Plugin.call($btn, 'toggle')
      if (!($(e.target).is('input[type="radio"]') || $(e.target).is('input[type="checkbox"]'))) e.preventDefault()
    })
    .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^="button"]', function (e) {
      $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))
    })

}(jQuery);

},{}],203:[function(require,module,exports){
/* ========================================================================
 * Bootstrap: carousel.js v3.3.5
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CAROUSEL CLASS DEFINITION
  // =========================

  var Carousel = function (element, options) {
    this.$element    = $(element)
    this.$indicators = this.$element.find('.carousel-indicators')
    this.options     = options
    this.paused      = null
    this.sliding     = null
    this.interval    = null
    this.$active     = null
    this.$items      = null

    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))

    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element
      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))
      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))
  }

  Carousel.VERSION  = '3.3.5'

  Carousel.TRANSITION_DURATION = 600

  Carousel.DEFAULTS = {
    interval: 5000,
    pause: 'hover',
    wrap: true,
    keyboard: true
  }

  Carousel.prototype.keydown = function (e) {
    if (/input|textarea/i.test(e.target.tagName)) return
    switch (e.which) {
      case 37: this.prev(); break
      case 39: this.next(); break
      default: return
    }

    e.preventDefault()
  }

  Carousel.prototype.cycle = function (e) {
    e || (this.paused = false)

    this.interval && clearInterval(this.interval)

    this.options.interval
      && !this.paused
      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))

    return this
  }

  Carousel.prototype.getItemIndex = function (item) {
    this.$items = item.parent().children('.item')
    return this.$items.index(item || this.$active)
  }

  Carousel.prototype.getItemForDirection = function (direction, active) {
    var activeIndex = this.getItemIndex(active)
    var willWrap = (direction == 'prev' && activeIndex === 0)
                || (direction == 'next' && activeIndex == (this.$items.length - 1))
    if (willWrap && !this.options.wrap) return active
    var delta = direction == 'prev' ? -1 : 1
    var itemIndex = (activeIndex + delta) % this.$items.length
    return this.$items.eq(itemIndex)
  }

  Carousel.prototype.to = function (pos) {
    var that        = this
    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))

    if (pos > (this.$items.length - 1) || pos < 0) return

    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, "slid"
    if (activeIndex == pos) return this.pause().cycle()

    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))
  }

  Carousel.prototype.pause = function (e) {
    e || (this.paused = true)

    if (this.$element.find('.next, .prev').length && $.support.transition) {
      this.$element.trigger($.support.transition.end)
      this.cycle(true)
    }

    this.interval = clearInterval(this.interval)

    return this
  }

  Carousel.prototype.next = function () {
    if (this.sliding) return
    return this.slide('next')
  }

  Carousel.prototype.prev = function () {
    if (this.sliding) return
    return this.slide('prev')
  }

  Carousel.prototype.slide = function (type, next) {
    var $active   = this.$element.find('.item.active')
    var $next     = next || this.getItemForDirection(type, $active)
    var isCycling = this.interval
    var direction = type == 'next' ? 'left' : 'right'
    var that      = this

    if ($next.hasClass('active')) return (this.sliding = false)

    var relatedTarget = $next[0]
    var slideEvent = $.Event('slide.bs.carousel', {
      relatedTarget: relatedTarget,
      direction: direction
    })
    this.$element.trigger(slideEvent)
    if (slideEvent.isDefaultPrevented()) return

    this.sliding = true

    isCycling && this.pause()

    if (this.$indicators.length) {
      this.$indicators.find('.active').removeClass('active')
      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])
      $nextIndicator && $nextIndicator.addClass('active')
    }

    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, "slid"
    if ($.support.transition && this.$element.hasClass('slide')) {
      $next.addClass(type)
      $next[0].offsetWidth // force reflow
      $active.addClass(direction)
      $next.addClass(direction)
      $active
        .one('bsTransitionEnd', function () {
          $next.removeClass([type, direction].join(' ')).addClass('active')
          $active.removeClass(['active', direction].join(' '))
          that.sliding = false
          setTimeout(function () {
            that.$element.trigger(slidEvent)
          }, 0)
        })
        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)
    } else {
      $active.removeClass('active')
      $next.addClass('active')
      this.sliding = false
      this.$element.trigger(slidEvent)
    }

    isCycling && this.cycle()

    return this
  }


  // CAROUSEL PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.carousel')
      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)
      var action  = typeof option == 'string' ? option : options.slide

      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))
      if (typeof option == 'number') data.to(option)
      else if (action) data[action]()
      else if (options.interval) data.pause().cycle()
    })
  }

  var old = $.fn.carousel

  $.fn.carousel             = Plugin
  $.fn.carousel.Constructor = Carousel


  // CAROUSEL NO CONFLICT
  // ====================

  $.fn.carousel.noConflict = function () {
    $.fn.carousel = old
    return this
  }


  // CAROUSEL DATA-API
  // =================

  var clickHandler = function (e) {
    var href
    var $this   = $(this)
    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '')) // strip for ie7
    if (!$target.hasClass('carousel')) return
    var options = $.extend({}, $target.data(), $this.data())
    var slideIndex = $this.attr('data-slide-to')
    if (slideIndex) options.interval = false

    Plugin.call($target, options)

    if (slideIndex) {
      $target.data('bs.carousel').to(slideIndex)
    }

    e.preventDefault()
  }

  $(document)
    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)
    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)

  $(window).on('load', function () {
    $('[data-ride="carousel"]').each(function () {
      var $carousel = $(this)
      Plugin.call($carousel, $carousel.data())
    })
  })

}(jQuery);

},{}],204:[function(require,module,exports){
/* ========================================================================
 * Bootstrap: collapse.js v3.3.5
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // COLLAPSE PUBLIC CLASS DEFINITION
  // ================================

  var Collapse = function (element, options) {
    this.$element      = $(element)
    this.options       = $.extend({}, Collapse.DEFAULTS, options)
    this.$trigger      = $('[data-toggle="collapse"][href="#' + element.id + '"],' +
                           '[data-toggle="collapse"][data-target="#' + element.id + '"]')
    this.transitioning = null

    if (this.options.parent) {
      this.$parent = this.getParent()
    } else {
      this.addAriaAndCollapsedClass(this.$element, this.$trigger)
    }

    if (this.options.toggle) this.toggle()
  }

  Collapse.VERSION  = '3.3.5'

  Collapse.TRANSITION_DURATION = 350

  Collapse.DEFAULTS = {
    toggle: true
  }

  Collapse.prototype.dimension = function () {
    var hasWidth = this.$element.hasClass('width')
    return hasWidth ? 'width' : 'height'
  }

  Collapse.prototype.show = function () {
    if (this.transitioning || this.$element.hasClass('in')) return

    var activesData
    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')

    if (actives && actives.length) {
      activesData = actives.data('bs.collapse')
      if (activesData && activesData.transitioning) return
    }

    var startEvent = $.Event('show.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    if (actives && actives.length) {
      Plugin.call(actives, 'hide')
      activesData || actives.data('bs.collapse', null)
    }

    var dimension = this.dimension()

    this.$element
      .removeClass('collapse')
      .addClass('collapsing')[dimension](0)
      .attr('aria-expanded', true)

    this.$trigger
      .removeClass('collapsed')
      .attr('aria-expanded', true)

    this.transitioning = 1

    var complete = function () {
      this.$element
        .removeClass('collapsing')
        .addClass('collapse in')[dimension]('')
      this.transitioning = 0
      this.$element
        .trigger('shown.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    var scrollSize = $.camelCase(['scroll', dimension].join('-'))

    this.$element
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])
  }

  Collapse.prototype.hide = function () {
    if (this.transitioning || !this.$element.hasClass('in')) return

    var startEvent = $.Event('hide.bs.collapse')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    var dimension = this.dimension()

    this.$element[dimension](this.$element[dimension]())[0].offsetHeight

    this.$element
      .addClass('collapsing')
      .removeClass('collapse in')
      .attr('aria-expanded', false)

    this.$trigger
      .addClass('collapsed')
      .attr('aria-expanded', false)

    this.transitioning = 1

    var complete = function () {
      this.transitioning = 0
      this.$element
        .removeClass('collapsing')
        .addClass('collapse')
        .trigger('hidden.bs.collapse')
    }

    if (!$.support.transition) return complete.call(this)

    this.$element
      [dimension](0)
      .one('bsTransitionEnd', $.proxy(complete, this))
      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)
  }

  Collapse.prototype.toggle = function () {
    this[this.$element.hasClass('in') ? 'hide' : 'show']()
  }

  Collapse.prototype.getParent = function () {
    return $(this.options.parent)
      .find('[data-toggle="collapse"][data-parent="' + this.options.parent + '"]')
      .each($.proxy(function (i, element) {
        var $element = $(element)
        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)
      }, this))
      .end()
  }

  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {
    var isOpen = $element.hasClass('in')

    $element.attr('aria-expanded', isOpen)
    $trigger
      .toggleClass('collapsed', !isOpen)
      .attr('aria-expanded', isOpen)
  }

  function getTargetFromTrigger($trigger) {
    var href
    var target = $trigger.attr('data-target')
      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '') // strip for ie7

    return $(target)
  }


  // COLLAPSE PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.collapse')
      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)

      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false
      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.collapse

  $.fn.collapse             = Plugin
  $.fn.collapse.Constructor = Collapse


  // COLLAPSE NO CONFLICT
  // ====================

  $.fn.collapse.noConflict = function () {
    $.fn.collapse = old
    return this
  }


  // COLLAPSE DATA-API
  // =================

  $(document).on('click.bs.collapse.data-api', '[data-toggle="collapse"]', function (e) {
    var $this   = $(this)

    if (!$this.attr('data-target')) e.preventDefault()

    var $target = getTargetFromTrigger($this)
    var data    = $target.data('bs.collapse')
    var option  = data ? 'toggle' : $this.data()

    Plugin.call($target, option)
  })

}(jQuery);

},{}],205:[function(require,module,exports){
/* ========================================================================
 * Bootstrap: dropdown.js v3.3.5
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // DROPDOWN CLASS DEFINITION
  // =========================

  var backdrop = '.dropdown-backdrop'
  var toggle   = '[data-toggle="dropdown"]'
  var Dropdown = function (element) {
    $(element).on('click.bs.dropdown', this.toggle)
  }

  Dropdown.VERSION = '3.3.5'

  function getParent($this) {
    var selector = $this.attr('data-target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    var $parent = selector && $(selector)

    return $parent && $parent.length ? $parent : $this.parent()
  }

  function clearMenus(e) {
    if (e && e.which === 3) return
    $(backdrop).remove()
    $(toggle).each(function () {
      var $this         = $(this)
      var $parent       = getParent($this)
      var relatedTarget = { relatedTarget: this }

      if (!$parent.hasClass('open')) return

      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return

      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this.attr('aria-expanded', 'false')
      $parent.removeClass('open').trigger('hidden.bs.dropdown', relatedTarget)
    })
  }

  Dropdown.prototype.toggle = function (e) {
    var $this = $(this)

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    clearMenus()

    if (!isActive) {
      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {
        // if mobile we use a backdrop because click events don't delegate
        $(document.createElement('div'))
          .addClass('dropdown-backdrop')
          .insertAfter($(this))
          .on('click', clearMenus)
      }

      var relatedTarget = { relatedTarget: this }
      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))

      if (e.isDefaultPrevented()) return

      $this
        .trigger('focus')
        .attr('aria-expanded', 'true')

      $parent
        .toggleClass('open')
        .trigger('shown.bs.dropdown', relatedTarget)
    }

    return false
  }

  Dropdown.prototype.keydown = function (e) {
    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return

    var $this = $(this)

    e.preventDefault()
    e.stopPropagation()

    if ($this.is('.disabled, :disabled')) return

    var $parent  = getParent($this)
    var isActive = $parent.hasClass('open')

    if (!isActive && e.which != 27 || isActive && e.which == 27) {
      if (e.which == 27) $parent.find(toggle).trigger('focus')
      return $this.trigger('click')
    }

    var desc = ' li:not(.disabled):visible a'
    var $items = $parent.find('.dropdown-menu' + desc)

    if (!$items.length) return

    var index = $items.index(e.target)

    if (e.which == 38 && index > 0)                 index--         // up
    if (e.which == 40 && index < $items.length - 1) index++         // down
    if (!~index)                                    index = 0

    $items.eq(index).trigger('focus')
  }


  // DROPDOWN PLUGIN DEFINITION
  // ==========================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.dropdown')

      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))
      if (typeof option == 'string') data[option].call($this)
    })
  }

  var old = $.fn.dropdown

  $.fn.dropdown             = Plugin
  $.fn.dropdown.Constructor = Dropdown


  // DROPDOWN NO CONFLICT
  // ====================

  $.fn.dropdown.noConflict = function () {
    $.fn.dropdown = old
    return this
  }


  // APPLY TO STANDARD DROPDOWN ELEMENTS
  // ===================================

  $(document)
    .on('click.bs.dropdown.data-api', clearMenus)
    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })
    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)
    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)
    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)

}(jQuery);

},{}],206:[function(require,module,exports){
/* ========================================================================
 * Bootstrap: modal.js v3.3.5
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // MODAL CLASS DEFINITION
  // ======================

  var Modal = function (element, options) {
    this.options             = options
    this.$body               = $(document.body)
    this.$element            = $(element)
    this.$dialog             = this.$element.find('.modal-dialog')
    this.$backdrop           = null
    this.isShown             = null
    this.originalBodyPad     = null
    this.scrollbarWidth      = 0
    this.ignoreBackdropClick = false

    if (this.options.remote) {
      this.$element
        .find('.modal-content')
        .load(this.options.remote, $.proxy(function () {
          this.$element.trigger('loaded.bs.modal')
        }, this))
    }
  }

  Modal.VERSION  = '3.3.5'

  Modal.TRANSITION_DURATION = 300
  Modal.BACKDROP_TRANSITION_DURATION = 150

  Modal.DEFAULTS = {
    backdrop: true,
    keyboard: true,
    show: true
  }

  Modal.prototype.toggle = function (_relatedTarget) {
    return this.isShown ? this.hide() : this.show(_relatedTarget)
  }

  Modal.prototype.show = function (_relatedTarget) {
    var that = this
    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })

    this.$element.trigger(e)

    if (this.isShown || e.isDefaultPrevented()) return

    this.isShown = true

    this.checkScrollbar()
    this.setScrollbar()
    this.$body.addClass('modal-open')

    this.escape()
    this.resize()

    this.$element.on('click.dismiss.bs.modal', '[data-dismiss="modal"]', $.proxy(this.hide, this))

    this.$dialog.on('mousedown.dismiss.bs.modal', function () {
      that.$element.one('mouseup.dismiss.bs.modal', function (e) {
        if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true
      })
    })

    this.backdrop(function () {
      var transition = $.support.transition && that.$element.hasClass('fade')

      if (!that.$element.parent().length) {
        that.$element.appendTo(that.$body) // don't move modals dom position
      }

      that.$element
        .show()
        .scrollTop(0)

      that.adjustDialog()

      if (transition) {
        that.$element[0].offsetWidth // force reflow
      }

      that.$element.addClass('in')

      that.enforceFocus()

      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })

      transition ?
        that.$dialog // wait for modal to slide in
          .one('bsTransitionEnd', function () {
            that.$element.trigger('focus').trigger(e)
          })
          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :
        that.$element.trigger('focus').trigger(e)
    })
  }

  Modal.prototype.hide = function (e) {
    if (e) e.preventDefault()

    e = $.Event('hide.bs.modal')

    this.$element.trigger(e)

    if (!this.isShown || e.isDefaultPrevented()) return

    this.isShown = false

    this.escape()
    this.resize()

    $(document).off('focusin.bs.modal')

    this.$element
      .removeClass('in')
      .off('click.dismiss.bs.modal')
      .off('mouseup.dismiss.bs.modal')

    this.$dialog.off('mousedown.dismiss.bs.modal')

    $.support.transition && this.$element.hasClass('fade') ?
      this.$element
        .one('bsTransitionEnd', $.proxy(this.hideModal, this))
        .emulateTransitionEnd(Modal.TRANSITION_DURATION) :
      this.hideModal()
  }

  Modal.prototype.enforceFocus = function () {
    $(document)
      .off('focusin.bs.modal') // guard against infinite focus loop
      .on('focusin.bs.modal', $.proxy(function (e) {
        if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {
          this.$element.trigger('focus')
        }
      }, this))
  }

  Modal.prototype.escape = function () {
    if (this.isShown && this.options.keyboard) {
      this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {
        e.which == 27 && this.hide()
      }, this))
    } else if (!this.isShown) {
      this.$element.off('keydown.dismiss.bs.modal')
    }
  }

  Modal.prototype.resize = function () {
    if (this.isShown) {
      $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))
    } else {
      $(window).off('resize.bs.modal')
    }
  }

  Modal.prototype.hideModal = function () {
    var that = this
    this.$element.hide()
    this.backdrop(function () {
      that.$body.removeClass('modal-open')
      that.resetAdjustments()
      that.resetScrollbar()
      that.$element.trigger('hidden.bs.modal')
    })
  }

  Modal.prototype.removeBackdrop = function () {
    this.$backdrop && this.$backdrop.remove()
    this.$backdrop = null
  }

  Modal.prototype.backdrop = function (callback) {
    var that = this
    var animate = this.$element.hasClass('fade') ? 'fade' : ''

    if (this.isShown && this.options.backdrop) {
      var doAnimate = $.support.transition && animate

      this.$backdrop = $(document.createElement('div'))
        .addClass('modal-backdrop ' + animate)
        .appendTo(this.$body)

      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {
        if (this.ignoreBackdropClick) {
          this.ignoreBackdropClick = false
          return
        }
        if (e.target !== e.currentTarget) return
        this.options.backdrop == 'static'
          ? this.$element[0].focus()
          : this.hide()
      }, this))

      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow

      this.$backdrop.addClass('in')

      if (!callback) return

      doAnimate ?
        this.$backdrop
          .one('bsTransitionEnd', callback)
          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :
        callback()

    } else if (!this.isShown && this.$backdrop) {
      this.$backdrop.removeClass('in')

      var callbackRemove = function () {
        that.removeBackdrop()
        callback && callback()
      }
      $.support.transition && this.$element.hasClass('fade') ?
        this.$backdrop
          .one('bsTransitionEnd', callbackRemove)
          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :
        callbackRemove()

    } else if (callback) {
      callback()
    }
  }

  // these following methods are used to handle overflowing modals

  Modal.prototype.handleUpdate = function () {
    this.adjustDialog()
  }

  Modal.prototype.adjustDialog = function () {
    var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight

    this.$element.css({
      paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',
      paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''
    })
  }

  Modal.prototype.resetAdjustments = function () {
    this.$element.css({
      paddingLeft: '',
      paddingRight: ''
    })
  }

  Modal.prototype.checkScrollbar = function () {
    var fullWindowWidth = window.innerWidth
    if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8
      var documentElementRect = document.documentElement.getBoundingClientRect()
      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)
    }
    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth
    this.scrollbarWidth = this.measureScrollbar()
  }

  Modal.prototype.setScrollbar = function () {
    var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)
    this.originalBodyPad = document.body.style.paddingRight || ''
    if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)
  }

  Modal.prototype.resetScrollbar = function () {
    this.$body.css('padding-right', this.originalBodyPad)
  }

  Modal.prototype.measureScrollbar = function () { // thx walsh
    var scrollDiv = document.createElement('div')
    scrollDiv.className = 'modal-scrollbar-measure'
    this.$body.append(scrollDiv)
    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth
    this.$body[0].removeChild(scrollDiv)
    return scrollbarWidth
  }


  // MODAL PLUGIN DEFINITION
  // =======================

  function Plugin(option, _relatedTarget) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.modal')
      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)

      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))
      if (typeof option == 'string') data[option](_relatedTarget)
      else if (options.show) data.show(_relatedTarget)
    })
  }

  var old = $.fn.modal

  $.fn.modal             = Plugin
  $.fn.modal.Constructor = Modal


  // MODAL NO CONFLICT
  // =================

  $.fn.modal.noConflict = function () {
    $.fn.modal = old
    return this
  }


  // MODAL DATA-API
  // ==============

  $(document).on('click.bs.modal.data-api', '[data-toggle="modal"]', function (e) {
    var $this   = $(this)
    var href    = $this.attr('href')
    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\s]+$)/, ''))) // strip for ie7
    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())

    if ($this.is('a')) e.preventDefault()

    $target.one('show.bs.modal', function (showEvent) {
      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown
      $target.one('hidden.bs.modal', function () {
        $this.is(':visible') && $this.trigger('focus')
      })
    })
    Plugin.call($target, option, this)
  })

}(jQuery);

},{}],207:[function(require,module,exports){
/* ========================================================================
 * Bootstrap: popover.js v3.3.5
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // POPOVER PUBLIC CLASS DEFINITION
  // ===============================

  var Popover = function (element, options) {
    this.init('popover', element, options)
  }

  if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')

  Popover.VERSION  = '3.3.5'

  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {
    placement: 'right',
    trigger: 'click',
    content: '',
    template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
  })


  // NOTE: POPOVER EXTENDS tooltip.js
  // ================================

  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)

  Popover.prototype.constructor = Popover

  Popover.prototype.getDefaults = function () {
    return Popover.DEFAULTS
  }

  Popover.prototype.setContent = function () {
    var $tip    = this.tip()
    var title   = this.getTitle()
    var content = this.getContent()

    $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)
    $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events
      this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'
    ](content)

    $tip.removeClass('fade top bottom left right in')

    // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do
    // this manually by checking the contents.
    if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()
  }

  Popover.prototype.hasContent = function () {
    return this.getTitle() || this.getContent()
  }

  Popover.prototype.getContent = function () {
    var $e = this.$element
    var o  = this.options

    return $e.attr('data-content')
      || (typeof o.content == 'function' ?
            o.content.call($e[0]) :
            o.content)
  }

  Popover.prototype.arrow = function () {
    return (this.$arrow = this.$arrow || this.tip().find('.arrow'))
  }


  // POPOVER PLUGIN DEFINITION
  // =========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.popover')
      var options = typeof option == 'object' && option

      if (!data && /destroy|hide/.test(option)) return
      if (!data) $this.data('bs.popover', (data = new Popover(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.popover

  $.fn.popover             = Plugin
  $.fn.popover.Constructor = Popover


  // POPOVER NO CONFLICT
  // ===================

  $.fn.popover.noConflict = function () {
    $.fn.popover = old
    return this
  }

}(jQuery);

},{}],208:[function(require,module,exports){
/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.5
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // SCROLLSPY CLASS DEFINITION
  // ==========================

  function ScrollSpy(element, options) {
    this.$body          = $(document.body)
    this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)
    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)
    this.selector       = (this.options.target || '') + ' .nav li > a'
    this.offsets        = []
    this.targets        = []
    this.activeTarget   = null
    this.scrollHeight   = 0

    this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))
    this.refresh()
    this.process()
  }

  ScrollSpy.VERSION  = '3.3.5'

  ScrollSpy.DEFAULTS = {
    offset: 10
  }

  ScrollSpy.prototype.getScrollHeight = function () {
    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
  }

  ScrollSpy.prototype.refresh = function () {
    var that          = this
    var offsetMethod  = 'offset'
    var offsetBase    = 0

    this.offsets      = []
    this.targets      = []
    this.scrollHeight = this.getScrollHeight()

    if (!$.isWindow(this.$scrollElement[0])) {
      offsetMethod = 'position'
      offsetBase   = this.$scrollElement.scrollTop()
    }

    this.$body
      .find(this.selector)
      .map(function () {
        var $el   = $(this)
        var href  = $el.data('target') || $el.attr('href')
        var $href = /^#./.test(href) && $(href)

        return ($href
          && $href.length
          && $href.is(':visible')
          && [[$href[offsetMethod]().top + offsetBase, href]]) || null
      })
      .sort(function (a, b) { return a[0] - b[0] })
      .each(function () {
        that.offsets.push(this[0])
        that.targets.push(this[1])
      })
  }

  ScrollSpy.prototype.process = function () {
    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset
    var scrollHeight = this.getScrollHeight()
    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()
    var offsets      = this.offsets
    var targets      = this.targets
    var activeTarget = this.activeTarget
    var i

    if (this.scrollHeight != scrollHeight) {
      this.refresh()
    }

    if (scrollTop >= maxScroll) {
      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)
    }

    if (activeTarget && scrollTop < offsets[0]) {
      this.activeTarget = null
      return this.clear()
    }

    for (i = offsets.length; i--;) {
      activeTarget != targets[i]
        && scrollTop >= offsets[i]
        && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])
        && this.activate(targets[i])
    }
  }

  ScrollSpy.prototype.activate = function (target) {
    this.activeTarget = target

    this.clear()

    var selector = this.selector +
      '[data-target="' + target + '"],' +
      this.selector + '[href="' + target + '"]'

    var active = $(selector)
      .parents('li')
      .addClass('active')

    if (active.parent('.dropdown-menu').length) {
      active = active
        .closest('li.dropdown')
        .addClass('active')
    }

    active.trigger('activate.bs.scrollspy')
  }

  ScrollSpy.prototype.clear = function () {
    $(this.selector)
      .parentsUntil(this.options.target, '.active')
      .removeClass('active')
  }


  // SCROLLSPY PLUGIN DEFINITION
  // ===========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.scrollspy')
      var options = typeof option == 'object' && option

      if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.scrollspy

  $.fn.scrollspy             = Plugin
  $.fn.scrollspy.Constructor = ScrollSpy


  // SCROLLSPY NO CONFLICT
  // =====================

  $.fn.scrollspy.noConflict = function () {
    $.fn.scrollspy = old
    return this
  }


  // SCROLLSPY DATA-API
  // ==================

  $(window).on('load.bs.scrollspy.data-api', function () {
    $('[data-spy="scroll"]').each(function () {
      var $spy = $(this)
      Plugin.call($spy, $spy.data())
    })
  })

}(jQuery);

},{}],209:[function(require,module,exports){
/* ========================================================================
 * Bootstrap: tab.js v3.3.5
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // TAB CLASS DEFINITION
  // ====================

  var Tab = function (element) {
    // jscs:disable requireDollarBeforejQueryAssignment
    this.element = $(element)
    // jscs:enable requireDollarBeforejQueryAssignment
  }

  Tab.VERSION = '3.3.5'

  Tab.TRANSITION_DURATION = 150

  Tab.prototype.show = function () {
    var $this    = this.element
    var $ul      = $this.closest('ul:not(.dropdown-menu)')
    var selector = $this.data('target')

    if (!selector) {
      selector = $this.attr('href')
      selector = selector && selector.replace(/.*(?=#[^\s]*$)/, '') // strip for ie7
    }

    if ($this.parent('li').hasClass('active')) return

    var $previous = $ul.find('.active:last a')
    var hideEvent = $.Event('hide.bs.tab', {
      relatedTarget: $this[0]
    })
    var showEvent = $.Event('show.bs.tab', {
      relatedTarget: $previous[0]
    })

    $previous.trigger(hideEvent)
    $this.trigger(showEvent)

    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return

    var $target = $(selector)

    this.activate($this.closest('li'), $ul)
    this.activate($target, $target.parent(), function () {
      $previous.trigger({
        type: 'hidden.bs.tab',
        relatedTarget: $this[0]
      })
      $this.trigger({
        type: 'shown.bs.tab',
        relatedTarget: $previous[0]
      })
    })
  }

  Tab.prototype.activate = function (element, container, callback) {
    var $active    = container.find('> .active')
    var transition = callback
      && $.support.transition
      && ($active.length && $active.hasClass('fade') || !!container.find('> .fade').length)

    function next() {
      $active
        .removeClass('active')
        .find('> .dropdown-menu > .active')
          .removeClass('active')
        .end()
        .find('[data-toggle="tab"]')
          .attr('aria-expanded', false)

      element
        .addClass('active')
        .find('[data-toggle="tab"]')
          .attr('aria-expanded', true)

      if (transition) {
        element[0].offsetWidth // reflow for transition
        element.addClass('in')
      } else {
        element.removeClass('fade')
      }

      if (element.parent('.dropdown-menu').length) {
        element
          .closest('li.dropdown')
            .addClass('active')
          .end()
          .find('[data-toggle="tab"]')
            .attr('aria-expanded', true)
      }

      callback && callback()
    }

    $active.length && transition ?
      $active
        .one('bsTransitionEnd', next)
        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :
      next()

    $active.removeClass('in')
  }


  // TAB PLUGIN DEFINITION
  // =====================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this)
      var data  = $this.data('bs.tab')

      if (!data) $this.data('bs.tab', (data = new Tab(this)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.tab

  $.fn.tab             = Plugin
  $.fn.tab.Constructor = Tab


  // TAB NO CONFLICT
  // ===============

  $.fn.tab.noConflict = function () {
    $.fn.tab = old
    return this
  }


  // TAB DATA-API
  // ============

  var clickHandler = function (e) {
    e.preventDefault()
    Plugin.call($(this), 'show')
  }

  $(document)
    .on('click.bs.tab.data-api', '[data-toggle="tab"]', clickHandler)
    .on('click.bs.tab.data-api', '[data-toggle="pill"]', clickHandler)

}(jQuery);

},{}],210:[function(require,module,exports){
/* ========================================================================
 * Bootstrap: tooltip.js v3.3.5
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // TOOLTIP PUBLIC CLASS DEFINITION
  // ===============================

  var Tooltip = function (element, options) {
    this.type       = null
    this.options    = null
    this.enabled    = null
    this.timeout    = null
    this.hoverState = null
    this.$element   = null
    this.inState    = null

    this.init('tooltip', element, options)
  }

  Tooltip.VERSION  = '3.3.5'

  Tooltip.TRANSITION_DURATION = 150

  Tooltip.DEFAULTS = {
    animation: true,
    placement: 'top',
    selector: false,
    template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
    trigger: 'hover focus',
    title: '',
    delay: 0,
    html: false,
    container: false,
    viewport: {
      selector: 'body',
      padding: 0
    }
  }

  Tooltip.prototype.init = function (type, element, options) {
    this.enabled   = true
    this.type      = type
    this.$element  = $(element)
    this.options   = this.getOptions(options)
    this.$viewport = this.options.viewport && $($.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : (this.options.viewport.selector || this.options.viewport))
    this.inState   = { click: false, hover: false, focus: false }

    if (this.$element[0] instanceof document.constructor && !this.options.selector) {
      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')
    }

    var triggers = this.options.trigger.split(' ')

    for (var i = triggers.length; i--;) {
      var trigger = triggers[i]

      if (trigger == 'click') {
        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))
      } else if (trigger != 'manual') {
        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'
        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'

        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))
        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))
      }
    }

    this.options.selector ?
      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :
      this.fixTitle()
  }

  Tooltip.prototype.getDefaults = function () {
    return Tooltip.DEFAULTS
  }

  Tooltip.prototype.getOptions = function (options) {
    options = $.extend({}, this.getDefaults(), this.$element.data(), options)

    if (options.delay && typeof options.delay == 'number') {
      options.delay = {
        show: options.delay,
        hide: options.delay
      }
    }

    return options
  }

  Tooltip.prototype.getDelegateOptions = function () {
    var options  = {}
    var defaults = this.getDefaults()

    this._options && $.each(this._options, function (key, value) {
      if (defaults[key] != value) options[key] = value
    })

    return options
  }

  Tooltip.prototype.enter = function (obj) {
    var self = obj instanceof this.constructor ?
      obj : $(obj.currentTarget).data('bs.' + this.type)

    if (!self) {
      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())
      $(obj.currentTarget).data('bs.' + this.type, self)
    }

    if (obj instanceof $.Event) {
      self.inState[obj.type == 'focusin' ? 'focus' : 'hover'] = true
    }

    if (self.tip().hasClass('in') || self.hoverState == 'in') {
      self.hoverState = 'in'
      return
    }

    clearTimeout(self.timeout)

    self.hoverState = 'in'

    if (!self.options.delay || !self.options.delay.show) return self.show()

    self.timeout = setTimeout(function () {
      if (self.hoverState == 'in') self.show()
    }, self.options.delay.show)
  }

  Tooltip.prototype.isInStateTrue = function () {
    for (var key in this.inState) {
      if (this.inState[key]) return true
    }

    return false
  }

  Tooltip.prototype.leave = function (obj) {
    var self = obj instanceof this.constructor ?
      obj : $(obj.currentTarget).data('bs.' + this.type)

    if (!self) {
      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())
      $(obj.currentTarget).data('bs.' + this.type, self)
    }

    if (obj instanceof $.Event) {
      self.inState[obj.type == 'focusout' ? 'focus' : 'hover'] = false
    }

    if (self.isInStateTrue()) return

    clearTimeout(self.timeout)

    self.hoverState = 'out'

    if (!self.options.delay || !self.options.delay.hide) return self.hide()

    self.timeout = setTimeout(function () {
      if (self.hoverState == 'out') self.hide()
    }, self.options.delay.hide)
  }

  Tooltip.prototype.show = function () {
    var e = $.Event('show.bs.' + this.type)

    if (this.hasContent() && this.enabled) {
      this.$element.trigger(e)

      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])
      if (e.isDefaultPrevented() || !inDom) return
      var that = this

      var $tip = this.tip()

      var tipId = this.getUID(this.type)

      this.setContent()
      $tip.attr('id', tipId)
      this.$element.attr('aria-describedby', tipId)

      if (this.options.animation) $tip.addClass('fade')

      var placement = typeof this.options.placement == 'function' ?
        this.options.placement.call(this, $tip[0], this.$element[0]) :
        this.options.placement

      var autoToken = /\s?auto?\s?/i
      var autoPlace = autoToken.test(placement)
      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'

      $tip
        .detach()
        .css({ top: 0, left: 0, display: 'block' })
        .addClass(placement)
        .data('bs.' + this.type, this)

      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)
      this.$element.trigger('inserted.bs.' + this.type)

      var pos          = this.getPosition()
      var actualWidth  = $tip[0].offsetWidth
      var actualHeight = $tip[0].offsetHeight

      if (autoPlace) {
        var orgPlacement = placement
        var viewportDim = this.getPosition(this.$viewport)

        placement = placement == 'bottom' && pos.bottom + actualHeight > viewportDim.bottom ? 'top'    :
                    placement == 'top'    && pos.top    - actualHeight < viewportDim.top    ? 'bottom' :
                    placement == 'right'  && pos.right  + actualWidth  > viewportDim.width  ? 'left'   :
                    placement == 'left'   && pos.left   - actualWidth  < viewportDim.left   ? 'right'  :
                    placement

        $tip
          .removeClass(orgPlacement)
          .addClass(placement)
      }

      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)

      this.applyPlacement(calculatedOffset, placement)

      var complete = function () {
        var prevHoverState = that.hoverState
        that.$element.trigger('shown.bs.' + that.type)
        that.hoverState = null

        if (prevHoverState == 'out') that.leave(that)
      }

      $.support.transition && this.$tip.hasClass('fade') ?
        $tip
          .one('bsTransitionEnd', complete)
          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :
        complete()
    }
  }

  Tooltip.prototype.applyPlacement = function (offset, placement) {
    var $tip   = this.tip()
    var width  = $tip[0].offsetWidth
    var height = $tip[0].offsetHeight

    // manually read margins because getBoundingClientRect includes difference
    var marginTop = parseInt($tip.css('margin-top'), 10)
    var marginLeft = parseInt($tip.css('margin-left'), 10)

    // we must check for NaN for ie 8/9
    if (isNaN(marginTop))  marginTop  = 0
    if (isNaN(marginLeft)) marginLeft = 0

    offset.top  += marginTop
    offset.left += marginLeft

    // $.fn.offset doesn't round pixel values
    // so we use setOffset directly with our own function B-0
    $.offset.setOffset($tip[0], $.extend({
      using: function (props) {
        $tip.css({
          top: Math.round(props.top),
          left: Math.round(props.left)
        })
      }
    }, offset), 0)

    $tip.addClass('in')

    // check to see if placing tip in new offset caused the tip to resize itself
    var actualWidth  = $tip[0].offsetWidth
    var actualHeight = $tip[0].offsetHeight

    if (placement == 'top' && actualHeight != height) {
      offset.top = offset.top + height - actualHeight
    }

    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)

    if (delta.left) offset.left += delta.left
    else offset.top += delta.top

    var isVertical          = /top|bottom/.test(placement)
    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight
    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'

    $tip.offset(offset)
    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)
  }

  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {
    this.arrow()
      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')
      .css(isVertical ? 'top' : 'left', '')
  }

  Tooltip.prototype.setContent = function () {
    var $tip  = this.tip()
    var title = this.getTitle()

    $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)
    $tip.removeClass('fade in top bottom left right')
  }

  Tooltip.prototype.hide = function (callback) {
    var that = this
    var $tip = $(this.$tip)
    var e    = $.Event('hide.bs.' + this.type)

    function complete() {
      if (that.hoverState != 'in') $tip.detach()
      that.$element
        .removeAttr('aria-describedby')
        .trigger('hidden.bs.' + that.type)
      callback && callback()
    }

    this.$element.trigger(e)

    if (e.isDefaultPrevented()) return

    $tip.removeClass('in')

    $.support.transition && $tip.hasClass('fade') ?
      $tip
        .one('bsTransitionEnd', complete)
        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :
      complete()

    this.hoverState = null

    return this
  }

  Tooltip.prototype.fixTitle = function () {
    var $e = this.$element
    if ($e.attr('title') || typeof $e.attr('data-original-title') != 'string') {
      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')
    }
  }

  Tooltip.prototype.hasContent = function () {
    return this.getTitle()
  }

  Tooltip.prototype.getPosition = function ($element) {
    $element   = $element || this.$element

    var el     = $element[0]
    var isBody = el.tagName == 'BODY'

    var elRect    = el.getBoundingClientRect()
    if (elRect.width == null) {
      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093
      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })
    }
    var elOffset  = isBody ? { top: 0, left: 0 } : $element.offset()
    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }
    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null

    return $.extend({}, elRect, scroll, outerDims, elOffset)
  }

  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {
    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :
           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :
           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :
        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }

  }

  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {
    var delta = { top: 0, left: 0 }
    if (!this.$viewport) return delta

    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0
    var viewportDimensions = this.getPosition(this.$viewport)

    if (/right|left/.test(placement)) {
      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll
      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight
      if (topEdgeOffset < viewportDimensions.top) { // top overflow
        delta.top = viewportDimensions.top - topEdgeOffset
      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow
        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset
      }
    } else {
      var leftEdgeOffset  = pos.left - viewportPadding
      var rightEdgeOffset = pos.left + viewportPadding + actualWidth
      if (leftEdgeOffset < viewportDimensions.left) { // left overflow
        delta.left = viewportDimensions.left - leftEdgeOffset
      } else if (rightEdgeOffset > viewportDimensions.right) { // right overflow
        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset
      }
    }

    return delta
  }

  Tooltip.prototype.getTitle = function () {
    var title
    var $e = this.$element
    var o  = this.options

    title = $e.attr('data-original-title')
      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)

    return title
  }

  Tooltip.prototype.getUID = function (prefix) {
    do prefix += ~~(Math.random() * 1000000)
    while (document.getElementById(prefix))
    return prefix
  }

  Tooltip.prototype.tip = function () {
    if (!this.$tip) {
      this.$tip = $(this.options.template)
      if (this.$tip.length != 1) {
        throw new Error(this.type + ' `template` option must consist of exactly 1 top-level element!')
      }
    }
    return this.$tip
  }

  Tooltip.prototype.arrow = function () {
    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))
  }

  Tooltip.prototype.enable = function () {
    this.enabled = true
  }

  Tooltip.prototype.disable = function () {
    this.enabled = false
  }

  Tooltip.prototype.toggleEnabled = function () {
    this.enabled = !this.enabled
  }

  Tooltip.prototype.toggle = function (e) {
    var self = this
    if (e) {
      self = $(e.currentTarget).data('bs.' + this.type)
      if (!self) {
        self = new this.constructor(e.currentTarget, this.getDelegateOptions())
        $(e.currentTarget).data('bs.' + this.type, self)
      }
    }

    if (e) {
      self.inState.click = !self.inState.click
      if (self.isInStateTrue()) self.enter(self)
      else self.leave(self)
    } else {
      self.tip().hasClass('in') ? self.leave(self) : self.enter(self)
    }
  }

  Tooltip.prototype.destroy = function () {
    var that = this
    clearTimeout(this.timeout)
    this.hide(function () {
      that.$element.off('.' + that.type).removeData('bs.' + that.type)
      if (that.$tip) {
        that.$tip.detach()
      }
      that.$tip = null
      that.$arrow = null
      that.$viewport = null
    })
  }


  // TOOLTIP PLUGIN DEFINITION
  // =========================

  function Plugin(option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.tooltip')
      var options = typeof option == 'object' && option

      if (!data && /destroy|hide/.test(option)) return
      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))
      if (typeof option == 'string') data[option]()
    })
  }

  var old = $.fn.tooltip

  $.fn.tooltip             = Plugin
  $.fn.tooltip.Constructor = Tooltip


  // TOOLTIP NO CONFLICT
  // ===================

  $.fn.tooltip.noConflict = function () {
    $.fn.tooltip = old
    return this
  }

}(jQuery);

},{}],211:[function(require,module,exports){
/* ========================================================================
 * Bootstrap: transition.js v3.3.5
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */


+function ($) {
  'use strict';

  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)
  // ============================================================

  function transitionEnd() {
    var el = document.createElement('bootstrap')

    var transEndEventNames = {
      WebkitTransition : 'webkitTransitionEnd',
      MozTransition    : 'transitionend',
      OTransition      : 'oTransitionEnd otransitionend',
      transition       : 'transitionend'
    }

    for (var name in transEndEventNames) {
      if (el.style[name] !== undefined) {
        return { end: transEndEventNames[name] }
      }
    }

    return false // explicit for ie8 (  ._.)
  }

  // http://blog.alexmaccaw.com/css-transitions
  $.fn.emulateTransitionEnd = function (duration) {
    var called = false
    var $el = this
    $(this).one('bsTransitionEnd', function () { called = true })
    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }
    setTimeout(callback, duration)
    return this
  }

  $(function () {
    $.support.transition = transitionEnd()

    if (!$.support.transition) return

    $.event.special.bsTransitionEnd = {
      bindType: $.support.transition.end,
      delegateType: $.support.transition.end,
      handle: function (e) {
        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)
      }
    }
  })

}(jQuery);

},{}],212:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

function EventEmitter() {
  this._events = this._events || {};
  this._maxListeners = this._maxListeners || undefined;
}
module.exports = EventEmitter;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
EventEmitter.defaultMaxListeners = 10;

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function(n) {
  if (!isNumber(n) || n < 0 || isNaN(n))
    throw TypeError('n must be a positive number');
  this._maxListeners = n;
  return this;
};

EventEmitter.prototype.emit = function(type) {
  var er, handler, len, args, i, listeners;

  if (!this._events)
    this._events = {};

  // If there is no 'error' event listener then throw.
  if (type === 'error') {
    if (!this._events.error ||
        (isObject(this._events.error) && !this._events.error.length)) {
      er = arguments[1];
      if (er instanceof Error) {
        throw er; // Unhandled 'error' event
      } else {
        // At least give some kind of context to the user
        var err = new Error('Uncaught, unspecified "error" event. (' + er + ')');
        err.context = er;
        throw err;
      }
    }
  }

  handler = this._events[type];

  if (isUndefined(handler))
    return false;

  if (isFunction(handler)) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        args = Array.prototype.slice.call(arguments, 1);
        handler.apply(this, args);
    }
  } else if (isObject(handler)) {
    args = Array.prototype.slice.call(arguments, 1);
    listeners = handler.slice();
    len = listeners.length;
    for (i = 0; i < len; i++)
      listeners[i].apply(this, args);
  }

  return true;
};

EventEmitter.prototype.addListener = function(type, listener) {
  var m;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events)
    this._events = {};

  // To avoid recursion in the case that type === "newListener"! Before
  // adding it to the listeners, first emit "newListener".
  if (this._events.newListener)
    this.emit('newListener', type,
              isFunction(listener.listener) ?
              listener.listener : listener);

  if (!this._events[type])
    // Optimize the case of one listener. Don't need the extra array object.
    this._events[type] = listener;
  else if (isObject(this._events[type]))
    // If we've already got an array, just append.
    this._events[type].push(listener);
  else
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];

  // Check for listener leak
  if (isObject(this._events[type]) && !this._events[type].warned) {
    if (!isUndefined(this._maxListeners)) {
      m = this._maxListeners;
    } else {
      m = EventEmitter.defaultMaxListeners;
    }

    if (m && m > 0 && this._events[type].length > m) {
      this._events[type].warned = true;
      console.error('(node) warning: possible EventEmitter memory ' +
                    'leak detected. %d listeners added. ' +
                    'Use emitter.setMaxListeners() to increase limit.',
                    this._events[type].length);
      if (typeof console.trace === 'function') {
        // not supported in IE 10
        console.trace();
      }
    }
  }

  return this;
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.once = function(type, listener) {
  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  var fired = false;

  function g() {
    this.removeListener(type, g);

    if (!fired) {
      fired = true;
      listener.apply(this, arguments);
    }
  }

  g.listener = listener;
  this.on(type, g);

  return this;
};

// emits a 'removeListener' event iff the listener was removed
EventEmitter.prototype.removeListener = function(type, listener) {
  var list, position, length, i;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events || !this._events[type])
    return this;

  list = this._events[type];
  length = list.length;
  position = -1;

  if (list === listener ||
      (isFunction(list.listener) && list.listener === listener)) {
    delete this._events[type];
    if (this._events.removeListener)
      this.emit('removeListener', type, listener);

  } else if (isObject(list)) {
    for (i = length; i-- > 0;) {
      if (list[i] === listener ||
          (list[i].listener && list[i].listener === listener)) {
        position = i;
        break;
      }
    }

    if (position < 0)
      return this;

    if (list.length === 1) {
      list.length = 0;
      delete this._events[type];
    } else {
      list.splice(position, 1);
    }

    if (this._events.removeListener)
      this.emit('removeListener', type, listener);
  }

  return this;
};

EventEmitter.prototype.removeAllListeners = function(type) {
  var key, listeners;

  if (!this._events)
    return this;

  // not listening for removeListener, no need to emit
  if (!this._events.removeListener) {
    if (arguments.length === 0)
      this._events = {};
    else if (this._events[type])
      delete this._events[type];
    return this;
  }

  // emit removeListener for all listeners on all events
  if (arguments.length === 0) {
    for (key in this._events) {
      if (key === 'removeListener') continue;
      this.removeAllListeners(key);
    }
    this.removeAllListeners('removeListener');
    this._events = {};
    return this;
  }

  listeners = this._events[type];

  if (isFunction(listeners)) {
    this.removeListener(type, listeners);
  } else if (listeners) {
    // LIFO order
    while (listeners.length)
      this.removeListener(type, listeners[listeners.length - 1]);
  }
  delete this._events[type];

  return this;
};

EventEmitter.prototype.listeners = function(type) {
  var ret;
  if (!this._events || !this._events[type])
    ret = [];
  else if (isFunction(this._events[type]))
    ret = [this._events[type]];
  else
    ret = this._events[type].slice();
  return ret;
};

EventEmitter.prototype.listenerCount = function(type) {
  if (this._events) {
    var evlistener = this._events[type];

    if (isFunction(evlistener))
      return 1;
    else if (evlistener)
      return evlistener.length;
  }
  return 0;
};

EventEmitter.listenerCount = function(emitter, type) {
  return emitter.listenerCount(type);
};

function isFunction(arg) {
  return typeof arg === 'function';
}

function isNumber(arg) {
  return typeof arg === 'number';
}

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}

function isUndefined(arg) {
  return arg === void 0;
}

},{}],213:[function(require,module,exports){
/* flatpickr v4.4.3, @license MIT */
(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    (global.flatpickr = factory());
}(this, (function () { 'use strict';

    var pad = function pad(number) {
      return ("0" + number).slice(-2);
    };
    var int = function int(bool) {
      return bool === true ? 1 : 0;
    };
    function debounce(func, wait, immediate) {
      if (immediate === void 0) {
        immediate = false;
      }

      var timeout;
      return function () {
        var context = this,
            args = arguments;
        timeout !== null && clearTimeout(timeout);
        timeout = window.setTimeout(function () {
          timeout = null;
          if (!immediate) func.apply(context, args);
        }, wait);
        if (immediate && !timeout) func.apply(context, args);
      };
    }
    var arrayify = function arrayify(obj) {
      return obj instanceof Array ? obj : [obj];
    };

    var do_nothing = function do_nothing() {
      return undefined;
    };

    var monthToStr = function monthToStr(monthNumber, shorthand, locale) {
      return locale.months[shorthand ? "shorthand" : "longhand"][monthNumber];
    };
    var revFormat = {
      D: do_nothing,
      F: function F(dateObj, monthName, locale) {
        dateObj.setMonth(locale.months.longhand.indexOf(monthName));
      },
      G: function G(dateObj, hour) {
        dateObj.setHours(parseFloat(hour));
      },
      H: function H(dateObj, hour) {
        dateObj.setHours(parseFloat(hour));
      },
      J: function J(dateObj, day) {
        dateObj.setDate(parseFloat(day));
      },
      K: function K(dateObj, amPM, locale) {
        dateObj.setHours(dateObj.getHours() % 12 + 12 * int(new RegExp(locale.amPM[1], "i").test(amPM)));
      },
      M: function M(dateObj, shortMonth, locale) {
        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));
      },
      S: function S(dateObj, seconds) {
        dateObj.setSeconds(parseFloat(seconds));
      },
      U: function U(_, unixSeconds) {
        return new Date(parseFloat(unixSeconds) * 1000);
      },
      W: function W(dateObj, weekNum) {
        var weekNumber = parseInt(weekNum);
        return new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);
      },
      Y: function Y(dateObj, year) {
        dateObj.setFullYear(parseFloat(year));
      },
      Z: function Z(_, ISODate) {
        return new Date(ISODate);
      },
      d: function d(dateObj, day) {
        dateObj.setDate(parseFloat(day));
      },
      h: function h(dateObj, hour) {
        dateObj.setHours(parseFloat(hour));
      },
      i: function i(dateObj, minutes) {
        dateObj.setMinutes(parseFloat(minutes));
      },
      j: function j(dateObj, day) {
        dateObj.setDate(parseFloat(day));
      },
      l: do_nothing,
      m: function m(dateObj, month) {
        dateObj.setMonth(parseFloat(month) - 1);
      },
      n: function n(dateObj, month) {
        dateObj.setMonth(parseFloat(month) - 1);
      },
      s: function s(dateObj, seconds) {
        dateObj.setSeconds(parseFloat(seconds));
      },
      w: do_nothing,
      y: function y(dateObj, year) {
        dateObj.setFullYear(2000 + parseFloat(year));
      }
    };
    var tokenRegex = {
      D: "(\\w+)",
      F: "(\\w+)",
      G: "(\\d\\d|\\d)",
      H: "(\\d\\d|\\d)",
      J: "(\\d\\d|\\d)\\w+",
      K: "",
      M: "(\\w+)",
      S: "(\\d\\d|\\d)",
      U: "(.+)",
      W: "(\\d\\d|\\d)",
      Y: "(\\d{4})",
      Z: "(.+)",
      d: "(\\d\\d|\\d)",
      h: "(\\d\\d|\\d)",
      i: "(\\d\\d|\\d)",
      j: "(\\d\\d|\\d)",
      l: "(\\w+)",
      m: "(\\d\\d|\\d)",
      n: "(\\d\\d|\\d)",
      s: "(\\d\\d|\\d)",
      w: "(\\d\\d|\\d)",
      y: "(\\d{2})"
    };
    var formats = {
      Z: function Z(date) {
        return date.toISOString();
      },
      D: function D(date, locale, options) {
        return locale.weekdays.shorthand[formats.w(date, locale, options)];
      },
      F: function F(date, locale, options) {
        return monthToStr(formats.n(date, locale, options) - 1, false, locale);
      },
      G: function G(date, locale, options) {
        return pad(formats.h(date, locale, options));
      },
      H: function H(date) {
        return pad(date.getHours());
      },
      J: function J(date, locale) {
        return locale.ordinal !== undefined ? date.getDate() + locale.ordinal(date.getDate()) : date.getDate();
      },
      K: function K(date, locale) {
        return locale.amPM[int(date.getHours() > 11)];
      },
      M: function M(date, locale) {
        return monthToStr(date.getMonth(), true, locale);
      },
      S: function S(date) {
        return pad(date.getSeconds());
      },
      U: function U(date) {
        return date.getTime() / 1000;
      },
      W: function W(date, _, options) {
        return options.getWeek(date);
      },
      Y: function Y(date) {
        return date.getFullYear();
      },
      d: function d(date) {
        return pad(date.getDate());
      },
      h: function h(date) {
        return date.getHours() % 12 ? date.getHours() % 12 : 12;
      },
      i: function i(date) {
        return pad(date.getMinutes());
      },
      j: function j(date) {
        return date.getDate();
      },
      l: function l(date, locale) {
        return locale.weekdays.longhand[date.getDay()];
      },
      m: function m(date) {
        return pad(date.getMonth() + 1);
      },
      n: function n(date) {
        return date.getMonth() + 1;
      },
      s: function s(date) {
        return date.getSeconds();
      },
      w: function w(date) {
        return date.getDay();
      },
      y: function y(date) {
        return String(date.getFullYear()).substring(2);
      }
    };

    var english = {
      weekdays: {
        shorthand: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        longhand: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
      },
      months: {
        shorthand: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
        longhand: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
      },
      daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
      firstDayOfWeek: 0,
      ordinal: function ordinal(nth) {
        var s = nth % 100;
        if (s > 3 && s < 21) return "th";

        switch (s % 10) {
          case 1:
            return "st";

          case 2:
            return "nd";

          case 3:
            return "rd";

          default:
            return "th";
        }
      },
      rangeSeparator: " to ",
      weekAbbreviation: "Wk",
      scrollTitle: "Scroll to increment",
      toggleTitle: "Click to toggle",
      amPM: ["AM", "PM"],
      yearAriaLabel: "Year"
    };

    var createDateFormatter = function createDateFormatter(_ref) {
      var _ref$config = _ref.config,
          config = _ref$config === void 0 ? defaults : _ref$config,
          _ref$l10n = _ref.l10n,
          l10n = _ref$l10n === void 0 ? english : _ref$l10n;
      return function (dateObj, frmt, overrideLocale) {
        if (config.formatDate !== undefined) return config.formatDate(dateObj, frmt);
        var locale = overrideLocale || l10n;
        return frmt.split("").map(function (c, i, arr) {
          return formats[c] && arr[i - 1] !== "\\" ? formats[c](dateObj, locale, config) : c !== "\\" ? c : "";
        }).join("");
      };
    };
    var createDateParser = function createDateParser(_ref2) {
      var _ref2$config = _ref2.config,
          config = _ref2$config === void 0 ? defaults : _ref2$config,
          _ref2$l10n = _ref2.l10n,
          l10n = _ref2$l10n === void 0 ? english : _ref2$l10n;
      return function (date, givenFormat, timeless) {
        if (date !== 0 && !date) return undefined;
        var parsedDate;
        var date_orig = date;
        if (date instanceof Date) parsedDate = new Date(date.getTime());else if (typeof date !== "string" && date.toFixed !== undefined) parsedDate = new Date(date);else if (typeof date === "string") {
          var format = givenFormat || (config || defaults).dateFormat;
          var datestr = String(date).trim();

          if (datestr === "today") {
            parsedDate = new Date();
            timeless = true;
          } else if (/Z$/.test(datestr) || /GMT$/.test(datestr)) parsedDate = new Date(date);else if (config && config.parseDate) parsedDate = config.parseDate(date, format);else {
            parsedDate = !config || !config.noCalendar ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0) : new Date(new Date().setHours(0, 0, 0, 0));
            var matched,
                ops = [];

            for (var i = 0, matchIndex = 0, regexStr = ""; i < format.length; i++) {
              var token = format[i];
              var isBackSlash = token === "\\";
              var escaped = format[i - 1] === "\\" || isBackSlash;

              if (tokenRegex[token] && !escaped) {
                regexStr += tokenRegex[token];
                var match = new RegExp(regexStr).exec(date);

                if (match && (matched = true)) {
                  ops[token !== "Y" ? "push" : "unshift"]({
                    fn: revFormat[token],
                    val: match[++matchIndex]
                  });
                }
              } else if (!isBackSlash) regexStr += ".";

              ops.forEach(function (_ref3) {
                var fn = _ref3.fn,
                    val = _ref3.val;
                return parsedDate = fn(parsedDate, val, l10n) || parsedDate;
              });
            }

            parsedDate = matched ? parsedDate : undefined;
          }
        }

        if (!(parsedDate instanceof Date)) {
          config.errorHandler(new Error("Invalid date provided: " + date_orig));
          return undefined;
        }

        if (timeless === true) parsedDate.setHours(0, 0, 0, 0);
        return parsedDate;
      };
    };
    function compareDates(date1, date2, timeless) {
      if (timeless === void 0) {
        timeless = true;
      }

      if (timeless !== false) {
        return new Date(date1.getTime()).setHours(0, 0, 0, 0) - new Date(date2.getTime()).setHours(0, 0, 0, 0);
      }

      return date1.getTime() - date2.getTime();
    }
    var getWeek = function getWeek(givenDate) {
      var date = new Date(givenDate.getTime());
      date.setHours(0, 0, 0, 0);
      date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);
      var week1 = new Date(date.getFullYear(), 0, 4);
      return 1 + Math.round(((date.getTime() - week1.getTime()) / 86400000 - 3 + (week1.getDay() + 6) % 7) / 7);
    };
    var isBetween = function isBetween(ts, ts1, ts2) {
      return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);
    };
    var duration = {
      DAY: 86400000
    };

    var defaults = {
      _disable: [],
      _enable: [],
      allowInput: false,
      altFormat: "F j, Y",
      altInput: false,
      altInputClass: "form-control input",
      animate: typeof window === "object" && window.navigator.userAgent.indexOf("MSIE") === -1,
      ariaDateFormat: "F j, Y",
      clickOpens: true,
      closeOnSelect: true,
      conjunction: ", ",
      dateFormat: "Y-m-d",
      defaultHour: 12,
      defaultMinute: 0,
      defaultSeconds: 0,
      disable: [],
      disableMobile: false,
      enable: [],
      enableSeconds: false,
      enableTime: false,
      errorHandler: console.warn,
      getWeek: getWeek,
      hourIncrement: 1,
      ignoredFocusElements: [],
      inline: false,
      locale: "default",
      minuteIncrement: 5,
      mode: "single",
      nextArrow: "<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",
      noCalendar: false,
      now: new Date(),
      onChange: [],
      onClose: [],
      onDayCreate: [],
      onDestroy: [],
      onKeyDown: [],
      onMonthChange: [],
      onOpen: [],
      onParseConfig: [],
      onReady: [],
      onValueUpdate: [],
      onYearChange: [],
      onPreCalendarPosition: [],
      plugins: [],
      position: "auto",
      positionElement: undefined,
      prevArrow: "<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",
      shorthandCurrentMonth: false,
      showMonths: 1,
      static: false,
      time_24hr: false,
      weekNumbers: false,
      wrap: false
    };

    function toggleClass(elem, className, bool) {
      if (bool === true) return elem.classList.add(className);
      elem.classList.remove(className);
    }
    function createElement(tag, className, content) {
      var e = window.document.createElement(tag);
      className = className || "";
      content = content || "";
      e.className = className;
      if (content !== undefined) e.textContent = content;
      return e;
    }
    function clearNode(node) {
      while (node.firstChild) {
        node.removeChild(node.firstChild);
      }
    }
    function findParent(node, condition) {
      if (condition(node)) return node;else if (node.parentNode) return findParent(node.parentNode, condition);
      return undefined;
    }
    function createNumberInput(inputClassName, opts) {
      var wrapper = createElement("div", "numInputWrapper"),
          numInput = createElement("input", "numInput " + inputClassName),
          arrowUp = createElement("span", "arrowUp"),
          arrowDown = createElement("span", "arrowDown");
      numInput.type = "text";
      numInput.pattern = "\\d*";
      if (opts !== undefined) for (var key in opts) {
        numInput.setAttribute(key, opts[key]);
      }
      wrapper.appendChild(numInput);
      wrapper.appendChild(arrowUp);
      wrapper.appendChild(arrowDown);
      return wrapper;
    }

    if (typeof Object.assign !== "function") {
      Object.assign = function (target) {
        if (!target) {
          throw TypeError("Cannot convert undefined or null to object");
        }

        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }

        var _loop = function _loop(source) {
          if (source) {
            Object.keys(source).forEach(function (key) {
              return target[key] = source[key];
            });
          }
        };

        for (var _i = 0; _i < args.length; _i++) {
          var source = args[_i];

          _loop(source);
        }

        return target;
      };
    }

    var DEBOUNCED_CHANGE_MS = 300;

    function FlatpickrInstance(element, instanceConfig) {
      var self = {
        config: Object.assign({}, flatpickr.defaultConfig),
        l10n: english
      };
      self.parseDate = createDateParser({
        config: self.config,
        l10n: self.l10n
      });
      self._handlers = [];
      self._bind = bind;
      self._setHoursFromDate = setHoursFromDate;
      self.changeMonth = changeMonth;
      self.changeYear = changeYear;
      self.clear = clear;
      self.close = close;
      self._createElement = createElement;
      self.destroy = destroy;
      self.isEnabled = isEnabled;
      self.jumpToDate = jumpToDate;
      self.open = open;
      self.redraw = redraw;
      self.set = set;
      self.setDate = setDate;
      self.toggle = toggle;

      function setupHelperFunctions() {
        self.utils = {
          getDaysInMonth: function getDaysInMonth(month, yr) {
            if (month === void 0) {
              month = self.currentMonth;
            }

            if (yr === void 0) {
              yr = self.currentYear;
            }

            if (month === 1 && (yr % 4 === 0 && yr % 100 !== 0 || yr % 400 === 0)) return 29;
            return self.l10n.daysInMonth[month];
          }
        };
      }

      function init() {
        self.element = self.input = element;
        self.isOpen = false;
        parseConfig();
        setupLocale();
        setupInputs();
        setupDates();
        setupHelperFunctions();
        if (!self.isMobile) build();
        bindEvents();

        if (self.selectedDates.length || self.config.noCalendar) {
          if (self.config.enableTime) {
            setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj || self.config.minDate : undefined);
          }

          updateValue(false);
        }

        self.showTimeInput = self.selectedDates.length > 0 || self.config.noCalendar;

        if (self.daysContainer !== undefined) {
          self.calendarContainer.style.visibility = "hidden";
          self.calendarContainer.style.display = "block";
          var daysWidth = (self.daysContainer.offsetWidth + 1) * self.config.showMonths;
          self.daysContainer.style.width = daysWidth + "px";
          self.calendarContainer.style.width = daysWidth + "px";

          if (self.weekWrapper !== undefined) {
            self.calendarContainer.style.width = daysWidth + self.weekWrapper.offsetWidth + "px";
          }

          self.calendarContainer.style.visibility = "visible";
          self.calendarContainer.style.display = null;
        }

        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);

        if (!self.isMobile && isSafari) {
          positionCalendar();
        }

        triggerEvent("onReady");
      }

      function bindToInstance(fn) {
        return fn.bind(self);
      }

      function updateTime(e) {
        if (self.selectedDates.length === 0) return;
        timeWrapper(e);

        if (e.type !== "input") {
          setHoursFromInputs();
          updateValue();
        } else {
          setTimeout(function () {
            setHoursFromInputs();
            updateValue();
          }, DEBOUNCED_CHANGE_MS);
        }
      }

      function ampm2military(hour, amPM) {
        return hour % 12 + 12 * int(amPM === self.l10n.amPM[1]);
      }

      function military2ampm(hour) {
        switch (hour % 24) {
          case 0:
          case 12:
            return 12;

          default:
            return hour % 12;
        }
      }

      function setHoursFromInputs() {
        if (self.hourElement === undefined || self.minuteElement === undefined) return;
        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24,
            minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60,
            seconds = self.secondElement !== undefined ? (parseInt(self.secondElement.value, 10) || 0) % 60 : 0;
        if (self.amPM !== undefined) hours = ampm2military(hours, self.amPM.textContent);
        var limitMinHours = self.config.minTime !== undefined || self.config.minDate && self.minDateHasTime && self.latestSelectedDateObj && compareDates(self.latestSelectedDateObj, self.config.minDate, true) === 0;
        var limitMaxHours = self.config.maxTime !== undefined || self.config.maxDate && self.maxDateHasTime && self.latestSelectedDateObj && compareDates(self.latestSelectedDateObj, self.config.maxDate, true) === 0;

        if (limitMaxHours) {
          var maxTime = self.config.maxTime !== undefined ? self.config.maxTime : self.config.maxDate;
          hours = Math.min(hours, maxTime.getHours());
          if (hours === maxTime.getHours()) minutes = Math.min(minutes, maxTime.getMinutes());
          if (minutes === maxTime.getMinutes()) seconds = Math.min(seconds, maxTime.getSeconds());
        }

        if (limitMinHours) {
          var minTime = self.config.minTime !== undefined ? self.config.minTime : self.config.minDate;
          hours = Math.max(hours, minTime.getHours());
          if (hours === minTime.getHours()) minutes = Math.max(minutes, minTime.getMinutes());
          if (minutes === minTime.getMinutes()) seconds = Math.max(seconds, minTime.getSeconds());
        }

        setHours(hours, minutes, seconds);
      }

      function setHoursFromDate(dateObj) {
        var date = dateObj || self.latestSelectedDateObj;
        if (date) setHours(date.getHours(), date.getMinutes(), date.getSeconds());
      }

      function setHours(hours, minutes, seconds) {
        if (self.latestSelectedDateObj !== undefined) {
          self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);
        }

        if (!self.hourElement || !self.minuteElement || self.isMobile) return;
        self.hourElement.value = pad(!self.config.time_24hr ? (12 + hours) % 12 + 12 * int(hours % 12 === 0) : hours);
        self.minuteElement.value = pad(minutes);
        if (self.amPM !== undefined) self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];
        if (self.secondElement !== undefined) self.secondElement.value = pad(seconds);
      }

      function onYearInput(event) {
        var year = parseInt(event.target.value) + (event.delta || 0);

        if (year.toString().length === 4 || event.key === "Enter") {
          event.target.blur();
          if (!/[^\d]/.test(year.toString())) changeYear(year);
        }
      }

      function bind(element, event, handler, options) {
        if (event instanceof Array) return event.forEach(function (ev) {
          return bind(element, ev, handler, options);
        });
        if (element instanceof Array) return element.forEach(function (el) {
          return bind(el, event, handler, options);
        });
        element.addEventListener(event, handler, options);

        self._handlers.push({
          element: element,
          event: event,
          handler: handler
        });
      }

      function onClick(handler) {
        return function (evt) {
          evt.which === 1 && handler(evt);
        };
      }

      function triggerChange() {
        triggerEvent("onChange");
      }

      function bindEvents() {
        if (self.config.wrap) {
          ["open", "close", "toggle", "clear"].forEach(function (evt) {
            Array.prototype.forEach.call(self.element.querySelectorAll("[data-" + evt + "]"), function (el) {
              return bind(el, "click", self[evt]);
            });
          });
        }

        if (self.isMobile) {
          setupMobile();
          return;
        }

        var debouncedResize = debounce(onResize, 50);
        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);
        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent)) bind(self.daysContainer, "mouseover", function (e) {
          if (self.config.mode === "range") onMouseOver(e.target);
        });
        bind(window.document.body, "keydown", onKeyDown);
        if (!self.config.static) bind(self._input, "keydown", onKeyDown);
        if (!self.config.inline && !self.config.static) bind(window, "resize", debouncedResize);
        if (window.ontouchstart !== undefined) bind(window.document, "touchstart", documentClick);
        bind(window.document, "mousedown", onClick(documentClick));
        bind(window.document, "focus", documentClick, {
          capture: true
        });

        if (self.config.clickOpens === true) {
          bind(self._input, "focus", self.open);
          bind(self._input, "mousedown", onClick(self.open));
        }

        if (self.daysContainer !== undefined) {
          bind(self.monthNav, "mousedown", onClick(onMonthNavClick));
          bind(self.monthNav, ["keyup", "increment"], onYearInput);
          bind(self.daysContainer, "mousedown", onClick(selectDate));
        }

        if (self.timeContainer !== undefined && self.minuteElement !== undefined && self.hourElement !== undefined) {
          var selText = function selText(e) {
            return e.target.select();
          };

          bind(self.timeContainer, ["input", "increment"], updateTime);
          bind(self.timeContainer, "mousedown", onClick(timeIncrement));
          bind(self.timeContainer, ["input", "increment"], self._debouncedChange, {
            passive: true
          });
          bind([self.hourElement, self.minuteElement], ["focus", "click"], selText);
          if (self.secondElement !== undefined) bind(self.secondElement, "focus", function () {
            return self.secondElement && self.secondElement.select();
          });

          if (self.amPM !== undefined) {
            bind(self.amPM, "mousedown", onClick(function (e) {
              updateTime(e);
              triggerChange();
            }));
          }
        }
      }

      function jumpToDate(jumpDate) {
        var jumpTo = jumpDate !== undefined ? self.parseDate(jumpDate) : self.latestSelectedDateObj || (self.config.minDate && self.config.minDate > self.now ? self.config.minDate : self.config.maxDate && self.config.maxDate < self.now ? self.config.maxDate : self.now);

        try {
          if (jumpTo !== undefined) {
            self.currentYear = jumpTo.getFullYear();
            self.currentMonth = jumpTo.getMonth();
          }
        } catch (e) {
          e.message = "Invalid date supplied: " + jumpTo;
          self.config.errorHandler(e);
        }

        self.redraw();
      }

      function timeIncrement(e) {
        if (~e.target.className.indexOf("arrow")) incrementNumInput(e, e.target.classList.contains("arrowUp") ? 1 : -1);
      }

      function incrementNumInput(e, delta, inputElem) {
        var target = e && e.target;
        var input = inputElem || target && target.parentNode && target.parentNode.firstChild;
        var event = createEvent("increment");
        event.delta = delta;
        input && input.dispatchEvent(event);
      }

      function build() {
        var fragment = window.document.createDocumentFragment();
        self.calendarContainer = createElement("div", "flatpickr-calendar");
        self.calendarContainer.tabIndex = -1;

        if (!self.config.noCalendar) {
          fragment.appendChild(buildMonthNav());
          self.innerContainer = createElement("div", "flatpickr-innerContainer");

          if (self.config.weekNumbers) {
            var _buildWeeks = buildWeeks(),
                weekWrapper = _buildWeeks.weekWrapper,
                weekNumbers = _buildWeeks.weekNumbers;

            self.innerContainer.appendChild(weekWrapper);
            self.weekNumbers = weekNumbers;
            self.weekWrapper = weekWrapper;
          }

          self.rContainer = createElement("div", "flatpickr-rContainer");
          self.rContainer.appendChild(buildWeekdays());

          if (!self.daysContainer) {
            self.daysContainer = createElement("div", "flatpickr-days");
            self.daysContainer.tabIndex = -1;
          }

          buildDays();
          self.rContainer.appendChild(self.daysContainer);
          self.innerContainer.appendChild(self.rContainer);
          fragment.appendChild(self.innerContainer);
        }

        if (self.config.enableTime) {
          fragment.appendChild(buildTime());
        }

        toggleClass(self.calendarContainer, "rangeMode", self.config.mode === "range");
        toggleClass(self.calendarContainer, "animate", self.config.animate === true);
        toggleClass(self.calendarContainer, "multiMonth", self.config.showMonths > 1);
        self.calendarContainer.appendChild(fragment);
        var customAppend = self.config.appendTo !== undefined && self.config.appendTo.nodeType !== undefined;

        if (self.config.inline || self.config.static) {
          self.calendarContainer.classList.add(self.config.inline ? "inline" : "static");

          if (self.config.inline) {
            if (!customAppend && self.element.parentNode) self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);else if (self.config.appendTo !== undefined) self.config.appendTo.appendChild(self.calendarContainer);
          }

          if (self.config.static) {
            var wrapper = createElement("div", "flatpickr-wrapper");
            if (self.element.parentNode) self.element.parentNode.insertBefore(wrapper, self.element);
            wrapper.appendChild(self.element);
            if (self.altInput) wrapper.appendChild(self.altInput);
            wrapper.appendChild(self.calendarContainer);
          }
        }

        if (!self.config.static && !self.config.inline) (self.config.appendTo !== undefined ? self.config.appendTo : window.document.body).appendChild(self.calendarContainer);
      }

      function createDay(className, date, dayNumber, i) {
        var dateIsEnabled = isEnabled(date, true),
            dayElement = createElement("span", "flatpickr-day " + className, date.getDate().toString());
        dayElement.dateObj = date;
        dayElement.$i = i;
        dayElement.setAttribute("aria-label", self.formatDate(date, self.config.ariaDateFormat));

        if (compareDates(date, self.now) === 0) {
          self.todayDateElem = dayElement;
          dayElement.classList.add("today");
        }

        if (dateIsEnabled) {
          dayElement.tabIndex = -1;

          if (isDateSelected(date)) {
            dayElement.classList.add("selected");
            self.selectedDateElem = dayElement;

            if (self.config.mode === "range") {
              toggleClass(dayElement, "startRange", self.selectedDates[0] && compareDates(date, self.selectedDates[0], true) === 0);
              toggleClass(dayElement, "endRange", self.selectedDates[1] && compareDates(date, self.selectedDates[1], true) === 0);
              if (className === "nextMonthDay") dayElement.classList.add("inRange");
            }
          }
        } else {
          dayElement.classList.add("disabled");
        }

        if (self.config.mode === "range") {
          if (isDateInRange(date) && !isDateSelected(date)) dayElement.classList.add("inRange");
        }

        if (self.weekNumbers && self.config.showMonths === 1 && className !== "prevMonthDay" && dayNumber % 7 === 1) {
          self.weekNumbers.insertAdjacentHTML("beforeend", "<span class='flatpickr-day'>" + self.config.getWeek(date) + "</span>");
        }

        triggerEvent("onDayCreate", dayElement);
        return dayElement;
      }

      function focusOnDay(currentInd, offset) {
        var currentIndex = currentInd !== undefined ? currentInd : document.activeElement.$i;
        var newIndex = (currentIndex || 0) + offset || 0,
            targetNode = Array.prototype.find.call(self.days.children, function (c, i) {
          return i >= newIndex && c.className.indexOf("MonthDay") === -1 && isEnabled(c.dateObj);
        });

        if (targetNode !== undefined) {
          targetNode.focus();
          if (self.config.mode === "range") onMouseOver(targetNode);
        }
      }

      function buildMonthDays(year, month) {
        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;
        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12);
        var daysInMonth = self.utils.getDaysInMonth(month),
            days = window.document.createDocumentFragment();
        var dayNumber = prevMonthDays + 1 - firstOfMonth,
            dayIndex = 0;

        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {
          days.appendChild(createDay("prevMonthDay", new Date(year, month - 1, dayNumber), dayNumber, dayIndex));
        }

        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {
          days.appendChild(createDay("", new Date(year, month, dayNumber), dayNumber, dayIndex));
        }

        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth && (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {
          days.appendChild(createDay("nextMonthDay", new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));
        }

        var dayContainer = createElement("div", "dayContainer");
        dayContainer.appendChild(days);
        return dayContainer;
      }

      function buildDays() {
        if (self.daysContainer === undefined) {
          return;
        }

        clearNode(self.daysContainer);
        if (self.weekNumbers) clearNode(self.weekNumbers);
        var frag = document.createDocumentFragment();

        for (var i = 0; i < self.config.showMonths; i++) {
          var d = new Date(self.currentYear, self.currentMonth, 1);
          d.setMonth(self.currentMonth + i);
          frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));
        }

        self.daysContainer.appendChild(frag);
        self.days = self.daysContainer.firstChild;
      }

      function buildMonth() {
        var container = createElement("div", "flatpickr-month");
        var monthNavFragment = window.document.createDocumentFragment();
        var monthElement = createElement("span", "cur-month");
        monthElement.title = self.l10n.scrollTitle;
        var yearInput = createNumberInput("cur-year", {
          tabindex: "-1"
        });
        var yearElement = yearInput.childNodes[0];
        yearElement.title = self.l10n.scrollTitle;
        yearElement.setAttribute("aria-label", self.l10n.yearAriaLabel);
        if (self.config.minDate) yearElement.setAttribute("data-min", self.config.minDate.getFullYear().toString());

        if (self.config.maxDate) {
          yearElement.setAttribute("data-max", self.config.maxDate.getFullYear().toString());
          yearElement.disabled = !!self.config.minDate && self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();
        }

        var currentMonth = createElement("div", "flatpickr-current-month");
        currentMonth.appendChild(monthElement);
        currentMonth.appendChild(yearInput);
        monthNavFragment.appendChild(currentMonth);
        container.appendChild(monthNavFragment);
        return {
          container: container,
          yearElement: yearElement,
          monthElement: monthElement
        };
      }

      function buildMonthNav() {
        self.monthNav = createElement("div", "flatpickr-months");
        self.yearElements = [];
        self.monthElements = [];
        self.prevMonthNav = createElement("span", "flatpickr-prev-month");
        self.prevMonthNav.innerHTML = self.config.prevArrow;
        self.nextMonthNav = createElement("span", "flatpickr-next-month");
        self.nextMonthNav.innerHTML = self.config.nextArrow;
        self.monthNav.appendChild(self.prevMonthNav);

        for (var m = self.config.showMonths; m--;) {
          var month = buildMonth();
          self.yearElements.push(month.yearElement);
          self.monthElements.push(month.monthElement);
          self.monthNav.appendChild(month.container);
        }

        self.monthNav.appendChild(self.nextMonthNav);
        Object.defineProperty(self, "_hidePrevMonthArrow", {
          get: function get() {
            return self.__hidePrevMonthArrow;
          },
          set: function set(bool) {
            if (self.__hidePrevMonthArrow !== bool) {
              toggleClass(self.prevMonthNav, "disabled", bool);
              self.__hidePrevMonthArrow = bool;
            }
          }
        });
        Object.defineProperty(self, "_hideNextMonthArrow", {
          get: function get() {
            return self.__hideNextMonthArrow;
          },
          set: function set(bool) {
            if (self.__hideNextMonthArrow !== bool) {
              toggleClass(self.nextMonthNav, "disabled", bool);
              self.__hideNextMonthArrow = bool;
            }
          }
        });
        self.currentYearElement = self.yearElements[0];
        updateNavigationCurrentMonth();
        return self.monthNav;
      }

      function buildTime() {
        self.calendarContainer.classList.add("hasTime");
        if (self.config.noCalendar) self.calendarContainer.classList.add("noCalendar");
        self.timeContainer = createElement("div", "flatpickr-time");
        self.timeContainer.tabIndex = -1;
        var separator = createElement("span", "flatpickr-time-separator", ":");
        var hourInput = createNumberInput("flatpickr-hour");
        self.hourElement = hourInput.childNodes[0];
        var minuteInput = createNumberInput("flatpickr-minute");
        self.minuteElement = minuteInput.childNodes[0];
        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;
        self.hourElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getHours() : self.config.time_24hr ? self.config.defaultHour : military2ampm(self.config.defaultHour));
        self.minuteElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getMinutes() : self.config.defaultMinute);
        self.hourElement.setAttribute("data-step", self.config.hourIncrement.toString());
        self.minuteElement.setAttribute("data-step", self.config.minuteIncrement.toString());
        self.hourElement.setAttribute("data-min", self.config.time_24hr ? "0" : "1");
        self.hourElement.setAttribute("data-max", self.config.time_24hr ? "23" : "12");
        self.minuteElement.setAttribute("data-min", "0");
        self.minuteElement.setAttribute("data-max", "59");
        self.timeContainer.appendChild(hourInput);
        self.timeContainer.appendChild(separator);
        self.timeContainer.appendChild(minuteInput);
        if (self.config.time_24hr) self.timeContainer.classList.add("time24hr");

        if (self.config.enableSeconds) {
          self.timeContainer.classList.add("hasSeconds");
          var secondInput = createNumberInput("flatpickr-second");
          self.secondElement = secondInput.childNodes[0];
          self.secondElement.value = pad(self.latestSelectedDateObj ? self.latestSelectedDateObj.getSeconds() : self.config.defaultSeconds);
          self.secondElement.setAttribute("data-step", self.minuteElement.getAttribute("data-step"));
          self.secondElement.setAttribute("data-min", self.minuteElement.getAttribute("data-min"));
          self.secondElement.setAttribute("data-max", self.minuteElement.getAttribute("data-max"));
          self.timeContainer.appendChild(createElement("span", "flatpickr-time-separator", ":"));
          self.timeContainer.appendChild(secondInput);
        }

        if (!self.config.time_24hr) {
          self.amPM = createElement("span", "flatpickr-am-pm", self.l10n.amPM[int((self.latestSelectedDateObj ? self.hourElement.value : self.config.defaultHour) > 11)]);
          self.amPM.title = self.l10n.toggleTitle;
          self.amPM.tabIndex = -1;
          self.timeContainer.appendChild(self.amPM);
        }

        return self.timeContainer;
      }

      function buildWeekdays() {
        if (!self.weekdayContainer) self.weekdayContainer = createElement("div", "flatpickr-weekdays");

        for (var i = self.config.showMonths; i--;) {
          var container = createElement("div", "flatpickr-weekdaycontainer");
          self.weekdayContainer.appendChild(container);
        }

        updateWeekdays();
        return self.weekdayContainer;
      }

      function updateWeekdays() {
        var firstDayOfWeek = self.l10n.firstDayOfWeek;
        var weekdays = self.l10n.weekdays.shorthand.concat();

        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {
          weekdays = weekdays.splice(firstDayOfWeek, weekdays.length).concat(weekdays.splice(0, firstDayOfWeek));
        }

        for (var i = self.config.showMonths; i--;) {
          self.weekdayContainer.children[i].innerHTML = "\n      <span class=flatpickr-weekday>\n        " + weekdays.join("</span><span class=flatpickr-weekday>") + "\n      </span>\n      ";
        }
      }

      function buildWeeks() {
        self.calendarContainer.classList.add("hasWeeks");
        var weekWrapper = createElement("div", "flatpickr-weekwrapper");
        weekWrapper.appendChild(createElement("span", "flatpickr-weekday", self.l10n.weekAbbreviation));
        var weekNumbers = createElement("div", "flatpickr-weeks");
        weekWrapper.appendChild(weekNumbers);
        return {
          weekWrapper: weekWrapper,
          weekNumbers: weekNumbers
        };
      }

      function changeMonth(value, is_offset, from_keyboard) {
        if (is_offset === void 0) {
          is_offset = true;
        }

        if (from_keyboard === void 0) {
          from_keyboard = false;
        }

        var delta = is_offset ? value : value - self.currentMonth;
        if (delta < 0 && self._hidePrevMonthArrow === true || delta > 0 && self._hideNextMonthArrow === true) return;
        self.currentMonth += delta;

        if (self.currentMonth < 0 || self.currentMonth > 11) {
          self.currentYear += self.currentMonth > 11 ? 1 : -1;
          self.currentMonth = (self.currentMonth + 12) % 12;
          triggerEvent("onYearChange");
        }

        buildDays();
        triggerEvent("onMonthChange");
        updateNavigationCurrentMonth();

        if (from_keyboard === true) {
          focusOnDay(undefined, 0);
        }
      }

      function clear(triggerChangeEvent) {
        if (triggerChangeEvent === void 0) {
          triggerChangeEvent = true;
        }

        self.input.value = "";
        if (self.altInput !== undefined) self.altInput.value = "";
        if (self.mobileInput !== undefined) self.mobileInput.value = "";
        self.selectedDates = [];
        self.latestSelectedDateObj = undefined;
        self.showTimeInput = false;

        if (self.config.enableTime === true) {
          if (self.config.minDate !== undefined) setHoursFromDate(self.config.minDate);else setHours(self.config.defaultHour, self.config.defaultMinute, self.config.defaultSeconds);
        }

        self.redraw();
        if (triggerChangeEvent) triggerEvent("onChange");
      }

      function close() {
        self.isOpen = false;

        if (!self.isMobile) {
          self.calendarContainer.classList.remove("open");

          self._input.classList.remove("active");
        }

        triggerEvent("onClose");
      }

      function destroy() {
        if (self.config !== undefined) triggerEvent("onDestroy");

        for (var i = self._handlers.length; i--;) {
          var h = self._handlers[i];
          h.element.removeEventListener(h.event, h.handler);
        }

        self._handlers = [];

        if (self.mobileInput) {
          if (self.mobileInput.parentNode) self.mobileInput.parentNode.removeChild(self.mobileInput);
          self.mobileInput = undefined;
        } else if (self.calendarContainer && self.calendarContainer.parentNode) self.calendarContainer.parentNode.removeChild(self.calendarContainer);

        if (self.altInput) {
          self.input.type = "text";
          if (self.altInput.parentNode) self.altInput.parentNode.removeChild(self.altInput);
          delete self.altInput;
        }

        if (self.input) {
          self.input.type = self.input._type;
          self.input.classList.remove("flatpickr-input");
          self.input.removeAttribute("readonly");
          self.input.value = "";
        }

        ["_showTimeInput", "latestSelectedDateObj", "_hideNextMonthArrow", "_hidePrevMonthArrow", "__hideNextMonthArrow", "__hidePrevMonthArrow", "isMobile", "isOpen", "selectedDateElem", "minDateHasTime", "maxDateHasTime", "days", "daysContainer", "_input", "_positionElement", "innerContainer", "rContainer", "monthNav", "todayDateElem", "calendarContainer", "weekdayContainer", "prevMonthNav", "nextMonthNav", "currentMonthElement", "currentYearElement", "navigationCurrentMonth", "selectedDateElem", "config"].forEach(function (k) {
          try {
            delete self[k];
          } catch (_) {}
        });
      }

      function isCalendarElem(elem) {
        if (self.config.appendTo && self.config.appendTo.contains(elem)) return true;
        return self.calendarContainer.contains(elem);
      }

      function documentClick(e) {
        if (self.isOpen && !self.config.inline) {
          var isCalendarElement = isCalendarElem(e.target);
          var isInput = e.target === self.input || e.target === self.altInput || self.element.contains(e.target) || e.path && e.path.indexOf && (~e.path.indexOf(self.input) || ~e.path.indexOf(self.altInput));
          var lostFocus = e.type === "blur" ? isInput && e.relatedTarget && !isCalendarElem(e.relatedTarget) : !isInput && !isCalendarElement;
          var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {
            return elem.contains(e.target);
          });

          if (lostFocus && isIgnored) {
            self.close();

            if (self.config.mode === "range" && self.selectedDates.length === 1) {
              self.clear(false);
              self.redraw();
            }
          }
        }
      }

      function changeYear(newYear) {
        if (!newYear || self.config.minDate && newYear < self.config.minDate.getFullYear() || self.config.maxDate && newYear > self.config.maxDate.getFullYear()) return;
        var newYearNum = newYear,
            isNewYear = self.currentYear !== newYearNum;
        self.currentYear = newYearNum || self.currentYear;

        if (self.config.maxDate && self.currentYear === self.config.maxDate.getFullYear()) {
          self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);
        } else if (self.config.minDate && self.currentYear === self.config.minDate.getFullYear()) {
          self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);
        }

        if (isNewYear) {
          self.redraw();
          triggerEvent("onYearChange");
        }
      }

      function isEnabled(date, timeless) {
        if (timeless === void 0) {
          timeless = true;
        }

        var dateToCheck = self.parseDate(date, undefined, timeless);
        if (self.config.minDate && dateToCheck && compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0 || self.config.maxDate && dateToCheck && compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0) return false;
        if (self.config.enable.length === 0 && self.config.disable.length === 0) return true;
        if (dateToCheck === undefined) return false;
        var bool = self.config.enable.length > 0,
            array = bool ? self.config.enable : self.config.disable;

        for (var i = 0, d; i < array.length; i++) {
          d = array[i];
          if (typeof d === "function" && d(dateToCheck)) return bool;else if (d instanceof Date && dateToCheck !== undefined && d.getTime() === dateToCheck.getTime()) return bool;else if (typeof d === "string" && dateToCheck !== undefined) {
            var parsed = self.parseDate(d, undefined, true);
            return parsed && parsed.getTime() === dateToCheck.getTime() ? bool : !bool;
          } else if (typeof d === "object" && dateToCheck !== undefined && d.from && d.to && dateToCheck.getTime() >= d.from.getTime() && dateToCheck.getTime() <= d.to.getTime()) return bool;
        }

        return !bool;
      }

      function onKeyDown(e) {
        var isInput = e.target === self._input;
        var calendarElem = isCalendarElem(e.target);
        var allowInput = self.config.allowInput;
        var allowKeydown = self.isOpen && (!allowInput || !isInput);
        var allowInlineKeydown = self.config.inline && isInput && !allowInput;

        if (e.keyCode === 13 && isInput) {
          if (allowInput) {
            self.setDate(self._input.value, true, e.target === self.altInput ? self.config.altFormat : self.config.dateFormat);
            return e.target.blur();
          } else self.open();
        } else if (calendarElem || allowKeydown || allowInlineKeydown) {
          var isTimeObj = !!self.timeContainer && self.timeContainer.contains(e.target);

          switch (e.keyCode) {
            case 13:
              if (isTimeObj) updateValue();else selectDate(e);
              break;

            case 27:
              e.preventDefault();
              focusAndClose();
              break;

            case 8:
            case 46:
              if (isInput && !self.config.allowInput) {
                e.preventDefault();
                self.clear();
              }

              break;

            case 37:
            case 39:
              if (!isTimeObj) {
                e.preventDefault();

                if (self.daysContainer) {
                  var _delta = isInput ? 0 : e.keyCode === 39 ? 1 : -1;

                  if (!e.ctrlKey) focusOnDay(undefined, _delta);else changeMonth(_delta, true, true);
                }
              } else if (self.hourElement) self.hourElement.focus();

              break;

            case 38:
            case 40:
              e.preventDefault();
              var delta = e.keyCode === 40 ? 1 : -1;

              if (self.daysContainer && e.target.$i !== undefined) {
                if (e.ctrlKey) {
                  changeYear(self.currentYear - delta);
                  focusOnDay(e.target.$i, 0);
                } else if (!isTimeObj) focusOnDay(e.target.$i, delta * 7);
              } else if (self.config.enableTime) {
                if (!isTimeObj && self.hourElement) self.hourElement.focus();
                updateTime(e);

                self._debouncedChange();
              }

              break;

            case 9:
              if (e.target === self.hourElement) {
                e.preventDefault();
                self.minuteElement.select();
              } else if (e.target === self.minuteElement && (self.secondElement || self.amPM)) {
                e.preventDefault();
                if (self.secondElement !== undefined) self.secondElement.focus();else if (self.amPM !== undefined) self.amPM.focus();
              } else if (e.target === self.secondElement && self.amPM) {
                e.preventDefault();
                self.amPM.focus();
              }

              break;

            default:
              break;
          }

          switch (e.key) {
            case self.l10n.amPM[0].charAt(0):
            case self.l10n.amPM[0].charAt(0).toLowerCase():
              if (self.amPM !== undefined && e.target === self.amPM) {
                self.amPM.textContent = self.l10n.amPM[0];
                setHoursFromInputs();
                updateValue();
              }

              break;

            case self.l10n.amPM[1].charAt(0):
            case self.l10n.amPM[1].charAt(0).toLowerCase():
              if (self.amPM !== undefined && e.target === self.amPM) {
                self.amPM.textContent = self.l10n.amPM[1];
                setHoursFromInputs();
                updateValue();
              }

              break;

            default:
              break;
          }

          triggerEvent("onKeyDown", e);
        }
      }

      function onMouseOver(elem) {
        if (self.selectedDates.length !== 1 || !elem.classList.contains("flatpickr-day") || elem.classList.contains("disabled")) return;
        var hoverDate = elem.dateObj.getTime(),
            initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(),
            rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()),
            rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());
        var months = self.daysContainer.children,
            firstDay = months[0].children[0].dateObj.getTime(),
            lastDay = months[months.length - 1].lastChild.dateObj.getTime();
        var containsDisabled = false;
        var minRange = 0,
            maxRange = 0;

        for (var t = firstDay; t < lastDay; t += duration.DAY) {
          if (!isEnabled(new Date(t), true)) {
            containsDisabled = containsDisabled || t > rangeStartDate && t < rangeEndDate;
            if (t < initialDate && (!minRange || t > minRange)) minRange = t;else if (t > initialDate && (!maxRange || t < maxRange)) maxRange = t;
          }
        }

        for (var m = 0; m < self.config.showMonths; m++) {
          var month = self.daysContainer.children[m];
          var prevMonth = self.daysContainer.children[m - 1];

          var _loop = function _loop(i, l) {
            var dayElem = month.children[i],
                date = dayElem.dateObj;
            var timestamp = date.getTime();
            var outOfRange = minRange > 0 && timestamp < minRange || maxRange > 0 && timestamp > maxRange;

            if (outOfRange) {
              dayElem.classList.add("notAllowed");
              ["inRange", "startRange", "endRange"].forEach(function (c) {
                dayElem.classList.remove(c);
              });
              return "continue";
            } else if (containsDisabled && !outOfRange) return "continue";

            ["startRange", "inRange", "endRange", "notAllowed"].forEach(function (c) {
              dayElem.classList.remove(c);
            });
            elem.classList.add(hoverDate < self.selectedDates[0].getTime() ? "startRange" : "endRange");

            if (month.contains(elem) || !(m > 0 && prevMonth && prevMonth.lastChild.dateObj.getTime() >= timestamp)) {
              if (initialDate < hoverDate && timestamp === initialDate) dayElem.classList.add("startRange");else if (initialDate > hoverDate && timestamp === initialDate) dayElem.classList.add("endRange");
              if (timestamp >= minRange && (maxRange === 0 || timestamp <= maxRange) && isBetween(timestamp, initialDate, hoverDate)) dayElem.classList.add("inRange");
            }
          };

          for (var i = 0, l = month.children.length; i < l; i++) {
            var _ret = _loop(i, l);

            if (_ret === "continue") continue;
          }
        }
      }

      function onResize() {
        if (self.isOpen && !self.config.static && !self.config.inline) positionCalendar();
      }

      function open(e, positionElement) {
        if (positionElement === void 0) {
          positionElement = self._input;
        }

        if (self.isMobile === true) {
          if (e) {
            e.preventDefault();
            e.target && e.target.blur();
          }

          setTimeout(function () {
            self.mobileInput !== undefined && self.mobileInput.click();
          }, 0);
          triggerEvent("onOpen");
          return;
        }

        if (self._input.disabled || self.config.inline) return;
        var wasOpen = self.isOpen;
        self.isOpen = true;

        if (!wasOpen) {
          self.calendarContainer.classList.add("open");

          self._input.classList.add("active");

          triggerEvent("onOpen");
          positionCalendar(positionElement);
        }

        if (self.config.enableTime === true && self.config.noCalendar === true) {
          if (self.selectedDates.length === 0) {
            self.setDate(self.config.minDate !== undefined ? new Date(self.config.minDate.getTime()) : new Date().setHours(self.config.defaultHour, self.config.defaultMinute, self.config.defaultSeconds, 0), false);
            setHoursFromInputs();
            updateValue();
          }

          setTimeout(function () {
            return self.hourElement.select();
          }, 50);
        }
      }

      function minMaxDateSetter(type) {
        return function (date) {
          var dateObj = self.config["_" + type + "Date"] = self.parseDate(date, self.config.dateFormat);
          var inverseDateObj = self.config["_" + (type === "min" ? "max" : "min") + "Date"];

          if (dateObj !== undefined) {
            self[type === "min" ? "minDateHasTime" : "maxDateHasTime"] = dateObj.getHours() > 0 || dateObj.getMinutes() > 0 || dateObj.getSeconds() > 0;
          }

          if (self.selectedDates) {
            self.selectedDates = self.selectedDates.filter(function (d) {
              return isEnabled(d);
            });
            if (!self.selectedDates.length && type === "min") setHoursFromDate(dateObj);
            updateValue();
          }

          if (self.daysContainer) {
            redraw();
            if (dateObj !== undefined) self.currentYearElement[type] = dateObj.getFullYear().toString();else self.currentYearElement.removeAttribute(type);
            self.currentYearElement.disabled = !!inverseDateObj && dateObj !== undefined && inverseDateObj.getFullYear() === dateObj.getFullYear();
          }
        };
      }

      function parseConfig() {
        var boolOpts = ["wrap", "weekNumbers", "allowInput", "clickOpens", "time_24hr", "enableTime", "noCalendar", "altInput", "shorthandCurrentMonth", "inline", "static", "enableSeconds", "disableMobile"];
        var hooks = ["onChange", "onClose", "onDayCreate", "onDestroy", "onKeyDown", "onMonthChange", "onOpen", "onParseConfig", "onReady", "onValueUpdate", "onYearChange", "onPreCalendarPosition"];
        var userConfig = Object.assign({}, instanceConfig, JSON.parse(JSON.stringify(element.dataset || {})));
        var formats$$1 = {};
        self.config.parseDate = userConfig.parseDate;
        self.config.formatDate = userConfig.formatDate;
        Object.defineProperty(self.config, "enable", {
          get: function get() {
            return self.config._enable;
          },
          set: function set(dates) {
            self.config._enable = parseDateRules(dates);
          }
        });
        Object.defineProperty(self.config, "disable", {
          get: function get() {
            return self.config._disable;
          },
          set: function set(dates) {
            self.config._disable = parseDateRules(dates);
          }
        });

        if (!userConfig.dateFormat && userConfig.enableTime) {
          formats$$1.dateFormat = userConfig.noCalendar ? "H:i" + (userConfig.enableSeconds ? ":S" : "") : flatpickr.defaultConfig.dateFormat + " H:i" + (userConfig.enableSeconds ? ":S" : "");
        }

        if (userConfig.altInput && userConfig.enableTime && !userConfig.altFormat) {
          formats$$1.altFormat = userConfig.noCalendar ? "h:i" + (userConfig.enableSeconds ? ":S K" : " K") : flatpickr.defaultConfig.altFormat + (" h:i" + (userConfig.enableSeconds ? ":S" : "") + " K");
        }

        Object.defineProperty(self.config, "minDate", {
          get: function get() {
            return self.config._minDate;
          },
          set: minMaxDateSetter("min")
        });
        Object.defineProperty(self.config, "maxDate", {
          get: function get() {
            return self.config._maxDate;
          },
          set: minMaxDateSetter("max")
        });

        var minMaxTimeSetter = function minMaxTimeSetter(type) {
          return function (val) {
            self.config[type === "min" ? "_minTime" : "_maxTime"] = self.parseDate(val, "H:i");
          };
        };

        Object.defineProperty(self.config, "minTime", {
          get: function get() {
            return self.config._minTime;
          },
          set: minMaxTimeSetter("min")
        });
        Object.defineProperty(self.config, "maxTime", {
          get: function get() {
            return self.config._maxTime;
          },
          set: minMaxTimeSetter("max")
        });
        Object.assign(self.config, formats$$1, userConfig);

        for (var i = 0; i < boolOpts.length; i++) {
          self.config[boolOpts[i]] = self.config[boolOpts[i]] === true || self.config[boolOpts[i]] === "true";
        }

        for (var _i = hooks.length; _i--;) {
          if (self.config[hooks[_i]] !== undefined) {
            self.config[hooks[_i]] = arrayify(self.config[hooks[_i]] || []).map(bindToInstance);
          }
        }

        if (self.config.mode === "time") {
          self.config.noCalendar = true;
          self.config.enableTime = true;
        }

        for (var _i2 = 0; _i2 < self.config.plugins.length; _i2++) {
          var pluginConf = self.config.plugins[_i2](self) || {};

          for (var key in pluginConf) {
            if (~hooks.indexOf(key)) {
              self.config[key] = arrayify(pluginConf[key]).map(bindToInstance).concat(self.config[key]);
            } else if (typeof userConfig[key] === "undefined") self.config[key] = pluginConf[key];
          }
        }

        self.isMobile = !self.config.disableMobile && !self.config.inline && self.config.mode === "single" && !self.config.disable.length && !self.config.enable.length && !self.config.weekNumbers && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        triggerEvent("onParseConfig");
      }

      function setupLocale() {
        if (typeof self.config.locale !== "object" && typeof flatpickr.l10ns[self.config.locale] === "undefined") self.config.errorHandler(new Error("flatpickr: invalid locale " + self.config.locale));
        self.l10n = Object.assign({}, flatpickr.l10ns.default, typeof self.config.locale === "object" ? self.config.locale : self.config.locale !== "default" ? flatpickr.l10ns[self.config.locale] : undefined);
        tokenRegex.K = "(" + self.l10n.amPM[0] + "|" + self.l10n.amPM[1] + "|" + self.l10n.amPM[0].toLowerCase() + "|" + self.l10n.amPM[1].toLowerCase() + ")";
        self.formatDate = createDateFormatter(self);
      }

      function positionCalendar(customPositionElement) {
        if (self.calendarContainer === undefined) return;
        triggerEvent("onPreCalendarPosition");
        var positionElement = customPositionElement || self._positionElement;
        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, function (acc, child) {
          return acc + child.offsetHeight;
        }, 0),
            calendarWidth = self.calendarContainer.offsetWidth,
            configPos = self.config.position,
            inputBounds = positionElement.getBoundingClientRect(),
            distanceFromBottom = window.innerHeight - inputBounds.bottom,
            showOnTop = configPos === "above" || configPos !== "below" && distanceFromBottom < calendarHeight && inputBounds.top > calendarHeight;
        var top = window.pageYOffset + inputBounds.top + (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);
        toggleClass(self.calendarContainer, "arrowTop", !showOnTop);
        toggleClass(self.calendarContainer, "arrowBottom", showOnTop);
        if (self.config.inline) return;
        var left = window.pageXOffset + inputBounds.left;
        var right = window.document.body.offsetWidth - inputBounds.right;
        var rightMost = left + calendarWidth > window.document.body.offsetWidth;
        toggleClass(self.calendarContainer, "rightMost", rightMost);
        if (self.config.static) return;
        self.calendarContainer.style.top = top + "px";

        if (!rightMost) {
          self.calendarContainer.style.left = left + "px";
          self.calendarContainer.style.right = "auto";
        } else {
          self.calendarContainer.style.left = "auto";
          self.calendarContainer.style.right = right + "px";
        }
      }

      function redraw() {
        if (self.config.noCalendar || self.isMobile) return;
        updateWeekdays();
        updateNavigationCurrentMonth();
        buildDays();
      }

      function focusAndClose() {
        self._input.focus();

        if (window.navigator.userAgent.indexOf("MSIE") !== -1 || navigator.msMaxTouchPoints !== undefined) {
          setTimeout(self.close, 0);
        } else {
          self.close();
        }
      }

      function selectDate(e) {
        e.preventDefault();
        e.stopPropagation();

        var isSelectable = function isSelectable(day) {
          return day.classList && day.classList.contains("flatpickr-day") && !day.classList.contains("disabled") && !day.classList.contains("notAllowed");
        };

        var t = findParent(e.target, isSelectable);
        if (t === undefined) return;
        var target = t;
        var selectedDate = self.latestSelectedDateObj = new Date(target.dateObj.getTime());
        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth || selectedDate.getMonth() > self.currentMonth + self.config.showMonths - 1) && self.config.mode !== "range";
        self.selectedDateElem = target;
        if (self.config.mode === "single") self.selectedDates = [selectedDate];else if (self.config.mode === "multiple") {
          var selectedIndex = isDateSelected(selectedDate);
          if (selectedIndex) self.selectedDates.splice(parseInt(selectedIndex), 1);else self.selectedDates.push(selectedDate);
        } else if (self.config.mode === "range") {
          if (self.selectedDates.length === 2) self.clear(false);
          self.selectedDates.push(selectedDate);
          if (compareDates(selectedDate, self.selectedDates[0], true) !== 0) self.selectedDates.sort(function (a, b) {
            return a.getTime() - b.getTime();
          });
        }
        setHoursFromInputs();

        if (shouldChangeMonth) {
          var isNewYear = self.currentYear !== selectedDate.getFullYear();
          self.currentYear = selectedDate.getFullYear();
          self.currentMonth = selectedDate.getMonth();
          if (isNewYear) triggerEvent("onYearChange");
          triggerEvent("onMonthChange");
        }

        updateNavigationCurrentMonth();
        buildDays();
        if (self.config.minDate && self.minDateHasTime && self.config.enableTime && compareDates(selectedDate, self.config.minDate) === 0) setHoursFromDate(self.config.minDate);
        updateValue();
        if (self.config.enableTime) setTimeout(function () {
          return self.showTimeInput = true;
        }, 50);

        if (self.config.mode === "range") {
          if (self.selectedDates.length === 1) {
            onMouseOver(target);
          } else updateNavigationCurrentMonth();
        }

        if (!shouldChangeMonth && self.config.mode !== "range" && self.config.showMonths === 1) focusOnDay(target.$i, 0);else self.selectedDateElem && self.selectedDateElem.focus();
        if (self.hourElement !== undefined) setTimeout(function () {
          return self.hourElement !== undefined && self.hourElement.select();
        }, 451);

        if (self.config.closeOnSelect) {
          var single = self.config.mode === "single" && !self.config.enableTime;
          var range = self.config.mode === "range" && self.selectedDates.length === 2 && !self.config.enableTime;

          if (single || range) {
            focusAndClose();
          }
        }

        triggerChange();
      }

      var CALLBACKS = {
        locale: [setupLocale]
      };

      function set(option, value) {
        if (option !== null && typeof option === "object") Object.assign(self.config, option);else {
          self.config[option] = value;
          if (CALLBACKS[option] !== undefined) CALLBACKS[option].forEach(function (x) {
            return x();
          });
        }
        self.redraw();
        jumpToDate();
      }

      function setSelectedDate(inputDate, format) {
        var dates = [];
        if (inputDate instanceof Array) dates = inputDate.map(function (d) {
          return self.parseDate(d, format);
        });else if (inputDate instanceof Date || typeof inputDate === "number") dates = [self.parseDate(inputDate, format)];else if (typeof inputDate === "string") {
          switch (self.config.mode) {
            case "single":
              dates = [self.parseDate(inputDate, format)];
              break;

            case "multiple":
              dates = inputDate.split(self.config.conjunction).map(function (date) {
                return self.parseDate(date, format);
              });
              break;

            case "range":
              dates = inputDate.split(self.l10n.rangeSeparator).map(function (date) {
                return self.parseDate(date, format);
              });
              break;

            default:
              break;
          }
        } else self.config.errorHandler(new Error("Invalid date supplied: " + JSON.stringify(inputDate)));
        self.selectedDates = dates.filter(function (d) {
          return d instanceof Date && isEnabled(d, false);
        });
        if (self.config.mode === "range") self.selectedDates.sort(function (a, b) {
          return a.getTime() - b.getTime();
        });
      }

      function setDate(date, triggerChange, format) {
        if (triggerChange === void 0) {
          triggerChange = false;
        }

        if (format === void 0) {
          format = self.config.dateFormat;
        }

        if (date !== 0 && !date) return self.clear(triggerChange);
        setSelectedDate(date, format);
        self.showTimeInput = self.selectedDates.length > 0;
        self.latestSelectedDateObj = self.selectedDates[0];
        self.redraw();
        jumpToDate();
        setHoursFromDate();
        updateValue(triggerChange);
        if (triggerChange) triggerEvent("onChange");
      }

      function parseDateRules(arr) {
        return arr.map(function (rule) {
          if (typeof rule === "string" || typeof rule === "number" || rule instanceof Date) {
            return self.parseDate(rule, undefined, true);
          } else if (rule && typeof rule === "object" && rule.from && rule.to) return {
            from: self.parseDate(rule.from, undefined),
            to: self.parseDate(rule.to, undefined)
          };

          return rule;
        }).filter(function (x) {
          return x;
        });
      }

      function setupDates() {
        self.selectedDates = [];
        self.now = self.parseDate(self.config.now) || new Date();
        var preloadedDate = self.config.defaultDate || self.input.value;
        if (preloadedDate) setSelectedDate(preloadedDate, self.config.dateFormat);
        var initialDate = self.selectedDates.length > 0 ? self.selectedDates[0] : self.config.minDate && self.config.minDate.getTime() > self.now.getTime() ? self.config.minDate : self.config.maxDate && self.config.maxDate.getTime() < self.now.getTime() ? self.config.maxDate : self.now;
        self.currentYear = initialDate.getFullYear();
        self.currentMonth = initialDate.getMonth();
        if (self.selectedDates.length > 0) self.latestSelectedDateObj = self.selectedDates[0];
        if (self.config.minTime !== undefined) self.config.minTime = self.parseDate(self.config.minTime, "H:i");
        if (self.config.maxTime !== undefined) self.config.maxTime = self.parseDate(self.config.maxTime, "H:i");
        self.minDateHasTime = !!self.config.minDate && (self.config.minDate.getHours() > 0 || self.config.minDate.getMinutes() > 0 || self.config.minDate.getSeconds() > 0);
        self.maxDateHasTime = !!self.config.maxDate && (self.config.maxDate.getHours() > 0 || self.config.maxDate.getMinutes() > 0 || self.config.maxDate.getSeconds() > 0);
        Object.defineProperty(self, "showTimeInput", {
          get: function get() {
            return self._showTimeInput;
          },
          set: function set(bool) {
            self._showTimeInput = bool;
            if (self.calendarContainer) toggleClass(self.calendarContainer, "showTimeInput", bool);
            self.isOpen && positionCalendar();
          }
        });
      }

      function setupInputs() {
        self.input = self.config.wrap ? element.querySelector("[data-input]") : element;

        if (!self.input) {
          self.config.errorHandler(new Error("Invalid input element specified"));
          return;
        }

        self.input._type = self.input.type;
        self.input.type = "text";
        self.input.classList.add("flatpickr-input");
        self._input = self.input;

        if (self.config.altInput) {
          self.altInput = createElement(self.input.nodeName, self.input.className + " " + self.config.altInputClass);
          self._input = self.altInput;
          self.altInput.placeholder = self.input.placeholder;
          self.altInput.disabled = self.input.disabled;
          self.altInput.required = self.input.required;
          self.altInput.tabIndex = self.input.tabIndex;
          self.altInput.type = "text";
          self.input.type = "hidden";
          if (!self.config.static && self.input.parentNode) self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);
        }

        if (!self.config.allowInput) self._input.setAttribute("readonly", "readonly");
        self._positionElement = self.config.positionElement || self._input;
      }

      function setupMobile() {
        var inputType = self.config.enableTime ? self.config.noCalendar ? "time" : "datetime-local" : "date";
        self.mobileInput = createElement("input", self.input.className + " flatpickr-mobile");
        self.mobileInput.step = self.input.getAttribute("step") || "any";
        self.mobileInput.tabIndex = 1;
        self.mobileInput.type = inputType;
        self.mobileInput.disabled = self.input.disabled;
        self.mobileInput.required = self.input.required;
        self.mobileInput.placeholder = self.input.placeholder;
        self.mobileFormatStr = inputType === "datetime-local" ? "Y-m-d\\TH:i:S" : inputType === "date" ? "Y-m-d" : "H:i:S";

        if (self.selectedDates.length > 0) {
          self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);
        }

        if (self.config.minDate) self.mobileInput.min = self.formatDate(self.config.minDate, "Y-m-d");
        if (self.config.maxDate) self.mobileInput.max = self.formatDate(self.config.maxDate, "Y-m-d");
        self.input.type = "hidden";
        if (self.altInput !== undefined) self.altInput.type = "hidden";

        try {
          if (self.input.parentNode) self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);
        } catch (_a) {}

        bind(self.mobileInput, "change", function (e) {
          self.setDate(e.target.value, false, self.mobileFormatStr);
          triggerEvent("onChange");
          triggerEvent("onClose");
        });
      }

      function toggle() {
        if (self.isOpen) return self.close();
        self.open();
      }

      function triggerEvent(event, data) {
        var hooks = self.config[event];

        if (hooks !== undefined && hooks.length > 0) {
          for (var i = 0; hooks[i] && i < hooks.length; i++) {
            hooks[i](self.selectedDates, self.input.value, self, data);
          }
        }

        if (event === "onChange") {
          self.input.dispatchEvent(createEvent("change"));
          self.input.dispatchEvent(createEvent("input"));
        }
      }

      function createEvent(name) {
        var e = document.createEvent("Event");
        e.initEvent(name, true, true);
        return e;
      }

      function isDateSelected(date) {
        for (var i = 0; i < self.selectedDates.length; i++) {
          if (compareDates(self.selectedDates[i], date) === 0) return "" + i;
        }

        return false;
      }

      function isDateInRange(date) {
        if (self.config.mode !== "range" || self.selectedDates.length < 2) return false;
        return compareDates(date, self.selectedDates[0]) >= 0 && compareDates(date, self.selectedDates[1]) <= 0;
      }

      function updateNavigationCurrentMonth() {
        if (self.config.noCalendar || self.isMobile || !self.monthNav) return;
        self.yearElements.forEach(function (yearElement, i) {
          var d = new Date(self.currentYear, self.currentMonth, 1);
          d.setMonth(self.currentMonth + i);
          self.monthElements[i].textContent = monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + " ";
          yearElement.value = d.getFullYear().toString();
        });
        self._hidePrevMonthArrow = self.config.minDate !== undefined && (self.currentYear === self.config.minDate.getFullYear() ? self.currentMonth <= self.config.minDate.getMonth() : self.currentYear < self.config.minDate.getFullYear());
        self._hideNextMonthArrow = self.config.maxDate !== undefined && (self.currentYear === self.config.maxDate.getFullYear() ? self.currentMonth + 1 > self.config.maxDate.getMonth() : self.currentYear > self.config.maxDate.getFullYear());
      }

      function updateValue(triggerChange) {
        if (triggerChange === void 0) {
          triggerChange = true;
        }

        if (self.selectedDates.length === 0) return self.clear(triggerChange);

        if (self.mobileInput !== undefined && self.mobileFormatStr) {
          self.mobileInput.value = self.latestSelectedDateObj !== undefined ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr) : "";
        }

        var joinChar = self.config.mode !== "range" ? self.config.conjunction : self.l10n.rangeSeparator;
        self.input.value = self.selectedDates.map(function (dObj) {
          return self.formatDate(dObj, self.config.dateFormat);
        }).join(joinChar);

        if (self.altInput !== undefined) {
          self.altInput.value = self.selectedDates.map(function (dObj) {
            return self.formatDate(dObj, self.config.altFormat);
          }).join(joinChar);
        }

        if (triggerChange !== false) triggerEvent("onValueUpdate");
      }

      function onMonthNavClick(e) {
        var isPrevMonth = self.prevMonthNav.contains(e.target);
        var isNextMonth = self.nextMonthNav.contains(e.target);

        if (isPrevMonth || isNextMonth) {
          changeMonth(isPrevMonth ? -1 : 1);
        } else if (self.yearElements.indexOf(e.target) >= 0) {
          e.preventDefault();
          e.target.select();
        } else if (e.target.classList.contains("arrowUp")) {
          self.changeYear(self.currentYear + 1);
        } else if (e.target.classList.contains("arrowDown")) {
          self.changeYear(self.currentYear - 1);
        }
      }

      function timeWrapper(e) {
        e.preventDefault();
        var isKeyDown = e.type === "keydown",
            input = e.target;

        if (self.amPM !== undefined && e.target === self.amPM) {
          self.amPM.textContent = self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];
        }

        var min = parseFloat(input.getAttribute("data-min")),
            max = parseFloat(input.getAttribute("data-max")),
            step = parseFloat(input.getAttribute("data-step")),
            curValue = parseInt(input.value, 10),
            delta = e.delta || (isKeyDown ? e.which === 38 ? 1 : -1 : 0);
        var newValue = curValue + step * delta;

        if (typeof input.value !== "undefined" && input.value.length === 2) {
          var isHourElem = input === self.hourElement,
              isMinuteElem = input === self.minuteElement;

          if (newValue < min) {
            newValue = max + newValue + int(!isHourElem) + (int(isHourElem) && int(!self.amPM));
            if (isMinuteElem) incrementNumInput(undefined, -1, self.hourElement);
          } else if (newValue > max) {
            newValue = input === self.hourElement ? newValue - max - int(!self.amPM) : min;
            if (isMinuteElem) incrementNumInput(undefined, 1, self.hourElement);
          }

          if (self.amPM && isHourElem && (step === 1 ? newValue + curValue === 23 : Math.abs(newValue - curValue) > step)) {
            self.amPM.textContent = self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];
          }

          input.value = pad(newValue);
        }
      }

      init();
      return self;
    }

    function _flatpickr(nodeList, config) {
      var nodes = Array.prototype.slice.call(nodeList);
      var instances = [];

      for (var i = 0; i < nodes.length; i++) {
        var node = nodes[i];

        try {
          if (node.getAttribute("data-fp-omit") !== null) continue;

          if (node._flatpickr !== undefined) {
            node._flatpickr.destroy();

            node._flatpickr = undefined;
          }

          node._flatpickr = FlatpickrInstance(node, config || {});
          instances.push(node._flatpickr);
        } catch (e) {
          console.error(e);
        }
      }

      return instances.length === 1 ? instances[0] : instances;
    }

    if (typeof HTMLElement !== "undefined") {
      HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {
        return _flatpickr(this, config);
      };

      HTMLElement.prototype.flatpickr = function (config) {
        return _flatpickr([this], config);
      };
    }

    var flatpickr = function flatpickr(selector, config) {
      if (selector instanceof NodeList) return _flatpickr(selector, config);else if (typeof selector === "string") return _flatpickr(window.document.querySelectorAll(selector), config);
      return _flatpickr([selector], config);
    };

    flatpickr.defaultConfig = defaults;
    flatpickr.l10ns = {
      en: Object.assign({}, english),
      default: Object.assign({}, english)
    };

    flatpickr.localize = function (l10n) {
      flatpickr.l10ns.default = Object.assign({}, flatpickr.l10ns.default, l10n);
    };

    flatpickr.setDefaults = function (config) {
      flatpickr.defaultConfig = Object.assign({}, flatpickr.defaultConfig, config);
    };

    flatpickr.parseDate = createDateParser({});
    flatpickr.formatDate = createDateFormatter({});
    flatpickr.compareDates = compareDates;

    if (typeof jQuery !== "undefined") {
      jQuery.fn.flatpickr = function (config) {
        return _flatpickr(this, config);
      };
    }

    Date.prototype.fp_incr = function (days) {
      return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === "string" ? parseInt(days, 10) : days));
    };

    return flatpickr;

})));

},{}],214:[function(require,module,exports){
IntlPolyfill.__addLocaleData({locale:"en",date:{ca:["gregory","buddhist","chinese","coptic","dangi","ethioaa","ethiopic","generic","hebrew","indian","islamic","islamicc","japanese","persian","roc"],hourNo0:true,hour12:true,formats:{short:"{1}, {0}",medium:"{1}, {0}",full:"{1} 'at' {0}",long:"{1} 'at' {0}",availableFormats:{"d":"d","E":"ccc",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G","h":"h a","H":"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v","M":"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d",ms:"mm:ss","y":"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y"},dateFormats:{yMMMMEEEEd:"EEEE, MMMM d, y",yMMMMd:"MMMM d, y",yMMMd:"MMM d, y",yMd:"M/d/yy"},timeFormats:{hmmsszzzz:"h:mm:ss a zzzz",hmsz:"h:mm:ss a z",hms:"h:mm:ss a",hm:"h:mm a"}},calendars:{buddhist:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["BE"],short:["BE"],long:["BE"]},dayPeriods:{am:"AM",pm:"PM"}},chinese:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriods:{am:"AM",pm:"PM"}},coptic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"],long:["Tout","Baba","Hator","Kiahk","Toba","Amshir","Baramhat","Baramouda","Bashans","Paona","Epep","Mesra","Nasie"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},dangi:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Mo1","Mo2","Mo3","Mo4","Mo5","Mo6","Mo7","Mo8","Mo9","Mo10","Mo11","Mo12"],long:["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriods:{am:"AM",pm:"PM"}},ethiopic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},ethioaa:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13"],short:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"],long:["Meskerem","Tekemt","Hedar","Tahsas","Ter","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehasse","Pagumen"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0"],short:["ERA0"],long:["ERA0"]},dayPeriods:{am:"AM",pm:"PM"}},generic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"],long:["M01","M02","M03","M04","M05","M06","M07","M08","M09","M10","M11","M12"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["ERA0","ERA1"],short:["ERA0","ERA1"],long:["ERA0","ERA1"]},dayPeriods:{am:"AM",pm:"PM"}},gregory:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["B","A","BCE","CE"],short:["BC","AD","BCE","CE"],long:["Before Christ","Anno Domini","Before Common Era","Common Era"]},dayPeriods:{am:"AM",pm:"PM"}},hebrew:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12","13","7"],short:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"],long:["Tishri","Heshvan","Kislev","Tevet","Shevat","Adar I","Adar","Nisan","Iyar","Sivan","Tamuz","Av","Elul","Adar II"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AM"],short:["AM"],long:["AM"]},dayPeriods:{am:"AM",pm:"PM"}},indian:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"],long:["Chaitra","Vaisakha","Jyaistha","Asadha","Sravana","Bhadra","Asvina","Kartika","Agrahayana","Pausa","Magha","Phalguna"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Saka"],short:["Saka"],long:["Saka"]},dayPeriods:{am:"AM",pm:"PM"}},islamic:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhul-Q.","Dhul-H."],long:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},islamicc:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Muh.","Saf.","Rab. I","Rab. II","Jum. I","Jum. II","Raj.","Sha.","Ram.","Shaw.","Dhul-Q.","Dhul-H."],long:["Muharram","Safar","Rabi I","Rabi II","Jumada I","Jumada II","Rajab","Shaban","Ramadan","Shawwal","Dhul-Qidah","Dhul-Hijjah"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AH"],short:["AH"],long:["AH"]},dayPeriods:{am:"AM",pm:"PM"}},japanese:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Taika (645650)","Hakuchi (650671)","Hakuh (672686)","Shuch (686701)","Taih (701704)","Keiun (704708)","Wad (708715)","Reiki (715717)","Yr (717724)","Jinki (724729)","Tenpy (729749)","Tenpy-kamp (749-749)","Tenpy-shh (749-757)","Tenpy-hji (757-765)","Tenpy-jingo (765-767)","Jingo-keiun (767-770)","Hki (770780)","Ten- (781-782)","Enryaku (782806)","Daid (806810)","Knin (810824)","Tench (824834)","Jwa (834848)","Kaj (848851)","Ninju (851854)","Saik (854857)","Ten-an (857-859)","Jgan (859877)","Gangy (877885)","Ninna (885889)","Kanpy (889898)","Shtai (898901)","Engi (901923)","Ench (923931)","Jhei (931938)","Tengy (938947)","Tenryaku (947957)","Tentoku (957961)","wa (961964)","Kh (964968)","Anna (968970)","Tenroku (970973)","Tenen (973976)","Jgen (976978)","Tengen (978983)","Eikan (983985)","Kanna (985987)","Eien (987989)","Eiso (989990)","Shryaku (990995)","Chtoku (995999)","Chh (9991004)","Kank (10041012)","Chwa (10121017)","Kannin (10171021)","Jian (10211024)","Manju (10241028)","Chgen (10281037)","Chryaku (10371040)","Chky (10401044)","Kantoku (10441046)","Eish (10461053)","Tengi (10531058)","Khei (10581065)","Jiryaku (10651069)","Enky (10691074)","Shho (10741077)","Shryaku (10771081)","Eih (10811084)","toku (10841087)","Kanji (10871094)","Kah (10941096)","Eich (10961097)","Jtoku (10971099)","Kwa (10991104)","Chji (11041106)","Kash (11061108)","Tennin (11081110)","Ten-ei (1110-1113)","Eiky (11131118)","Genei (11181120)","Han (11201124)","Tenji (11241126)","Daiji (11261131)","Tensh (11311132)","Chsh (11321135)","Hen (11351141)","Eiji (11411142)","Kji (11421144)","Teny (11441145)","Kyan (11451151)","Ninpei (11511154)","Kyju (11541156)","Hgen (11561159)","Heiji (11591160)","Eiryaku (11601161)","ho (11611163)","Chkan (11631165)","Eiman (11651166)","Ninan (11661169)","Ka (11691171)","Shan (11711175)","Angen (11751177)","Jish (11771181)","Ywa (11811182)","Juei (11821184)","Genryaku (11841185)","Bunji (11851190)","Kenky (11901199)","Shji (11991201)","Kennin (12011204)","Genky (12041206)","Kenei (12061207)","Jgen (12071211)","Kenryaku (12111213)","Kenp (12131219)","Jky (12191222)","J (12221224)","Gennin (12241225)","Karoku (12251227)","Antei (12271229)","Kanki (12291232)","Jei (12321233)","Tenpuku (12331234)","Bunryaku (12341235)","Katei (12351238)","Ryakunin (12381239)","En (12391240)","Ninji (12401243)","Kangen (12431247)","Hji (12471249)","Kench (12491256)","Kgen (12561257)","Shka (12571259)","Shgen (12591260)","Bun (12601261)","Kch (12611264)","Bunei (12641275)","Kenji (12751278)","Kan (12781288)","Sh (12881293)","Einin (12931299)","Shan (12991302)","Kengen (13021303)","Kagen (13031306)","Tokuji (13061308)","Enky (13081311)","ch (13111312)","Shwa (13121317)","Bunp (13171319)","Gen (13191321)","Genk (13211324)","Shch (13241326)","Karyaku (13261329)","Gentoku (13291331)","Genk (13311334)","Kenmu (13341336)","Engen (13361340)","Kkoku (13401346)","Shhei (13461370)","Kentoku (13701372)","Bunch (13721375)","Tenju (13751379)","Kryaku (13791381)","Kwa (13811384)","Gench (13841392)","Meitoku (13841387)","Kakei (13871389)","K (13891390)","Meitoku (13901394)","ei (13941428)","Shch (14281429)","Eiky (14291441)","Kakitsu (14411444)","Bunan (14441449)","Htoku (14491452)","Kytoku (14521455)","Ksh (14551457)","Chroku (14571460)","Kansh (14601466)","Bunsh (14661467)","nin (14671469)","Bunmei (14691487)","Chky (14871489)","Entoku (14891492)","Mei (14921501)","Bunki (15011504)","Eish (15041521)","Taiei (15211528)","Kyroku (15281532)","Tenbun (15321555)","Kji (15551558)","Eiroku (15581570)","Genki (15701573)","Tensh (15731592)","Bunroku (15921596)","Keich (15961615)","Genna (16151624)","Kanei (16241644)","Shho (16441648)","Keian (16481652)","J (16521655)","Meireki (16551658)","Manji (16581661)","Kanbun (16611673)","Enp (16731681)","Tenna (16811684)","Jky (16841688)","Genroku (16881704)","Hei (17041711)","Shtoku (17111716)","Kyh (17161736)","Genbun (17361741)","Kanp (17411744)","Enky (17441748)","Kanen (17481751)","Hreki (17511764)","Meiwa (17641772)","Anei (17721781)","Tenmei (17811789)","Kansei (17891801)","Kywa (18011804)","Bunka (18041818)","Bunsei (18181830)","Tenp (18301844)","Kka (18441848)","Kaei (18481854)","Ansei (18541860)","Manen (18601861)","Bunky (18611864)","Genji (18641865)","Kei (18651868)","M","T","S","H"],short:["Taika (645650)","Hakuchi (650671)","Hakuh (672686)","Shuch (686701)","Taih (701704)","Keiun (704708)","Wad (708715)","Reiki (715717)","Yr (717724)","Jinki (724729)","Tenpy (729749)","Tenpy-kamp (749-749)","Tenpy-shh (749-757)","Tenpy-hji (757-765)","Tenpy-jingo (765-767)","Jingo-keiun (767-770)","Hki (770780)","Ten- (781-782)","Enryaku (782806)","Daid (806810)","Knin (810824)","Tench (824834)","Jwa (834848)","Kaj (848851)","Ninju (851854)","Saik (854857)","Ten-an (857-859)","Jgan (859877)","Gangy (877885)","Ninna (885889)","Kanpy (889898)","Shtai (898901)","Engi (901923)","Ench (923931)","Jhei (931938)","Tengy (938947)","Tenryaku (947957)","Tentoku (957961)","wa (961964)","Kh (964968)","Anna (968970)","Tenroku (970973)","Tenen (973976)","Jgen (976978)","Tengen (978983)","Eikan (983985)","Kanna (985987)","Eien (987989)","Eiso (989990)","Shryaku (990995)","Chtoku (995999)","Chh (9991004)","Kank (10041012)","Chwa (10121017)","Kannin (10171021)","Jian (10211024)","Manju (10241028)","Chgen (10281037)","Chryaku (10371040)","Chky (10401044)","Kantoku (10441046)","Eish (10461053)","Tengi (10531058)","Khei (10581065)","Jiryaku (10651069)","Enky (10691074)","Shho (10741077)","Shryaku (10771081)","Eih (10811084)","toku (10841087)","Kanji (10871094)","Kah (10941096)","Eich (10961097)","Jtoku (10971099)","Kwa (10991104)","Chji (11041106)","Kash (11061108)","Tennin (11081110)","Ten-ei (1110-1113)","Eiky (11131118)","Genei (11181120)","Han (11201124)","Tenji (11241126)","Daiji (11261131)","Tensh (11311132)","Chsh (11321135)","Hen (11351141)","Eiji (11411142)","Kji (11421144)","Teny (11441145)","Kyan (11451151)","Ninpei (11511154)","Kyju (11541156)","Hgen (11561159)","Heiji (11591160)","Eiryaku (11601161)","ho (11611163)","Chkan (11631165)","Eiman (11651166)","Ninan (11661169)","Ka (11691171)","Shan (11711175)","Angen (11751177)","Jish (11771181)","Ywa (11811182)","Juei (11821184)","Genryaku (11841185)","Bunji (11851190)","Kenky (11901199)","Shji (11991201)","Kennin (12011204)","Genky (12041206)","Kenei (12061207)","Jgen (12071211)","Kenryaku (12111213)","Kenp (12131219)","Jky (12191222)","J (12221224)","Gennin (12241225)","Karoku (12251227)","Antei (12271229)","Kanki (12291232)","Jei (12321233)","Tenpuku (12331234)","Bunryaku (12341235)","Katei (12351238)","Ryakunin (12381239)","En (12391240)","Ninji (12401243)","Kangen (12431247)","Hji (12471249)","Kench (12491256)","Kgen (12561257)","Shka (12571259)","Shgen (12591260)","Bun (12601261)","Kch (12611264)","Bunei (12641275)","Kenji (12751278)","Kan (12781288)","Sh (12881293)","Einin (12931299)","Shan (12991302)","Kengen (13021303)","Kagen (13031306)","Tokuji (13061308)","Enky (13081311)","ch (13111312)","Shwa (13121317)","Bunp (13171319)","Gen (13191321)","Genk (13211324)","Shch (13241326)","Karyaku (13261329)","Gentoku (13291331)","Genk (13311334)","Kenmu (13341336)","Engen (13361340)","Kkoku (13401346)","Shhei (13461370)","Kentoku (13701372)","Bunch (13721375)","Tenju (13751379)","Kryaku (13791381)","Kwa (13811384)","Gench (13841392)","Meitoku (13841387)","Kakei (13871389)","K (13891390)","Meitoku (13901394)","ei (13941428)","Shch (14281429)","Eiky (14291441)","Kakitsu (14411444)","Bunan (14441449)","Htoku (14491452)","Kytoku (14521455)","Ksh (14551457)","Chroku (14571460)","Kansh (14601466)","Bunsh (14661467)","nin (14671469)","Bunmei (14691487)","Chky (14871489)","Entoku (14891492)","Mei (14921501)","Bunki (15011504)","Eish (15041521)","Taiei (15211528)","Kyroku (15281532)","Tenbun (15321555)","Kji (15551558)","Eiroku (15581570)","Genki (15701573)","Tensh (15731592)","Bunroku (15921596)","Keich (15961615)","Genna (16151624)","Kanei (16241644)","Shho (16441648)","Keian (16481652)","J (16521655)","Meireki (16551658)","Manji (16581661)","Kanbun (16611673)","Enp (16731681)","Tenna (16811684)","Jky (16841688)","Genroku (16881704)","Hei (17041711)","Shtoku (17111716)","Kyh (17161736)","Genbun (17361741)","Kanp (17411744)","Enky (17441748)","Kanen (17481751)","Hreki (17511764)","Meiwa (17641772)","Anei (17721781)","Tenmei (17811789)","Kansei (17891801)","Kywa (18011804)","Bunka (18041818)","Bunsei (18181830)","Tenp (18301844)","Kka (18441848)","Kaei (18481854)","Ansei (18541860)","Manen (18601861)","Bunky (18611864)","Genji (18641865)","Kei (18651868)","Meiji","Taish","Shwa","Heisei"],long:["Taika (645650)","Hakuchi (650671)","Hakuh (672686)","Shuch (686701)","Taih (701704)","Keiun (704708)","Wad (708715)","Reiki (715717)","Yr (717724)","Jinki (724729)","Tenpy (729749)","Tenpy-kamp (749-749)","Tenpy-shh (749-757)","Tenpy-hji (757-765)","Tenpy-jingo (765-767)","Jingo-keiun (767-770)","Hki (770780)","Ten- (781-782)","Enryaku (782806)","Daid (806810)","Knin (810824)","Tench (824834)","Jwa (834848)","Kaj (848851)","Ninju (851854)","Saik (854857)","Ten-an (857-859)","Jgan (859877)","Gangy (877885)","Ninna (885889)","Kanpy (889898)","Shtai (898901)","Engi (901923)","Ench (923931)","Jhei (931938)","Tengy (938947)","Tenryaku (947957)","Tentoku (957961)","wa (961964)","Kh (964968)","Anna (968970)","Tenroku (970973)","Tenen (973976)","Jgen (976978)","Tengen (978983)","Eikan (983985)","Kanna (985987)","Eien (987989)","Eiso (989990)","Shryaku (990995)","Chtoku (995999)","Chh (9991004)","Kank (10041012)","Chwa (10121017)","Kannin (10171021)","Jian (10211024)","Manju (10241028)","Chgen (10281037)","Chryaku (10371040)","Chky (10401044)","Kantoku (10441046)","Eish (10461053)","Tengi (10531058)","Khei (10581065)","Jiryaku (10651069)","Enky (10691074)","Shho (10741077)","Shryaku (10771081)","Eih (10811084)","toku (10841087)","Kanji (10871094)","Kah (10941096)","Eich (10961097)","Jtoku (10971099)","Kwa (10991104)","Chji (11041106)","Kash (11061108)","Tennin (11081110)","Ten-ei (1110-1113)","Eiky (11131118)","Genei (11181120)","Han (11201124)","Tenji (11241126)","Daiji (11261131)","Tensh (11311132)","Chsh (11321135)","Hen (11351141)","Eiji (11411142)","Kji (11421144)","Teny (11441145)","Kyan (11451151)","Ninpei (11511154)","Kyju (11541156)","Hgen (11561159)","Heiji (11591160)","Eiryaku (11601161)","ho (11611163)","Chkan (11631165)","Eiman (11651166)","Ninan (11661169)","Ka (11691171)","Shan (11711175)","Angen (11751177)","Jish (11771181)","Ywa (11811182)","Juei (11821184)","Genryaku (11841185)","Bunji (11851190)","Kenky (11901199)","Shji (11991201)","Kennin (12011204)","Genky (12041206)","Kenei (12061207)","Jgen (12071211)","Kenryaku (12111213)","Kenp (12131219)","Jky (12191222)","J (12221224)","Gennin (12241225)","Karoku (12251227)","Antei (12271229)","Kanki (12291232)","Jei (12321233)","Tenpuku (12331234)","Bunryaku (12341235)","Katei (12351238)","Ryakunin (12381239)","En (12391240)","Ninji (12401243)","Kangen (12431247)","Hji (12471249)","Kench (12491256)","Kgen (12561257)","Shka (12571259)","Shgen (12591260)","Bun (12601261)","Kch (12611264)","Bunei (12641275)","Kenji (12751278)","Kan (12781288)","Sh (12881293)","Einin (12931299)","Shan (12991302)","Kengen (13021303)","Kagen (13031306)","Tokuji (13061308)","Enky (13081311)","ch (13111312)","Shwa (13121317)","Bunp (13171319)","Gen (13191321)","Genk (13211324)","Shch (13241326)","Karyaku (13261329)","Gentoku (13291331)","Genk (13311334)","Kenmu (13341336)","Engen (13361340)","Kkoku (13401346)","Shhei (13461370)","Kentoku (13701372)","Bunch (13721375)","Tenju (13751379)","Kryaku (13791381)","Kwa (13811384)","Gench (13841392)","Meitoku (13841387)","Kakei (13871389)","K (13891390)","Meitoku (13901394)","ei (13941428)","Shch (14281429)","Eiky (14291441)","Kakitsu (14411444)","Bunan (14441449)","Htoku (14491452)","Kytoku (14521455)","Ksh (14551457)","Chroku (14571460)","Kansh (14601466)","Bunsh (14661467)","nin (14671469)","Bunmei (14691487)","Chky (14871489)","Entoku (14891492)","Mei (14921501)","Bunki (15011504)","Eish (15041521)","Taiei (15211528)","Kyroku (15281532)","Tenbun (15321555)","Kji (15551558)","Eiroku (15581570)","Genki (15701573)","Tensh (15731592)","Bunroku (15921596)","Keich (15961615)","Genna (16151624)","Kanei (16241644)","Shho (16441648)","Keian (16481652)","J (16521655)","Meireki (16551658)","Manji (16581661)","Kanbun (16611673)","Enp (16731681)","Tenna (16811684)","Jky (16841688)","Genroku (16881704)","Hei (17041711)","Shtoku (17111716)","Kyh (17161736)","Genbun (17361741)","Kanp (17411744)","Enky (17441748)","Kanen (17481751)","Hreki (17511764)","Meiwa (17641772)","Anei (17721781)","Tenmei (17811789)","Kansei (17891801)","Kywa (18011804)","Bunka (18041818)","Bunsei (18181830)","Tenp (18301844)","Kka (18441848)","Kaei (18481854)","Ansei (18541860)","Manen (18601861)","Bunky (18611864)","Genji (18641865)","Kei (18651868)","Meiji","Taish","Shwa","Heisei"]},dayPeriods:{am:"AM",pm:"PM"}},persian:{months:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],short:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],long:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["AP"],short:["AP"],long:["AP"]},dayPeriods:{am:"AM",pm:"PM"}},roc:{months:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],long:["January","February","March","April","May","June","July","August","September","October","November","December"]},days:{narrow:["S","M","T","W","T","F","S"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eras:{narrow:["Before R.O.C.","Minguo"],short:["Before R.O.C.","Minguo"],long:["Before R.O.C.","Minguo"]},dayPeriods:{am:"AM",pm:"PM"}}}},number:{nu:["latn"],patterns:{decimal:{positivePattern:"{number}",negativePattern:"{minusSign}{number}"},currency:{positivePattern:"{currency}{number}",negativePattern:"{minusSign}{currency}{number}"},percent:{positivePattern:"{number}{percentSign}",negativePattern:"{minusSign}{number}{percentSign}"}},symbols:{latn:{decimal:".",group:",",nan:"NaN",plusSign:"+",minusSign:"-",percentSign:"%",infinity:""}},currencies:{AUD:"A$",BRL:"R$",CAD:"CA$",CNY:"CN",EUR:"",GBP:"",HKD:"HK$",ILS:"",INR:"",JPY:"",KRW:"",MXN:"MX$",NZD:"NZ$",TWD:"NT$",USD:"$",VND:"",XAF:"FCFA",XCD:"EC$",XOF:"CFA",XPF:"CFPF"}}});
},{}],215:[function(require,module,exports){
// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],216:[function(require,module,exports){
(function (process){
// vim:ts=4:sts=4:sw=4:
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

(function (definition) {
    "use strict";

    // This file will function properly as a <script> tag, or a module
    // using CommonJS and NodeJS or RequireJS module formats.  In
    // Common/Node/RequireJS, the module exports the Q API and when
    // executed as a simple <script>, it creates a Q global instead.

    // Montage Require
    if (typeof bootstrap === "function") {
        bootstrap("promise", definition);

    // CommonJS
    } else if (typeof exports === "object" && typeof module === "object") {
        module.exports = definition();

    // RequireJS
    } else if (typeof define === "function" && define.amd) {
        define(definition);

    // SES (Secure EcmaScript)
    } else if (typeof ses !== "undefined") {
        if (!ses.ok()) {
            return;
        } else {
            ses.makeQ = definition;
        }

    // <script>
    } else if (typeof window !== "undefined" || typeof self !== "undefined") {
        // Prefer window over self for add-on scripts. Use self for
        // non-windowed contexts.
        var global = typeof window !== "undefined" ? window : self;

        // Get the `window` object, save the previous Q global
        // and initialize Q as a global.
        var previousQ = global.Q;
        global.Q = definition();

        // Add a noConflict function so Q can be removed from the
        // global namespace.
        global.Q.noConflict = function () {
            global.Q = previousQ;
            return this;
        };

    } else {
        throw new Error("This environment was not anticipated by Q. Please file a bug.");
    }

})(function () {
"use strict";

var hasStacks = false;
try {
    throw new Error();
} catch (e) {
    hasStacks = !!e.stack;
}

// All code after this point will be filtered from stack traces reported
// by Q.
var qStartingLine = captureLine();
var qFileName;

// shims

// used for fallback in "allResolved"
var noop = function () {};

// Use the fastest possible means to execute a task in a future turn
// of the event loop.
var nextTick =(function () {
    // linked list of tasks (single, with head node)
    var head = {task: void 0, next: null};
    var tail = head;
    var flushing = false;
    var requestTick = void 0;
    var isNodeJS = false;
    // queue for late tasks, used by unhandled rejection tracking
    var laterQueue = [];

    function flush() {
        /* jshint loopfunc: true */
        var task, domain;

        while (head.next) {
            head = head.next;
            task = head.task;
            head.task = void 0;
            domain = head.domain;

            if (domain) {
                head.domain = void 0;
                domain.enter();
            }
            runSingle(task, domain);

        }
        while (laterQueue.length) {
            task = laterQueue.pop();
            runSingle(task);
        }
        flushing = false;
    }
    // runs a single function in the async queue
    function runSingle(task, domain) {
        try {
            task();

        } catch (e) {
            if (isNodeJS) {
                // In node, uncaught exceptions are considered fatal errors.
                // Re-throw them synchronously to interrupt flushing!

                // Ensure continuation if the uncaught exception is suppressed
                // listening "uncaughtException" events (as domains does).
                // Continue in next event to avoid tick recursion.
                if (domain) {
                    domain.exit();
                }
                setTimeout(flush, 0);
                if (domain) {
                    domain.enter();
                }

                throw e;

            } else {
                // In browsers, uncaught exceptions are not fatal.
                // Re-throw them asynchronously to avoid slow-downs.
                setTimeout(function () {
                    throw e;
                }, 0);
            }
        }

        if (domain) {
            domain.exit();
        }
    }

    nextTick = function (task) {
        tail = tail.next = {
            task: task,
            domain: isNodeJS && process.domain,
            next: null
        };

        if (!flushing) {
            flushing = true;
            requestTick();
        }
    };

    if (typeof process === "object" &&
        process.toString() === "[object process]" && process.nextTick) {
        // Ensure Q is in a real Node environment, with a `process.nextTick`.
        // To see through fake Node environments:
        // * Mocha test runner - exposes a `process` global without a `nextTick`
        // * Browserify - exposes a `process.nexTick` function that uses
        //   `setTimeout`. In this case `setImmediate` is preferred because
        //    it is faster. Browserify's `process.toString()` yields
        //   "[object Object]", while in a real Node environment
        //   `process.toString()` yields "[object process]".
        isNodeJS = true;

        requestTick = function () {
            process.nextTick(flush);
        };

    } else if (typeof setImmediate === "function") {
        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate
        if (typeof window !== "undefined") {
            requestTick = setImmediate.bind(window, flush);
        } else {
            requestTick = function () {
                setImmediate(flush);
            };
        }

    } else if (typeof MessageChannel !== "undefined") {
        // modern browsers
        // http://www.nonblocking.io/2011/06/windownexttick.html
        var channel = new MessageChannel();
        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create
        // working message ports the first time a page loads.
        channel.port1.onmessage = function () {
            requestTick = requestPortTick;
            channel.port1.onmessage = flush;
            flush();
        };
        var requestPortTick = function () {
            // Opera requires us to provide a message payload, regardless of
            // whether we use it.
            channel.port2.postMessage(0);
        };
        requestTick = function () {
            setTimeout(flush, 0);
            requestPortTick();
        };

    } else {
        // old browsers
        requestTick = function () {
            setTimeout(flush, 0);
        };
    }
    // runs a task after all other tasks have been run
    // this is useful for unhandled rejection tracking that needs to happen
    // after all `then`d tasks have been run.
    nextTick.runAfter = function (task) {
        laterQueue.push(task);
        if (!flushing) {
            flushing = true;
            requestTick();
        }
    };
    return nextTick;
})();

// Attempt to make generics safe in the face of downstream
// modifications.
// There is no situation where this is necessary.
// If you need a security guarantee, these primordials need to be
// deeply frozen anyway, and if you dont need a security guarantee,
// this is just plain paranoid.
// However, this **might** have the nice side-effect of reducing the size of
// the minified code by reducing x.call() to merely x()
// See Mark Millers explanation of what this does.
// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming
var call = Function.call;
function uncurryThis(f) {
    return function () {
        return call.apply(f, arguments);
    };
}
// This is equivalent, but slower:
// uncurryThis = Function_bind.bind(Function_bind.call);
// http://jsperf.com/uncurrythis

var array_slice = uncurryThis(Array.prototype.slice);

var array_reduce = uncurryThis(
    Array.prototype.reduce || function (callback, basis) {
        var index = 0,
            length = this.length;
        // concerning the initial value, if one is not provided
        if (arguments.length === 1) {
            // seek to the first value in the array, accounting
            // for the possibility that is is a sparse array
            do {
                if (index in this) {
                    basis = this[index++];
                    break;
                }
                if (++index >= length) {
                    throw new TypeError();
                }
            } while (1);
        }
        // reduce
        for (; index < length; index++) {
            // account for the possibility that the array is sparse
            if (index in this) {
                basis = callback(basis, this[index], index);
            }
        }
        return basis;
    }
);

var array_indexOf = uncurryThis(
    Array.prototype.indexOf || function (value) {
        // not a very good shim, but good enough for our one use of it
        for (var i = 0; i < this.length; i++) {
            if (this[i] === value) {
                return i;
            }
        }
        return -1;
    }
);

var array_map = uncurryThis(
    Array.prototype.map || function (callback, thisp) {
        var self = this;
        var collect = [];
        array_reduce(self, function (undefined, value, index) {
            collect.push(callback.call(thisp, value, index, self));
        }, void 0);
        return collect;
    }
);

var object_create = Object.create || function (prototype) {
    function Type() { }
    Type.prototype = prototype;
    return new Type();
};

var object_defineProperty = Object.defineProperty || function (obj, prop, descriptor) {
    obj[prop] = descriptor.value;
    return obj;
};

var object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);

var object_keys = Object.keys || function (object) {
    var keys = [];
    for (var key in object) {
        if (object_hasOwnProperty(object, key)) {
            keys.push(key);
        }
    }
    return keys;
};

var object_toString = uncurryThis(Object.prototype.toString);

function isObject(value) {
    return value === Object(value);
}

// generator related shims

// FIXME: Remove this function once ES6 generators are in SpiderMonkey.
function isStopIteration(exception) {
    return (
        object_toString(exception) === "[object StopIteration]" ||
        exception instanceof QReturnValue
    );
}

// FIXME: Remove this helper and Q.return once ES6 generators are in
// SpiderMonkey.
var QReturnValue;
if (typeof ReturnValue !== "undefined") {
    QReturnValue = ReturnValue;
} else {
    QReturnValue = function (value) {
        this.value = value;
    };
}

// long stack traces

var STACK_JUMP_SEPARATOR = "From previous event:";

function makeStackTraceLong(error, promise) {
    // If possible, transform the error stack trace by removing Node and Q
    // cruft, then concatenating with the stack trace of `promise`. See #57.
    if (hasStacks &&
        promise.stack &&
        typeof error === "object" &&
        error !== null &&
        error.stack
    ) {
        var stacks = [];
        for (var p = promise; !!p; p = p.source) {
            if (p.stack && (!error.__minimumStackCounter__ || error.__minimumStackCounter__ > p.stackCounter)) {
                object_defineProperty(error, "__minimumStackCounter__", {value: p.stackCounter, configurable: true});
                stacks.unshift(p.stack);
            }
        }
        stacks.unshift(error.stack);

        var concatedStacks = stacks.join("\n" + STACK_JUMP_SEPARATOR + "\n");
        var stack = filterStackString(concatedStacks);
        object_defineProperty(error, "stack", {value: stack, configurable: true});
    }
}

function filterStackString(stackString) {
    var lines = stackString.split("\n");
    var desiredLines = [];
    for (var i = 0; i < lines.length; ++i) {
        var line = lines[i];

        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {
            desiredLines.push(line);
        }
    }
    return desiredLines.join("\n");
}

function isNodeFrame(stackLine) {
    return stackLine.indexOf("(module.js:") !== -1 ||
           stackLine.indexOf("(node.js:") !== -1;
}

function getFileNameAndLineNumber(stackLine) {
    // Named functions: "at functionName (filename:lineNumber:columnNumber)"
    // In IE10 function name can have spaces ("Anonymous function") O_o
    var attempt1 = /at .+ \((.+):(\d+):(?:\d+)\)$/.exec(stackLine);
    if (attempt1) {
        return [attempt1[1], Number(attempt1[2])];
    }

    // Anonymous functions: "at filename:lineNumber:columnNumber"
    var attempt2 = /at ([^ ]+):(\d+):(?:\d+)$/.exec(stackLine);
    if (attempt2) {
        return [attempt2[1], Number(attempt2[2])];
    }

    // Firefox style: "function@filename:lineNumber or @filename:lineNumber"
    var attempt3 = /.*@(.+):(\d+)$/.exec(stackLine);
    if (attempt3) {
        return [attempt3[1], Number(attempt3[2])];
    }
}

function isInternalFrame(stackLine) {
    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);

    if (!fileNameAndLineNumber) {
        return false;
    }

    var fileName = fileNameAndLineNumber[0];
    var lineNumber = fileNameAndLineNumber[1];

    return fileName === qFileName &&
        lineNumber >= qStartingLine &&
        lineNumber <= qEndingLine;
}

// discover own file name and line number range for filtering stack
// traces
function captureLine() {
    if (!hasStacks) {
        return;
    }

    try {
        throw new Error();
    } catch (e) {
        var lines = e.stack.split("\n");
        var firstLine = lines[0].indexOf("@") > 0 ? lines[1] : lines[2];
        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);
        if (!fileNameAndLineNumber) {
            return;
        }

        qFileName = fileNameAndLineNumber[0];
        return fileNameAndLineNumber[1];
    }
}

function deprecate(callback, name, alternative) {
    return function () {
        if (typeof console !== "undefined" &&
            typeof console.warn === "function") {
            console.warn(name + " is deprecated, use " + alternative +
                         " instead.", new Error("").stack);
        }
        return callback.apply(callback, arguments);
    };
}

// end of shims
// beginning of real work

/**
 * Constructs a promise for an immediate reference, passes promises through, or
 * coerces promises from different systems.
 * @param value immediate reference or promise
 */
function Q(value) {
    // If the object is already a Promise, return it directly.  This enables
    // the resolve function to both be used to created references from objects,
    // but to tolerably coerce non-promises to promises.
    if (value instanceof Promise) {
        return value;
    }

    // assimilate thenables
    if (isPromiseAlike(value)) {
        return coerce(value);
    } else {
        return fulfill(value);
    }
}
Q.resolve = Q;

/**
 * Performs a task in a future turn of the event loop.
 * @param {Function} task
 */
Q.nextTick = nextTick;

/**
 * Controls whether or not long stack traces will be on
 */
Q.longStackSupport = false;

/**
 * The counter is used to determine the stopping point for building
 * long stack traces. In makeStackTraceLong we walk backwards through
 * the linked list of promises, only stacks which were created before
 * the rejection are concatenated.
 */
var longStackCounter = 1;

// enable long stacks if Q_DEBUG is set
if (typeof process === "object" && process && process.env && process.env.Q_DEBUG) {
    Q.longStackSupport = true;
}

/**
 * Constructs a {promise, resolve, reject} object.
 *
 * `resolve` is a callback to invoke with a more resolved value for the
 * promise. To fulfill the promise, invoke `resolve` with any value that is
 * not a thenable. To reject the promise, invoke `resolve` with a rejected
 * thenable, or invoke `reject` with the reason directly. To resolve the
 * promise to another thenable, thus putting it in the same state, invoke
 * `resolve` with that other thenable.
 */
Q.defer = defer;
function defer() {
    // if "messages" is an "Array", that indicates that the promise has not yet
    // been resolved.  If it is "undefined", it has been resolved.  Each
    // element of the messages array is itself an array of complete arguments to
    // forward to the resolved promise.  We coerce the resolution value to a
    // promise using the `resolve` function because it handles both fully
    // non-thenable values and other thenables gracefully.
    var messages = [], progressListeners = [], resolvedPromise;

    var deferred = object_create(defer.prototype);
    var promise = object_create(Promise.prototype);

    promise.promiseDispatch = function (resolve, op, operands) {
        var args = array_slice(arguments);
        if (messages) {
            messages.push(args);
            if (op === "when" && operands[1]) { // progress operand
                progressListeners.push(operands[1]);
            }
        } else {
            Q.nextTick(function () {
                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);
            });
        }
    };

    // XXX deprecated
    promise.valueOf = function () {
        if (messages) {
            return promise;
        }
        var nearerValue = nearer(resolvedPromise);
        if (isPromise(nearerValue)) {
            resolvedPromise = nearerValue; // shorten chain
        }
        return nearerValue;
    };

    promise.inspect = function () {
        if (!resolvedPromise) {
            return { state: "pending" };
        }
        return resolvedPromise.inspect();
    };

    if (Q.longStackSupport && hasStacks) {
        try {
            throw new Error();
        } catch (e) {
            // NOTE: don't try to use `Error.captureStackTrace` or transfer the
            // accessor around; that causes memory leaks as per GH-111. Just
            // reify the stack trace as a string ASAP.
            //
            // At the same time, cut off the first line; it's always just
            // "[object Promise]\n", as per the `toString`.
            promise.stack = e.stack.substring(e.stack.indexOf("\n") + 1);
            promise.stackCounter = longStackCounter++;
        }
    }

    // NOTE: we do the checks for `resolvedPromise` in each method, instead of
    // consolidating them into `become`, since otherwise we'd create new
    // promises with the lines `become(whatever(value))`. See e.g. GH-252.

    function become(newPromise) {
        resolvedPromise = newPromise;

        if (Q.longStackSupport && hasStacks) {
            // Only hold a reference to the new promise if long stacks
            // are enabled to reduce memory usage
            promise.source = newPromise;
        }

        array_reduce(messages, function (undefined, message) {
            Q.nextTick(function () {
                newPromise.promiseDispatch.apply(newPromise, message);
            });
        }, void 0);

        messages = void 0;
        progressListeners = void 0;
    }

    deferred.promise = promise;
    deferred.resolve = function (value) {
        if (resolvedPromise) {
            return;
        }

        become(Q(value));
    };

    deferred.fulfill = function (value) {
        if (resolvedPromise) {
            return;
        }

        become(fulfill(value));
    };
    deferred.reject = function (reason) {
        if (resolvedPromise) {
            return;
        }

        become(reject(reason));
    };
    deferred.notify = function (progress) {
        if (resolvedPromise) {
            return;
        }

        array_reduce(progressListeners, function (undefined, progressListener) {
            Q.nextTick(function () {
                progressListener(progress);
            });
        }, void 0);
    };

    return deferred;
}

/**
 * Creates a Node-style callback that will resolve or reject the deferred
 * promise.
 * @returns a nodeback
 */
defer.prototype.makeNodeResolver = function () {
    var self = this;
    return function (error, value) {
        if (error) {
            self.reject(error);
        } else if (arguments.length > 2) {
            self.resolve(array_slice(arguments, 1));
        } else {
            self.resolve(value);
        }
    };
};

/**
 * @param resolver {Function} a function that returns nothing and accepts
 * the resolve, reject, and notify functions for a deferred.
 * @returns a promise that may be resolved with the given resolve and reject
 * functions, or rejected by a thrown exception in resolver
 */
Q.Promise = promise; // ES6
Q.promise = promise;
function promise(resolver) {
    if (typeof resolver !== "function") {
        throw new TypeError("resolver must be a function.");
    }
    var deferred = defer();
    try {
        resolver(deferred.resolve, deferred.reject, deferred.notify);
    } catch (reason) {
        deferred.reject(reason);
    }
    return deferred.promise;
}

promise.race = race; // ES6
promise.all = all; // ES6
promise.reject = reject; // ES6
promise.resolve = Q; // ES6

// XXX experimental.  This method is a way to denote that a local value is
// serializable and should be immediately dispatched to a remote upon request,
// instead of passing a reference.
Q.passByCopy = function (object) {
    //freeze(object);
    //passByCopies.set(object, true);
    return object;
};

Promise.prototype.passByCopy = function () {
    //freeze(object);
    //passByCopies.set(object, true);
    return this;
};

/**
 * If two promises eventually fulfill to the same value, promises that value,
 * but otherwise rejects.
 * @param x {Any*}
 * @param y {Any*}
 * @returns {Any*} a promise for x and y if they are the same, but a rejection
 * otherwise.
 *
 */
Q.join = function (x, y) {
    return Q(x).join(y);
};

Promise.prototype.join = function (that) {
    return Q([this, that]).spread(function (x, y) {
        if (x === y) {
            // TODO: "===" should be Object.is or equiv
            return x;
        } else {
            throw new Error("Q can't join: not the same: " + x + " " + y);
        }
    });
};

/**
 * Returns a promise for the first of an array of promises to become settled.
 * @param answers {Array[Any*]} promises to race
 * @returns {Any*} the first promise to be settled
 */
Q.race = race;
function race(answerPs) {
    return promise(function (resolve, reject) {
        // Switch to this once we can assume at least ES5
        // answerPs.forEach(function (answerP) {
        //     Q(answerP).then(resolve, reject);
        // });
        // Use this in the meantime
        for (var i = 0, len = answerPs.length; i < len; i++) {
            Q(answerPs[i]).then(resolve, reject);
        }
    });
}

Promise.prototype.race = function () {
    return this.then(Q.race);
};

/**
 * Constructs a Promise with a promise descriptor object and optional fallback
 * function.  The descriptor contains methods like when(rejected), get(name),
 * set(name, value), post(name, args), and delete(name), which all
 * return either a value, a promise for a value, or a rejection.  The fallback
 * accepts the operation name, a resolver, and any further arguments that would
 * have been forwarded to the appropriate method above had a method been
 * provided with the proper name.  The API makes no guarantees about the nature
 * of the returned object, apart from that it is usable whereever promises are
 * bought and sold.
 */
Q.makePromise = Promise;
function Promise(descriptor, fallback, inspect) {
    if (fallback === void 0) {
        fallback = function (op) {
            return reject(new Error(
                "Promise does not support operation: " + op
            ));
        };
    }
    if (inspect === void 0) {
        inspect = function () {
            return {state: "unknown"};
        };
    }

    var promise = object_create(Promise.prototype);

    promise.promiseDispatch = function (resolve, op, args) {
        var result;
        try {
            if (descriptor[op]) {
                result = descriptor[op].apply(promise, args);
            } else {
                result = fallback.call(promise, op, args);
            }
        } catch (exception) {
            result = reject(exception);
        }
        if (resolve) {
            resolve(result);
        }
    };

    promise.inspect = inspect;

    // XXX deprecated `valueOf` and `exception` support
    if (inspect) {
        var inspected = inspect();
        if (inspected.state === "rejected") {
            promise.exception = inspected.reason;
        }

        promise.valueOf = function () {
            var inspected = inspect();
            if (inspected.state === "pending" ||
                inspected.state === "rejected") {
                return promise;
            }
            return inspected.value;
        };
    }

    return promise;
}

Promise.prototype.toString = function () {
    return "[object Promise]";
};

Promise.prototype.then = function (fulfilled, rejected, progressed) {
    var self = this;
    var deferred = defer();
    var done = false;   // ensure the untrusted promise makes at most a
                        // single call to one of the callbacks

    function _fulfilled(value) {
        try {
            return typeof fulfilled === "function" ? fulfilled(value) : value;
        } catch (exception) {
            return reject(exception);
        }
    }

    function _rejected(exception) {
        if (typeof rejected === "function") {
            makeStackTraceLong(exception, self);
            try {
                return rejected(exception);
            } catch (newException) {
                return reject(newException);
            }
        }
        return reject(exception);
    }

    function _progressed(value) {
        return typeof progressed === "function" ? progressed(value) : value;
    }

    Q.nextTick(function () {
        self.promiseDispatch(function (value) {
            if (done) {
                return;
            }
            done = true;

            deferred.resolve(_fulfilled(value));
        }, "when", [function (exception) {
            if (done) {
                return;
            }
            done = true;

            deferred.resolve(_rejected(exception));
        }]);
    });

    // Progress propagator need to be attached in the current tick.
    self.promiseDispatch(void 0, "when", [void 0, function (value) {
        var newValue;
        var threw = false;
        try {
            newValue = _progressed(value);
        } catch (e) {
            threw = true;
            if (Q.onerror) {
                Q.onerror(e);
            } else {
                throw e;
            }
        }

        if (!threw) {
            deferred.notify(newValue);
        }
    }]);

    return deferred.promise;
};

Q.tap = function (promise, callback) {
    return Q(promise).tap(callback);
};

/**
 * Works almost like "finally", but not called for rejections.
 * Original resolution value is passed through callback unaffected.
 * Callback may return a promise that will be awaited for.
 * @param {Function} callback
 * @returns {Q.Promise}
 * @example
 * doSomething()
 *   .then(...)
 *   .tap(console.log)
 *   .then(...);
 */
Promise.prototype.tap = function (callback) {
    callback = Q(callback);

    return this.then(function (value) {
        return callback.fcall(value).thenResolve(value);
    });
};

/**
 * Registers an observer on a promise.
 *
 * Guarantees:
 *
 * 1. that fulfilled and rejected will be called only once.
 * 2. that either the fulfilled callback or the rejected callback will be
 *    called, but not both.
 * 3. that fulfilled and rejected will not be called in this turn.
 *
 * @param value      promise or immediate reference to observe
 * @param fulfilled  function to be called with the fulfilled value
 * @param rejected   function to be called with the rejection exception
 * @param progressed function to be called on any progress notifications
 * @return promise for the return value from the invoked callback
 */
Q.when = when;
function when(value, fulfilled, rejected, progressed) {
    return Q(value).then(fulfilled, rejected, progressed);
}

Promise.prototype.thenResolve = function (value) {
    return this.then(function () { return value; });
};

Q.thenResolve = function (promise, value) {
    return Q(promise).thenResolve(value);
};

Promise.prototype.thenReject = function (reason) {
    return this.then(function () { throw reason; });
};

Q.thenReject = function (promise, reason) {
    return Q(promise).thenReject(reason);
};

/**
 * If an object is not a promise, it is as "near" as possible.
 * If a promise is rejected, it is as "near" as possible too.
 * If its a fulfilled promise, the fulfillment value is nearer.
 * If its a deferred promise and the deferred has been resolved, the
 * resolution is "nearer".
 * @param object
 * @returns most resolved (nearest) form of the object
 */

// XXX should we re-do this?
Q.nearer = nearer;
function nearer(value) {
    if (isPromise(value)) {
        var inspected = value.inspect();
        if (inspected.state === "fulfilled") {
            return inspected.value;
        }
    }
    return value;
}

/**
 * @returns whether the given object is a promise.
 * Otherwise it is a fulfilled value.
 */
Q.isPromise = isPromise;
function isPromise(object) {
    return object instanceof Promise;
}

Q.isPromiseAlike = isPromiseAlike;
function isPromiseAlike(object) {
    return isObject(object) && typeof object.then === "function";
}

/**
 * @returns whether the given object is a pending promise, meaning not
 * fulfilled or rejected.
 */
Q.isPending = isPending;
function isPending(object) {
    return isPromise(object) && object.inspect().state === "pending";
}

Promise.prototype.isPending = function () {
    return this.inspect().state === "pending";
};

/**
 * @returns whether the given object is a value or fulfilled
 * promise.
 */
Q.isFulfilled = isFulfilled;
function isFulfilled(object) {
    return !isPromise(object) || object.inspect().state === "fulfilled";
}

Promise.prototype.isFulfilled = function () {
    return this.inspect().state === "fulfilled";
};

/**
 * @returns whether the given object is a rejected promise.
 */
Q.isRejected = isRejected;
function isRejected(object) {
    return isPromise(object) && object.inspect().state === "rejected";
}

Promise.prototype.isRejected = function () {
    return this.inspect().state === "rejected";
};

//// BEGIN UNHANDLED REJECTION TRACKING

// This promise library consumes exceptions thrown in handlers so they can be
// handled by a subsequent promise.  The exceptions get added to this array when
// they are created, and removed when they are handled.  Note that in ES6 or
// shimmed environments, this would naturally be a `Set`.
var unhandledReasons = [];
var unhandledRejections = [];
var reportedUnhandledRejections = [];
var trackUnhandledRejections = true;

function resetUnhandledRejections() {
    unhandledReasons.length = 0;
    unhandledRejections.length = 0;

    if (!trackUnhandledRejections) {
        trackUnhandledRejections = true;
    }
}

function trackRejection(promise, reason) {
    if (!trackUnhandledRejections) {
        return;
    }
    if (typeof process === "object" && typeof process.emit === "function") {
        Q.nextTick.runAfter(function () {
            if (array_indexOf(unhandledRejections, promise) !== -1) {
                process.emit("unhandledRejection", reason, promise);
                reportedUnhandledRejections.push(promise);
            }
        });
    }

    unhandledRejections.push(promise);
    if (reason && typeof reason.stack !== "undefined") {
        unhandledReasons.push(reason.stack);
    } else {
        unhandledReasons.push("(no stack) " + reason);
    }
}

function untrackRejection(promise) {
    if (!trackUnhandledRejections) {
        return;
    }

    var at = array_indexOf(unhandledRejections, promise);
    if (at !== -1) {
        if (typeof process === "object" && typeof process.emit === "function") {
            Q.nextTick.runAfter(function () {
                var atReport = array_indexOf(reportedUnhandledRejections, promise);
                if (atReport !== -1) {
                    process.emit("rejectionHandled", unhandledReasons[at], promise);
                    reportedUnhandledRejections.splice(atReport, 1);
                }
            });
        }
        unhandledRejections.splice(at, 1);
        unhandledReasons.splice(at, 1);
    }
}

Q.resetUnhandledRejections = resetUnhandledRejections;

Q.getUnhandledReasons = function () {
    // Make a copy so that consumers can't interfere with our internal state.
    return unhandledReasons.slice();
};

Q.stopUnhandledRejectionTracking = function () {
    resetUnhandledRejections();
    trackUnhandledRejections = false;
};

resetUnhandledRejections();

//// END UNHANDLED REJECTION TRACKING

/**
 * Constructs a rejected promise.
 * @param reason value describing the failure
 */
Q.reject = reject;
function reject(reason) {
    var rejection = Promise({
        "when": function (rejected) {
            // note that the error has been handled
            if (rejected) {
                untrackRejection(this);
            }
            return rejected ? rejected(reason) : this;
        }
    }, function fallback() {
        return this;
    }, function inspect() {
        return { state: "rejected", reason: reason };
    });

    // Note that the reason has not been handled.
    trackRejection(rejection, reason);

    return rejection;
}

/**
 * Constructs a fulfilled promise for an immediate reference.
 * @param value immediate reference
 */
Q.fulfill = fulfill;
function fulfill(value) {
    return Promise({
        "when": function () {
            return value;
        },
        "get": function (name) {
            return value[name];
        },
        "set": function (name, rhs) {
            value[name] = rhs;
        },
        "delete": function (name) {
            delete value[name];
        },
        "post": function (name, args) {
            // Mark Miller proposes that post with no name should apply a
            // promised function.
            if (name === null || name === void 0) {
                return value.apply(void 0, args);
            } else {
                return value[name].apply(value, args);
            }
        },
        "apply": function (thisp, args) {
            return value.apply(thisp, args);
        },
        "keys": function () {
            return object_keys(value);
        }
    }, void 0, function inspect() {
        return { state: "fulfilled", value: value };
    });
}

/**
 * Converts thenables to Q promises.
 * @param promise thenable promise
 * @returns a Q promise
 */
function coerce(promise) {
    var deferred = defer();
    Q.nextTick(function () {
        try {
            promise.then(deferred.resolve, deferred.reject, deferred.notify);
        } catch (exception) {
            deferred.reject(exception);
        }
    });
    return deferred.promise;
}

/**
 * Annotates an object such that it will never be
 * transferred away from this process over any promise
 * communication channel.
 * @param object
 * @returns promise a wrapping of that object that
 * additionally responds to the "isDef" message
 * without a rejection.
 */
Q.master = master;
function master(object) {
    return Promise({
        "isDef": function () {}
    }, function fallback(op, args) {
        return dispatch(object, op, args);
    }, function () {
        return Q(object).inspect();
    });
}

/**
 * Spreads the values of a promised array of arguments into the
 * fulfillment callback.
 * @param fulfilled callback that receives variadic arguments from the
 * promised array
 * @param rejected callback that receives the exception if the promise
 * is rejected.
 * @returns a promise for the return value or thrown exception of
 * either callback.
 */
Q.spread = spread;
function spread(value, fulfilled, rejected) {
    return Q(value).spread(fulfilled, rejected);
}

Promise.prototype.spread = function (fulfilled, rejected) {
    return this.all().then(function (array) {
        return fulfilled.apply(void 0, array);
    }, rejected);
};

/**
 * The async function is a decorator for generator functions, turning
 * them into asynchronous generators.  Although generators are only part
 * of the newest ECMAScript 6 drafts, this code does not cause syntax
 * errors in older engines.  This code should continue to work and will
 * in fact improve over time as the language improves.
 *
 * ES6 generators are currently part of V8 version 3.19 with the
 * --harmony-generators runtime flag enabled.  SpiderMonkey has had them
 * for longer, but under an older Python-inspired form.  This function
 * works on both kinds of generators.
 *
 * Decorates a generator function such that:
 *  - it may yield promises
 *  - execution will continue when that promise is fulfilled
 *  - the value of the yield expression will be the fulfilled value
 *  - it returns a promise for the return value (when the generator
 *    stops iterating)
 *  - the decorated function returns a promise for the return value
 *    of the generator or the first rejected promise among those
 *    yielded.
 *  - if an error is thrown in the generator, it propagates through
 *    every following yield until it is caught, or until it escapes
 *    the generator function altogether, and is translated into a
 *    rejection for the promise returned by the decorated generator.
 */
Q.async = async;
function async(makeGenerator) {
    return function () {
        // when verb is "send", arg is a value
        // when verb is "throw", arg is an exception
        function continuer(verb, arg) {
            var result;

            // Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only
            // engine that has a deployed base of browsers that support generators.
            // However, SM's generators use the Python-inspired semantics of
            // outdated ES6 drafts.  We would like to support ES6, but we'd also
            // like to make it possible to use generators in deployed browsers, so
            // we also support Python-style generators.  At some point we can remove
            // this block.

            if (typeof StopIteration === "undefined") {
                // ES6 Generators
                try {
                    result = generator[verb](arg);
                } catch (exception) {
                    return reject(exception);
                }
                if (result.done) {
                    return Q(result.value);
                } else {
                    return when(result.value, callback, errback);
                }
            } else {
                // SpiderMonkey Generators
                // FIXME: Remove this case when SM does ES6 generators.
                try {
                    result = generator[verb](arg);
                } catch (exception) {
                    if (isStopIteration(exception)) {
                        return Q(exception.value);
                    } else {
                        return reject(exception);
                    }
                }
                return when(result, callback, errback);
            }
        }
        var generator = makeGenerator.apply(this, arguments);
        var callback = continuer.bind(continuer, "next");
        var errback = continuer.bind(continuer, "throw");
        return callback();
    };
}

/**
 * The spawn function is a small wrapper around async that immediately
 * calls the generator and also ends the promise chain, so that any
 * unhandled errors are thrown instead of forwarded to the error
 * handler. This is useful because it's extremely common to run
 * generators at the top-level to work with libraries.
 */
Q.spawn = spawn;
function spawn(makeGenerator) {
    Q.done(Q.async(makeGenerator)());
}

// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.
/**
 * Throws a ReturnValue exception to stop an asynchronous generator.
 *
 * This interface is a stop-gap measure to support generator return
 * values in older Firefox/SpiderMonkey.  In browsers that support ES6
 * generators like Chromium 29, just use "return" in your generator
 * functions.
 *
 * @param value the return value for the surrounding generator
 * @throws ReturnValue exception with the value.
 * @example
 * // ES6 style
 * Q.async(function* () {
 *      var foo = yield getFooPromise();
 *      var bar = yield getBarPromise();
 *      return foo + bar;
 * })
 * // Older SpiderMonkey style
 * Q.async(function () {
 *      var foo = yield getFooPromise();
 *      var bar = yield getBarPromise();
 *      Q.return(foo + bar);
 * })
 */
Q["return"] = _return;
function _return(value) {
    throw new QReturnValue(value);
}

/**
 * The promised function decorator ensures that any promise arguments
 * are settled and passed as values (`this` is also settled and passed
 * as a value).  It will also ensure that the result of a function is
 * always a promise.
 *
 * @example
 * var add = Q.promised(function (a, b) {
 *     return a + b;
 * });
 * add(Q(a), Q(B));
 *
 * @param {function} callback The function to decorate
 * @returns {function} a function that has been decorated.
 */
Q.promised = promised;
function promised(callback) {
    return function () {
        return spread([this, all(arguments)], function (self, args) {
            return callback.apply(self, args);
        });
    };
}

/**
 * sends a message to a value in a future turn
 * @param object* the recipient
 * @param op the name of the message operation, e.g., "when",
 * @param args further arguments to be forwarded to the operation
 * @returns result {Promise} a promise for the result of the operation
 */
Q.dispatch = dispatch;
function dispatch(object, op, args) {
    return Q(object).dispatch(op, args);
}

Promise.prototype.dispatch = function (op, args) {
    var self = this;
    var deferred = defer();
    Q.nextTick(function () {
        self.promiseDispatch(deferred.resolve, op, args);
    });
    return deferred.promise;
};

/**
 * Gets the value of a property in a future turn.
 * @param object    promise or immediate reference for target object
 * @param name      name of property to get
 * @return promise for the property value
 */
Q.get = function (object, key) {
    return Q(object).dispatch("get", [key]);
};

Promise.prototype.get = function (key) {
    return this.dispatch("get", [key]);
};

/**
 * Sets the value of a property in a future turn.
 * @param object    promise or immediate reference for object object
 * @param name      name of property to set
 * @param value     new value of property
 * @return promise for the return value
 */
Q.set = function (object, key, value) {
    return Q(object).dispatch("set", [key, value]);
};

Promise.prototype.set = function (key, value) {
    return this.dispatch("set", [key, value]);
};

/**
 * Deletes a property in a future turn.
 * @param object    promise or immediate reference for target object
 * @param name      name of property to delete
 * @return promise for the return value
 */
Q.del = // XXX legacy
Q["delete"] = function (object, key) {
    return Q(object).dispatch("delete", [key]);
};

Promise.prototype.del = // XXX legacy
Promise.prototype["delete"] = function (key) {
    return this.dispatch("delete", [key]);
};

/**
 * Invokes a method in a future turn.
 * @param object    promise or immediate reference for target object
 * @param name      name of method to invoke
 * @param value     a value to post, typically an array of
 *                  invocation arguments for promises that
 *                  are ultimately backed with `resolve` values,
 *                  as opposed to those backed with URLs
 *                  wherein the posted value can be any
 *                  JSON serializable object.
 * @return promise for the return value
 */
// bound locally because it is used by other methods
Q.mapply = // XXX As proposed by "Redsandro"
Q.post = function (object, name, args) {
    return Q(object).dispatch("post", [name, args]);
};

Promise.prototype.mapply = // XXX As proposed by "Redsandro"
Promise.prototype.post = function (name, args) {
    return this.dispatch("post", [name, args]);
};

/**
 * Invokes a method in a future turn.
 * @param object    promise or immediate reference for target object
 * @param name      name of method to invoke
 * @param ...args   array of invocation arguments
 * @return promise for the return value
 */
Q.send = // XXX Mark Miller's proposed parlance
Q.mcall = // XXX As proposed by "Redsandro"
Q.invoke = function (object, name /*...args*/) {
    return Q(object).dispatch("post", [name, array_slice(arguments, 2)]);
};

Promise.prototype.send = // XXX Mark Miller's proposed parlance
Promise.prototype.mcall = // XXX As proposed by "Redsandro"
Promise.prototype.invoke = function (name /*...args*/) {
    return this.dispatch("post", [name, array_slice(arguments, 1)]);
};

/**
 * Applies the promised function in a future turn.
 * @param object    promise or immediate reference for target function
 * @param args      array of application arguments
 */
Q.fapply = function (object, args) {
    return Q(object).dispatch("apply", [void 0, args]);
};

Promise.prototype.fapply = function (args) {
    return this.dispatch("apply", [void 0, args]);
};

/**
 * Calls the promised function in a future turn.
 * @param object    promise or immediate reference for target function
 * @param ...args   array of application arguments
 */
Q["try"] =
Q.fcall = function (object /* ...args*/) {
    return Q(object).dispatch("apply", [void 0, array_slice(arguments, 1)]);
};

Promise.prototype.fcall = function (/*...args*/) {
    return this.dispatch("apply", [void 0, array_slice(arguments)]);
};

/**
 * Binds the promised function, transforming return values into a fulfilled
 * promise and thrown errors into a rejected one.
 * @param object    promise or immediate reference for target function
 * @param ...args   array of application arguments
 */
Q.fbind = function (object /*...args*/) {
    var promise = Q(object);
    var args = array_slice(arguments, 1);
    return function fbound() {
        return promise.dispatch("apply", [
            this,
            args.concat(array_slice(arguments))
        ]);
    };
};
Promise.prototype.fbind = function (/*...args*/) {
    var promise = this;
    var args = array_slice(arguments);
    return function fbound() {
        return promise.dispatch("apply", [
            this,
            args.concat(array_slice(arguments))
        ]);
    };
};

/**
 * Requests the names of the owned properties of a promised
 * object in a future turn.
 * @param object    promise or immediate reference for target object
 * @return promise for the keys of the eventually settled object
 */
Q.keys = function (object) {
    return Q(object).dispatch("keys", []);
};

Promise.prototype.keys = function () {
    return this.dispatch("keys", []);
};

/**
 * Turns an array of promises into a promise for an array.  If any of
 * the promises gets rejected, the whole array is rejected immediately.
 * @param {Array*} an array (or promise for an array) of values (or
 * promises for values)
 * @returns a promise for an array of the corresponding values
 */
// By Mark Miller
// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled
Q.all = all;
function all(promises) {
    return when(promises, function (promises) {
        var pendingCount = 0;
        var deferred = defer();
        array_reduce(promises, function (undefined, promise, index) {
            var snapshot;
            if (
                isPromise(promise) &&
                (snapshot = promise.inspect()).state === "fulfilled"
            ) {
                promises[index] = snapshot.value;
            } else {
                ++pendingCount;
                when(
                    promise,
                    function (value) {
                        promises[index] = value;
                        if (--pendingCount === 0) {
                            deferred.resolve(promises);
                        }
                    },
                    deferred.reject,
                    function (progress) {
                        deferred.notify({ index: index, value: progress });
                    }
                );
            }
        }, void 0);
        if (pendingCount === 0) {
            deferred.resolve(promises);
        }
        return deferred.promise;
    });
}

Promise.prototype.all = function () {
    return all(this);
};

/**
 * Returns the first resolved promise of an array. Prior rejected promises are
 * ignored.  Rejects only if all promises are rejected.
 * @param {Array*} an array containing values or promises for values
 * @returns a promise fulfilled with the value of the first resolved promise,
 * or a rejected promise if all promises are rejected.
 */
Q.any = any;

function any(promises) {
    if (promises.length === 0) {
        return Q.resolve();
    }

    var deferred = Q.defer();
    var pendingCount = 0;
    array_reduce(promises, function (prev, current, index) {
        var promise = promises[index];

        pendingCount++;

        when(promise, onFulfilled, onRejected, onProgress);
        function onFulfilled(result) {
            deferred.resolve(result);
        }
        function onRejected(err) {
            pendingCount--;
            if (pendingCount === 0) {
                var rejection = err || new Error("" + err);

                rejection.message = ("Q can't get fulfillment value from any promise, all " +
                    "promises were rejected. Last error message: " + rejection.message);

                deferred.reject(rejection);
            }
        }
        function onProgress(progress) {
            deferred.notify({
                index: index,
                value: progress
            });
        }
    }, undefined);

    return deferred.promise;
}

Promise.prototype.any = function () {
    return any(this);
};

/**
 * Waits for all promises to be settled, either fulfilled or
 * rejected.  This is distinct from `all` since that would stop
 * waiting at the first rejection.  The promise returned by
 * `allResolved` will never be rejected.
 * @param promises a promise for an array (or an array) of promises
 * (or values)
 * @return a promise for an array of promises
 */
Q.allResolved = deprecate(allResolved, "allResolved", "allSettled");
function allResolved(promises) {
    return when(promises, function (promises) {
        promises = array_map(promises, Q);
        return when(all(array_map(promises, function (promise) {
            return when(promise, noop, noop);
        })), function () {
            return promises;
        });
    });
}

Promise.prototype.allResolved = function () {
    return allResolved(this);
};

/**
 * @see Promise#allSettled
 */
Q.allSettled = allSettled;
function allSettled(promises) {
    return Q(promises).allSettled();
}

/**
 * Turns an array of promises into a promise for an array of their states (as
 * returned by `inspect`) when they have all settled.
 * @param {Array[Any*]} values an array (or promise for an array) of values (or
 * promises for values)
 * @returns {Array[State]} an array of states for the respective values.
 */
Promise.prototype.allSettled = function () {
    return this.then(function (promises) {
        return all(array_map(promises, function (promise) {
            promise = Q(promise);
            function regardless() {
                return promise.inspect();
            }
            return promise.then(regardless, regardless);
        }));
    });
};

/**
 * Captures the failure of a promise, giving an oportunity to recover
 * with a callback.  If the given promise is fulfilled, the returned
 * promise is fulfilled.
 * @param {Any*} promise for something
 * @param {Function} callback to fulfill the returned promise if the
 * given promise is rejected
 * @returns a promise for the return value of the callback
 */
Q.fail = // XXX legacy
Q["catch"] = function (object, rejected) {
    return Q(object).then(void 0, rejected);
};

Promise.prototype.fail = // XXX legacy
Promise.prototype["catch"] = function (rejected) {
    return this.then(void 0, rejected);
};

/**
 * Attaches a listener that can respond to progress notifications from a
 * promise's originating deferred. This listener receives the exact arguments
 * passed to ``deferred.notify``.
 * @param {Any*} promise for something
 * @param {Function} callback to receive any progress notifications
 * @returns the given promise, unchanged
 */
Q.progress = progress;
function progress(object, progressed) {
    return Q(object).then(void 0, void 0, progressed);
}

Promise.prototype.progress = function (progressed) {
    return this.then(void 0, void 0, progressed);
};

/**
 * Provides an opportunity to observe the settling of a promise,
 * regardless of whether the promise is fulfilled or rejected.  Forwards
 * the resolution to the returned promise when the callback is done.
 * The callback can return a promise to defer completion.
 * @param {Any*} promise
 * @param {Function} callback to observe the resolution of the given
 * promise, takes no arguments.
 * @returns a promise for the resolution of the given promise when
 * ``fin`` is done.
 */
Q.fin = // XXX legacy
Q["finally"] = function (object, callback) {
    return Q(object)["finally"](callback);
};

Promise.prototype.fin = // XXX legacy
Promise.prototype["finally"] = function (callback) {
    if (!callback || typeof callback.apply !== "function") {
        throw new Error("Q can't apply finally callback");
    }
    callback = Q(callback);
    return this.then(function (value) {
        return callback.fcall().then(function () {
            return value;
        });
    }, function (reason) {
        // TODO attempt to recycle the rejection with "this".
        return callback.fcall().then(function () {
            throw reason;
        });
    });
};

/**
 * Terminates a chain of promises, forcing rejections to be
 * thrown as exceptions.
 * @param {Any*} promise at the end of a chain of promises
 * @returns nothing
 */
Q.done = function (object, fulfilled, rejected, progress) {
    return Q(object).done(fulfilled, rejected, progress);
};

Promise.prototype.done = function (fulfilled, rejected, progress) {
    var onUnhandledError = function (error) {
        // forward to a future turn so that ``when``
        // does not catch it and turn it into a rejection.
        Q.nextTick(function () {
            makeStackTraceLong(error, promise);
            if (Q.onerror) {
                Q.onerror(error);
            } else {
                throw error;
            }
        });
    };

    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.
    var promise = fulfilled || rejected || progress ?
        this.then(fulfilled, rejected, progress) :
        this;

    if (typeof process === "object" && process && process.domain) {
        onUnhandledError = process.domain.bind(onUnhandledError);
    }

    promise.then(void 0, onUnhandledError);
};

/**
 * Causes a promise to be rejected if it does not get fulfilled before
 * some milliseconds time out.
 * @param {Any*} promise
 * @param {Number} milliseconds timeout
 * @param {Any*} custom error message or Error object (optional)
 * @returns a promise for the resolution of the given promise if it is
 * fulfilled before the timeout, otherwise rejected.
 */
Q.timeout = function (object, ms, error) {
    return Q(object).timeout(ms, error);
};

Promise.prototype.timeout = function (ms, error) {
    var deferred = defer();
    var timeoutId = setTimeout(function () {
        if (!error || "string" === typeof error) {
            error = new Error(error || "Timed out after " + ms + " ms");
            error.code = "ETIMEDOUT";
        }
        deferred.reject(error);
    }, ms);

    this.then(function (value) {
        clearTimeout(timeoutId);
        deferred.resolve(value);
    }, function (exception) {
        clearTimeout(timeoutId);
        deferred.reject(exception);
    }, deferred.notify);

    return deferred.promise;
};

/**
 * Returns a promise for the given value (or promised value), some
 * milliseconds after it resolved. Passes rejections immediately.
 * @param {Any*} promise
 * @param {Number} milliseconds
 * @returns a promise for the resolution of the given promise after milliseconds
 * time has elapsed since the resolution of the given promise.
 * If the given promise rejects, that is passed immediately.
 */
Q.delay = function (object, timeout) {
    if (timeout === void 0) {
        timeout = object;
        object = void 0;
    }
    return Q(object).delay(timeout);
};

Promise.prototype.delay = function (timeout) {
    return this.then(function (value) {
        var deferred = defer();
        setTimeout(function () {
            deferred.resolve(value);
        }, timeout);
        return deferred.promise;
    });
};

/**
 * Passes a continuation to a Node function, which is called with the given
 * arguments provided as an array, and returns a promise.
 *
 *      Q.nfapply(FS.readFile, [__filename])
 *      .then(function (content) {
 *      })
 *
 */
Q.nfapply = function (callback, args) {
    return Q(callback).nfapply(args);
};

Promise.prototype.nfapply = function (args) {
    var deferred = defer();
    var nodeArgs = array_slice(args);
    nodeArgs.push(deferred.makeNodeResolver());
    this.fapply(nodeArgs).fail(deferred.reject);
    return deferred.promise;
};

/**
 * Passes a continuation to a Node function, which is called with the given
 * arguments provided individually, and returns a promise.
 * @example
 * Q.nfcall(FS.readFile, __filename)
 * .then(function (content) {
 * })
 *
 */
Q.nfcall = function (callback /*...args*/) {
    var args = array_slice(arguments, 1);
    return Q(callback).nfapply(args);
};

Promise.prototype.nfcall = function (/*...args*/) {
    var nodeArgs = array_slice(arguments);
    var deferred = defer();
    nodeArgs.push(deferred.makeNodeResolver());
    this.fapply(nodeArgs).fail(deferred.reject);
    return deferred.promise;
};

/**
 * Wraps a NodeJS continuation passing function and returns an equivalent
 * version that returns a promise.
 * @example
 * Q.nfbind(FS.readFile, __filename)("utf-8")
 * .then(console.log)
 * .done()
 */
Q.nfbind =
Q.denodeify = function (callback /*...args*/) {
    if (callback === undefined) {
        throw new Error("Q can't wrap an undefined function");
    }
    var baseArgs = array_slice(arguments, 1);
    return function () {
        var nodeArgs = baseArgs.concat(array_slice(arguments));
        var deferred = defer();
        nodeArgs.push(deferred.makeNodeResolver());
        Q(callback).fapply(nodeArgs).fail(deferred.reject);
        return deferred.promise;
    };
};

Promise.prototype.nfbind =
Promise.prototype.denodeify = function (/*...args*/) {
    var args = array_slice(arguments);
    args.unshift(this);
    return Q.denodeify.apply(void 0, args);
};

Q.nbind = function (callback, thisp /*...args*/) {
    var baseArgs = array_slice(arguments, 2);
    return function () {
        var nodeArgs = baseArgs.concat(array_slice(arguments));
        var deferred = defer();
        nodeArgs.push(deferred.makeNodeResolver());
        function bound() {
            return callback.apply(thisp, arguments);
        }
        Q(bound).fapply(nodeArgs).fail(deferred.reject);
        return deferred.promise;
    };
};

Promise.prototype.nbind = function (/*thisp, ...args*/) {
    var args = array_slice(arguments, 0);
    args.unshift(this);
    return Q.nbind.apply(void 0, args);
};

/**
 * Calls a method of a Node-style object that accepts a Node-style
 * callback with a given array of arguments, plus a provided callback.
 * @param object an object that has the named method
 * @param {String} name name of the method of object
 * @param {Array} args arguments to pass to the method; the callback
 * will be provided by Q and appended to these arguments.
 * @returns a promise for the value or error
 */
Q.nmapply = // XXX As proposed by "Redsandro"
Q.npost = function (object, name, args) {
    return Q(object).npost(name, args);
};

Promise.prototype.nmapply = // XXX As proposed by "Redsandro"
Promise.prototype.npost = function (name, args) {
    var nodeArgs = array_slice(args || []);
    var deferred = defer();
    nodeArgs.push(deferred.makeNodeResolver());
    this.dispatch("post", [name, nodeArgs]).fail(deferred.reject);
    return deferred.promise;
};

/**
 * Calls a method of a Node-style object that accepts a Node-style
 * callback, forwarding the given variadic arguments, plus a provided
 * callback argument.
 * @param object an object that has the named method
 * @param {String} name name of the method of object
 * @param ...args arguments to pass to the method; the callback will
 * be provided by Q and appended to these arguments.
 * @returns a promise for the value or error
 */
Q.nsend = // XXX Based on Mark Miller's proposed "send"
Q.nmcall = // XXX Based on "Redsandro's" proposal
Q.ninvoke = function (object, name /*...args*/) {
    var nodeArgs = array_slice(arguments, 2);
    var deferred = defer();
    nodeArgs.push(deferred.makeNodeResolver());
    Q(object).dispatch("post", [name, nodeArgs]).fail(deferred.reject);
    return deferred.promise;
};

Promise.prototype.nsend = // XXX Based on Mark Miller's proposed "send"
Promise.prototype.nmcall = // XXX Based on "Redsandro's" proposal
Promise.prototype.ninvoke = function (name /*...args*/) {
    var nodeArgs = array_slice(arguments, 1);
    var deferred = defer();
    nodeArgs.push(deferred.makeNodeResolver());
    this.dispatch("post", [name, nodeArgs]).fail(deferred.reject);
    return deferred.promise;
};

/**
 * If a function would like to support both Node continuation-passing-style and
 * promise-returning-style, it can end its internal promise chain with
 * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user
 * elects to use a nodeback, the result will be sent there.  If they do not
 * pass a nodeback, they will receive the result promise.
 * @param object a result (or a promise for a result)
 * @param {Function} nodeback a Node.js-style callback
 * @returns either the promise or nothing
 */
Q.nodeify = nodeify;
function nodeify(object, nodeback) {
    return Q(object).nodeify(nodeback);
}

Promise.prototype.nodeify = function (nodeback) {
    if (nodeback) {
        this.then(function (value) {
            Q.nextTick(function () {
                nodeback(null, value);
            });
        }, function (error) {
            Q.nextTick(function () {
                nodeback(error);
            });
        });
    } else {
        return this;
    }
};

Q.noConflict = function() {
    throw new Error("Q.noConflict only works when Q is used as a global");
};

// All code before this point will be filtered from stack traces.
var qEndingLine = captureLine();

return Q;

});

}).call(this,require('_process'))

},{"_process":215}],217:[function(require,module,exports){
/*
 * smoothscroll polyfill - v0.3.5
 * https://iamdustan.github.io/smoothscroll
 * 2016 (c) Dustan Kasten, Jeremias Menichelli - MIT License
 */

(function(w, d, undefined) {
  'use strict';

  /*
   * aliases
   * w: window global object
   * d: document
   * undefined: undefined
   */

  // polyfill
  function polyfill() {
    // return when scrollBehavior interface is supported
    if ('scrollBehavior' in d.documentElement.style) {
      return;
    }

    /*
     * globals
     */
    var Element = w.HTMLElement || w.Element;
    var SCROLL_TIME = 468;

    /*
     * object gathering original scroll methods
     */
    var original = {
      scroll: w.scroll || w.scrollTo,
      scrollBy: w.scrollBy,
      elScroll: Element.prototype.scroll || scrollElement,
      scrollIntoView: Element.prototype.scrollIntoView
    };

    /*
     * define timing method
     */
    var now = w.performance && w.performance.now
      ? w.performance.now.bind(w.performance) : Date.now;

    /**
     * changes scroll position inside an element
     * @method scrollElement
     * @param {Number} x
     * @param {Number} y
     */
    function scrollElement(x, y) {
      this.scrollLeft = x;
      this.scrollTop = y;
    }

    /**
     * returns result of applying ease math function to a number
     * @method ease
     * @param {Number} k
     * @returns {Number}
     */
    function ease(k) {
      return 0.5 * (1 - Math.cos(Math.PI * k));
    }

    /**
     * indicates if a smooth behavior should be applied
     * @method shouldBailOut
     * @param {Number|Object} x
     * @returns {Boolean}
     */
    function shouldBailOut(x) {
      if (typeof x !== 'object'
            || x === null
            || x.behavior === undefined
            || x.behavior === 'auto'
            || x.behavior === 'instant') {
        // first arg not an object/null
        // or behavior is auto, instant or undefined
        return true;
      }

      if (typeof x === 'object'
            && x.behavior === 'smooth') {
        // first argument is an object and behavior is smooth
        return false;
      }

      // throw error when behavior is not supported
      throw new TypeError('behavior not valid');
    }

    /**
     * finds scrollable parent of an element
     * @method findScrollableParent
     * @param {Node} el
     * @returns {Node} el
     */
    function findScrollableParent(el) {
      var isBody;
      var hasScrollableSpace;
      var hasVisibleOverflow;

      do {
        el = el.parentNode;

        // set condition variables
        isBody = el === d.body;
        hasScrollableSpace =
          el.clientHeight < el.scrollHeight ||
          el.clientWidth < el.scrollWidth;
        hasVisibleOverflow =
          w.getComputedStyle(el, null).overflow === 'visible';
      } while (!isBody && !(hasScrollableSpace && !hasVisibleOverflow));

      isBody = hasScrollableSpace = hasVisibleOverflow = null;

      return el;
    }

    /**
     * self invoked function that, given a context, steps through scrolling
     * @method step
     * @param {Object} context
     */
    function step(context) {
      var time = now();
      var value;
      var currentX;
      var currentY;
      var elapsed = (time - context.startTime) / SCROLL_TIME;

      // avoid elapsed times higher than one
      elapsed = elapsed > 1 ? 1 : elapsed;

      // apply easing to elapsed time
      value = ease(elapsed);

      currentX = context.startX + (context.x - context.startX) * value;
      currentY = context.startY + (context.y - context.startY) * value;

      context.method.call(context.scrollable, currentX, currentY);

      // scroll more if we have not reached our destination
      if (currentX !== context.x || currentY !== context.y) {
        w.requestAnimationFrame(step.bind(w, context));
      }
    }

    /**
     * scrolls window with a smooth behavior
     * @method smoothScroll
     * @param {Object|Node} el
     * @param {Number} x
     * @param {Number} y
     */
    function smoothScroll(el, x, y) {
      var scrollable;
      var startX;
      var startY;
      var method;
      var startTime = now();

      // define scroll context
      if (el === d.body) {
        scrollable = w;
        startX = w.scrollX || w.pageXOffset;
        startY = w.scrollY || w.pageYOffset;
        method = original.scroll;
      } else {
        scrollable = el;
        startX = el.scrollLeft;
        startY = el.scrollTop;
        method = scrollElement;
      }

      // scroll looping over a frame
      step({
        scrollable: scrollable,
        method: method,
        startTime: startTime,
        startX: startX,
        startY: startY,
        x: x,
        y: y
      });
    }

    /*
     * ORIGINAL METHODS OVERRIDES
     */

    // w.scroll and w.scrollTo
    w.scroll = w.scrollTo = function() {
      // avoid smooth behavior if not required
      if (shouldBailOut(arguments[0])) {
        original.scroll.call(
          w,
          arguments[0].left || arguments[0],
          arguments[0].top || arguments[1]
        );
        return;
      }

      // LET THE SMOOTHNESS BEGIN!
      smoothScroll.call(
        w,
        d.body,
        ~~arguments[0].left,
        ~~arguments[0].top
      );
    };

    // w.scrollBy
    w.scrollBy = function() {
      // avoid smooth behavior if not required
      if (shouldBailOut(arguments[0])) {
        original.scrollBy.call(
          w,
          arguments[0].left || arguments[0],
          arguments[0].top || arguments[1]
        );
        return;
      }

      // LET THE SMOOTHNESS BEGIN!
      smoothScroll.call(
        w,
        d.body,
        ~~arguments[0].left + (w.scrollX || w.pageXOffset),
        ~~arguments[0].top + (w.scrollY || w.pageYOffset)
      );
    };

    // Element.prototype.scroll and Element.prototype.scrollTo
    Element.prototype.scroll = Element.prototype.scrollTo = function() {
      // avoid smooth behavior if not required
      if (shouldBailOut(arguments[0])) {
        original.elScroll.call(
            this,
            arguments[0].left || arguments[0],
            arguments[0].top || arguments[1]
        );
        return;
      }

      var left = arguments[0].left;
      var top = arguments[0].top;

      // LET THE SMOOTHNESS BEGIN!
      smoothScroll.call(
          this,
          this,
          typeof left === 'number' ? left : this.scrollLeft,
          typeof top === 'number' ? top : this.scrollTop
      );
    };

    // Element.prototype.scrollBy
    Element.prototype.scrollBy = function() {
      var arg0 = arguments[0];

      if (typeof arg0 === 'object') {
        this.scroll({
          left: arg0.left + this.scrollLeft,
          top: arg0.top + this.scrollTop,
          behavior: arg0.behavior
        });
      } else {
        this.scroll(
          this.scrollLeft + arg0,
          this.scrollTop + arguments[1]
        );
      }
    };

    // Element.prototype.scrollIntoView
    Element.prototype.scrollIntoView = function() {
      // avoid smooth behavior if not required
      if (shouldBailOut(arguments[0])) {
        original.scrollIntoView.call(
          this,
          arguments[0] === undefined ? true : arguments[0]
        );
        return;
      }

      // LET THE SMOOTHNESS BEGIN!
      var scrollableParent = findScrollableParent(this);
      var parentRects = scrollableParent.getBoundingClientRect();
      var clientRects = this.getBoundingClientRect();

      if (scrollableParent !== d.body) {
        // reveal element inside parent
        smoothScroll.call(
          this,
          scrollableParent,
          scrollableParent.scrollLeft + clientRects.left - parentRects.left,
          scrollableParent.scrollTop + clientRects.top - parentRects.top
        );
        // reveal parent in viewport
        w.scrollBy({
          left: parentRects.left,
          top: parentRects.top,
          behavior: 'smooth'
        });
      } else {
        // reveal element in viewport
        w.scrollBy({
          left: clientRects.left,
          top: clientRects.top,
          behavior: 'smooth'
        });
      }
    };
  }

  if (typeof exports === 'object') {
    // commonjs
    module.exports = { polyfill: polyfill };
  } else {
    // global
    polyfill();
  }
})(window, document);

},{}],218:[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],219:[function(require,module,exports){
module.exports = function isBuffer(arg) {
  return arg && typeof arg === 'object'
    && typeof arg.copy === 'function'
    && typeof arg.fill === 'function'
    && typeof arg.readUInt8 === 'function';
}
},{}],220:[function(require,module,exports){
(function (process,global){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  // Allow for deprecating things in the process of starting up.
  if (isUndefined(global.process)) {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  if (process.noDeprecation === true) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnviron;
exports.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = require('./support/isBuffer');

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = require('inherits');

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":219,"_process":215,"inherits":218}],221:[function(require,module,exports){

exports = module.exports = function() {
	var ret = '', value;
	for (var i = 0; i < 32; i++) {
		value = exports.random() * 16 | 0;
		// Insert the hypens
		if (i > 4 && i < 21 && ! (i % 4)) {
			ret += '-';
		}
		// Add the next random character
		ret += (
			(i === 12) ? 4 : (
				(i === 16) ? (value & 3 | 8) : value
			)
		).toString(16);
	}
	return ret;
};

var uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;
exports.isUUID = function(uuid) {
	return uuidRegex.test(uuid);
};

exports.random = function() {
	return Math.random();
};


},{}]},{},[9])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjbGllbnQvanMvLkljb25NYXAuanMiLCJjbGllbnQvanMvLlRlbXBsYXRlTWFwLmpzIiwiY2xpZW50L2pzLy5WaWV3TWFwLmpzIiwiY2xpZW50L2pzL0F1dG9Db21wbGV0ZS5qcyIsImNsaWVudC9qcy9Gb3JtYXQuanMiLCJjbGllbnQvanMvTXlFcnJvci5qcyIsImNsaWVudC9qcy9YaHIuanMiLCJjbGllbnQvanMvZmFjdG9yeS9WaWV3LmpzIiwiY2xpZW50L2pzL21haW4uanMiLCJjbGllbnQvanMvbW9kZWxzL0NvbGxlY3Rpb24uanMiLCJjbGllbnQvanMvbW9kZWxzL0NvbGxlY3Rpb25NYW5hZ2VyLmpzIiwiY2xpZW50L2pzL21vZGVscy9Db250YWN0SW5mby5qcyIsImNsaWVudC9qcy9tb2RlbHMvQ3NhRGVsaXZlcnkuanMiLCJjbGllbnQvanMvbW9kZWxzL0NzYVRyYW5zYWN0aW9uLmpzIiwiY2xpZW50L2pzL21vZGVscy9DdXJyZW50U2hhcmUuanMiLCJjbGllbnQvanMvbW9kZWxzL0N1c3RvbWVyLmpzIiwiY2xpZW50L2pzL21vZGVscy9EYXlPZldlZWsuanMiLCJjbGllbnQvanMvbW9kZWxzL0RlbGl2ZXJ5LmpzIiwiY2xpZW50L2pzL21vZGVscy9EZWxpdmVyeURhdGUuanMiLCJjbGllbnQvanMvbW9kZWxzL0RlbGl2ZXJ5Um91dGUuanMiLCJjbGllbnQvanMvbW9kZWxzL0RvY3VtZW50LmpzIiwiY2xpZW50L2pzL21vZGVscy9Ecm9wb2ZmLmpzIiwiY2xpZW50L2pzL21vZGVscy9GYXJtUGlja3VwLmpzIiwiY2xpZW50L2pzL21vZGVscy9GYXJtZXJNYXJrZXQuanMiLCJjbGllbnQvanMvbW9kZWxzL0Zvb2QuanMiLCJjbGllbnQvanMvbW9kZWxzL0xvY2F0aW9ucy5qcyIsImNsaWVudC9qcy9tb2RlbHMvTWVtYmVyLmpzIiwiY2xpZW50L2pzL21vZGVscy9NZW1iZXJGb29kT21pc3Npb24uanMiLCJjbGllbnQvanMvbW9kZWxzL01lbWJlclNlYXNvbi5qcyIsImNsaWVudC9qcy9tb2RlbHMvTWVtYmVyU2VsZWN0aW9uLmpzIiwiY2xpZW50L2pzL21vZGVscy9OYXYuanMiLCJjbGllbnQvanMvbW9kZWxzL09yZGVyT3B0aW9uLmpzIiwiY2xpZW50L2pzL21vZGVscy9QZXJzb24uanMiLCJjbGllbnQvanMvbW9kZWxzL1Jlc3RhdXJhbnQuanMiLCJjbGllbnQvanMvbW9kZWxzL1JldGFpbE91dGxldC5qcyIsImNsaWVudC9qcy9tb2RlbHMvU2hhcmUuanMiLCJjbGllbnQvanMvbW9kZWxzL1NoYXJlR3JvdXBEcm9wb2ZmLmpzIiwiY2xpZW50L2pzL21vZGVscy9TaGFyZU9wdGlvbk9wdGlvbi5qcyIsImNsaWVudC9qcy9tb2RlbHMvVXNlci5qcyIsImNsaWVudC9qcy9tb2RlbHMvX19wcm90b19fLmpzIiwiY2xpZW50L2pzL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLmpzIiwiY2xpZW50L2pzL3BsdWdpbnMvc3Bpbm5lci5qcyIsImNsaWVudC9qcy9wb2x5ZmlsbC5qcyIsImNsaWVudC9qcy9yb3V0ZXIuanMiLCJjbGllbnQvanMvdGVtcGxhdGVzL2NzYUN1c3RvbWl6YXRpb24uanMiLCJjbGllbnQvanMvdGVtcGxhdGVzL3NpZ251cC5qcyIsImNsaWVudC9qcy90ZW1wbGF0ZXMvc2lnbnVwL2RhdGVTZWxlY3Rpb24uanMiLCJjbGllbnQvanMvdGVtcGxhdGVzL3NpZ251cC9kZWxpdmVyeS5qcyIsImNsaWVudC9qcy90ZW1wbGF0ZXMvc2lnbnVwL2RlbGl2ZXJ5T3B0aW9uLmpzIiwiY2xpZW50L2pzL3RlbXBsYXRlcy9zaWdudXAvZGVsaXZlcnlPcHRpb25zLmpzIiwiY2xpZW50L2pzL3RlbXBsYXRlcy9zaWdudXAvZHJvcG9mZi5qcyIsImNsaWVudC9qcy90ZW1wbGF0ZXMvc2lnbnVwL2Ryb3BvZmZzLmpzIiwiY2xpZW50L2pzL3RlbXBsYXRlcy9zaWdudXAvZmFybVBpY2t1cEZlZWRiYWNrLmpzIiwiY2xpZW50L2pzL3RlbXBsYXRlcy9zaWdudXAvaG9tZURlbGl2ZXJ5RmVlZGJhY2suanMiLCJjbGllbnQvanMvdGVtcGxhdGVzL3NpZ251cC9wYXltZW50T3B0aW9uLmpzIiwiY2xpZW50L2pzL3RlbXBsYXRlcy9zaWdudXAvcGF5bWVudE9wdGlvbnMuanMiLCJjbGllbnQvanMvdGVtcGxhdGVzL3NpZ251cC9waWNrdXBEYXRlLmpzIiwiY2xpZW50L2pzL3RlbXBsYXRlcy9zaWdudXAvcGlja3VwRGF0ZXMuanMiLCJjbGllbnQvanMvdGVtcGxhdGVzL3NpZ251cC9zaGFyZS5qcyIsImNsaWVudC9qcy90ZW1wbGF0ZXMvc2lnbnVwL3NoYXJlT3B0aW9uLmpzIiwiY2xpZW50L2pzL3RlbXBsYXRlcy9zaWdudXAvc2hhcmVPcHRpb25zLmpzIiwiY2xpZW50L2pzL3RlbXBsYXRlcy9zaWdudXAvc2hhcmVzLmpzIiwiY2xpZW50L2pzL3RlbXBsYXRlcy9zaWdudXAvc2luZ2xlU2hhcmVPcHRpb25zLmpzIiwiY2xpZW50L2pzL3RlbXBsYXRlcy9zaWdudXAvc3VtbWFyeS5qcyIsImNsaWVudC9qcy90ZW1wbGF0ZXMvc2lnbnVwL3ZlcmlmeUFkZHJlc3MuanMiLCJjbGllbnQvanMvdmlld3MvQWJvdXQuanMiLCJjbGllbnQvanMvdmlld3MvQWNjb3VudEhvbWUuanMiLCJjbGllbnQvanMvdmlld3MvQWNjb3VudFBheW1lbnRzLmpzIiwiY2xpZW50L2pzL3ZpZXdzL0FkZFRyYW5zYWN0aW9uLmpzIiwiY2xpZW50L2pzL3ZpZXdzL0FkbWluSGVhZGVyLmpzIiwiY2xpZW50L2pzL3ZpZXdzL0FkbWluUGx1cy5qcyIsImNsaWVudC9qcy92aWV3cy9CdXR0b25GbG93LmpzIiwiY2xpZW50L2pzL3ZpZXdzL0NvbGxlY3Rpb25NYW5hZ2VyLmpzIiwiY2xpZW50L2pzL3ZpZXdzL0NvbnRhY3QuanMiLCJjbGllbnQvanMvdmlld3MvQ3NhLmpzIiwiY2xpZW50L2pzL3ZpZXdzL0N1c3RvbWVySW5mby5qcyIsImNsaWVudC9qcy92aWV3cy9EZWxldGVyLmpzIiwiY2xpZW50L2pzL3ZpZXdzL0RyYWdnZXIuanMiLCJjbGllbnQvanMvdmlld3MvRm9vZE9taXNzaW9uLmpzIiwiY2xpZW50L2pzL3ZpZXdzL0Zvb3Rlci5qcyIsImNsaWVudC9qcy92aWV3cy9Gb3JtLmpzIiwiY2xpZW50L2pzL3ZpZXdzL0dldEludm9sdmVkLmpzIiwiY2xpZW50L2pzL3ZpZXdzL0hlYWRlci5qcyIsImNsaWVudC9qcy92aWV3cy9Ib21lLmpzIiwiY2xpZW50L2pzL3ZpZXdzL0xpc3QuanMiLCJjbGllbnQvanMvdmlld3MvTG9jYXRpb25zLmpzIiwiY2xpZW50L2pzL3ZpZXdzL0xvZ2luLmpzIiwiY2xpZW50L2pzL3ZpZXdzL01hbmFnZUN1c3RvbWVyLmpzIiwiY2xpZW50L2pzL3ZpZXdzL01lbWJlclR5cGVhaGVhZC5qcyIsImNsaWVudC9qcy92aWV3cy9NeVZpZXcuanMiLCJjbGllbnQvanMvdmlld3MvT3JkZXJPcHRpb25zLmpzIiwiY2xpZW50L2pzL3ZpZXdzL1JlcG9ydGluZy5qcyIsImNsaWVudC9qcy92aWV3cy9SZXNldFBhc3N3b3JkLmpzIiwiY2xpZW50L2pzL3ZpZXdzL1NlYXNvbnMuanMiLCJjbGllbnQvanMvdmlld3MvU2hhcmVCb3guanMiLCJjbGllbnQvanMvdmlld3MvU2hhcmVQYXRjaC5qcyIsImNsaWVudC9qcy92aWV3cy9TaWdudXAuanMiLCJjbGllbnQvanMvdmlld3MvU3VibWl0dGVyLmpzIiwiY2xpZW50L2pzL3ZpZXdzL1RvYXN0LmpzIiwiY2xpZW50L2pzL3ZpZXdzL1RyYW5zYWN0aW9ucy5qcyIsImNsaWVudC9qcy92aWV3cy9UeXBlQWhlYWQuanMiLCJjbGllbnQvanMvdmlld3MvVmVyaWZ5LmpzIiwiY2xpZW50L2pzL3ZpZXdzL1dlZWtPcHRpb25zLmpzIiwiY2xpZW50L2pzL3ZpZXdzL19fcHJvdG9fXy5qcyIsImNsaWVudC9qcy92aWV3cy9saWIvQXV0b0NvbXBsZXRlLmpzIiwiY2xpZW50L2pzL3ZpZXdzL2xpYi9PcHRpbWl6ZWRSZXNpemUuanMiLCJjbGllbnQvanMvdmlld3MvbW9kYWwuanMiLCJjbGllbnQvanMvdmlld3Mvc2lnbnVwL0RhdGVTZWxlY3Rpb24uanMiLCJjbGllbnQvanMvdmlld3Mvc2lnbnVwL0RlbGl2ZXJ5LmpzIiwiY2xpZW50L2pzL3ZpZXdzL3NpZ251cC9EZWxpdmVyeU9wdGlvbi5qcyIsImNsaWVudC9qcy92aWV3cy9zaWdudXAvRGVsaXZlcnlPcHRpb25zLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3NpZ251cC9Ecm9wb2ZmLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3NpZ251cC9Ecm9wb2Zmcy5qcyIsImNsaWVudC9qcy92aWV3cy9zaWdudXAvTWVtYmVySW5mby5qcyIsImNsaWVudC9qcy92aWV3cy9zaWdudXAvUGF5bWVudE9wdGlvbi5qcyIsImNsaWVudC9qcy92aWV3cy9zaWdudXAvUGF5bWVudE9wdGlvbnMuanMiLCJjbGllbnQvanMvdmlld3Mvc2lnbnVwL1BpY2t1cERhdGUuanMiLCJjbGllbnQvanMvdmlld3Mvc2lnbnVwL1BpY2t1cERhdGVzLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3NpZ251cC9TaGFyZS5qcyIsImNsaWVudC9qcy92aWV3cy9zaWdudXAvU2hhcmVPcHRpb24uanMiLCJjbGllbnQvanMvdmlld3Mvc2lnbnVwL1NoYXJlT3B0aW9ucy5qcyIsImNsaWVudC9qcy92aWV3cy9zaWdudXAvU2hhcmVzLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3NpZ251cC9TaW5nbGVTaGFyZU9wdGlvbnMuanMiLCJjbGllbnQvanMvdmlld3Mvc2lnbnVwL1N1bW1hcnkuanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL0Fib3V0LmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9BY2NvdW50SG9tZS5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvQWNjb3VudFBheW1lbnRzLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9BZGRUcmFuc2FjdGlvbi5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvQWRtaW5IZWFkZXIuanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL0FkbWluUGx1cy5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvQnV0dG9uRmxvdy5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvQ29sbGVjdGlvbk1hbmFnZXIuanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL0NvbnRhY3QuanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL0NzYS5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvQ3NhSXRlbS5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvQ3NhVHJhbnNhY3Rpb24uanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL0N1c3RvbWVySW5mby5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvRGVsZXRlci5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvRGVsaXZlcnlEYXRlLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9Eb2N1bWVudC5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvRHJhZ2dlci5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvRWRpdENzYVRyYW5zYWN0aW9uLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9GaWVsZEVkaXQuanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL0ZpZWxkRXJyb3IuanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL0Zvb2RPbWlzc2lvbi5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvRm9vdGVyLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9Gb3JtLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9HZXRJbnZvbHZlZC5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvSGVhZGVyLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9Ib21lLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9JbmZvV2luZG93LmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9MaXN0LmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9Mb2NhdGlvbi5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvTG9jYXRpb25zLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9Mb2dpbi5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvTWFuYWdlQ3VzdG9tZXIuanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL01lbWJlckluZm8uanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL01lbWJlclR5cGVhaGVhZC5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvTWVtYmVycy5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvTW9kYWwuanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL09yZGVyT3B0aW9ucy5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvUmVwb3J0aW5nLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9SZXNldFBhc3N3b3JkLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9TZWFzb25hbEFkZE9uLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9TZWFzb25zLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9TaGFyZUJveC5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvU2hhcmVFeGFtcGxlLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9TaGFyZVBhdGNoLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9TdGFmZlByb2ZpbGUuanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL1RvYXN0LmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9UcmFuc2FjdGlvbnMuanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL1R5cGVBaGVhZC5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvVmVyaWZ5LmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9XZWVrT3B0aW9ucy5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvZGVsaXZlcnlNYXRyaXguanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL2xpYi9jYXJldC1kb3duLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9saWIvY2hlY2ttYXJrLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9saWIvZWRpdC5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvbGliL2Vycm9yLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9saWIvZXguanMiLCJjbGllbnQvanMvdmlld3MvdGVtcGxhdGVzL2xpYi9nYXJiYWdlLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3RlbXBsYXRlcy9saWIvanVzdGlmeS5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvbGliL2xlZnRBcnJvdy5qcyIsImNsaWVudC9qcy92aWV3cy90ZW1wbGF0ZXMvbGliL3NlYXJjaC5qcyIsImNsaWVudC9qcy92aWV3cy91dGlsL0N1c3RvbUNvbnRlbnQuanMiLCJjbGllbnQvanMvdmlld3MvdXRpbC9Gb3JtLmpzIiwiY2xpZW50L2pzL3ZpZXdzL3V0aWwvTGlzdC5qcyIsImNsaWVudC9qcy92aWV3cy91dGlsL0xpc3RJdGVtLmpzIiwibGliL01vZGVsLmpzIiwibGliL015RXJyb3IuanMiLCJsaWIvTXlPYmplY3QuanMiLCJtb2RlbHMvQWNjb3VudEluZm8uanMiLCJtb2RlbHMvQ3JlZGl0Q2FyZC5qcyIsIm1vZGVscy9FbWFpbC5qcyIsIm1vZGVscy9Mb2dpbi5qcyIsIm1vZGVscy9OYW1lLmpzIiwibW9kZWxzL1Bhc3N3b3JkLmpzIiwibW9kZWxzL1Jlc2V0UGFzc3dvcmQuanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2Rpc3QvanMvbnBtLmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9qcy9hZmZpeC5qcyIsIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvanMvYWxlcnQuanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2pzL2J1dHRvbi5qcyIsIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvanMvY2Fyb3VzZWwuanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2pzL2NvbGxhcHNlLmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9qcy9kcm9wZG93bi5qcyIsIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvanMvbW9kYWwuanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2pzL3BvcG92ZXIuanMiLCJub2RlX21vZHVsZXMvYm9vdHN0cmFwL2pzL3Njcm9sbHNweS5qcyIsIm5vZGVfbW9kdWxlcy9ib290c3RyYXAvanMvdGFiLmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9qcy90b29sdGlwLmpzIiwibm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9qcy90cmFuc2l0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJub2RlX21vZHVsZXMvZmxhdHBpY2tyL2Rpc3QvZmxhdHBpY2tyLmpzIiwibm9kZV9tb2R1bGVzL2ludGwvbG9jYWxlLWRhdGEvanNvbnAvZW4uanMiLCJub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3EvcS5qcyIsIm5vZGVfbW9kdWxlcy9zbW9vdGhzY3JvbGwtcG9seWZpbGwvZGlzdC9zbW9vdGhzY3JvbGwuanMiLCJub2RlX21vZHVsZXMvdXRpbC9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy91dGlsL3N1cHBvcnQvaXNCdWZmZXJCcm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL3V0aWwvdXRpbC5qcyIsIm5vZGVfbW9kdWxlcy91dWlkLXY0L2luZGV4LmpzIl0sIm5h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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN09BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbk5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZnRUE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDeExBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDNWhFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdFVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDMWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwibW9kdWxlLmV4cG9ydHM9e1xuXHRcImNhcmV0LWRvd25cIjogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvbGliL2NhcmV0LWRvd24nKSxcblx0XCJjaGVja21hcmtcIjogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvbGliL2NoZWNrbWFyaycpLFxuXHRcImVkaXRcIjogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvbGliL2VkaXQnKSxcblx0XCJlcnJvclwiOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9saWIvZXJyb3InKSxcblx0XCJleFwiOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9saWIvZXgnKSxcblx0XCJnYXJiYWdlXCI6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL2xpYi9nYXJiYWdlJyksXG5cdFwianVzdGlmeVwiOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9saWIvanVzdGlmeScpLFxuXHRcImxlZnRBcnJvd1wiOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9saWIvbGVmdEFycm93JyksXG5cdFwic2VhcmNoXCI6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL2xpYi9zZWFyY2gnKVxufSIsIm1vZHVsZS5leHBvcnRzPXtcblx0QWJvdXQ6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0Fib3V0JyksXG5cdEFjY291bnRIb21lOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9BY2NvdW50SG9tZScpLFxuXHRBY2NvdW50UGF5bWVudHM6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0FjY291bnRQYXltZW50cycpLFxuXHRBZGRUcmFuc2FjdGlvbjogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvQWRkVHJhbnNhY3Rpb24nKSxcblx0QWRtaW5IZWFkZXI6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0FkbWluSGVhZGVyJyksXG5cdEFkbWluUGx1czogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvQWRtaW5QbHVzJyksXG5cdEJ1dHRvbkZsb3c6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0J1dHRvbkZsb3cnKSxcblx0Q29sbGVjdGlvbk1hbmFnZXI6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0NvbGxlY3Rpb25NYW5hZ2VyJyksXG5cdENvbnRhY3Q6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0NvbnRhY3QnKSxcblx0Q3NhOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9Dc2EnKSxcblx0Q3NhSXRlbTogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvQ3NhSXRlbScpLFxuXHRDc2FUcmFuc2FjdGlvbjogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvQ3NhVHJhbnNhY3Rpb24nKSxcblx0Q3VzdG9tZXJJbmZvOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9DdXN0b21lckluZm8nKSxcblx0RGVsZXRlcjogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvRGVsZXRlcicpLFxuXHREZWxpdmVyeURhdGU6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0RlbGl2ZXJ5RGF0ZScpLFxuXHREb2N1bWVudDogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvRG9jdW1lbnQnKSxcblx0RHJhZ2dlcjogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvRHJhZ2dlcicpLFxuXHRFZGl0Q3NhVHJhbnNhY3Rpb246IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0VkaXRDc2FUcmFuc2FjdGlvbicpLFxuXHRGaWVsZEVkaXQ6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0ZpZWxkRWRpdCcpLFxuXHRGaWVsZEVycm9yOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9GaWVsZEVycm9yJyksXG5cdEZvb2RPbWlzc2lvbjogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvRm9vZE9taXNzaW9uJyksXG5cdEZvb3RlcjogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvRm9vdGVyJyksXG5cdEZvcm06IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0Zvcm0nKSxcblx0R2V0SW52b2x2ZWQ6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0dldEludm9sdmVkJyksXG5cdEhlYWRlcjogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvSGVhZGVyJyksXG5cdEhvbWU6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0hvbWUnKSxcblx0SW5mb1dpbmRvdzogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvSW5mb1dpbmRvdycpLFxuXHRMaXN0OiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9MaXN0JyksXG5cdExvY2F0aW9uOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9Mb2NhdGlvbicpLFxuXHRMb2NhdGlvbnM6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL0xvY2F0aW9ucycpLFxuXHRMb2dpbjogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvTG9naW4nKSxcblx0TWFuYWdlQ3VzdG9tZXI6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL01hbmFnZUN1c3RvbWVyJyksXG5cdE1lbWJlckluZm86IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL01lbWJlckluZm8nKSxcblx0TWVtYmVyVHlwZWFoZWFkOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9NZW1iZXJUeXBlYWhlYWQnKSxcblx0TWVtYmVyczogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvTWVtYmVycycpLFxuXHRNb2RhbDogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvTW9kYWwnKSxcblx0T3JkZXJPcHRpb25zOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9PcmRlck9wdGlvbnMnKSxcblx0UmVwb3J0aW5nOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9SZXBvcnRpbmcnKSxcblx0UmVzZXRQYXNzd29yZDogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvUmVzZXRQYXNzd29yZCcpLFxuXHRTZWFzb25hbEFkZE9uOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9TZWFzb25hbEFkZE9uJyksXG5cdFNlYXNvbnM6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL1NlYXNvbnMnKSxcblx0U2hhcmVCb3g6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL1NoYXJlQm94JyksXG5cdFNoYXJlRXhhbXBsZTogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvU2hhcmVFeGFtcGxlJyksXG5cdFNoYXJlUGF0Y2g6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL1NoYXJlUGF0Y2gnKSxcblx0U3RhZmZQcm9maWxlOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9TdGFmZlByb2ZpbGUnKSxcblx0VG9hc3Q6IHJlcXVpcmUoJy4vdmlld3MvdGVtcGxhdGVzL1RvYXN0JyksXG5cdFRyYW5zYWN0aW9uczogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvVHJhbnNhY3Rpb25zJyksXG5cdFR5cGVBaGVhZDogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvVHlwZUFoZWFkJyksXG5cdFZlcmlmeTogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvVmVyaWZ5JyksXG5cdFdlZWtPcHRpb25zOiByZXF1aXJlKCcuL3ZpZXdzL3RlbXBsYXRlcy9XZWVrT3B0aW9ucycpLFxuXHRkZWxpdmVyeU1hdHJpeDogcmVxdWlyZSgnLi92aWV3cy90ZW1wbGF0ZXMvZGVsaXZlcnlNYXRyaXgnKVxufSIsIm1vZHVsZS5leHBvcnRzPXtcblx0QWJvdXQ6IHJlcXVpcmUoJy4vdmlld3MvQWJvdXQnKSxcblx0QWNjb3VudEhvbWU6IHJlcXVpcmUoJy4vdmlld3MvQWNjb3VudEhvbWUnKSxcblx0QWNjb3VudFBheW1lbnRzOiByZXF1aXJlKCcuL3ZpZXdzL0FjY291bnRQYXltZW50cycpLFxuXHRBZGRUcmFuc2FjdGlvbjogcmVxdWlyZSgnLi92aWV3cy9BZGRUcmFuc2FjdGlvbicpLFxuXHRBZG1pbkhlYWRlcjogcmVxdWlyZSgnLi92aWV3cy9BZG1pbkhlYWRlcicpLFxuXHRBZG1pblBsdXM6IHJlcXVpcmUoJy4vdmlld3MvQWRtaW5QbHVzJyksXG5cdEJ1dHRvbkZsb3c6IHJlcXVpcmUoJy4vdmlld3MvQnV0dG9uRmxvdycpLFxuXHRDb2xsZWN0aW9uTWFuYWdlcjogcmVxdWlyZSgnLi92aWV3cy9Db2xsZWN0aW9uTWFuYWdlcicpLFxuXHRDb250YWN0OiByZXF1aXJlKCcuL3ZpZXdzL0NvbnRhY3QnKSxcblx0Q3NhOiByZXF1aXJlKCcuL3ZpZXdzL0NzYScpLFxuXHRDdXN0b21lckluZm86IHJlcXVpcmUoJy4vdmlld3MvQ3VzdG9tZXJJbmZvJyksXG5cdERlbGV0ZXI6IHJlcXVpcmUoJy4vdmlld3MvRGVsZXRlcicpLFxuXHREcmFnZ2VyOiByZXF1aXJlKCcuL3ZpZXdzL0RyYWdnZXInKSxcblx0Rm9vZE9taXNzaW9uOiByZXF1aXJlKCcuL3ZpZXdzL0Zvb2RPbWlzc2lvbicpLFxuXHRGb290ZXI6IHJlcXVpcmUoJy4vdmlld3MvRm9vdGVyJyksXG5cdEZvcm06IHJlcXVpcmUoJy4vdmlld3MvRm9ybScpLFxuXHRHZXRJbnZvbHZlZDogcmVxdWlyZSgnLi92aWV3cy9HZXRJbnZvbHZlZCcpLFxuXHRIZWFkZXI6IHJlcXVpcmUoJy4vdmlld3MvSGVhZGVyJyksXG5cdEhvbWU6IHJlcXVpcmUoJy4vdmlld3MvSG9tZScpLFxuXHRMaXN0OiByZXF1aXJlKCcuL3ZpZXdzL0xpc3QnKSxcblx0TG9jYXRpb25zOiByZXF1aXJlKCcuL3ZpZXdzL0xvY2F0aW9ucycpLFxuXHRMb2dpbjogcmVxdWlyZSgnLi92aWV3cy9Mb2dpbicpLFxuXHRNYW5hZ2VDdXN0b21lcjogcmVxdWlyZSgnLi92aWV3cy9NYW5hZ2VDdXN0b21lcicpLFxuXHRNZW1iZXJUeXBlYWhlYWQ6IHJlcXVpcmUoJy4vdmlld3MvTWVtYmVyVHlwZWFoZWFkJyksXG5cdE15VmlldzogcmVxdWlyZSgnLi92aWV3cy9NeVZpZXcnKSxcblx0T3JkZXJPcHRpb25zOiByZXF1aXJlKCcuL3ZpZXdzL09yZGVyT3B0aW9ucycpLFxuXHRSZXBvcnRpbmc6IHJlcXVpcmUoJy4vdmlld3MvUmVwb3J0aW5nJyksXG5cdFJlc2V0UGFzc3dvcmQ6IHJlcXVpcmUoJy4vdmlld3MvUmVzZXRQYXNzd29yZCcpLFxuXHRTZWFzb25zOiByZXF1aXJlKCcuL3ZpZXdzL1NlYXNvbnMnKSxcblx0U2hhcmVCb3g6IHJlcXVpcmUoJy4vdmlld3MvU2hhcmVCb3gnKSxcblx0U2hhcmVQYXRjaDogcmVxdWlyZSgnLi92aWV3cy9TaGFyZVBhdGNoJyksXG5cdFNpZ251cDogcmVxdWlyZSgnLi92aWV3cy9TaWdudXAnKSxcblx0U3VibWl0dGVyOiByZXF1aXJlKCcuL3ZpZXdzL1N1Ym1pdHRlcicpLFxuXHRUb2FzdDogcmVxdWlyZSgnLi92aWV3cy9Ub2FzdCcpLFxuXHRUcmFuc2FjdGlvbnM6IHJlcXVpcmUoJy4vdmlld3MvVHJhbnNhY3Rpb25zJyksXG5cdFR5cGVBaGVhZDogcmVxdWlyZSgnLi92aWV3cy9UeXBlQWhlYWQnKSxcblx0VmVyaWZ5OiByZXF1aXJlKCcuL3ZpZXdzL1ZlcmlmeScpLFxuXHRXZWVrT3B0aW9uczogcmVxdWlyZSgnLi92aWV3cy9XZWVrT3B0aW9ucycpLFxuXHRtb2RhbDogcmVxdWlyZSgnLi92aWV3cy9tb2RhbCcpXG59IiwiLy8gSmF2YVNjcmlwdCBhdXRvQ29tcGxldGUgdjEuMC40XG4vLyBodHRwczovL2dpdGh1Yi5jb20vUGl4YWJheS9KYXZhU2NyaXB0LWF1dG9Db21wbGV0ZVxudmFyIGF1dG9Db21wbGV0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7ZnVuY3Rpb24gdChlLHQpe3JldHVybiBlLmNsYXNzTGlzdD9lLmNsYXNzTGlzdC5jb250YWlucyh0KTpuZXcgUmVnRXhwKFwiXFxcXGJcIit0K1wiXFxcXGJcIikudGVzdChlLmNsYXNzTmFtZSl9ZnVuY3Rpb24gbyhlLHQsbyl7ZS5hdHRhY2hFdmVudD9lLmF0dGFjaEV2ZW50KFwib25cIit0LG8pOmUuYWRkRXZlbnRMaXN0ZW5lcih0LG8pfWZ1bmN0aW9uIHMoZSx0LG8pe2UuZGV0YWNoRXZlbnQ/ZS5kZXRhY2hFdmVudChcIm9uXCIrdCxvKTplLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxvKX1mdW5jdGlvbiBuKGUscyxuLGwpe28obHx8ZG9jdW1lbnQscyxmdW5jdGlvbihvKXtmb3IodmFyIHMsbD1vLnRhcmdldHx8by5zcmNFbGVtZW50O2wmJiEocz10KGwsZSkpOylsPWwucGFyZW50RWxlbWVudDtzJiZuLmNhbGwobCxvKX0pfWlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ipe3ZhciBsPXtzZWxlY3RvcjowLHNvdXJjZTowLG1pbkNoYXJzOjMsZGVsYXk6MTUwLG9mZnNldExlZnQ6MCxvZmZzZXRUb3A6MSxjYWNoZToxLG1lbnVDbGFzczpcIlwiLHJlbmRlckl0ZW06ZnVuY3Rpb24oZSx0KXt0PXQucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLFwiXFxcXCQmXCIpO3ZhciBvPW5ldyBSZWdFeHAoXCIoXCIrdC5zcGxpdChcIiBcIikuam9pbihcInxcIikrXCIpXCIsXCJnaVwiKTtyZXR1cm4nPGRpdiBjbGFzcz1cImF1dG9jb21wbGV0ZS1zdWdnZXN0aW9uXCIgZGF0YS12YWw9XCInK2UrJ1wiPicrZS5yZXBsYWNlKG8sXCI8Yj4kMTwvYj5cIikrXCI8L2Rpdj5cIn0sb25TZWxlY3Q6ZnVuY3Rpb24oKXt9fTtmb3IodmFyIGMgaW4gZSllLmhhc093blByb3BlcnR5KGMpJiYobFtjXT1lW2NdKTtmb3IodmFyIGE9XCJvYmplY3RcIj09dHlwZW9mIGwuc2VsZWN0b3I/W2wuc2VsZWN0b3JdOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobC5zZWxlY3RvciksdT0wO3U8YS5sZW5ndGg7dSsrKXt2YXIgaT1hW3VdO2kuc2M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxpLnNjLmNsYXNzTmFtZT1cImF1dG9jb21wbGV0ZS1zdWdnZXN0aW9ucyBcIitsLm1lbnVDbGFzcyxpLmF1dG9jb21wbGV0ZUF0dHI9aS5nZXRBdHRyaWJ1dGUoXCJhdXRvY29tcGxldGVcIiksaS5zZXRBdHRyaWJ1dGUoXCJhdXRvY29tcGxldGVcIixcIm9mZlwiKSxpLmNhY2hlPXt9LGkubGFzdF92YWw9XCJcIixpLnVwZGF0ZVNDPWZ1bmN0aW9uKGUsdCl7dmFyIG89aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihpLnNjLnN0eWxlLmxlZnQ9TWF0aC5yb3VuZChvLmxlZnQrKHdpbmRvdy5wYWdlWE9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpK2wub2Zmc2V0TGVmdCkrXCJweFwiLGkuc2Muc3R5bGUudG9wPU1hdGgucm91bmQoby5ib3R0b20rKHdpbmRvdy5wYWdlWU9mZnNldHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkrbC5vZmZzZXRUb3ApK1wicHhcIixpLnNjLnN0eWxlLndpZHRoPU1hdGgucm91bmQoby5yaWdodC1vLmxlZnQpK1wicHhcIiwhZSYmKGkuc2Muc3R5bGUuZGlzcGxheT1cImJsb2NrXCIsaS5zYy5tYXhIZWlnaHR8fChpLnNjLm1heEhlaWdodD1wYXJzZUludCgod2luZG93LmdldENvbXB1dGVkU3R5bGU/Z2V0Q29tcHV0ZWRTdHlsZShpLnNjLG51bGwpOmkuc2MuY3VycmVudFN0eWxlKS5tYXhIZWlnaHQpKSxpLnNjLnN1Z2dlc3Rpb25IZWlnaHR8fChpLnNjLnN1Z2dlc3Rpb25IZWlnaHQ9aS5zYy5xdWVyeVNlbGVjdG9yKFwiLmF1dG9jb21wbGV0ZS1zdWdnZXN0aW9uXCIpLm9mZnNldEhlaWdodCksaS5zYy5zdWdnZXN0aW9uSGVpZ2h0KSlpZih0KXt2YXIgcz1pLnNjLnNjcm9sbFRvcCxuPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLWkuc2MuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO24raS5zYy5zdWdnZXN0aW9uSGVpZ2h0LWkuc2MubWF4SGVpZ2h0PjA/aS5zYy5zY3JvbGxUb3A9bitpLnNjLnN1Z2dlc3Rpb25IZWlnaHQrcy1pLnNjLm1heEhlaWdodDowPm4mJihpLnNjLnNjcm9sbFRvcD1uK3MpfWVsc2UgaS5zYy5zY3JvbGxUb3A9MH0sbyh3aW5kb3csXCJyZXNpemVcIixpLnVwZGF0ZVNDKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGkuc2MpLG4oXCJhdXRvY29tcGxldGUtc3VnZ2VzdGlvblwiLFwibW91c2VsZWF2ZVwiLGZ1bmN0aW9uKCl7dmFyIGU9aS5zYy5xdWVyeVNlbGVjdG9yKFwiLmF1dG9jb21wbGV0ZS1zdWdnZXN0aW9uLnNlbGVjdGVkXCIpO2UmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZS5yZXBsYWNlKFwic2VsZWN0ZWRcIixcIlwiKX0sMjApfSxpLnNjKSxuKFwiYXV0b2NvbXBsZXRlLXN1Z2dlc3Rpb25cIixcIm1vdXNlb3ZlclwiLGZ1bmN0aW9uKCl7dmFyIGU9aS5zYy5xdWVyeVNlbGVjdG9yKFwiLmF1dG9jb21wbGV0ZS1zdWdnZXN0aW9uLnNlbGVjdGVkXCIpO2UmJihlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZS5yZXBsYWNlKFwic2VsZWN0ZWRcIixcIlwiKSksdGhpcy5jbGFzc05hbWUrPVwiIHNlbGVjdGVkXCJ9LGkuc2MpLG4oXCJhdXRvY29tcGxldGUtc3VnZ2VzdGlvblwiLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7aWYodCh0aGlzLFwiYXV0b2NvbXBsZXRlLXN1Z2dlc3Rpb25cIikpe3ZhciBvPXRoaXMuZ2V0QXR0cmlidXRlKFwiZGF0YS12YWxcIik7aS52YWx1ZT1vLGwub25TZWxlY3QoZSxvLHRoaXMpLGkuc2Muc3R5bGUuZGlzcGxheT1cIm5vbmVcIn19LGkuc2MpLGkuYmx1ckhhbmRsZXI9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hdXRvY29tcGxldGUtc3VnZ2VzdGlvbnM6aG92ZXJcIil9Y2F0Y2godCl7dmFyIGU9MH1lP2khPT1kb2N1bWVudC5hY3RpdmVFbGVtZW50JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5mb2N1cygpfSwyMCk6KGkubGFzdF92YWw9aS52YWx1ZSxpLnNjLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsc2V0VGltZW91dChmdW5jdGlvbigpe2kuc2Muc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0sMzUwKSl9LG8oaSxcImJsdXJcIixpLmJsdXJIYW5kbGVyKTt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1pLnZhbHVlO2lmKGkuY2FjaGVbdF09ZSxlLmxlbmd0aCYmdC5sZW5ndGg+PWwubWluQ2hhcnMpe2Zvcih2YXIgbz1cIlwiLHM9MDtzPGUubGVuZ3RoO3MrKylvKz1sLnJlbmRlckl0ZW0oZVtzXSx0KTtpLnNjLmlubmVySFRNTD1vLGkudXBkYXRlU0MoMCl9ZWxzZSBpLnNjLnN0eWxlLmRpc3BsYXk9XCJub25lXCJ9O2kua2V5ZG93bkhhbmRsZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LmV2ZW50P2Uua2V5Q29kZTplLndoaWNoO2lmKCg0MD09dHx8Mzg9PXQpJiZpLnNjLmlubmVySFRNTCl7dmFyIG8scz1pLnNjLnF1ZXJ5U2VsZWN0b3IoXCIuYXV0b2NvbXBsZXRlLXN1Z2dlc3Rpb24uc2VsZWN0ZWRcIik7cmV0dXJuIHM/KG89NDA9PXQ/cy5uZXh0U2libGluZzpzLnByZXZpb3VzU2libGluZyxvPyhzLmNsYXNzTmFtZT1zLmNsYXNzTmFtZS5yZXBsYWNlKFwic2VsZWN0ZWRcIixcIlwiKSxvLmNsYXNzTmFtZSs9XCIgc2VsZWN0ZWRcIixpLnZhbHVlPW8uZ2V0QXR0cmlidXRlKFwiZGF0YS12YWxcIikpOihzLmNsYXNzTmFtZT1zLmNsYXNzTmFtZS5yZXBsYWNlKFwic2VsZWN0ZWRcIixcIlwiKSxpLnZhbHVlPWkubGFzdF92YWwsbz0wKSk6KG89NDA9PXQ/aS5zYy5xdWVyeVNlbGVjdG9yKFwiLmF1dG9jb21wbGV0ZS1zdWdnZXN0aW9uXCIpOmkuc2MuY2hpbGROb2Rlc1tpLnNjLmNoaWxkTm9kZXMubGVuZ3RoLTFdLG8uY2xhc3NOYW1lKz1cIiBzZWxlY3RlZFwiLGkudmFsdWU9by5nZXRBdHRyaWJ1dGUoXCJkYXRhLXZhbFwiKSksaS51cGRhdGVTQygwLG8pLCExfWlmKDI3PT10KWkudmFsdWU9aS5sYXN0X3ZhbCxpLnNjLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7ZWxzZSBpZigxMz09dHx8OT09dCl7dmFyIHM9aS5zYy5xdWVyeVNlbGVjdG9yKFwiLmF1dG9jb21wbGV0ZS1zdWdnZXN0aW9uLnNlbGVjdGVkXCIpO3MmJlwibm9uZVwiIT1pLnNjLnN0eWxlLmRpc3BsYXkmJihsLm9uU2VsZWN0KGUscy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXZhbFwiKSxzKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aS5zYy5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSwyMCkpfX0sbyhpLFwia2V5ZG93blwiLGkua2V5ZG93bkhhbmRsZXIpLGkua2V5dXBIYW5kbGVyPWZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5ldmVudD9lLmtleUNvZGU6ZS53aGljaDtpZighdHx8KDM1PnR8fHQ+NDApJiYxMyE9dCYmMjchPXQpe3ZhciBvPWkudmFsdWU7aWYoby5sZW5ndGg+PWwubWluQ2hhcnMpe2lmKG8hPWkubGFzdF92YWwpe2lmKGkubGFzdF92YWw9byxjbGVhclRpbWVvdXQoaS50aW1lciksbC5jYWNoZSl7aWYobyBpbiBpLmNhY2hlKXJldHVybiB2b2lkIHIoaS5jYWNoZVtvXSk7Zm9yKHZhciBzPTE7czxvLmxlbmd0aC1sLm1pbkNoYXJzO3MrKyl7dmFyIG49by5zbGljZSgwLG8ubGVuZ3RoLXMpO2lmKG4gaW4gaS5jYWNoZSYmIWkuY2FjaGVbbl0ubGVuZ3RoKXJldHVybiB2b2lkIHIoW10pfX1pLnRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtsLnNvdXJjZShvLHIpfSxsLmRlbGF5KX19ZWxzZSBpLmxhc3RfdmFsPW8saS5zYy5zdHlsZS5kaXNwbGF5PVwibm9uZVwifX0sbyhpLFwia2V5dXBcIixpLmtleXVwSGFuZGxlciksaS5mb2N1c0hhbmRsZXI9ZnVuY3Rpb24oZSl7aS5sYXN0X3ZhbD1cIlxcblwiLGkua2V5dXBIYW5kbGVyKGUpfSxsLm1pbkNoYXJzfHxvKGksXCJmb2N1c1wiLGkuZm9jdXNIYW5kbGVyKX10aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIHQ9YVtlXTtzKHdpbmRvdyxcInJlc2l6ZVwiLHQudXBkYXRlU0MpLHModCxcImJsdXJcIix0LmJsdXJIYW5kbGVyKSxzKHQsXCJmb2N1c1wiLHQuZm9jdXNIYW5kbGVyKSxzKHQsXCJrZXlkb3duXCIsdC5rZXlkb3duSGFuZGxlcikscyh0LFwia2V5dXBcIix0LmtleXVwSGFuZGxlciksdC5hdXRvY29tcGxldGVBdHRyP3Quc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsdC5hdXRvY29tcGxldGVBdHRyKTp0LnJlbW92ZUF0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiKSxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHQuc2MpLHQ9bnVsbH19fX1yZXR1cm4gZX0oKTshZnVuY3Rpb24oKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiYXV0b0NvbXBsZXRlXCIsZnVuY3Rpb24oKXtyZXR1cm4gYXV0b0NvbXBsZXRlfSk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YXV0b0NvbXBsZXRlOndpbmRvdy5hdXRvQ29tcGxldGU9YXV0b0NvbXBsZXRlfSgpOyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXG4gICAgQ3VycmVuY3k6IG5ldyBJbnRsLk51bWJlckZvcm1hdCggJ2VuLVVTJywge1xuICAgICAgc3R5bGU6ICdjdXJyZW5jeScsXG4gICAgICBjdXJyZW5jeTogJ1VTRCcsXG4gICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDJcbiAgICB9ICksXG5cbiAgICBGaWxsUmFuZ2UoIHN0YXJ0LCBlbmQgKSB7XG4gICAgICAgIHJldHVybiBBcnJheSggZW5kIC0gc3RhcnQgKyAxICkuZmlsbCgpLm1hcCggKGl0ZW0sIGluZGV4KSA9PiBzdGFydCArIGluZGV4IClcbiAgICB9LFxuXG4gICAgR2V0Q29vcmRpbmF0ZUlucHV0cyggZGF0dW0sIHZhbHVlICkge1xuICAgICAgICBjb25zdCBsb25naXR1ZGUgPSB2YWx1ZSA/IHZhbHVlWzBdIDogJycsXG4gICAgICAgICAgICBsYXRpdHVkZSA9IHZhbHVlID8gdmFsdWVbMV0gOiAnJ1xuXG4gICAgICAgIHJldHVybiBgYCArXG4gICAgICAgIGA8ZGl2IGRhdGEtanM9XCIke2RhdHVtLm5hbWV9XCIgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8bGFiZWw+JHtkYXR1bS5sYWJlbH08L2xhYmVsPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkVudGVyIGxvbmdpdHVkZVwiIHZhbHVlPVwiJHtsb25naXR1ZGV9XCIvPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgbGF0aXR1ZGVcIiB2YWx1ZT1cIiR7bGF0aXR1ZGV9XCIvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmBcbiAgICB9LFxuXG4gICAgR2V0Rm9ybUZpZWxkKCBkYXR1bSwgdmFsdWUsIG1ldGE9e30gKSB7XG4gICAgICAgIGlmKCBkYXR1bS5yYW5nZSA9PT0gJ0dlb2dyYXBoeScgKSByZXR1cm4gdGhpcy5HZXRDb29yZGluYXRlSW5wdXRzKCBkYXR1bSwgdmFsdWUgKVxuXG4gICAgICAgIGNvbnN0IGljb24gPSBkYXR1bS5tZXRhZGF0YVxuICAgICAgICAgICAgPyBkYXR1bS5tZXRhZGF0YS5pY29uXG4gICAgICAgICAgICAgICAgPyB0aGlzLkljb25zWyBkYXR1bS5tZXRhZGF0YS5pY29uIF1cbiAgICAgICAgICAgICAgICA6IGBgXG4gICAgICAgICAgICA6IGBgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGRhdHVtLm1ldGFkYXRhID8gZGF0dW0ubWV0YWRhdGEub3B0aW9ucyA6IGZhbHNlXG5cbiAgICAgICAgdmFsdWUgPSAoIHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwgKSA/ICcnIDogdmFsdWVcbiAgICAgICAgICAgIFxuICAgICAgICBjb25zdCBsYWJlbCA9IFxuICAgICAgICAgICAgZGF0dW0uZmsgfHwgZGF0dW0ubGFiZWxcbiAgICAgICAgICAgICAgICA/IGA8bGFiZWw+JHtkYXR1bS5mayB8fCBkYXR1bS5sYWJlbH08L2xhYmVsPmBcbiAgICAgICAgICAgICAgICA6IGBgXG5cbiAgICAgICAgaWYoIG9wdGlvbnMgKSB7XG4gICAgICAgICAgICBpZiggdHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicgKSB7IG9wdGlvbnMoKTsgcmV0dXJuIHRoaXMuR2V0U2VsZWN0KCBkYXR1bSwgdmFsdWUsIFsgXSwgaWNvbiwgbGFiZWwgKSB9XG4gICAgICAgICAgICBlbHNlIGlmKCBBcnJheS5pc0FycmF5KCBvcHRpb25zICkgKSByZXR1cm4gdGhpcy5HZXRTZWxlY3QoIGRhdHVtLCB2YWx1ZSwgb3B0aW9ucywgaWNvbiwgbGFiZWwgKVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaW1hZ2UgPSBkYXR1bS5yYW5nZSA9PT0gJ0ltYWdlVXJsJ1xuICAgICAgICAgICAgPyBgPGRpdj48aW1nIHNyYz1cIiR7dGhpcy5JbWFnZVNyYyggdmFsdWUgKX1cIiAvPjwvZGl2PmBcbiAgICAgICAgICAgIDogYGBcblxuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9IG1ldGEubm9QbGFjZWhvbGRlclxuICAgICAgICAgICAgPyAnJ1xuICAgICAgICAgICAgOiBkYXR1bS5sYWJlbCB8fCAnJ1xuXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZGF0dW0uZmtcbiAgICAgICAgICAgID8gYDxkaXYgZGF0YS12aWV3PVwidHlwZUFoZWFkXCIgZGF0YS1uYW1lPVwiJHtkYXR1bS5ma31cIj48L2Rpdj5gXG4gICAgICAgICAgICA6ICggZGF0dW0ucmFuZ2UgPT09ICdUZXh0JyAmJiBtZXRhLmtleSA9PT0gJ19pZCcgKSB8fCAoIG1ldGEua2V5ID09PSAnaWQnICYmIGRhdHVtLm5hbWUgPT09ICdkZXNjcmlwdGlvbicgKVxuICAgICAgICAgICAgICAgID8gYDx0ZXh0YXJlYSBkYXRhLWpzPVwiJHtkYXR1bS5uYW1lfVwiIHJvd3M9XCIzXCI+JHt2YWx1ZX08L3RleHRhcmVhPmBcbiAgICAgICAgICAgICAgICA6IGRhdHVtLnJhbmdlID09PSAnTGlzdCcgfHwgdHlwZW9mIGRhdHVtLnJhbmdlID09PSAnb2JqZWN0J1xuICAgICAgICAgICAgICAgICAgICA/IGA8ZGl2IGRhdGEtanM9XCIke2RhdHVtLm5hbWV9XCIgZGF0YS1uYW1lPVwiJHtkYXR1bS5uYW1lfVwiPjwvZGl2PmBcbiAgICAgICAgICAgICAgICAgICAgOiBgPGlucHV0IHR5cGU9XCIke3RoaXMuUmFuZ2VUb0lucHV0VHlwZVsgZGF0dW0ucmFuZ2UgXX1cIiBkYXRhLWpzPVwiJHtkYXR1bS5uYW1lfVwiIHBsYWNlaG9sZGVyPVwiJHtwbGFjZWhvbGRlcn1cIiB2YWx1ZT1cIiR7dmFsdWV9XCIgLz5gXG5cbiAgICAgICAgcmV0dXJuIGBgICtcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwICR7aW1hZ2UgPyBgaGFzLWltYWdlYCA6IGBgfVwiPlxuICAgICAgICAgICAgJHtsYWJlbH1cbiAgICAgICAgICAgICR7aW5wdXR9XG4gICAgICAgICAgICAke2ltYWdlfVxuICAgICAgICAgICAgJHtpY29ufVxuICAgICAgICA8L2Rpdj5gXG4gICAgfSxcblxuICAgIEdldEZvcm1GaWVsZHMoIGRhdGEsIG1vZGVsPXt9LCBtZXRhPXt9ICkge1xuICAgICAgICBpZiggIWRhdGEgKSByZXR1cm4gYGBcblxuICAgICAgICByZXR1cm4gZGF0YVxuICAgICAgICAgICAgLmZpbHRlciggZGF0dW0gPT4gbWV0YVsgZGF0dW0ubmFtZSB8fCBkYXR1bS5mayBdICYmIG1ldGFbIGRhdHVtLm5hbWUgfHwgZGF0dW0uZmsgXS5oaWRlID8gZmFsc2UgOiB0cnVlIClcbiAgICAgICAgICAgIC5tYXAoIGRhdHVtID0+IHRoaXMuR2V0Rm9ybUZpZWxkKCBkYXR1bSwgbW9kZWwgJiYgbW9kZWxbIGRhdHVtLm5hbWUgXSwgbWV0YSApICkuam9pbignJylcbiAgICB9LFxuXG4gICAgR2V0SWNvbiggbmFtZSwgb3B0cyApIHsgcmV0dXJuIFJlZmxlY3QuYXBwbHkoIHRoaXMuSWNvbnNbIG5hbWUgXSwgdGhpcywgWyBvcHRzIF0gKSB9LFxuXG4gICAgR2V0TGlzdEl0ZW1zKCBpdGVtcz1bXSwgb3B0cz17fSApIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcCggaXRlbSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhdHRyID0gb3B0cy5kYXRhQXR0ciA/IGBkYXRhLSR7b3B0cy5kYXRhQXR0cn09XCIke2l0ZW1bIG9wdHMuZGF0YUF0dHIgXX1cImAgOiBgYFxuICAgICAgICAgICAgcmV0dXJuIGA8bGkgJHthdHRyfT4ke2l0ZW0ubGFiZWwgfHwgaXRlbX08L2xpPmAgXG4gICAgICAgIH0gKS5qb2luKCcnKVxuICAgIH0sXG5cbiAgICBHZXRTZWxlY3QoIGRhdHVtLCBzZWxlY3RlZFZhbHVlLCBvcHRpb25zRGF0YSwgaWNvbiwgbGFiZWw9YGAgKSB7XG4gICAgICAgIGlmKCB0eXBlb2Ygc2VsZWN0ZWRWYWx1ZSA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBzZWxlY3RlZFZhbHVlID09PSAnbnVtYmVyJyApIHNlbGVjdGVkVmFsdWUgPSBzZWxlY3RlZFZhbHVlLnRvU3RyaW5nKClcblxuICAgICAgICBjb25zdCBvcHRpb25zID0gb3B0aW9uc0RhdGEubGVuZ3RoID8gdGhpcy5HZXRTZWxlY3RPcHRpb25zKCBvcHRpb25zRGF0YSwgc2VsZWN0ZWRWYWx1ZSwgeyB2YWx1ZUF0dHI6ICduYW1lJyB9ICkgOiBgYFxuXG4gICAgICAgIHJldHVybiBgYCArXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgJHtsYWJlbH1cbiAgICAgICAgICAgIDxzZWxlY3QgZGF0YS1qcz1cIiR7ZGF0dW0ubmFtZX1cIj5cbiAgICAgICAgICAgICAgICA8b3B0aW9uIGRpc2FibGVkICR7IXNlbGVjdGVkVmFsdWUgPyBgc2VsZWN0ZWRgIDogYGB9IHZhbHVlPiR7ZGF0dW0ubGFiZWx9PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgJHtvcHRpb25zfVxuICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAke2ljb259XG4gICAgICAgIDwvZGl2PmBcbiAgICB9LFxuXG4gICAgR2V0U2VsZWN0T3B0aW9ucyggb3B0aW9ucz1bXSwgc2VsZWN0ZWRWYWx1ZSwgb3B0cz17IHZhbHVlQXR0cjogJ3ZhbHVlJyB9ICkge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5tYXAoIG9wdGlvbiA9PiBgPG9wdGlvbiAke3NlbGVjdGVkVmFsdWUgPT09IG9wdGlvblsgb3B0cy52YWx1ZUF0dHIgXSA/IGBzZWxlY3RlZGAgOiBgYH0gdmFsdWU9XCIke29wdGlvblsgb3B0cy52YWx1ZUF0dHIgXX1cIj4ke29wdGlvbi5sYWJlbH08L29wdGlvbj5gICkuam9pbignJylcbiAgICB9LFxuXG4gICAgSWNvbnM6IHJlcXVpcmUoJy4vLkljb25NYXAnKSxcbiAgICBcbiAgICBJY29uRGF0YUpzKCBwICkgeyByZXR1cm4gcC5uYW1lID8gYGRhdGEtanM9XCIke3AubmFtZX1cImAgOiBgYCB9LFxuXG4gICAgSW1hZ2VTcmMoIG5hbWUgKSB7IHJldHVybiBgaHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tL2RvdWJsZS1xdWlsbC0zMjQzLyR7bmFtZX1gIH0sXG5cbiAgICBQYXJzZVRleHRMaW5rcyggdGV4dCApIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGV4dC5pbmRleE9mKCd7eycpLFxuICAgICAgICAgICAgZW5kLCByZXN0LCB0YXJnZXQsIGtleSwgdmFsdWUsIHJlcGxhY2VtZW50XG5cbiAgICAgICAgaWYoIHN0YXJ0ID09PSAtMSApIHJldHVybiB0ZXh0XG5cbiAgICAgICAgcmVzdCA9IHRleHQuc2xpY2UoIHN0YXJ0IClcbiAgICAgICAgdGFyZ2V0ID0gcmVzdC5zbGljZSggMCwgcmVzdC5pbmRleE9mKCd9JykgKyAyIClcbiAgICAgICAga2V5ID0gdGFyZ2V0LnNsaWNlKCAyLCB0YXJnZXQuaW5kZXhPZignOicpIClcbiAgICAgICAgdmFsdWUgPSB0YXJnZXQuc2xpY2UoIHRhcmdldC5pbmRleE9mKCc6JykgKyAxLCB0YXJnZXQuaW5kZXhPZignfScpIClcblxuICAgICAgICByZXBsYWNlbWVudCA9IC9lbWFpbC9pLnRlc3QoIHRhcmdldCApXG4gICAgICAgICAgICA/IGA8YSBocmVmPVwibWFpbHRvOiR7dmFsdWV9XCIgY2xhc3M9XCJsaW5rXCI+JHtrZXl9PC9hPmBcbiAgICAgICAgICAgIDogL2h0dHAvLnRlc3QoIHZhbHVlIClcbiAgICAgICAgICAgICAgICA/IGA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHt2YWx1ZX1cIiBjbGFzcz1cImxpbmtcIj4ke2tleX08L2E+YFxuICAgICAgICAgICAgICAgIDogYDxzcGFuIGRhdGEtanM9XCJsaW5rXCIgZGF0YS1uYW1lPVwiJHt2YWx1ZX1cIiBjbGFzcz1cImxpbmtcIj4ke2tleX08L3NwYW4+YFxuXG4gICAgICAgIHJldHVybiB0aGlzLlBhcnNlVGV4dExpbmtzKCB0ZXh0LnJlcGxhY2UoIHRhcmdldCwgcmVwbGFjZW1lbnQgKSApXG4gICAgfSxcblxuICAgIFJhbmdlKCBpbnQgKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKCBBcnJheSggaW50ICkua2V5cygpIClcbiAgICB9LFxuXG4gICAgUmFuZ2VUb0lucHV0VHlwZToge1xuICAgICAgICBFbWFpbDogJ2VtYWlsJyxcbiAgICAgICAgSW1hZ2VVcmw6ICd0ZXh0JyxcbiAgICAgICAgUGFzc3dvcmQ6ICdwYXNzd29yZCcsXG4gICAgICAgIFN0cmluZzogJ3RleHQnLFxuICAgICAgICBUZXh0OiAndGV4dCdcbiAgICB9XG5cbn1cbiIsInZhciBNeUVycm9yID0gZnVuY3Rpb24oIGVyciApIHsgcmV0dXJuIHRoaXMuaGFuZGxlKCBlcnIgKSB9XG5cbk9iamVjdC5hc3NpZ24oIE15RXJyb3IucHJvdG90eXBlLCB7XG4gICAgXG4gICAgaGFuZGxlOiBmdW5jdGlvbiggZXJyICkgeyBjb25zb2xlLmxvZyggZXJyLnN0YWNrIHx8IGVyciApIH1cblxufSApXG5cbm1vZHVsZS5leHBvcnRzID0gTXlFcnJvclxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlKCBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi4vLi4vbGliL015T2JqZWN0JyksIHtcblxuICAgIFJlcXVlc3Q6IHtcblxuICAgICAgICBjb25zdHJ1Y3RvciggZGF0YSApIHtcbiAgICAgICAgICAgIGxldCByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoICggcmVzb2x2ZSwgcmVqZWN0ICkgPT4ge1xuXG4gICAgICAgICAgICAgICAgcmVxLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBbIDUwMCwgNDA0LCA0MDEgXS5pbmNsdWRlcyggdGhpcy5zdGF0dXMgKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZWplY3QoIHRoaXMucmVzcG9uc2UgKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiByZXNvbHZlKCBKU09OLnBhcnNlKHRoaXMucmVzcG9uc2UpIClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gYC8ke2RhdGEucmVzb3VyY2V9YCArICggZGF0YS5pZCA/IGAvJHtkYXRhLmlkfWAgOiAnJyApO1xuXG4gICAgICAgICAgICAgICAgaWYoIGRhdGEubWV0aG9kID09PSBcImdldFwiIHx8IGRhdGEubWV0aG9kID09PSBcIm9wdGlvbnNcIiApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHFzID0gZGF0YS5xcyA/IGA/JHtkYXRhLnFzfWAgOiAnJ1xuICAgICAgICAgICAgICAgICAgICByZXEub3BlbiggZGF0YS5tZXRob2QsIGAke3BhdGh9JHtxc31gIClcbiAgICAgICAgICAgICAgICAgICAgLy9yZXEub3BlbiggZGF0YS5tZXRob2QsIGAvJHtkYXRhLnJlc291cmNlfSR7cXN9YCApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SGVhZGVycyggcmVxLCBkYXRhLmhlYWRlcnMgKVxuICAgICAgICAgICAgICAgICAgICByZXEuc2VuZChudWxsKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcS5vcGVuKCBkYXRhLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBwYXRoLCB0cnVlKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEhlYWRlcnMoIHJlcSwgZGF0YS5oZWFkZXJzIClcbiAgICAgICAgICAgICAgICAgICAgcmVxLnNlbmQoIGRhdGEuZGF0YSB8fCBudWxsIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IClcbiAgICAgICAgfSxcblxuICAgICAgICBwbGFpbkVzY2FwZSggc1RleHQgKSB7XG4gICAgICAgICAgICAvKiBob3cgc2hvdWxkIEkgdHJlYXQgYSB0ZXh0L3BsYWluIGZvcm0gZW5jb2Rpbmc/IHdoYXQgY2hhcmFjdGVycyBhcmUgbm90IGFsbG93ZWQ/IHRoaXMgaXMgd2hhdCBJIHN1cHBvc2UuLi46ICovXG4gICAgICAgICAgICAvKiBcIjRcXDNcXDcgLSBFaW5zdGVpbiBzYWlkIEU9bWMyXCIgLS0tLT4gXCI0XFxcXDNcXFxcN1xcIC1cXCBFaW5zdGVpblxcIHNhaWRcXCBFXFw9bWMyXCIgKi9cbiAgICAgICAgICAgIHJldHVybiBzVGV4dC5yZXBsYWNlKC9bXFxzXFw9XFxcXF0vZywgXCJcXFxcJCZcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0SGVhZGVycyggcmVxLCBoZWFkZXJzPXt9ICkge1xuICAgICAgICAgICAgcmVxLnNldFJlcXVlc3RIZWFkZXIoIFwiQWNjZXB0XCIsIGhlYWRlcnMuYWNjZXB0IHx8ICdhcHBsaWNhdGlvbi9qc29uJyApXG4gICAgICAgICAgICByZXEuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgaGVhZGVycy5jb250ZW50VHlwZSB8fCAndGV4dC9wbGFpbicgKVxuICAgICAgICAgICAgT2JqZWN0LmtleXMoIGhlYWRlcnMgKS5mb3JFYWNoKCBrZXkgPT4gcmVxLnNldFJlcXVlc3RIZWFkZXIoIGtleSwgaGVhZGVyc1sga2V5IF0gKSApXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2ZhY3RvcnkoIGRhdGEgKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKCB0aGlzLlJlcXVlc3QsIHsgfSApLmNvbnN0cnVjdG9yKCBkYXRhIClcbiAgICB9LFxuXG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICAgICAgaWYoICFYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2VuZEFzQmluYXJ5ICkge1xuICAgICAgICAgIFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kQXNCaW5hcnkgPSBmdW5jdGlvbihzRGF0YSkge1xuICAgICAgICAgICAgdmFyIG5CeXRlcyA9IHNEYXRhLmxlbmd0aCwgdWk4RGF0YSA9IG5ldyBVaW50OEFycmF5KG5CeXRlcyk7XG4gICAgICAgICAgICBmb3IgKHZhciBuSWR4ID0gMDsgbklkeCA8IG5CeXRlczsgbklkeCsrKSB7XG4gICAgICAgICAgICAgIHVpOERhdGFbbklkeF0gPSBzRGF0YS5jaGFyQ29kZUF0KG5JZHgpICYgMHhmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VuZCh1aThEYXRhKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZhY3RvcnkuYmluZCh0aGlzKVxuICAgIH1cblxufSApLCB7IH0gKS5jb25zdHJ1Y3RvcigpXG4iLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5jcmVhdGUoIHtcblxuICAgIGNyZWF0ZSggcmF3TmFtZSwgb3B0cyApIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuX3Byb2Nlc3NOYW1lKCByYXdOYW1lIClcblxuICAgICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShcbiAgICAgICAgICAgIHRoaXMuVmlld3NbIG5hbWUgXSxcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oIHtcbiAgICAgICAgICAgICAgICBEcmFnZ2VyOiB7IHZhbHVlOiB0aGlzLkRyYWdnZXIgfSxcbiAgICAgICAgICAgICAgICBIZWFkZXI6IHsgdmFsdWU6IHRoaXMuSGVhZGVyIH0sXG4gICAgICAgICAgICAgICAgVG9hc3Q6IHsgdmFsdWU6IHRoaXMuVG9hc3QgfSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudE5hbWU6IHsgdmFsdWU6IHJhd05hbWUgfSxcbiAgICAgICAgICAgICAgICBuYW1lOiB7IHZhbHVlOiBuYW1lIH0sXG4gICAgICAgICAgICAgICAgZmFjdG9yeTogeyB2YWx1ZTogdGhpcyB9LFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiB7IHZhbHVlOiB0aGlzLlRlbXBsYXRlc1sgbmFtZSBdIH0sXG4gICAgICAgICAgICAgICAgdXNlcjogeyB2YWx1ZTogdGhpcy5Vc2VyIH1cbiAgICAgICAgICAgIH0gKVxuICAgICAgICApLmNvbnN0cnVjdG9yKCBvcHRzIClcbiAgICB9LFxuXG4gICAgX3Byb2Nlc3NOYW1lKCBuYW1lICkge1xuICAgICAgICBsZXQgaHlwaGVuID0gbmFtZS5pbmRleE9mKCctJylcbiAgICAgICAgaWYoIGh5cGhlbiAhPT0gLTEgKSByZXR1cm4gbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoIDEsIGh5cGhlbiApICsgbmFtZS5jaGFyQXQoaHlwaGVuICsgMSkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoIGh5cGhlbiArIDIgKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpXG4gICAgfSxcblxufSwge1xuICAgIERyYWdnZXI6IHsgdmFsdWU6IHJlcXVpcmUoJy4uL3ZpZXdzL0RyYWdnZXInKSB9LFxuICAgIEhlYWRlcjogeyB2YWx1ZTogcmVxdWlyZSgnLi4vdmlld3MvSGVhZGVyJykgfSxcbiAgICBUZW1wbGF0ZXM6IHsgdmFsdWU6IHJlcXVpcmUoJy4uLy5UZW1wbGF0ZU1hcCcpIH0sXG4gICAgVG9hc3Q6IHsgdmFsdWU6IHJlcXVpcmUoJy4uL3ZpZXdzL1RvYXN0JykgfSxcbiAgICBVc2VyOiB7IHZhbHVlOiByZXF1aXJlKCcuLi9tb2RlbHMvVXNlcicpIH0sXG4gICAgVmlld3M6IHsgdmFsdWU6IHJlcXVpcmUoJy4uLy5WaWV3TWFwJykgfVxufSApXG4iLCJ2YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpXG5cbnJlcXVpcmUoJy4vcG9seWZpbGwnKVxuXG53aW5kb3cuJCA9IHdpbmRvdy5qUXVlcnkgPSAkXG53aW5kb3cuaW5pdEdNYXAgPSAoKSA9PiB0cnVlXG5cbnJlcXVpcmUoJ2Jvb3RzdHJhcCcpXG5yZXF1aXJlKCcuL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyJylcblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgICByZXF1aXJlKCcuL3JvdXRlcicpLmluaXRpYWxpemUoKVxuICAgIHJlcXVpcmUoJy4vdmlld3MvbW9kYWwnKVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgYXR0cmlidXRlczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnbmFtZScsXG4gICAgICAgICAgICBsYWJlbDogJ05hbWUnLFxuICAgICAgICAgICAgcmFuZ2U6ICdTdHJpbmcnLFxuICAgICAgICAgICAgZXJyb3I6ICdQbGVhc2UgZW50ZXIgYSBuYW1lIHdpdGggbm8gc3BhY2VzLicsXG4gICAgICAgICAgICB2YWxpZGF0ZTogdmFsID0+IHZhbC50cmltKCkgIT09ICcnICYmICEvXFxzLy50ZXN0KHZhbCksXG4gICAgICAgICAgICBtZXRhZGF0YTogeyB9XG4gICAgICAgIH1cbiAgICBdLFxuXG4gICAgbWV0YToge1xuICAgICAgICBrZXk6ICduYW1lJ1xuICAgIH0sXG5cbiAgICByZXNvdXJjZTogJ0NvbGxlY3Rpb24nXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSggT2JqZWN0LmFzc2lnbiggeyB9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCB7XG5cbiAgICBkYXRhOiB7XG4gICAgICAgIGN1cnJlbnRDb2xsZWN0aW9uOiAnUGFnZXMnLFxuICAgICAgICBjdXJyZW50VmlldzogJydcbiAgICB9LFxuXG4gICAgbWV0YToge1xuICAgICAgICBDc2FQYWdlU2hhcmU6IHtcbiAgICAgICAgICAgIGFkZDogZmFsc2UsXG4gICAgICAgICAgICBkZWxldGU6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIFBhZ2VzOiB7XG4gICAgICAgICAgICBhZGQ6IGZhbHNlLFxuICAgICAgICAgICAgZGVsZXRlOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBzZWFzb25hbEFkZE9uT3B0aW9uOiB7XG4gICAgICAgICAgICBkaXNwbGF5QXR0cjogWyAnc2Vhc29uYWxBZGRPbicsICduYW1lJyBdXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZGVsaXZlcnlvcHRpb246IHtcbiAgICAgICAgICAgIGRpc3BsYXlBdHRyOiBbICdzaGFyZScsICdkZWxpdmVyeW9wdGlvbicgXVxuICAgICAgICB9LFxuICAgICAgICBzaGFyZWdyb3VwZHJvcG9mZjoge1xuICAgICAgICAgICAgZGlzcGxheUF0dHI6IFsgJ3NoYXJlJywgJ2dyb3VwZHJvcG9mZicgXVxuICAgICAgICB9LFxuICAgICAgICBzaGFyZW9wdGlvbjoge1xuICAgICAgICAgICAgZGlzcGxheUF0dHI6IFsgJ25hbWUnIF1cbiAgICAgICAgfSxcbiAgICAgICAgc2hhcmVvcHRpb25vcHRpb246IHtcbiAgICAgICAgICAgIGRpc3BsYXlBdHRyOiBbICdzaGFyZW9wdGlvbicsICdsYWJlbCcgXVxuICAgICAgICB9LFxuICAgICAgICBzaGFyZW9wdGlvbnNoYXJlOiB7XG4gICAgICAgICAgICBkaXNwbGF5QXR0cjogWyAnc2hhcmVvcHRpb24nLCAnc2hhcmUnIF1cbiAgICAgICAgfSxcbiAgICAgICAgU3RhZmY6IHtcbiAgICAgICAgICAgIGFkZDogdHJ1ZSxcbiAgICAgICAgICAgIGRlbGV0ZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICB6aXBjb2Rlcm91dGU6IHtcbiAgICAgICAgICAgIGRpc3BsYXlBdHRyOiBbICd6aXBjb2RlJywgJ2RlbGl2ZXJ5cm91dGUnIF1cbiAgICAgICAgfVxuICAgIH1cblxufSApIClcbiIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSggT2JqZWN0LmFzc2lnbiggeyB9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCB7XG5cbiAgICBwYXJzZTogcmVzcG9uc2UgPT4gcmVzcG9uc2VbMF1cblxufSApLCB7IHJlc291cmNlOiB7IHZhbHVlOiAnY29udGFjdGluZm8nIH0gfSApXG4iLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHt9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCB7XG5cbiAgICBkYXlPZldlZWtNYXA6IHJlcXVpcmUoJy4vRGF5T2ZXZWVrJyksXG5cbiAgICBwYXJzZSggcmVzcG9uc2UgKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5tYXAoIHJvdyA9PiBPYmplY3QuYXNzaWduKCByb3csIHtcbiAgICAgICAgICAgIGRheU9mV2VlazogdGhpcy5kYXlPZldlZWtNYXBbIHJvdy5kYXlvZndlZWsgXSxcbiAgICAgICAgICAgIHN0YXJ0dGltZTogdGhpcy5tb21lbnQoIFsgdGhpcy5tb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwgcm93LnN0YXJ0dGltZSBdLmpvaW4oJyAnKSApLmZvcm1hdCgnaDptbUEnKSxcbiAgICAgICAgICAgIGVuZHRpbWU6IHRoaXMubW9tZW50KCBbIHRoaXMubW9tZW50KCkuZm9ybWF0KCdZWVlZLU1NLUREJyksIHJvdy5lbmR0aW1lIF0uam9pbignICcpICkuZm9ybWF0KCdoOm1tQScpXG4gICAgICAgIH0gKSApXG4gICAgfSxcblxuICAgIHJlc291cmNlOiBcImRlbGl2ZXJ5cm91dGVcIlxuXG59ICkiLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHt9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCB7XG5cbiAgICBhY3Rpb25zOiBbXG4gICAgICAgICdBZGp1c3RtZW50JyxcbiAgICAgICAgJ1BheW1lbnQnLFxuICAgICAgICAnUmVpbWJ1cnNlbWVudCcsXG4gICAgICAgICdTZWFzb24gU2lnbnVwJ1xuICAgIF0sXG5cbiAgICBhdHRyaWJ1dGVzOiBbICdhY3Rpb24nLCAndmFsdWUnLCAnY2hlY2tOdW1iZXInLCAnY3JlYXRlZCcsICdkZXNjcmlwdGlvbicgXSxcblxuICAgIGdldEJhbGFuY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEucmVkdWNlKCAoIG1lbW8sIGRhdHVtICkgPT4ge1xuICAgICAgICAgICAgaWYoIGRhdHVtLmFjdGlvbiA9PT0gJ1BheW1lbnQnICkgbWVtbyAtPSBkYXR1bS52YWx1ZVxuICAgICAgICAgICAgZWxzZSBtZW1vICs9IGRhdHVtLnZhbHVlXG4gICAgICAgICAgICByZXR1cm4gbWVtb1xuICAgICAgICB9LCAwIClcbiAgICB9LFxuXG4gICAgaXNOZWdhdGl2ZSggcm93ICkge1xuICAgICAgICBpZiggcm93LmFjdGlvbiA9PT0gJ1BheW1lbnQnICkgcmV0dXJuIHRydWVcblxuICAgICAgICBpZiggcm93LmFjdGlvbiA9PT0gJ0FkanVzdG1lbnQnICYmIHJvdy52YWx1ZSA8IDAgKSByZXR1cm4gdHJ1ZVxuICAgIH0sXG5cbiAgICBwYXJzZSggcmVzcG9uc2UgKSB7XG4gICAgICAgIHJlc3BvbnNlID0gcmVzcG9uc2UubWFwKCByb3cgPT4gdGhpcy5wYXJzZU9uZSggcm93ICkgKVxuXG4gICAgICAgIGlmKCB0aGlzLnNvcnRBdHRyICkgcmVzcG9uc2Uuc29ydCggKCBhLCBiICkgPT4gYVsgdGhpcy5zb3J0QXR0ciBdID4gYlsgdGhpcy5zb3J0QXR0ciBdIClcblxuICAgICAgICByZXR1cm4gcmVzcG9uc2VcbiAgICB9LFxuXG4gICAgcGFyc2VPbmUoIGRhdHVtICkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIGRhdHVtLFxuICAgICAgICAgICAgeyBpc05lZ2F0aXZlOiB0aGlzLmlzTmVnYXRpdmUoIGRhdHVtICkgfSxcbiAgICAgICAgICAgIHsgY3JlYXRlZDogdHlwZW9mIGRhdHVtLmNyZWF0ZWQgPT09ICdvYmplY3QnID8gZGF0dW0uY3JlYXRlZC5yYXcgOiBkYXR1bS5jcmVhdGVkIH1cbiAgICAgICAgKVxuICAgIH0sXG5cbiAgICByZXNvdXJjZTogJ2NzYVRyYW5zYWN0aW9uJyxcblxuICAgIHNvcnRBdHRyOiAnY3JlYXRlZCdcblxufSApXG4iLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHt9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCB7XG5cbiAgICBTaGFyZUdyb3VwRHJvcG9mZnM6IHJlcXVpcmUoJy4vU2hhcmVHcm91cERyb3BvZmYnKSxcblxuICAgIGdldEN1cnJlbnRHcm91cERyb3BvZmZzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5TaGFyZUdyb3VwRHJvcG9mZnMuZ2V0KCB7IHF1ZXJ5OiB7XG4gICAgICAgICAgICBzaGFyZWlkOiB0aGlzLmRhdGEuaWQsXG4gICAgICAgICAgICBncm91cGRyb3BvZmZpZDogeyBvcGVyYXRpb246ICdqb2luJywgdmFsdWU6IHsgdGFibGU6ICdncm91cGRyb3BvZmYnLCBjb2x1bW46ICdpZCcgfSB9XG4gICAgICAgIH0gfSApXG4gICAgICAgIC50aGVuKCAoKSA9PiBQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgICB0aGlzLlNoYXJlR3JvdXBEcm9wb2Zmcy5kYXRhLm1hcCggZGF0dW0gPT4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbigge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYXR1bVsgJ2dyb3VwZHJvcG9mZi5uYW1lJyBdLFxuICAgICAgICAgICAgICAgICAgICB2ZW51ZTogZGF0dW1bICdncm91cGRyb3BvZmYudmVudWUnIF0sXG4gICAgICAgICAgICAgICAgICAgIHN0cmVldDogZGF0dW1bICdncm91cGRyb3BvZmYuc3RyZWV0JyBdLFxuICAgICAgICAgICAgICAgICAgICBjaXR5U3RhdGVaaXA6IGRhdHVtWyAnZ3JvdXBkcm9wb2ZmLmNpdHlTdGF0ZVppcCcgXSxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IGRhdHVtLmxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICBob3VyczogYCR7ZGF0dW0uZGF5b2Z3ZWVrfSAke2RhdHVtLnN0YXJ0dGltZX0gLSAke2RhdHVtLmVuZHRpbWV9YFxuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgKVxuICAgICAgICApIClcbiAgICB9LFxuXG4gICAgZ2V0U2l6ZU9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEucHJvZHVjZU9wdGlvbnMuZmlsdGVyKCBvcHRpb24gPT4gL3NpemUvaS50ZXN0KCBvcHRpb24ucHJvbXB0ICkgKVxuICAgIH0sXG5cbiAgICByZXNvdXJjZTogJ2N1cnJlbnRTaGFyZSdcblxufSApIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgTWVtYmVyOiByZXF1aXJlKCcuL01lbWJlcicpLFxuICAgIFBlcnNvbjogcmVxdWlyZSgnLi9QZXJzb24nKSxcblxuICAgIHBhcnNlKCByZXNwb25zZSApIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLm1hcCggcm93ID0+XG4gICAgICAgICAgICBPYmplY3Qua2V5cyggcm93ICkucmVkdWNlKFxuICAgICAgICAgICAgICAgICggbWVtbywga2V5ICkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGtleS5pbmRleE9mKCcuJylcbiAgICAgICAgICAgICAgICAgICAgbWVtb1sga2V5LnNsaWNlKDAsIGluZGV4KSBdLmRhdGFbIGtleS5zbGljZSggaW5kZXggKyAxICkgXSA9IHJvd1trZXldXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZW1vXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7IG1lbWJlcjogT2JqZWN0LmNyZWF0ZSggdGhpcy5NZW1iZXIsIHsgZGF0YTogeyB2YWx1ZToge30gfSB9ICksXG4gICAgICAgICAgICAgICAgICBwZXJzb246IE9iamVjdC5jcmVhdGUoIHRoaXMuUGVyc29uLCB7IGRhdGE6IHsgdmFsdWU6IHt9IH0gfSApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfSxcblxuICAgIHJlc291cmNlOiAncGVyc29uJ1xuXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIDA6ICdTdW5kYXknLFxuICAgIDE6ICdNb25kYXknLFxuICAgIDI6ICdUdWVzZGF5JyxcbiAgICAzOiAnV2VkbmVzZGF5JyxcbiAgICA0OiAnVGh1cnNkYXknLFxuICAgIDU6ICdGcmlkYXknLFxuICAgIDY6ICdTYXR1cmRheSdcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHtcblxuICAgIHBhcnNlKCByZXNwb25zZSApIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLm1hcCggcm93ID0+XG4gICAgICAgICAgICBPYmplY3Qua2V5cyggcm93ICkucmVkdWNlKFxuICAgICAgICAgICAgICAgICggbWVtbywga2V5ICkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGtleS5pbmRleE9mKCcuJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZSA9IGtleS5zbGljZSgwLCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgaWYoICFtZW1vWyB0YWJsZSBdICkgbWVtb1sgdGFibGUgXSA9IHsgfVxuICAgICAgICAgICAgICAgICAgICBtZW1vWyB0YWJsZSBdWyBrZXkuc2xpY2UoIGluZGV4ICsgMSApIF0gPSByb3dba2V5XVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVtb1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyB9XG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICB9LFxuXG4gICAgcmVzb3VyY2U6ICdtZW1iZXJzaGFyZWRlbGl2ZXJ5J1xuXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnYmFja2JvbmUnKS5Nb2RlbC5leHRlbmQoIE9iamVjdC5hc3NpZ24oIHsgfSwgcmVxdWlyZSgnLi4vLi4vLi4vbGliL015T2JqZWN0JykucHJvdG90eXBlLCB7XG5cbiAgICBwYXJzZSggbW9tZW50ICkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IG1vbWVudC5kYXlPZlllYXIoKSxcbiAgICAgICAgICAgIGRhdGU6IG1vbWVudC5mb3JtYXQoJ1lZWVktTU0tREQnKSxcbiAgICAgICAgICAgIGRheU9mV2VlazogbW9tZW50LmZvcm1hdCgnZGRkJyksXG4gICAgICAgICAgICBkYXlPZk1vbnRoOiBtb21lbnQuZm9ybWF0KCdEJyksXG4gICAgICAgICAgICBlcG9jaDogbW9tZW50LnVuaXgoKSxcbiAgICAgICAgICAgIG1vbnRoOiBtb21lbnQuZm9ybWF0KCdNTU0nKSxcbiAgICAgICAgICAgIG1vbnRoTnVtOiBtb21lbnQuZm9ybWF0KCdNJylcbiAgICAgICAgfVxuICAgIH1cblxufSApIClcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnYmFja2JvbmUnKS5Nb2RlbC5leHRlbmQoIE9iamVjdC5hc3NpZ24oIHsgfSwgcmVxdWlyZSgnLi4vLi4vLi4vbGliL015T2JqZWN0JykucHJvdG90eXBlLCB7XG5cbiAgICBkYXlPZldlZWtNYXA6IHJlcXVpcmUoJy4vRGF5T2ZXZWVrJyksXG5cbiAgICBwYXJzZSggcmVzcG9uc2UgKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKCByZXNwb25zZSwge1xuXG4gICAgICAgICAgICBkYXlPZldlZWs6IHRoaXMuZGF5T2ZXZWVrTWFwWyByZXNwb25zZS5kYXlvZndlZWsgXSxcbiAgICAgICAgICAgIHN0YXJ0dGltZTogdGhpcy5tb21lbnQoIFsgdGhpcy5tb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwgcmVzcG9uc2Uuc3RhcnR0aW1lIF0uam9pbignICcpICkuZm9ybWF0KCdoOm1tQScpLFxuICAgICAgICAgICAgZW5kdGltZTogdGhpcy5tb21lbnQoIFsgdGhpcy5tb21lbnQoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSwgcmVzcG9uc2UuZW5kdGltZSBdLmpvaW4oJyAnKSApLmZvcm1hdCgnaDptbUEnKVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgdXJsUm9vdDogXCIvZGVsaXZlcnlyb3V0ZVwiXG59ICkgKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgYXR0cmlidXRlczoge1xuICAgIH0sXG5cbiAgICBkYXRhOiB7XG4gICAgfSxcblxuICAgIG1ldGE6IHtcbiAgICAgICAga2V5OiAnX2lkJyxcbiAgICB9LFxuXG4gICAgdG9MaXN0KCBkb2N1bWVudCApIHtcbiAgICAgICAgZG9jdW1lbnQgPSBkb2N1bWVudCB8fCB0aGlzLmRhdGFcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKCBkb2N1bWVudCApLnNvcnQoKS5tYXAoIGtleSA9PiAoIHsga2V5LCB2YWx1ZTogZG9jdW1lbnRbIGtleSBdIH0gKSApXG4gICAgfSxcblxuICAgIHRvT2JqKCkge1xuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLnJlZHVjZXIoIHRoaXMuZGF0YSwgZGF0dW0gPT4gKCB7IFsgZGF0dW0ua2V5IF06IGRhdHVtLnZhbHVlIH0gKSApXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnYmFja2JvbmUnKS5Nb2RlbC5leHRlbmQoIE9iamVjdC5hc3NpZ24oIHsgfSwgcmVxdWlyZSgnLi4vLi4vLi4vbGliL015T2JqZWN0JykucHJvdG90eXBlLCB7XG4gXG4gICAgZGF5T2ZXZWVrTWFwOiByZXF1aXJlKCcuL0RlbGl2ZXJ5Um91dGUnKS5wcm90b3R5cGUuZGF5T2ZXZWVrTWFwLFxuXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5vbiggJ2NoYW5nZTpkYXlvZndlZWsnLCAoKSA9PiB0aGlzLnVwZGF0ZVJlYWRhYmxlRGF5KCkgKVxuICAgIH0sXG5cbiAgICB1cGRhdGVSZWFkYWJsZURheSgpIHtcbiAgICAgICAgdGhpcy5zZXQoIHsgZGF5T2ZXZWVrOiB0aGlzLmRheU9mV2Vla01hcFsgdGhpcy5nZXQoJ2RheW9md2VlaycpIF0gfSApXG4gICAgfVxuXG59ICkgKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgQ3NhRGVsaXZlcnk6IHJlcXVpcmUoJy4vQ3NhRGVsaXZlcnknKSxcblxuICAgIGdldEhvdXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5Dc2FEZWxpdmVyeS5nZXQoIHsgcXVlcnk6IHsgbGFiZWw6ICdmYXJtJyB9IH0gKVxuICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmFybVBpY2t1cCA9IHRoaXMuQ3NhRGVsaXZlcnkuZGF0YVswXVxuICAgICAgICAgICAgdGhpcy5kYXRhWzBdLmhvdXJzID0gYCR7ZmFybVBpY2t1cC5kYXlPZldlZWt9ICR7ZmFybVBpY2t1cC5zdGFydHRpbWV9IC0gJHtmYXJtUGlja3VwLmVuZHRpbWV9YFxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIH0gKSAgICAgICAgIFxuICAgIH0sXG5cbiAgICBwYXJzZSggcmVzcG9uc2UgKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5tYXAoIHJvdyA9PiBPYmplY3QuYXNzaWduKCB7XG4gICAgICAgICAgICBuYW1lOiAnUGljay11cCBmcm9tIG91ciBmYXJtIScsXG4gICAgICAgICAgICBzdHJlZXQ6IHJvdy5mYXJtcGlja3VwLnNwbGl0KCcsJylbMF0sXG4gICAgICAgICAgICBjaXR5U3RhdGVaaXA6IHJvdy5jaXR5U3RhdGVaaXAsXG4gICAgICAgICAgICBsb2NhdGlvbjogSlNPTi5wYXJzZSggcm93LmxvY2F0aW9uICkuY29vcmRpbmF0ZXNcbiAgICAgICAgfSApIClcbiAgICB9LFxuXG4gICAgcmVzb3VyY2U6ICdjb250YWN0aW5mbydcblxufSApIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgcGFyc2UoIHJlc3BvbnNlICkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UubWFwKCByb3cgPT4gcm93LmxvY2F0aW9uXG4gICAgICAgICAgICA/IE9iamVjdC5hc3NpZ24oIHJvdywgeyBsb2NhdGlvbjogSlNPTi5wYXJzZSggcm93LmxvY2F0aW9uICkuY29vcmRpbmF0ZXMgfSApXG4gICAgICAgICAgICA6IHJvd1xuICAgICAgICApXG4gICAgfSxcblxuICAgIHJlc291cmNlOiAnZmFybWVybWFya2V0J1xuXG59ICkiLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHt9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCB7XG5cbiAgICByZXNvdXJjZTogJ2Zvb2QnXG5cbn0gKSIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHtcblxuICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgeyBuYW1lOiAnZmFybWVyTWFya2V0JywgZWw6ICdmYXJtZXJNYXJrZXRzTGlzdCcsIGxhYmVsOiBcIkZhcm1lcidzIE1hcmtldFwiLCBjb2xvcjogJyNlZDFjMjQnIH0sXG4gICAgICAgIHsgbmFtZTogJ3JldGFpbE91dGxldCcsIGVsOiAncmV0YWlsT3V0bGV0c0xpc3QnLCBsYWJlbDogJ1JldGFpbCBPdXRsZXQnLCBjb2xvcjogJyNmZmRkMTQnIH0sXG4gICAgICAgIHsgbmFtZTogJ3Jlc3RhdXJhbnQnLCBlbDogJ3Jlc3RhdXJhbnRzTGlzdCcsIGxhYmVsOiAnUmVzdGF1cmFudCcsIGNvbG9yOiAnIzIzMWYyMCcgfSxcbiAgICAgICAgeyBuYW1lOiAnZ3JvdXBMb2NhdGlvbicsIGVsOiAnZ3JvdXBMb2NhdGlvbnNMaXN0JywgbGFiZWw6ICdHcm91cCBMb2NhdGlvbicsIGNvbG9yOiAnI2Y4OTQxZScgfSxcbiAgICAgICAgeyBuYW1lOiAnZGVsaXZlcnlSYW5nZScsIGxhYmVsOiAnRGVsaXZlcnkgUmFuZ2UnLCBjb2xvcjogJyNlZDFjMjQnIH0sXG4gICAgICAgIHsgbmFtZTogJ2Zhcm1QaWNrdXAnLCBlbDogJ2dyb3VwTG9jYXRpb25zTGlzdCcsIGxhYmVsOiAnUGF0Y2h3b3JrIEdhcmRlbnMnfVxuICAgIF0sXG5cbiAgICBkYXRhOiB7XG4gICAgICAgIGRlbGl2ZXJ5UmFuZ2VDb29yZHM6IFtcbiAgICAgICAgICAgIHsgbGF0OiAzOS44NzE0MzUsIGxuZzogLTg0LjM2Nzg4MCB9LFxuICAgICAgICAgICAgeyBsYXQ6IDM5LjkwMTEzMiwgbG5nOiAtODQuMDk3Mjc5IH0sXG4gICAgICAgICAgICB7IGxhdDogMzkuOTI2ODM0LCBsbmc6IC04My44MDY0MjAgfSxcbiAgICAgICAgICAgIHsgbGF0OiAzOS44MTMxMDYsIGxuZzogLTgzLjgxNTc1NSB9LFxuICAgICAgICAgICAgeyBsYXQ6IDM5LjcyNjc4NCwgbG5nOiAtODMuNzg4OTQxIH0sXG4gICAgICAgICAgICB7IGxhdDogMzkuNjE1MDMyLCBsbmc6IC04NC4wMDg3MDIgfSwgICAgICAgICAgIFxuICAgICAgICAgICAgeyBsYXQ6IDM5LjUyNjI2MCwgbG5nOiAtODQuMDg4OTA5IH0sXG4gICAgICAgICAgICB7IGxhdDogMzkuNTQyNTI4LCBsbmc6IC04NC4yOTM2NjAgfSxcbiAgICAgICAgICAgIHsgbGF0OiAzOS42MDEyNzgsIGxuZzogLTg0LjM2OTg3NyB9XG4gICAgICAgIF1cbiAgICB9XG5cbn0gKSIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHtcblxuICAgIHJlc291cmNlOiAnbWVtYmVyJ1xuXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHtcblxuICAgIHJlc291cmNlOiAnbWVtYmVyZm9vZG9taXNzaW9uJ1xuXG59ICkiLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHt9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCB7XG5cbiAgICBwYXJzZSggcmVzcG9uc2UgKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5tYXAoIHJvdyA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdGFydERhdGUgPSB0aGlzLm1vbWVudCggcm93WyAnc2hhcmUuc3RhcnRkYXRlJyBdICksXG4gICAgICAgICAgICAgICAgICBlbmREYXRlID0gdGhpcy5tb21lbnQoIHJvd1sgJ3NoYXJlLmVuZGRhdGUnIF0gKVxuXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoIHJvdyApLnJlZHVjZShcbiAgICAgICAgICAgICAgICAoIG1lbW8sIGtleSApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBrZXkuaW5kZXhPZignLicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZSA9IGtleS5zbGljZSgwLCBpbmRleClcblxuICAgICAgICAgICAgICAgICAgICBpZiggdGFibGUgIT09ICdzaGFyZScgKSByZXR1cm4gbWVtb1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKCBtZW1vLCB7IFsga2V5LnNsaWNlKCBpbmRleCArIDEgKSBdOiByb3dba2V5XSB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogTWF0aC5jZWlsKCBlbmREYXRlLmRpZmYoIHN0YXJ0RGF0ZSwgJ2RheXMnICkgLyA3ICksXG4gICAgICAgICAgICAgICAgICAgICAgICBodW1hbkVuZGRhdGU6IGVuZERhdGUuZm9ybWF0KFwiTU1NIERcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBodW1hblN0YXJ0ZGF0ZTogc3RhcnREYXRlLmZvcm1hdChcIk1NTSBEXCIpXG4gICAgICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyBtZW1iZXJzaGFyZWlkOiByb3dbICdtZW1iZXJzaGFyZS5pZCcgXSB9XG4gICAgICAgICAgICApXG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICByZXNvdXJjZTogJ21lbWJlcnNoYXJlJ1xufSApXG4iLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHt9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCB7XG5cbiAgICBwYXJzZSggcmVzcG9uc2UgKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UubWFwKCByb3cgPT5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKCByb3cgKS5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgKCBtZW1vLCBrZXkgKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0ga2V5LmluZGV4T2YoJy4nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlID0ga2V5LnNsaWNlKDAsIGluZGV4KVxuICAgICAgICAgICAgICAgICAgICBpZiggdGFibGUgIT09ICdzaGFyZW9wdGlvbm9wdGlvbicgKSByZXR1cm4gbWVtb1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKCBtZW1vLCB7IFsga2V5LnNsaWNlKCBpbmRleCArIDEgKSBdOiByb3dba2V5XSB9IClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHsgc2hhcmVvcHRpb25pZDogcm93WyAnbWVtYmVyc2hhcmVvcHRpb24uc2hhcmVvcHRpb25pZCcgXSwgbWVtYmVyc2hhcmVvcHRpb25pZDogcm93WyAnbWVtYmVyc2hhcmVvcHRpb24uaWQnIF0gfVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfSxcblxuICAgIHJlc291cmNlOiAnbWVtYmVyc2hhcmVvcHRpb24nXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGRhdGE6IFtcbiAgICAgICAgeyBsYWJlbDogJ0Fib3V0JywgbmFtZTogJ2Fib3V0JyB9LFxuICAgICAgICB7IGxhYmVsOiAnQ1NBIFByb2dyYW0nLCBuYW1lOiAnY3NhJyB9LFxuICAgICAgICB7IGxhYmVsOiAnTG9jYXRpb25zJywgbmFtZTogJ2xvY2F0aW9ucycgfSxcbiAgICAgICAgeyBsYWJlbDogJ0dldCBJbnZvbHZlZCcsIG5hbWU6ICdnZXQtaW52b2x2ZWQnIH0sXG4gICAgICAgIHsgbGFiZWw6ICdDb250YWN0JywgbmFtZTogJ2NvbnRhY3QnIH1cbiAgICBdXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHt9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCB7XG5cbiAgICBwYXJzZSggcmVzcG9uc2UgKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5tYXAoIHJvdyA9PlxuICAgICAgICAgICAgT2JqZWN0LmtleXMoIHJvdyApLnJlZHVjZShcbiAgICAgICAgICAgICAgICAoIG1lbW8sIGtleSApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBrZXkuaW5kZXhPZignLicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUgPSBrZXkuc2xpY2UoMCwgaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIGlmKCB0YWJsZSAhPT0gJ3NoYXJlb3B0aW9uJyApIHJldHVybiBtZW1vXG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oIG1lbW8sIHsgWyBrZXkuc2xpY2UoIGluZGV4ICsgMSApIF06IHJvd1trZXldIH0gKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyB9LFxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfSxcblxuICAgIHJlc291cmNlOiAnc2hhcmVvcHRpb25zaGFyZSdcbn0gKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgcmVzb3VyY2U6ICdwZXJzb24nXG5cbn0gKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgcGFyc2UoIHJlc3BvbnNlICkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UubWFwKCByb3cgPT4gcm93LmxvY2F0aW9uXG4gICAgICAgICAgICA/IE9iamVjdC5hc3NpZ24oIHJvdywgeyBsb2NhdGlvbjogSlNPTi5wYXJzZSggcm93LmxvY2F0aW9uICkuY29vcmRpbmF0ZXMgfSApXG4gICAgICAgICAgICA6IHJvd1xuICAgICAgICApXG4gICAgfSxcblxuICAgIHJlc291cmNlOiAncmVzdGF1cmFudCdcblxufSApIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgcGFyc2UoIHJlc3BvbnNlICkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UubWFwKCByb3cgPT4gcm93LmxvY2F0aW9uXG4gICAgICAgICAgICA/IE9iamVjdC5hc3NpZ24oIHJvdywgeyBsb2NhdGlvbjogSlNPTi5wYXJzZSggcm93LmxvY2F0aW9uICkuY29vcmRpbmF0ZXMgfSApXG4gICAgICAgICAgICA6IHJvd1xuICAgICAgICApXG4gICAgfSxcblxuICAgIHJlc291cmNlOiAncmV0YWlsb3V0bGV0J1xuXG59ICkiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ2JhY2tib25lJykuTW9kZWwuZXh0ZW5kKCBPYmplY3QuYXNzaWduKCB7IH0sIHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9NeU9iamVjdCcpLnByb3RvdHlwZSwge1xuXG4gICAgQ29sbGVjdGlvbjogcmVxdWlyZSgnYmFja2JvbmUnKS5Db2xsZWN0aW9uLFxuXG4gICAgRGVsaXZlcnlEYXRlOiByZXF1aXJlKCcuL0RlbGl2ZXJ5RGF0ZScpLFxuXG4gICAgRHJvcG9mZjogcmVxdWlyZSgnLi9Ecm9wb2ZmJyksXG5cbiAgICBkYXlPZldlZWtNYXA6IHJlcXVpcmUoJy4vRGVsaXZlcnlSb3V0ZScpLnByb3RvdHlwZS5kYXlPZldlZWtNYXAsXG5cbiAgICBkZXRlcm1pbmVOZXh0RGVsaXZlcnlDdXRvZmYoIGRheU9mV2VlayApIHtcbiAgICAgICAgY29uc3QgbmV4dERlbGl2ZXJ5RGF5ID0gZGF5T2ZXZWVrID4gNCA/IDE1IDogOFxuICAgICAgICByZXR1cm4gdGhpcy5tb21lbnQoKS5kYXkoIG5leHREZWxpdmVyeURheSApLmhvdXIoMCkubWludXRlKDApLnNlY29uZCgwKS5taWxsaXNlY29uZCgwKVxuICAgIH0sXG5cbiAgICBnZXREZWxpdmVyeURhdGVzKCkge1xuICAgICAgICB2YXIgZGF0ZXMgPSBbIF0sXG4gICAgICAgICAgICBub3cgPSB0aGlzLm1vbWVudCgpLFxuICAgICAgICAgICAgZGVsaXZlcnlEYXkgPSB0aGlzLmdldCgnc2VsZWN0ZWREZWxpdmVyeScpLmRheW9md2VlayxcbiAgICAgICAgICAgIGRlbGl2ZXJ5RGF0ZSA9IHRoaXMubW9tZW50KCB0aGlzLmdldCgnc3RhcnRkYXRlJykgKSxcbiAgICAgICAgICAgIGVuZERhdGUgPSB0aGlzLm1vbWVudCggdGhpcy5nZXQoJ2VuZGRhdGUnKSApLFxuICAgICAgICAgICAgbmV4dERlbGl2ZXJ5Q3V0b2ZmID0gdGhpcy5kZXRlcm1pbmVOZXh0RGVsaXZlcnlDdXRvZmYoIG5vdy5kYXkoKSApLFxuICAgICAgICAgICAgc3RhcnREYXkgPSBzdGFydERheSA9IGRlbGl2ZXJ5RGF0ZS5kYXkoKVxuXG4gICAgICAgIGlmKCAhIE51bWJlci5pc0ludGVnZXIoIGRlbGl2ZXJ5RGF5ICkgKSByZXR1cm4gbmV3IHRoaXMuQ29sbGVjdGlvbihbXSlcblxuICAgICAgICB3aGlsZSggc3RhcnREYXkgIT0gZGVsaXZlcnlEYXkgKSB7XG4gICAgICAgICAgICBkZWxpdmVyeURhdGUuYWRkKCAxLCAnZGF5cycgKVxuICAgICAgICAgICAgc3RhcnREYXkgPSB0aGlzLm1vbWVudCggZGVsaXZlcnlEYXRlICkuZGF5KClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgd2hpbGUoIGVuZERhdGUuZGlmZiggZGVsaXZlcnlEYXRlLCAnZGF5cycgKSA+PSAwICkge1xuICAgICAgICAgICAgdmFyIG1vZGVsID0gbmV3IHRoaXMuRGVsaXZlcnlEYXRlKCBkZWxpdmVyeURhdGUsIHsgcGFyc2U6IHRydWUgfSApXG4gICAgICAgICAgICBpZiggZGVsaXZlcnlEYXRlLmRpZmYoIG5leHREZWxpdmVyeUN1dG9mZiApIDwgMCApIG1vZGVsLnNldCggeyB1bnNlbGVjdGFibGU6IHRydWUgfSApXG4gICAgICAgICAgICBkYXRlcy5wdXNoKCBtb2RlbCApXG4gICAgICAgICAgICBkZWxpdmVyeURhdGUuYWRkKCA3LCAnZGF5cycgKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnNldCggeyBkZWxpdmVyeURhdGVzOiBuZXcgdGhpcy5Db2xsZWN0aW9uKCBkYXRlcyApIH0gKVxuXG4gICAgICAgIHJldHVybiB0aGlzLmdldCgnZGVsaXZlcnlEYXRlcycpXG4gICAgfSxcblxuICAgIGdldERlbGl2ZXJ5T3B0aW9ucygpIHtcblxuICAgICAgICBpZiggdGhpcy5oYXMoJ2RlbGl2ZXJ5b3B0aW9ucycpICkgcmV0dXJuIHRoaXMuUSggdGhpcy5nZXQoJ2RlbGl2ZXJ5b3B0aW9ucycpIClcblxuICAgICAgICByZXR1cm4gdGhpcy5RKCBuZXcgKCB0aGlzLkNvbGxlY3Rpb24uZXh0ZW5kKCB7IHVybDogXCIvc2hhcmVkZWxpdmVyeW9wdGlvblwiIH0gKSApKCkuZmV0Y2goIHsgZGF0YTogeyBzaGFyZWlkOiB0aGlzLmlkIH0gfSApIClcbiAgICAgICAgLnRoZW4oIG1hcHBpbmdzID0+IHtcbiAgICAgICAgICAgIHZhciBkZWxpdmVyeU9wdGlvbnMgPSBuZXcgKCB0aGlzLkNvbGxlY3Rpb24uZXh0ZW5kKCB7IHVybDogXCIvZGVsaXZlcnlvcHRpb25cIiB9ICkgKSgpXG5cbiAgICAgICAgICAgIHRoaXMuc2V0KCB7IGRlbGl2ZXJ5b3B0aW9uczogZGVsaXZlcnlPcHRpb25zIH0gKVxuXG4gICAgICAgICAgICBpZiggbWFwcGluZ3MubGVuZ3RoID09PSAwICkgcmV0dXJuIHRoaXMuUSgpXG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLlEoIGRlbGl2ZXJ5T3B0aW9ucy5mZXRjaCggeyBkYXRhOiB7IGlkOiBtYXBwaW5ncy5tYXAoIHJlY29yZCA9PiByZWNvcmQuZGVsaXZlcnlvcHRpb25pZCApLmpvaW4oJywnKSB9IH0gKSApXG4gICAgICAgIH0gKVxuICAgICAgICAuZmFpbCggZSA9PiBjb25zb2xlLmxvZyggXCJHZXR0aW5nIERlbGl2ZXJ5IE9wdGlvbnMgOiBcIiArIGUuc3RhY2sgfHwgZSApIClcbiAgICB9LFxuXG4gICAgZ2V0R3JvdXBEcm9wb2ZmcygpIHtcbiAgICAgICAgdmFyIG1hcHBpbmdzID0gbmV3ICggdGhpcy5Db2xsZWN0aW9uLmV4dGVuZCggeyB1cmw6IFwiL3NoYXJlZ3JvdXBkcm9wb2ZmXCIgfSApICkoKVxuXG4gICAgICAgIGlmKCB0aGlzLmhhcygnZ3JvdXBkcm9wb2ZmcycpICkgcmV0dXJuIHRoaXMuUSggdGhpcy5nZXQoJ2dyb3VwZHJvcG9mZnMnKSApXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuUSggbWFwcGluZ3MuZmV0Y2goIHsgZGF0YTogeyBzaGFyZWlkOiB0aGlzLmlkIH0gfSApIClcbiAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgIHZhciBncm91cERyb3BvZmZzXG5cbiAgICAgICAgICAgIGlmKCBtYXBwaW5ncy5sZW5ndGggPT09IDAgKSByZXR1cm5cblxuICAgICAgICAgICAgZ3JvdXBEcm9wb2ZmcyA9IG5ldyAoIHRoaXMuQ29sbGVjdGlvbi5leHRlbmQoIHsgbW9kZWw6IHRoaXMuRHJvcG9mZiwgdXJsOiBcIi9ncm91cGRyb3BvZmZcIiB9ICkgKSgpXG4gICAgICAgICAgICB0aGlzLnNldCggeyBncm91cGRyb3BvZmZzOiBncm91cERyb3BvZmZzIH0gKVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5RKCBncm91cERyb3BvZmZzLmZldGNoKCB7IGRhdGE6IHsgaWQ6IG1hcHBpbmdzLm1hcCggcmVjb3JkID0+IHJlY29yZC5nZXQoJ2dyb3VwZHJvcG9mZmlkJykgKS5qb2luKCcsJykgfSB9ICkgKVxuICAgICAgICB9IClcbiAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoIG1hcHBpbmdzLmxlbmd0aCA9PT0gMCApIHJldHVybiB0aGlzLnNldCggJ2dyb3VwZHJvcG9mZnMnLCBbXSApXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5nZXQoJ2dyb3VwZHJvcG9mZnMnKS5mb3JFYWNoKCBkcm9wb2ZmID0+IHsgXG4gICAgICAgICAgICAgICAgdmFyIG1hcHBpbmcgPSBtYXBwaW5ncy5maW5kKCBtb2RlbCA9PiBtb2RlbC5nZXQoJ2dyb3VwZHJvcG9mZmlkJykgPT0gZHJvcG9mZi5pZCApXG5cbiAgICAgICAgICAgICAgICBkcm9wb2ZmLnNldCgge1xuICAgICAgICAgICAgICAgICAgICBkYXlvZndlZWs6IG1hcHBpbmcuZ2V0KCdkYXlvZndlZWsnKSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnR0aW1lOiB0aGlzLnRpbWVUb0h1bWFuVGltZSggbWFwcGluZy5nZXQoJ3N0YXJ0dGltZScpICksXG4gICAgICAgICAgICAgICAgICAgIGVuZHRpbWU6IHRoaXMudGltZVRvSHVtYW5UaW1lKCBtYXBwaW5nLmdldCgnZW5kdGltZScpIClcbiAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgIH0gKSBcbiAgICAgICAgfSApXG4gICAgICAgIC5mYWlsKCBlID0+IGNvbnNvbGUubG9nKCBcIkdldHRpbmcgR3JvdXAgRHJvcG9mZnMgOiBcIiArIGUuc3RhY2sgfHwgZSApIClcbiAgICB9LFxuXG4gICAgZ2V0U2VsZWN0ZWREYXRlcygpIHtcbiAgICAgICAgdGhpcy5zZXQoIHsgc2VsZWN0ZWREYXRlczpcbiAgICAgICAgICAgIHRoaXMuXyggdGhpcy5nZXQoJ2RlbGl2ZXJ5RGF0ZXMnKVxuICAgICAgICAgICAgICAgIC5yZWplY3QoIGRlbGl2ZXJ5RGF5ID0+IGRlbGl2ZXJ5RGF5LmdldCgndW5zZWxlY3RhYmxlJykgKSApXG4gICAgICAgICAgICAgICAgLnJlamVjdCggZGVsaXZlcnlEYXkgPT4gdGhpcy5fKHRoaXMuZ2V0KCdza2lwRGF5cycpKS5jb250YWlucyggZGVsaXZlcnlEYXkuaWQgKSApXG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBnZXRTaGFyZU9wdGlvbnMoKSB7XG4gICAgICAgIFxuICAgICAgICBpZiggdGhpcy5oYXMoJ3NoYXJlb3B0aW9ucycpICkgcmV0dXJuIHRoaXMuUSggdGhpcy5nZXQoJ3NoYXJlb3B0aW9ucycpIClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXMuUSggbmV3ICggdGhpcy5Db2xsZWN0aW9uLmV4dGVuZCggeyB1cmw6IFwiL3NoYXJlb3B0aW9uc2hhcmVcIiB9ICkgKSgpLmZldGNoKCB7IGRhdGE6IHsgc2hhcmVpZDogdGhpcy5pZCB9IH0gKSApXG4gICAgICAgIC50aGVuKCBtYXBwaW5ncyA9PiB7XG4gICAgICAgICAgICB2YXIgc2hhcmVPcHRpb25zXG5cbiAgICAgICAgICAgIGlmKCBtYXBwaW5ncy5sZW5ndGggPT09IDAgKSByZXR1cm5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2hhcmVPcHRpb25zID0gbmV3ICggdGhpcy5Db2xsZWN0aW9uLmV4dGVuZCggeyB1cmw6IFwiL3NoYXJlb3B0aW9uXCIgfSApICkoKVxuICAgICAgICAgICAgdGhpcy5zZXQoIHsgc2hhcmVvcHRpb25zOiBzaGFyZU9wdGlvbnMgfSApXG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLlEoIHNoYXJlT3B0aW9ucy5mZXRjaCggeyBkYXRhOiB7IGlkOiBtYXBwaW5ncy5tYXAoIHJlY29yZCA9PiByZWNvcmQuc2hhcmVvcHRpb25pZCApLmpvaW4oJywnKSB9IH0gKSApXG4gICAgICAgIH0gKVxuICAgICAgICAudGhlbiggKCkgPT5cbiAgICAgICAgICAgIHRoaXMuUS5hbGwoIHRoaXMuZ2V0KCdzaGFyZW9wdGlvbnMnKS5tYXAoIHNoYXJlT3B0aW9uID0+IHtcbiAgICAgICAgICAgICAgICBzaGFyZU9wdGlvbi5zZXQoIHsgb3B0aW9uczogbmV3ICggdGhpcy5Db2xsZWN0aW9uLmV4dGVuZCggeyBjb21wYXJhdG9yOiB0aGlzLnNoYXJlT3B0aW9uT3B0aW9uQ29tcGFyYXRvciwgdXJsOiBcIi9zaGFyZW9wdGlvbm9wdGlvblwiIH0gKSApKCkgfSApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuUSggc2hhcmVPcHRpb24uZ2V0KCdvcHRpb25zJykuZmV0Y2goIHsgZGF0YTogeyBzaGFyZW9wdGlvbmlkOiBzaGFyZU9wdGlvbi5pZCB9IH0gKSApXG4gICAgICAgICAgICB9ICkgKVxuICAgICAgICApXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdldCgnc2hhcmVvcHRpb25zJykuY29tcGFyYXRvciA9IHRoaXMuc2hhcmVPcHRpb25Db21wYXJhdG9yXG4gICAgICAgICAgICB0aGlzLmdldCgnc2hhcmVvcHRpb25zJykuc29ydCgpXG4gICAgICAgIH0gKVxuICAgICAgICAuZmFpbCggZSA9PiBjb25zb2xlLmxvZyggXCJHZXR0aW5nIFNoYXJlIE9wdGlvbnMgOiBcIiArIGUuc3RhY2sgfHwgZSApIClcbiAgICB9LFxuXG4gICAgbW9uZXlUb0Zsb2F0KCBtb25leSApIHsgcmV0dXJuIHBhcnNlRmxvYXQoIG1vbmV5LnJlcGxhY2UoL1xcJHwsL2csIFwiXCIpICkgfSxcblxuICAgIHBhcnNlKCByZXNwb25zZSApIHtcbiAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9IHRoaXMubW9tZW50KCByZXNwb25zZS5zdGFydGRhdGUgKSxcbiAgICAgICAgICAgIGVuZERhdGUgPSB0aGlzLm1vbWVudCggcmVzcG9uc2UuZW5kZGF0ZSApXG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oIHJlc3BvbnNlLCB7XG4gICAgICAgICAgICBkdXJhdGlvbjogTWF0aC5jZWlsKCBlbmREYXRlLmRpZmYoIHN0YXJ0RGF0ZSwgJ2RheXMnICkgLyA3ICksXG4gICAgICAgICAgICBodW1hbkVuZGRhdGU6IGVuZERhdGUuZm9ybWF0KFwiTU1NIERcIiksXG4gICAgICAgICAgICBodW1hblN0YXJ0ZGF0ZTogc3RhcnREYXRlLmZvcm1hdChcIk1NTSBEXCIpLFxuICAgICAgICAgICAgc3RhcnRFcG9jaDogc3RhcnREYXRlLnVuaXgoKVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgc2hhcmVPcHRpb25Db21wYXJhdG9yKCBhLCBiICkge1xuICAgICAgICB2YXIgbW9uZXlUb0Zsb2F0ID0gKCBtb25leSApID0+IHBhcnNlRmxvYXQoIG1vbmV5LnJlcGxhY2UoL1xcJHwsL2csIFwiXCIpICksXG4gICAgICAgICAgICBhVmFsID0gbW9uZXlUb0Zsb2F0KCBhLmdldCgnb3B0aW9ucycpLmF0KCBhLmdldCgnb3B0aW9ucycpLmxlbmd0aCAtIDEgKS5nZXQoJ3ByaWNlJykgKSxcbiAgICAgICAgICAgIGJWYWwgPSBtb25leVRvRmxvYXQoIGIuZ2V0KCdvcHRpb25zJykuYXQoIGIuZ2V0KCdvcHRpb25zJykubGVuZ3RoIC0gMSApLmdldCgncHJpY2UnKSApXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gKCBhVmFsID4gYlZhbCApXG4gICAgICAgICAgICA/IC0xXG4gICAgICAgICAgICA6ICggYlZhbCA+IGFWYWwgKVxuICAgICAgICAgICAgICAgID8gMVxuICAgICAgICAgICAgICAgIDogMFxuICAgIH0sXG5cbiAgICBzaGFyZU9wdGlvbk9wdGlvbkNvbXBhcmF0b3IoIGEsIGIgKSB7XG4gICAgICAgIHZhciBtb25leVRvRmxvYXQgPSAoIG1vbmV5ICkgPT4gcGFyc2VGbG9hdCggbW9uZXkucmVwbGFjZSgvXFwkfCwvZywgXCJcIikgKSxcbiAgICAgICAgICAgIGFWYWwgPSBtb25leVRvRmxvYXQoIGEuZ2V0KCdwcmljZScpICksXG4gICAgICAgICAgICBiVmFsID0gbW9uZXlUb0Zsb2F0KCBiLmdldCgncHJpY2UnKSApXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gKCBhVmFsID4gYlZhbCApXG4gICAgICAgICAgICA/IDFcbiAgICAgICAgICAgIDogKCBiVmFsID4gYVZhbCApXG4gICAgICAgICAgICAgICAgPyAtMVxuICAgICAgICAgICAgICAgIDogMFxuICAgIH0sXG5cbiAgICB0aW1lVG9IdW1hblRpbWUoIHRpbWUgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vbWVudCggWyAnMjAxNi0xMi0xMicsIHRpbWUgXS5qb2luKCcgJykgKS5mb3JtYXQoJ2g6bW1BJykgXG4gICAgfVxuXG59ICkgKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgZGF5T2ZXZWVrTWFwOiByZXF1aXJlKCcuL0RheU9mV2VlaycpLFxuXG4gICAgcGFyc2UoIHJlc3BvbnNlICkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UubWFwKCByb3cgPT5cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oIHJvdywge1xuICAgICAgICAgICAgICAgIGRheW9md2VlazogdGhpcy5kYXlPZldlZWtNYXBbIHJvd1sgJ3NoYXJlZ3JvdXBkcm9wb2ZmLmRheW9md2VlaycgXSB8fCByb3cuZGF5b2Z3ZWVrIF0sXG4gICAgICAgICAgICAgICAgc3RhcnR0aW1lOiB0aGlzLm1vbWVudCggWyB0aGlzLm1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLCByb3dbICdzaGFyZWdyb3VwZHJvcG9mZi5zdGFydHRpbWUnIF0gfHwgcm93LnN0YXJ0dGltZSBdLmpvaW4oJyAnKSApLmZvcm1hdCgnaDptbUEnKSxcbiAgICAgICAgICAgICAgICBlbmR0aW1lOiB0aGlzLm1vbWVudCggWyB0aGlzLm1vbWVudCgpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLCByb3dbICdzaGFyZWdyb3VwZHJvcG9mZi5lbmR0aW1lJyBdIHx8IHJvdy5lbmR0aW1lIF0uam9pbignICcpICkuZm9ybWF0KCdoOm1tQScpLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiByb3cubG9jYXRpb24gPyBKU09OLnBhcnNlKCByb3cubG9jYXRpb24gKS5jb29yZGluYXRlcyA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSApXG4gICAgICAgIClcbiAgICB9LFxuXG4gICAgcmVzb3VyY2U6ICdzaGFyZWdyb3VwZHJvcG9mZidcblxufSApIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgcmVzb3VyY2U6ICdzaGFyZW9wdGlvbm9wdGlvbidcbn0gKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBuZXcgKCByZXF1aXJlKCdiYWNrYm9uZScpLk1vZGVsLmV4dGVuZCgge1xuXG4gICAgZGVmYXVsdHM6IGZ1bmN0aW9uKCkgeyByZXR1cm4geyBzdGF0ZToge30gfSB9LFxuXG4gICAgaXNBZG1pbigpIHtcbiAgICAgICAgY29uc3Qgcm9sZXMgPSB0aGlzLmdldCgncm9sZXMnKVxuXG4gICAgICAgIGlmKCAhIEFycmF5LmlzQXJyYXkoIHJvbGVzICkgKSByZXR1cm4gZmFsc2VcblxuICAgICAgICByZXR1cm4gcm9sZXMuaW5jbHVkZXMoICdhZG1pbicgKVxuICAgIH0sXG5cbiAgICBpc0xvZ2dlZEluKCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbiggdGhpcy5pZCAmJiB0aGlzLmdldCgnZW1haWxWZXJpZmllZCcpIClcbiAgICB9LFxuXG4gICAgdXJsKCkgeyByZXR1cm4gXCIvdXNlclwiIH1cblxufSApICkoKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7IH0sIHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9Nb2RlbCcpLCByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cbiAgICBYaHI6IHJlcXVpcmUoJy4uL1hocicpLFxuXG4gICAgYWRkKCBkYXR1bSApIHtcbiAgICAgICAgdGhpcy5kYXRhLnB1c2goIGRhdHVtIClcblxuICAgICAgICBpZiggdGhpcy5zdG9yZUJ5ICkgdGhpcy5fc3RvcmVPbmUoIGRhdHVtIClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICBkZWxldGUoKSB7XG4gICAgICAgIGNvbnN0IGtleVZhbHVlID0gdGhpcy5kYXRhWyB0aGlzLm1ldGEua2V5IF1cblxuICAgICAgICByZXR1cm4gdGhpcy5YaHIoIHsgbWV0aG9kOiAnREVMRVRFJywgcmVzb3VyY2U6IHRoaXMucmVzb3VyY2UsIGlkOiBrZXlWYWx1ZSB9IClcbiAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHRoaXMubWV0YS5rZXlcblxuICAgICAgICAgICAgaWYoIEFycmF5LmlzQXJyYXkoIHRoaXMuZGF0YSApICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdHVtID0gdGhpcy5kYXRhLmZpbmQoIGRhdHVtID0+IGRhdHVtWyBrZXkgXSA9PSBrZXlWYWx1ZSApXG5cbiAgICAgICAgICAgICAgICBpZiggdGhpcy5zdG9yZSApIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoIHRoaXMuc3RvcmUgKS5mb3JFYWNoKCBhdHRyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmVbIGF0dHIgXVsgZGF0dW1bIGF0dHIgXSBdID0gdGhpcy5zdG9yZVsgYXR0ciBdWyBkYXR1bVsgYXR0ciBdIF0uZmlsdGVyKCBkYXR1bSA9PiBkYXR1bVsga2V5IF0gIT0ga2V5VmFsdWUgKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMuc3RvcmVbIGF0dHIgXVsgZGF0dW1bIGF0dHIgXSBdLmxlbmd0aCA9PT0gMCApIHsgdGhpcy5zdG9yZVsgYXR0ciBdWyBkYXR1bVsgYXR0ciBdIF0gPSB1bmRlZmluZWQgfVxuICAgICAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmRhdGEuZmlsdGVyKCBkYXR1bSA9PiBkYXR1bVsga2V5IF0gIT0ga2V5VmFsdWUgKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCB0aGlzLmRhdGEgKVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgZ2V0KCBvcHRzPXsgcXVlcnk6e30gfSApIHtcbiAgICAgICAgaWYoIG9wdHMucXVlcnkgfHwgdGhpcy5wYWdpbmF0aW9uICkgT2JqZWN0LmFzc2lnbiggb3B0cy5xdWVyeSwgdGhpcy5wYWdpbmF0aW9uIClcbiAgICAgICAgcmV0dXJuIHRoaXMuWGhyKCB7IG1ldGhvZDogb3B0cy5tZXRob2QgfHwgJ2dldCcsIHJlc291cmNlOiBvcHRzLnJlc291cmNlIHx8IHRoaXMucmVzb3VyY2UsIGhlYWRlcnM6IHRoaXMuaGVhZGVycyB8fCB7fSwgcXM6IG9wdHMucXVlcnkgPyBKU09OLnN0cmluZ2lmeSggb3B0cy5xdWVyeSApIDogdW5kZWZpbmVkIH0gKVxuICAgICAgICAudGhlbiggcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYoIG9wdHMuc3RvcmVCeSApIHRoaXMuX3Jlc2V0U3RvcmUoIG9wdHMuc3RvcmVCeSApXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLnBhcnNlID8gdGhpcy5wYXJzZSggcmVzcG9uc2UgKSA6IHJlc3BvbnNlXG4gICAgICAgICAgICBpZiggb3B0cy5zdG9yZUJ5ICkgdGhpcy5fc3RvcmUoKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSggdGhpcy5kYXRhIClcbiAgICAgICAgfSApXG4gICAgfSxcblxuICAgIGdldENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5YaHIoIHsgbWV0aG9kOiAnZ2V0JywgcmVzb3VyY2U6IHRoaXMucmVzb3VyY2UsIGhlYWRlcnM6IHRoaXMuaGVhZGVycyB8fCB7fSwgcXM6IEpTT04uc3RyaW5naWZ5KCB7IGNvdW50T25seTogdHJ1ZSB9ICkgfSApXG4gICAgICAgIC50aGVuKCByZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IEFycmF5LmlzQXJyYXkoIHJlc3BvbnNlICkgPyByZXNwb25zZVswXS5jb3VudCA6IHJlc3BvbnNlLnJlc3VsdFxuICAgICAgICAgICAgdGhpcy5tZXRhLmNvdW50ID0gY291bnRcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoIGNvdW50IClcbiAgICAgICAgfSApXG4gICAgfSxcblxuICAgIGdpdCggYXR0ciApIHsgcmV0dXJuIHRoaXMuZGF0YVsgYXR0ciBdIH0sXG5cbiAgICBtb25leVRvUmVhbCggcHJpY2UgKSB7IHJldHVybiBwYXJzZUZsb2F0KCBwcmljZS5yZXBsYWNlKCAvXFwkfCwvZywgXCJcIiApICkgfSxcblxuICAgIHBhdGNoKCBpZCwgZGF0YSApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWGhyKCB7IG1ldGhvZDogJ3BhdGNoJywgaWQsIHJlc291cmNlOiB0aGlzLnJlc291cmNlLCBoZWFkZXJzOiBPYmplY3QuYXNzaWduKCB7IHYyOiB0cnVlIH0sIHRoaXMuaGVhZGVycyB8fCB7fSApLCBkYXRhOiBKU09OLnN0cmluZ2lmeSggZGF0YSB8fCB0aGlzLmRhdGEgKSB9IClcbiAgICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgXG4gICAgICAgICAgICBpZiggQXJyYXkuaXNBcnJheSggdGhpcy5kYXRhICkgKSB7IFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZGF0YSA/IHRoaXMuZGF0YS5jb25jYXQoIHJlc3BvbnNlICkgOiBbIHJlc3BvbnNlIF1cbiAgICAgICAgICAgICAgICBpZiggdGhpcy5zdG9yZSApIE9iamVjdC5rZXlzKCB0aGlzLnN0b3JlICkuZm9yRWFjaCggYXR0ciA9PiB0aGlzLl9zdG9yZSggcmVzcG9uc2UsIGF0dHIgKSApXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHJlc3BvbnNlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoIHJlc3BvbnNlIClcbiAgICAgICAgfSApXG4gICAgfSxcblxuICAgIF9wdXQoIGtleVZhbHVlLCBkYXRhICkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5kYXRhLmZpbmQoIGRhdHVtID0+IGRhdHVtWyB0aGlzLm1ldGEua2V5IF0gPT0ga2V5VmFsdWUgKTtcbiAgICAgICAgaWYoIGl0ZW0gKSB7IE9iamVjdC5rZXlzKCBkYXRhICkuZm9yRWFjaCgga2V5ID0+IGl0ZW1ba2V5XSA9IGRhdGFba2V5XSApIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgcHV0KCBpZCwgZGF0YSApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWGhyKCB7IG1ldGhvZDogJ3B1dCcsIGlkLCByZXNvdXJjZTogdGhpcy5yZXNvdXJjZSwgaGVhZGVyczogdGhpcy5oZWFkZXJzIHx8IHt9LCBkYXRhOiBKU09OLnN0cmluZ2lmeSggZGF0YSApIH0gKVxuICAgICAgICAudGhlbiggcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKCBBcnJheS5pc0FycmF5KCB0aGlzLmRhdGEgKSApIHsgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHJlc3BvbnNlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoIHJlc3BvbnNlIClcbiAgICAgICAgfSApXG4gICAgfSxcblxuICAgIHBvc3QoIG1vZGVsICkge1xuICAgICAgICByZXR1cm4gdGhpcy5YaHIoIHsgbWV0aG9kOiAncG9zdCcsIHJlc291cmNlOiB0aGlzLnJlc291cmNlLCBoZWFkZXJzOiBPYmplY3QuYXNzaWduKCB7IHYyOiB0cnVlIH0sIHRoaXMuaGVhZGVycyB8fCB7fSApLCBkYXRhOiBKU09OLnN0cmluZ2lmeSggbW9kZWwgfHwgdGhpcy5kYXRhICkgfSApXG4gICAgICAgIC50aGVuKCByZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKCBBcnJheS5pc0FycmF5KCB0aGlzLmRhdGEgKSApIHsgXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5kYXRhID8gdGhpcy5kYXRhLmNvbmNhdCggcmVzcG9uc2UgKSA6IFsgcmVzcG9uc2UgXVxuICAgICAgICAgICAgICAgIGlmKCB0aGlzLnN0b3JlICkgT2JqZWN0LmtleXMoIHRoaXMuc3RvcmUgKS5mb3JFYWNoKCBhdHRyID0+IHRoaXMuX3N0b3JlKCByZXNwb25zZSwgYXR0ciApIClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gcmVzcG9uc2VcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSggcmVzcG9uc2UgKVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgcmVtb3ZlKCBpdGVtICkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuZGF0YS5maW5kSW5kZXgoIGRhdHVtID0+IEpTT04uc3RyaW5naWZ5KCBkYXR1bSApID09PSBKU09OLnN0cmluZ2lmeSggaXRlbSApIClcblxuICAgICAgICBpZiggaW5kZXggPT09IC0xICkgcmV0dXJuXG5cbiAgICAgICAgdGhpcy5kYXRhLnNwbGljZSggaW5kZXgsIDEgKVxuICAgIH0sXG5cbiAgICBzZXQoIGF0dHIsIHZhbHVlICkge1xuICAgICAgICB0aGlzLmRhdGFbIGF0dHIgXSA9IHZhbHVlXG4gICAgICAgIHRoaXMuZW1pdCggYCR7YXR0cn1DaGFuZ2VkYCApXG4gICAgfSxcblxuICAgIHZhbGlkYXRlKCBkYXRhICkge1xuICAgICAgICBsZXQgdmFsaWQgPSB0cnVlXG4gICAgICAgXG4gICAgICAgIE9iamVjdC5rZXlzKCBkYXRhICkuZm9yRWFjaCggbmFtZSA9PiB7IFxuICAgICAgICAgICAgY29uc3QgdmFsID0gZGF0YVsgbmFtZSBdLFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZSA9IHRoaXMuYXR0cmlidXRlcy5maW5kKCBhdHRyID0+IGF0dHIubmFtZSA9PT0gbmFtZSApICAgICAgIFxuICAgIFxuICAgICAgICAgICAgaWYoIGF0dHJpYnV0ZSA9PT0gdW5kZWZpbmVkIHx8ICFhdHRyaWJ1dGUudmFsaWRhdGUgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhWyBuYW1lIF0gPSB2YWxcbiAgICAgICAgICAgICAgICAgICAgPyB0eXBlb2YgdmFsID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICAgICAgID8gdmFsLnRyaW0oKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICA6IHZhbFxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfSBlbHNlIGlmKCB2YWxpZCAmJiAhdGhpcy52YWxpZGF0ZURhdHVtKCBhdHRyaWJ1dGUsIHZhbCApICkge1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCggJ3ZhbGlkYXRpb25FcnJvcicsIGF0dHJpYnV0ZSApXG4gICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZVxuICAgICAgICAgICAgfSBlbHNlIGlmKCB0aGlzLnZhbGlkYXRlRGF0dW0oIGF0dHJpYnV0ZSwgdmFsICkgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhWyBuYW1lIF0gPSB2YWwudHJpbSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKVxuXG4gICAgICAgIHJldHVybiB2YWxpZFxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZURhdHVtKCBhdHRyLCB2YWwgKSB7XG4gICAgICAgIHJldHVybiBhdHRyLnZhbGlkYXRlLmNhbGwoIHRoaXMsIHZhbC50cmltKCkgKVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZVJlcGVhdFBhc3N3b3JkKCkge1xuICAgICAgICBsZXQgdmFsaWQgPSB0cnVlXG5cbiAgICAgICAgaWYoIHRoaXMuZGF0YS5yZXBlYXRQYXNzd29yZCAhPT0gdGhpcy5kYXRhLnBhc3N3b3JkICkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCAndmFsaWRhdGlvbkVycm9yJywgdGhpcy5hdHRyaWJ1dGVzLmZpbmQoIGF0dHIgPT4gYXR0ci5uYW1lID09PSAncmVwZWF0UGFzc3dvcmQnICkgKVxuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbGlkXG4gICAgfVxuXG59IClcbiIsIi8qISB2ZXJzaW9uIDogNC4xNy4zN1xuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuIGJvb3RzdHJhcC1kYXRldGltZWpzXG4gaHR0cHM6Ly9naXRodWIuY29tL0VvbmFzZGFuL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlclxuIENvcHlyaWdodCAoYykgMjAxNSBKb25hdGhhbiBQZXRlcnNvblxuID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICovXG4vKlxuIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxuXG4gQ29weXJpZ2h0IChjKSAyMDE1IEpvbmF0aGFuIFBldGVyc29uXG5cbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuIFRIRSBTT0ZUV0FSRS5cbiAqL1xuLypnbG9iYWwgZGVmaW5lOmZhbHNlICovXG4vKmdsb2JhbCBleHBvcnRzOmZhbHNlICovXG4vKmdsb2JhbCByZXF1aXJlOmZhbHNlICovXG4vKmdsb2JhbCBqUXVlcnk6ZmFsc2UgKi9cbi8qZ2xvYmFsIG1vbWVudDpmYWxzZSAqL1xuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1EIGlzIHVzZWQgLSBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoWydqcXVlcnknLCAnbW9tZW50J10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JyksIHJlcXVpcmUoJ21vbWVudCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBOZWl0aGVyIEFNRCBub3IgQ29tbW9uSlMgdXNlZC4gVXNlIGdsb2JhbCB2YXJpYWJsZXMuXG4gICAgICAgIGlmICh0eXBlb2YgalF1ZXJ5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgJ2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlciByZXF1aXJlcyBqUXVlcnkgdG8gYmUgbG9hZGVkIGZpcnN0JztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG1vbWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93ICdib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIgcmVxdWlyZXMgTW9tZW50LmpzIHRvIGJlIGxvYWRlZCBmaXJzdCc7XG4gICAgICAgIH1cbiAgICAgICAgZmFjdG9yeShqUXVlcnksIG1vbWVudCk7XG4gICAgfVxufShmdW5jdGlvbiAoJCwgbW9tZW50KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIGlmICghbW9tZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyIHJlcXVpcmVzIE1vbWVudC5qcyB0byBiZSBsb2FkZWQgZmlyc3QnKTtcbiAgICB9XG5cbiAgICB2YXIgZGF0ZVRpbWVQaWNrZXIgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgcGlja2VyID0ge30sXG4gICAgICAgICAgICBkYXRlLFxuICAgICAgICAgICAgdmlld0RhdGUsXG4gICAgICAgICAgICB1bnNldCA9IHRydWUsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGNvbXBvbmVudCA9IGZhbHNlLFxuICAgICAgICAgICAgd2lkZ2V0ID0gZmFsc2UsXG4gICAgICAgICAgICB1c2UyNEhvdXJzLFxuICAgICAgICAgICAgbWluVmlld01vZGVOdW1iZXIgPSAwLFxuICAgICAgICAgICAgYWN0dWFsRm9ybWF0LFxuICAgICAgICAgICAgcGFyc2VGb3JtYXRzLFxuICAgICAgICAgICAgY3VycmVudFZpZXdNb2RlLFxuICAgICAgICAgICAgZGF0ZVBpY2tlck1vZGVzID0gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xzTmFtZTogJ2RheXMnLFxuICAgICAgICAgICAgICAgICAgICBuYXZGbmM6ICdNJyxcbiAgICAgICAgICAgICAgICAgICAgbmF2U3RlcDogMVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbHNOYW1lOiAnbW9udGhzJyxcbiAgICAgICAgICAgICAgICAgICAgbmF2Rm5jOiAneScsXG4gICAgICAgICAgICAgICAgICAgIG5hdlN0ZXA6IDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xzTmFtZTogJ3llYXJzJyxcbiAgICAgICAgICAgICAgICAgICAgbmF2Rm5jOiAneScsXG4gICAgICAgICAgICAgICAgICAgIG5hdlN0ZXA6IDEwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsc05hbWU6ICdkZWNhZGVzJyxcbiAgICAgICAgICAgICAgICAgICAgbmF2Rm5jOiAneScsXG4gICAgICAgICAgICAgICAgICAgIG5hdlN0ZXA6IDEwMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB2aWV3TW9kZXMgPSBbJ2RheXMnLCAnbW9udGhzJywgJ3llYXJzJywgJ2RlY2FkZXMnXSxcbiAgICAgICAgICAgIHZlcnRpY2FsTW9kZXMgPSBbJ3RvcCcsICdib3R0b20nLCAnYXV0byddLFxuICAgICAgICAgICAgaG9yaXpvbnRhbE1vZGVzID0gWydsZWZ0JywgJ3JpZ2h0JywgJ2F1dG8nXSxcbiAgICAgICAgICAgIHRvb2xiYXJQbGFjZW1lbnRzID0gWydkZWZhdWx0JywgJ3RvcCcsICdib3R0b20nXSxcbiAgICAgICAgICAgIGtleU1hcCA9IHtcbiAgICAgICAgICAgICAgICAndXAnOiAzOCxcbiAgICAgICAgICAgICAgICAzODogJ3VwJyxcbiAgICAgICAgICAgICAgICAnZG93bic6IDQwLFxuICAgICAgICAgICAgICAgIDQwOiAnZG93bicsXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiAzNyxcbiAgICAgICAgICAgICAgICAzNzogJ2xlZnQnLFxuICAgICAgICAgICAgICAgICdyaWdodCc6IDM5LFxuICAgICAgICAgICAgICAgIDM5OiAncmlnaHQnLFxuICAgICAgICAgICAgICAgICd0YWInOiA5LFxuICAgICAgICAgICAgICAgIDk6ICd0YWInLFxuICAgICAgICAgICAgICAgICdlc2NhcGUnOiAyNyxcbiAgICAgICAgICAgICAgICAyNzogJ2VzY2FwZScsXG4gICAgICAgICAgICAgICAgJ2VudGVyJzogMTMsXG4gICAgICAgICAgICAgICAgMTM6ICdlbnRlcicsXG4gICAgICAgICAgICAgICAgJ3BhZ2VVcCc6IDMzLFxuICAgICAgICAgICAgICAgIDMzOiAncGFnZVVwJyxcbiAgICAgICAgICAgICAgICAncGFnZURvd24nOiAzNCxcbiAgICAgICAgICAgICAgICAzNDogJ3BhZ2VEb3duJyxcbiAgICAgICAgICAgICAgICAnc2hpZnQnOiAxNixcbiAgICAgICAgICAgICAgICAxNjogJ3NoaWZ0JyxcbiAgICAgICAgICAgICAgICAnY29udHJvbCc6IDE3LFxuICAgICAgICAgICAgICAgIDE3OiAnY29udHJvbCcsXG4gICAgICAgICAgICAgICAgJ3NwYWNlJzogMzIsXG4gICAgICAgICAgICAgICAgMzI6ICdzcGFjZScsXG4gICAgICAgICAgICAgICAgJ3QnOiA4NCxcbiAgICAgICAgICAgICAgICA4NDogJ3QnLFxuICAgICAgICAgICAgICAgICdkZWxldGUnOiA0NixcbiAgICAgICAgICAgICAgICA0NjogJ2RlbGV0ZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXlTdGF0ZSA9IHt9LFxuXG4gICAgICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBQcml2YXRlIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAgICAgICAgIGdldE1vbWVudCA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHR6RW5hYmxlZCA9IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICByZXR1cm5Nb21lbnQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRab25lT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICBpbmNvbWluZ1pvbmVPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVab25lSW5kaWNhdG9yLFxuICAgICAgICAgICAgICAgICAgICBkYXRlV2l0aFRpbWVab25lSW5mbztcblxuICAgICAgICAgICAgICAgIGlmIChtb21lbnQudHogIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLnRpbWVab25lICE9PSB1bmRlZmluZWQgJiYgb3B0aW9ucy50aW1lWm9uZSAhPT0gbnVsbCAmJiBvcHRpb25zLnRpbWVab25lICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICB0ekVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZCA9PT0gdW5kZWZpbmVkIHx8IGQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuTW9tZW50ID0gbW9tZW50KCkudHoob3B0aW9ucy50aW1lWm9uZSkuc3RhcnRPZignZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuTW9tZW50ID0gbW9tZW50KCkuc3RhcnRPZignZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFpvbmVPZmZzZXQgPSBtb21lbnQoKS50eihvcHRpb25zLnRpbWVab25lKS51dGNPZmZzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY29taW5nWm9uZU9mZnNldCA9IG1vbWVudChkLCBwYXJzZUZvcm1hdHMsIG9wdGlvbnMudXNlU3RyaWN0KS51dGNPZmZzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmNvbWluZ1pvbmVPZmZzZXQgIT09IGN1cnJlbnRab25lT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZVpvbmVJbmRpY2F0b3IgPSBtb21lbnQoKS50eihvcHRpb25zLnRpbWVab25lKS5mb3JtYXQoJ1onKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlV2l0aFRpbWVab25lSW5mbyA9IG1vbWVudChkLCBwYXJzZUZvcm1hdHMsIG9wdGlvbnMudXNlU3RyaWN0KS5mb3JtYXQoJ1lZWVktTU0tRERbVF1ISDptbTpzcycpICsgdGltZVpvbmVJbmRpY2F0b3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuTW9tZW50ID0gbW9tZW50KGRhdGVXaXRoVGltZVpvbmVJbmZvLCBwYXJzZUZvcm1hdHMsIG9wdGlvbnMudXNlU3RyaWN0KS50eihvcHRpb25zLnRpbWVab25lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuTW9tZW50ID0gbW9tZW50KGQsIHBhcnNlRm9ybWF0cywgb3B0aW9ucy51c2VTdHJpY3QpLnR6KG9wdGlvbnMudGltZVpvbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuTW9tZW50ID0gbW9tZW50KGQsIHBhcnNlRm9ybWF0cywgb3B0aW9ucy51c2VTdHJpY3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5Nb21lbnQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNFbmFibGVkID0gZnVuY3Rpb24gKGdyYW51bGFyaXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBncmFudWxhcml0eSAhPT0gJ3N0cmluZycgfHwgZ3JhbnVsYXJpdHkubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpc0VuYWJsZWQgZXhwZWN0cyBhIHNpbmdsZSBjaGFyYWN0ZXIgc3RyaW5nIHBhcmFtZXRlcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGdyYW51bGFyaXR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3knOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdHVhbEZvcm1hdC5pbmRleE9mKCdZJykgIT09IC0xO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3R1YWxGb3JtYXQuaW5kZXhPZignTScpICE9PSAtMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0dWFsRm9ybWF0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZCcpICE9PSAtMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0gnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdHVhbEZvcm1hdC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2gnKSAhPT0gLTE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ20nOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdHVhbEZvcm1hdC5pbmRleE9mKCdtJykgIT09IC0xO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY3R1YWxGb3JtYXQuaW5kZXhPZigncycpICE9PSAtMTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFzVGltZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGlzRW5hYmxlZCgnaCcpIHx8IGlzRW5hYmxlZCgnbScpIHx8IGlzRW5hYmxlZCgncycpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGhhc0RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChpc0VuYWJsZWQoJ3knKSB8fCBpc0VuYWJsZWQoJ00nKSB8fCBpc0VuYWJsZWQoJ2QnKSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBnZXREYXRlUGlja2VyVGVtcGxhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRUZW1wbGF0ZSA9ICQoJzx0aGVhZD4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dHI+JylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0aD4nKS5hZGRDbGFzcygncHJldicpLmF0dHIoJ2RhdGEtYWN0aW9uJywgJ3ByZXZpb3VzJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8c3Bhbj4nKS5hZGRDbGFzcyhvcHRpb25zLmljb25zLnByZXZpb3VzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRoPicpLmFkZENsYXNzKCdwaWNrZXItc3dpdGNoJykuYXR0cignZGF0YS1hY3Rpb24nLCAncGlja2VyU3dpdGNoJykuYXR0cignY29sc3BhbicsIChvcHRpb25zLmNhbGVuZGFyV2Vla3MgPyAnNicgOiAnNScpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0aD4nKS5hZGRDbGFzcygnbmV4dCcpLmF0dHIoJ2RhdGEtYWN0aW9uJywgJ25leHQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicpLmFkZENsYXNzKG9wdGlvbnMuaWNvbnMubmV4dCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBjb250VGVtcGxhdGUgPSAkKCc8dGJvZHk+JylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRyPicpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGQ+JykuYXR0cignY29sc3BhbicsIChvcHRpb25zLmNhbGVuZGFyV2Vla3MgPyAnOCcgOiAnNycpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgJCgnPGRpdj4nKS5hZGRDbGFzcygnZGF0ZXBpY2tlci1kYXlzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRhYmxlPicpLmFkZENsYXNzKCd0YWJsZS1jb25kZW5zZWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoaGVhZFRlbXBsYXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRib2R5PicpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICQoJzxkaXY+JykuYWRkQ2xhc3MoJ2RhdGVwaWNrZXItbW9udGhzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRhYmxlPicpLmFkZENsYXNzKCd0YWJsZS1jb25kZW5zZWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoaGVhZFRlbXBsYXRlLmNsb25lKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChjb250VGVtcGxhdGUuY2xvbmUoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAkKCc8ZGl2PicpLmFkZENsYXNzKCdkYXRlcGlja2VyLXllYXJzJylcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRhYmxlPicpLmFkZENsYXNzKCd0YWJsZS1jb25kZW5zZWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoaGVhZFRlbXBsYXRlLmNsb25lKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChjb250VGVtcGxhdGUuY2xvbmUoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAkKCc8ZGl2PicpLmFkZENsYXNzKCdkYXRlcGlja2VyLWRlY2FkZXMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8dGFibGU+JykuYWRkQ2xhc3MoJ3RhYmxlLWNvbmRlbnNlZCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChoZWFkVGVtcGxhdGUuY2xvbmUoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKGNvbnRUZW1wbGF0ZS5jbG9uZSgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0VGltZVBpY2tlck1haW5UZW1wbGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9wUm93ID0gJCgnPHRyPicpLFxuICAgICAgICAgICAgICAgICAgICBtaWRkbGVSb3cgPSAkKCc8dHI+JyksXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbVJvdyA9ICQoJzx0cj4nKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0VuYWJsZWQoJ2gnKSkge1xuICAgICAgICAgICAgICAgICAgICB0b3BSb3cuYXBwZW5kKCQoJzx0ZD4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nKS5hdHRyKHtocmVmOiAnIycsIHRhYmluZGV4OiAnLTEnLCAndGl0bGUnOiBvcHRpb25zLnRvb2x0aXBzLmluY3JlbWVudEhvdXJ9KS5hZGRDbGFzcygnYnRuJykuYXR0cignZGF0YS1hY3Rpb24nLCAnaW5jcmVtZW50SG91cnMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNwYW4+JykuYWRkQ2xhc3Mob3B0aW9ucy5pY29ucy51cCkpKSk7XG4gICAgICAgICAgICAgICAgICAgIG1pZGRsZVJvdy5hcHBlbmQoJCgnPHRkPicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicpLmFkZENsYXNzKCd0aW1lcGlja2VyLWhvdXInKS5hdHRyKHsnZGF0YS10aW1lLWNvbXBvbmVudCc6J2hvdXJzJywgJ3RpdGxlJzogb3B0aW9ucy50b29sdGlwcy5waWNrSG91cn0pLmF0dHIoJ2RhdGEtYWN0aW9uJywgJ3Nob3dIb3VycycpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbVJvdy5hcHBlbmQoJCgnPHRkPicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxhPicpLmF0dHIoe2hyZWY6ICcjJywgdGFiaW5kZXg6ICctMScsICd0aXRsZSc6IG9wdGlvbnMudG9vbHRpcHMuZGVjcmVtZW50SG91cn0pLmFkZENsYXNzKCdidG4nKS5hdHRyKCdkYXRhLWFjdGlvbicsICdkZWNyZW1lbnRIb3VycycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8c3Bhbj4nKS5hZGRDbGFzcyhvcHRpb25zLmljb25zLmRvd24pKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNFbmFibGVkKCdtJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzRW5hYmxlZCgnaCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BSb3cuYXBwZW5kKCQoJzx0ZD4nKS5hZGRDbGFzcygnc2VwYXJhdG9yJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWlkZGxlUm93LmFwcGVuZCgkKCc8dGQ+JykuYWRkQ2xhc3MoJ3NlcGFyYXRvcicpLmh0bWwoJzonKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b21Sb3cuYXBwZW5kKCQoJzx0ZD4nKS5hZGRDbGFzcygnc2VwYXJhdG9yJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRvcFJvdy5hcHBlbmQoJCgnPHRkPicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxhPicpLmF0dHIoe2hyZWY6ICcjJywgdGFiaW5kZXg6ICctMScsICd0aXRsZSc6IG9wdGlvbnMudG9vbHRpcHMuaW5jcmVtZW50TWludXRlfSkuYWRkQ2xhc3MoJ2J0bicpLmF0dHIoJ2RhdGEtYWN0aW9uJywgJ2luY3JlbWVudE1pbnV0ZXMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNwYW4+JykuYWRkQ2xhc3Mob3B0aW9ucy5pY29ucy51cCkpKSk7XG4gICAgICAgICAgICAgICAgICAgIG1pZGRsZVJvdy5hcHBlbmQoJCgnPHRkPicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicpLmFkZENsYXNzKCd0aW1lcGlja2VyLW1pbnV0ZScpLmF0dHIoeydkYXRhLXRpbWUtY29tcG9uZW50JzogJ21pbnV0ZXMnLCAndGl0bGUnOiBvcHRpb25zLnRvb2x0aXBzLnBpY2tNaW51dGV9KS5hdHRyKCdkYXRhLWFjdGlvbicsICdzaG93TWludXRlcycpKSk7XG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbVJvdy5hcHBlbmQoJCgnPHRkPicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxhPicpLmF0dHIoe2hyZWY6ICcjJywgdGFiaW5kZXg6ICctMScsICd0aXRsZSc6IG9wdGlvbnMudG9vbHRpcHMuZGVjcmVtZW50TWludXRlfSkuYWRkQ2xhc3MoJ2J0bicpLmF0dHIoJ2RhdGEtYWN0aW9uJywgJ2RlY3JlbWVudE1pbnV0ZXMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHNwYW4+JykuYWRkQ2xhc3Mob3B0aW9ucy5pY29ucy5kb3duKSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzRW5hYmxlZCgncycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0VuYWJsZWQoJ20nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wUm93LmFwcGVuZCgkKCc8dGQ+JykuYWRkQ2xhc3MoJ3NlcGFyYXRvcicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZGRsZVJvdy5hcHBlbmQoJCgnPHRkPicpLmFkZENsYXNzKCdzZXBhcmF0b3InKS5odG1sKCc6JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tUm93LmFwcGVuZCgkKCc8dGQ+JykuYWRkQ2xhc3MoJ3NlcGFyYXRvcicpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0b3BSb3cuYXBwZW5kKCQoJzx0ZD4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nKS5hdHRyKHtocmVmOiAnIycsIHRhYmluZGV4OiAnLTEnLCAndGl0bGUnOiBvcHRpb25zLnRvb2x0aXBzLmluY3JlbWVudFNlY29uZH0pLmFkZENsYXNzKCdidG4nKS5hdHRyKCdkYXRhLWFjdGlvbicsICdpbmNyZW1lbnRTZWNvbmRzJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicpLmFkZENsYXNzKG9wdGlvbnMuaWNvbnMudXApKSkpO1xuICAgICAgICAgICAgICAgICAgICBtaWRkbGVSb3cuYXBwZW5kKCQoJzx0ZD4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8c3Bhbj4nKS5hZGRDbGFzcygndGltZXBpY2tlci1zZWNvbmQnKS5hdHRyKHsnZGF0YS10aW1lLWNvbXBvbmVudCc6ICdzZWNvbmRzJywgJ3RpdGxlJzogb3B0aW9ucy50b29sdGlwcy5waWNrU2Vjb25kfSkuYXR0cignZGF0YS1hY3Rpb24nLCAnc2hvd1NlY29uZHMnKSkpO1xuICAgICAgICAgICAgICAgICAgICBib3R0b21Sb3cuYXBwZW5kKCQoJzx0ZD4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgkKCc8YT4nKS5hdHRyKHtocmVmOiAnIycsIHRhYmluZGV4OiAnLTEnLCAndGl0bGUnOiBvcHRpb25zLnRvb2x0aXBzLmRlY3JlbWVudFNlY29uZH0pLmFkZENsYXNzKCdidG4nKS5hdHRyKCdkYXRhLWFjdGlvbicsICdkZWNyZW1lbnRTZWNvbmRzJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicpLmFkZENsYXNzKG9wdGlvbnMuaWNvbnMuZG93bikpKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCF1c2UyNEhvdXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcFJvdy5hcHBlbmQoJCgnPHRkPicpLmFkZENsYXNzKCdzZXBhcmF0b3InKSk7XG4gICAgICAgICAgICAgICAgICAgIG1pZGRsZVJvdy5hcHBlbmQoJCgnPHRkPicpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxidXR0b24+JykuYWRkQ2xhc3MoJ2J0biBidG4tcHJpbWFyeScpLmF0dHIoeydkYXRhLWFjdGlvbic6ICd0b2dnbGVQZXJpb2QnLCB0YWJpbmRleDogJy0xJywgJ3RpdGxlJzogb3B0aW9ucy50b29sdGlwcy50b2dnbGVQZXJpb2R9KSkpO1xuICAgICAgICAgICAgICAgICAgICBib3R0b21Sb3cuYXBwZW5kKCQoJzx0ZD4nKS5hZGRDbGFzcygnc2VwYXJhdG9yJykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiAkKCc8ZGl2PicpLmFkZENsYXNzKCd0aW1lcGlja2VyLXBpY2tlcicpXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPHRhYmxlPicpLmFkZENsYXNzKCd0YWJsZS1jb25kZW5zZWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZChbdG9wUm93LCBtaWRkbGVSb3csIGJvdHRvbVJvd10pKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGdldFRpbWVQaWNrZXJUZW1wbGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaG91cnNWaWV3ID0gJCgnPGRpdj4nKS5hZGRDbGFzcygndGltZXBpY2tlci1ob3VycycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0YWJsZT4nKS5hZGRDbGFzcygndGFibGUtY29uZGVuc2VkJykpLFxuICAgICAgICAgICAgICAgICAgICBtaW51dGVzVmlldyA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ3RpbWVwaWNrZXItbWludXRlcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0YWJsZT4nKS5hZGRDbGFzcygndGFibGUtY29uZGVuc2VkJykpLFxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRzVmlldyA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ3RpbWVwaWNrZXItc2Vjb25kcycpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzx0YWJsZT4nKS5hZGRDbGFzcygndGFibGUtY29uZGVuc2VkJykpLFxuICAgICAgICAgICAgICAgICAgICByZXQgPSBbZ2V0VGltZVBpY2tlck1haW5UZW1wbGF0ZSgpXTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0VuYWJsZWQoJ2gnKSkge1xuICAgICAgICAgICAgICAgICAgICByZXQucHVzaChob3Vyc1ZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNFbmFibGVkKCdtJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2gobWludXRlc1ZpZXcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNFbmFibGVkKCdzJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goc2Vjb25kc1ZpZXcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBnZXRUb29sYmFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByb3cgPSBbXTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zaG93VG9kYXlCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LnB1c2goJCgnPHRkPicpLmFwcGVuZCgkKCc8YT4nKS5hdHRyKHsnZGF0YS1hY3Rpb24nOid0b2RheScsICd0aXRsZSc6IG9wdGlvbnMudG9vbHRpcHMudG9kYXl9KS5hcHBlbmQoJCgnPHNwYW4+JykuYWRkQ2xhc3Mob3B0aW9ucy5pY29ucy50b2RheSkpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5zaWRlQnlTaWRlICYmIGhhc0RhdGUoKSAmJiBoYXNUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LnB1c2goJCgnPHRkPicpLmFwcGVuZCgkKCc8YT4nKS5hdHRyKHsnZGF0YS1hY3Rpb24nOid0b2dnbGVQaWNrZXInLCAndGl0bGUnOiBvcHRpb25zLnRvb2x0aXBzLnNlbGVjdFRpbWV9KS5hcHBlbmQoJCgnPHNwYW4+JykuYWRkQ2xhc3Mob3B0aW9ucy5pY29ucy50aW1lKSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0NsZWFyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5wdXNoKCQoJzx0ZD4nKS5hcHBlbmQoJCgnPGE+JykuYXR0cih7J2RhdGEtYWN0aW9uJzonY2xlYXInLCAndGl0bGUnOiBvcHRpb25zLnRvb2x0aXBzLmNsZWFyfSkuYXBwZW5kKCQoJzxzcGFuPicpLmFkZENsYXNzKG9wdGlvbnMuaWNvbnMuY2xlYXIpKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zaG93Q2xvc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LnB1c2goJCgnPHRkPicpLmFwcGVuZCgkKCc8YT4nKS5hdHRyKHsnZGF0YS1hY3Rpb24nOidjbG9zZScsICd0aXRsZSc6IG9wdGlvbnMudG9vbHRpcHMuY2xvc2V9KS5hcHBlbmQoJCgnPHNwYW4+JykuYWRkQ2xhc3Mob3B0aW9ucy5pY29ucy5jbG9zZSkpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAkKCc8dGFibGU+JykuYWRkQ2xhc3MoJ3RhYmxlLWNvbmRlbnNlZCcpLmFwcGVuZCgkKCc8dGJvZHk+JykuYXBwZW5kKCQoJzx0cj4nKS5hcHBlbmQocm93KSkpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZ2V0VGVtcGxhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gJCgnPGRpdj4nKS5hZGRDbGFzcygnYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLXdpZGdldCBkcm9wZG93bi1tZW51JyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGVWaWV3ID0gJCgnPGRpdj4nKS5hZGRDbGFzcygnZGF0ZXBpY2tlcicpLmFwcGVuZChnZXREYXRlUGlja2VyVGVtcGxhdGUoKSksXG4gICAgICAgICAgICAgICAgICAgIHRpbWVWaWV3ID0gJCgnPGRpdj4nKS5hZGRDbGFzcygndGltZXBpY2tlcicpLmFwcGVuZChnZXRUaW1lUGlja2VyVGVtcGxhdGUoKSksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSAkKCc8dWw+JykuYWRkQ2xhc3MoJ2xpc3QtdW5zdHlsZWQnKSxcbiAgICAgICAgICAgICAgICAgICAgdG9vbGJhciA9ICQoJzxsaT4nKS5hZGRDbGFzcygncGlja2VyLXN3aXRjaCcgKyAob3B0aW9ucy5jb2xsYXBzZSA/ICcgYWNjb3JkaW9uLXRvZ2dsZScgOiAnJykpLmFwcGVuZChnZXRUb29sYmFyKCkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLnJlbW92ZUNsYXNzKCdkcm9wZG93bi1tZW51Jyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHVzZTI0SG91cnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGUuYWRkQ2xhc3MoJ3VzZXR3ZW50eWZvdXInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzRW5hYmxlZCgncycpICYmICF1c2UyNEhvdXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLmFkZENsYXNzKCd3aWRlcicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnNpZGVCeVNpZGUgJiYgaGFzRGF0ZSgpICYmIGhhc1RpbWUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5hZGRDbGFzcygndGltZXBpY2tlci1zYnMnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9vbGJhclBsYWNlbWVudCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLmFwcGVuZCh0b29sYmFyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZS5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCc8ZGl2PicpLmFkZENsYXNzKCdyb3cnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoZGF0ZVZpZXcuYWRkQ2xhc3MoJ2NvbC1tZC02JykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCh0aW1lVmlldy5hZGRDbGFzcygnY29sLW1kLTYnKSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9vbGJhclBsYWNlbWVudCA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlLmFwcGVuZCh0b29sYmFyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9vbGJhclBsYWNlbWVudCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmQodG9vbGJhcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChoYXNEYXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmQoJCgnPGxpPicpLmFkZENsYXNzKChvcHRpb25zLmNvbGxhcHNlICYmIGhhc1RpbWUoKSA/ICdjb2xsYXBzZSBpbicgOiAnJykpLmFwcGVuZChkYXRlVmlldykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50b29sYmFyUGxhY2VtZW50ID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmQodG9vbGJhcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChoYXNUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5hcHBlbmQoJCgnPGxpPicpLmFkZENsYXNzKChvcHRpb25zLmNvbGxhcHNlICYmIGhhc0RhdGUoKSA/ICdjb2xsYXBzZScgOiAnJykpLmFwcGVuZCh0aW1lVmlldykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50b29sYmFyUGxhY2VtZW50ID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50LmFwcGVuZCh0b29sYmFyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLmFwcGVuZChjb250ZW50KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGRhdGFUb09wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVEYXRhLFxuICAgICAgICAgICAgICAgICAgICBkYXRhT3B0aW9ucyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaXMoJ2lucHV0JykgfHwgb3B0aW9ucy5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZURhdGEgPSBlbGVtZW50LmRhdGEoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlRGF0YSA9IGVsZW1lbnQuZmluZCgnaW5wdXQnKS5kYXRhKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGVEYXRhLmRhdGVPcHRpb25zICYmIGVEYXRhLmRhdGVPcHRpb25zIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFPcHRpb25zID0gJC5leHRlbmQodHJ1ZSwgZGF0YU9wdGlvbnMsIGVEYXRhLmRhdGVPcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkLmVhY2gob3B0aW9ucywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9ICdkYXRlJyArIGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVEYXRhW2F0dHJpYnV0ZU5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFPcHRpb25zW2tleV0gPSBlRGF0YVthdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhT3B0aW9ucztcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHBsYWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IChjb21wb25lbnQgfHwgZWxlbWVudCkucG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gKGNvbXBvbmVudCB8fCBlbGVtZW50KS5vZmZzZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWwgPSBvcHRpb25zLndpZGdldFBvc2l0aW9uaW5nLnZlcnRpY2FsLFxuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsID0gb3B0aW9ucy53aWRnZXRQb3NpdGlvbmluZy5ob3Jpem9udGFsLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy53aWRnZXRQYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gb3B0aW9ucy53aWRnZXRQYXJlbnQuYXBwZW5kKHdpZGdldCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LmlzKCdpbnB1dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGVsZW1lbnQuYWZ0ZXIod2lkZ2V0KS5wYXJlbnQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGVsZW1lbnQuYXBwZW5kKHdpZGdldCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNoaWxkcmVuKCkuZmlyc3QoKS5hZnRlcih3aWRnZXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRvcCBhbmQgYm90dG9tIGxvZ2ljXG4gICAgICAgICAgICAgICAgaWYgKHZlcnRpY2FsID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldC50b3AgKyB3aWRnZXQuaGVpZ2h0KCkgKiAxLjUgPj0gJCh3aW5kb3cpLmhlaWdodCgpICsgJCh3aW5kb3cpLnNjcm9sbFRvcCgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuaGVpZ2h0KCkgKyBlbGVtZW50Lm91dGVySGVpZ2h0KCkgPCBvZmZzZXQudG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbCA9ICd0b3AnO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWwgPSAnYm90dG9tJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIExlZnQgYW5kIHJpZ2h0IGxvZ2ljXG4gICAgICAgICAgICAgICAgaWYgKGhvcml6b250YWwgPT09ICdhdXRvJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LndpZHRoKCkgPCBvZmZzZXQubGVmdCArIHdpZGdldC5vdXRlcldpZHRoKCkgLyAyICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQubGVmdCArIHdpZGdldC5vdXRlcldpZHRoKCkgPiAkKHdpbmRvdykud2lkdGgoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbCA9ICdyaWdodCc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsID0gJ2xlZnQnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHZlcnRpY2FsID09PSAndG9wJykge1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQuYWRkQ2xhc3MoJ3RvcCcpLnJlbW92ZUNsYXNzKCdib3R0b20nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQuYWRkQ2xhc3MoJ2JvdHRvbScpLnJlbW92ZUNsYXNzKCd0b3AnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaG9yaXpvbnRhbCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQuYWRkQ2xhc3MoJ3B1bGwtcmlnaHQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQucmVtb3ZlQ2xhc3MoJ3B1bGwtcmlnaHQnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBmaXJzdCBwYXJlbnQgZWxlbWVudCB0aGF0IGhhcyBhIHJlbGF0aXZlIGNzcyBwb3NpdGlvbmluZ1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuY3NzKCdwb3NpdGlvbicpICE9PSAncmVsYXRpdmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLmNzcygncG9zaXRpb24nKSA9PT0gJ3JlbGF0aXZlJztcbiAgICAgICAgICAgICAgICAgICAgfSkuZmlyc3QoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocGFyZW50Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGV0aW1lcGlja2VyIGNvbXBvbmVudCBzaG91bGQgYmUgcGxhY2VkIHdpdGhpbiBhIHJlbGF0aXZlIHBvc2l0aW9uZWQgY29udGFpbmVyJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2lkZ2V0LmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogdmVydGljYWwgPT09ICd0b3AnID8gJ2F1dG8nIDogcG9zaXRpb24udG9wICsgZWxlbWVudC5vdXRlckhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBib3R0b206IHZlcnRpY2FsID09PSAndG9wJyA/IHBvc2l0aW9uLnRvcCArIGVsZW1lbnQub3V0ZXJIZWlnaHQoKSA6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogaG9yaXpvbnRhbCA9PT0gJ2xlZnQnID8gKHBhcmVudCA9PT0gZWxlbWVudCA/IDAgOiBwb3NpdGlvbi5sZWZ0KSA6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IGhvcml6b250YWwgPT09ICdsZWZ0JyA/ICdhdXRvJyA6IHBhcmVudC5vdXRlcldpZHRoKCkgLSBlbGVtZW50Lm91dGVyV2lkdGgoKSAtIChwYXJlbnQgPT09IGVsZW1lbnQgPyAwIDogcG9zaXRpb24ubGVmdClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG5vdGlmeUV2ZW50ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09PSAnZHAuY2hhbmdlJyAmJiAoKGUuZGF0ZSAmJiBlLmRhdGUuaXNTYW1lKGUub2xkRGF0ZSkpIHx8ICghZS5kYXRlICYmICFlLm9sZERhdGUpKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsZW1lbnQudHJpZ2dlcihlKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHZpZXdVcGRhdGUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlID09PSAneScpIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9ICdZWVlZJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm90aWZ5RXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZHAudXBkYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBlLFxuICAgICAgICAgICAgICAgICAgICB2aWV3RGF0ZTogdmlld0RhdGUuY2xvbmUoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc2hvd01vZGUgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGlyKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWaWV3TW9kZSA9IE1hdGgubWF4KG1pblZpZXdNb2RlTnVtYmVyLCBNYXRoLm1pbigzLCBjdXJyZW50Vmlld01vZGUgKyBkaXIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2lkZ2V0LmZpbmQoJy5kYXRlcGlja2VyID4gZGl2JykuaGlkZSgpLmZpbHRlcignLmRhdGVwaWNrZXItJyArIGRhdGVQaWNrZXJNb2Rlc1tjdXJyZW50Vmlld01vZGVdLmNsc05hbWUpLnNob3coKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGZpbGxEb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9ICQoJzx0cj4nKSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudERhdGUgPSB2aWV3RGF0ZS5jbG9uZSgpLnN0YXJ0T2YoJ3cnKS5zdGFydE9mKCdkJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5jYWxlbmRhcldlZWtzID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmQoJCgnPHRoPicpLmFkZENsYXNzKCdjdycpLnRleHQoJyMnKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnREYXRlLmlzQmVmb3JlKHZpZXdEYXRlLmNsb25lKCkuZW5kT2YoJ3cnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZCgkKCc8dGg+JykuYWRkQ2xhc3MoJ2RvdycpLnRleHQoY3VycmVudERhdGUuZm9ybWF0KCdkZCcpKSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnREYXRlLmFkZCgxLCAnZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aWRnZXQuZmluZCgnLmRhdGVwaWNrZXItZGF5cyB0aGVhZCcpLmFwcGVuZChyb3cpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaXNJbkRpc2FibGVkRGF0ZXMgPSBmdW5jdGlvbiAodGVzdERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kaXNhYmxlZERhdGVzW3Rlc3REYXRlLmZvcm1hdCgnWVlZWS1NTS1ERCcpXSA9PT0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGlzSW5FbmFibGVkRGF0ZXMgPSBmdW5jdGlvbiAodGVzdERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5lbmFibGVkRGF0ZXNbdGVzdERhdGUuZm9ybWF0KCdZWVlZLU1NLUREJyldID09PSB0cnVlO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaXNJbkRpc2FibGVkSG91cnMgPSBmdW5jdGlvbiAodGVzdERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5kaXNhYmxlZEhvdXJzW3Rlc3REYXRlLmZvcm1hdCgnSCcpXSA9PT0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGlzSW5FbmFibGVkSG91cnMgPSBmdW5jdGlvbiAodGVzdERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5lbmFibGVkSG91cnNbdGVzdERhdGUuZm9ybWF0KCdIJyldID09PSB0cnVlO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaXNWYWxpZCA9IGZ1bmN0aW9uICh0YXJnZXRNb21lbnQsIGdyYW51bGFyaXR5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXRNb21lbnQuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlzYWJsZWREYXRlcyAmJiBncmFudWxhcml0eSA9PT0gJ2QnICYmIGlzSW5EaXNhYmxlZERhdGVzKHRhcmdldE1vbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5lbmFibGVkRGF0ZXMgJiYgZ3JhbnVsYXJpdHkgPT09ICdkJyAmJiAhaXNJbkVuYWJsZWREYXRlcyh0YXJnZXRNb21lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubWluRGF0ZSAmJiB0YXJnZXRNb21lbnQuaXNCZWZvcmUob3B0aW9ucy5taW5EYXRlLCBncmFudWxhcml0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5tYXhEYXRlICYmIHRhcmdldE1vbWVudC5pc0FmdGVyKG9wdGlvbnMubWF4RGF0ZSwgZ3JhbnVsYXJpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGF5c09mV2Vla0Rpc2FibGVkICYmIGdyYW51bGFyaXR5ID09PSAnZCcgJiYgb3B0aW9ucy5kYXlzT2ZXZWVrRGlzYWJsZWQuaW5kZXhPZih0YXJnZXRNb21lbnQuZGF5KCkpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRpc2FibGVkSG91cnMgJiYgKGdyYW51bGFyaXR5ID09PSAnaCcgfHwgZ3JhbnVsYXJpdHkgPT09ICdtJyB8fCBncmFudWxhcml0eSA9PT0gJ3MnKSAmJiBpc0luRGlzYWJsZWRIb3Vycyh0YXJnZXRNb21lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW5hYmxlZEhvdXJzICYmIChncmFudWxhcml0eSA9PT0gJ2gnIHx8IGdyYW51bGFyaXR5ID09PSAnbScgfHwgZ3JhbnVsYXJpdHkgPT09ICdzJykgJiYgIWlzSW5FbmFibGVkSG91cnModGFyZ2V0TW9tZW50KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmRpc2FibGVkVGltZUludGVydmFscyAmJiAoZ3JhbnVsYXJpdHkgPT09ICdoJyB8fCBncmFudWxhcml0eSA9PT0gJ20nIHx8IGdyYW51bGFyaXR5ID09PSAncycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2gob3B0aW9ucy5kaXNhYmxlZFRpbWVJbnRlcnZhbHMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRNb21lbnQuaXNCZXR3ZWVuKHRoaXNbMF0sIHRoaXNbMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZmlsbE1vbnRocyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3BhbnMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgbW9udGhzU2hvcnQgPSB2aWV3RGF0ZS5jbG9uZSgpLnN0YXJ0T2YoJ3knKS5zdGFydE9mKCdkJyk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG1vbnRoc1Nob3J0LmlzU2FtZSh2aWV3RGF0ZSwgJ3knKSkge1xuICAgICAgICAgICAgICAgICAgICBzcGFucy5wdXNoKCQoJzxzcGFuPicpLmF0dHIoJ2RhdGEtYWN0aW9uJywgJ3NlbGVjdE1vbnRoJykuYWRkQ2xhc3MoJ21vbnRoJykudGV4dChtb250aHNTaG9ydC5mb3JtYXQoJ01NTScpKSk7XG4gICAgICAgICAgICAgICAgICAgIG1vbnRoc1Nob3J0LmFkZCgxLCAnTScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aWRnZXQuZmluZCgnLmRhdGVwaWNrZXItbW9udGhzIHRkJykuZW1wdHkoKS5hcHBlbmQoc3BhbnMpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdXBkYXRlTW9udGhzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBtb250aHNWaWV3ID0gd2lkZ2V0LmZpbmQoJy5kYXRlcGlja2VyLW1vbnRocycpLFxuICAgICAgICAgICAgICAgICAgICBtb250aHNWaWV3SGVhZGVyID0gbW9udGhzVmlldy5maW5kKCd0aCcpLFxuICAgICAgICAgICAgICAgICAgICBtb250aHMgPSBtb250aHNWaWV3LmZpbmQoJ3Rib2R5JykuZmluZCgnc3BhbicpO1xuXG4gICAgICAgICAgICAgICAgbW9udGhzVmlld0hlYWRlci5lcSgwKS5maW5kKCdzcGFuJykuYXR0cigndGl0bGUnLCBvcHRpb25zLnRvb2x0aXBzLnByZXZZZWFyKTtcbiAgICAgICAgICAgICAgICBtb250aHNWaWV3SGVhZGVyLmVxKDEpLmF0dHIoJ3RpdGxlJywgb3B0aW9ucy50b29sdGlwcy5zZWxlY3RZZWFyKTtcbiAgICAgICAgICAgICAgICBtb250aHNWaWV3SGVhZGVyLmVxKDIpLmZpbmQoJ3NwYW4nKS5hdHRyKCd0aXRsZScsIG9wdGlvbnMudG9vbHRpcHMubmV4dFllYXIpO1xuXG4gICAgICAgICAgICAgICAgbW9udGhzVmlldy5maW5kKCcuZGlzYWJsZWQnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCh2aWV3RGF0ZS5jbG9uZSgpLnN1YnRyYWN0KDEsICd5JyksICd5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9udGhzVmlld0hlYWRlci5lcSgwKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtb250aHNWaWV3SGVhZGVyLmVxKDEpLnRleHQodmlld0RhdGUueWVhcigpKTtcblxuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZCh2aWV3RGF0ZS5jbG9uZSgpLmFkZCgxLCAneScpLCAneScpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vbnRoc1ZpZXdIZWFkZXIuZXEoMikuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbW9udGhzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZS5pc1NhbWUodmlld0RhdGUsICd5JykgJiYgIXVuc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1vbnRocy5lcShkYXRlLm1vbnRoKCkpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBtb250aHMuZWFjaChmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKHZpZXdEYXRlLmNsb25lKCkubW9udGgoaW5kZXgpLCAnTScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB1cGRhdGVZZWFycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgeWVhcnNWaWV3ID0gd2lkZ2V0LmZpbmQoJy5kYXRlcGlja2VyLXllYXJzJyksXG4gICAgICAgICAgICAgICAgICAgIHllYXJzVmlld0hlYWRlciA9IHllYXJzVmlldy5maW5kKCd0aCcpLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFllYXIgPSB2aWV3RGF0ZS5jbG9uZSgpLnN1YnRyYWN0KDUsICd5JyksXG4gICAgICAgICAgICAgICAgICAgIGVuZFllYXIgPSB2aWV3RGF0ZS5jbG9uZSgpLmFkZCg2LCAneScpLFxuICAgICAgICAgICAgICAgICAgICBodG1sID0gJyc7XG5cbiAgICAgICAgICAgICAgICB5ZWFyc1ZpZXdIZWFkZXIuZXEoMCkuZmluZCgnc3BhbicpLmF0dHIoJ3RpdGxlJywgb3B0aW9ucy50b29sdGlwcy5wcmV2RGVjYWRlKTtcbiAgICAgICAgICAgICAgICB5ZWFyc1ZpZXdIZWFkZXIuZXEoMSkuYXR0cigndGl0bGUnLCBvcHRpb25zLnRvb2x0aXBzLnNlbGVjdERlY2FkZSk7XG4gICAgICAgICAgICAgICAgeWVhcnNWaWV3SGVhZGVyLmVxKDIpLmZpbmQoJ3NwYW4nKS5hdHRyKCd0aXRsZScsIG9wdGlvbnMudG9vbHRpcHMubmV4dERlY2FkZSk7XG5cbiAgICAgICAgICAgICAgICB5ZWFyc1ZpZXcuZmluZCgnLmRpc2FibGVkJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5taW5EYXRlICYmIG9wdGlvbnMubWluRGF0ZS5pc0FmdGVyKHN0YXJ0WWVhciwgJ3knKSkge1xuICAgICAgICAgICAgICAgICAgICB5ZWFyc1ZpZXdIZWFkZXIuZXEoMCkuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgeWVhcnNWaWV3SGVhZGVyLmVxKDEpLnRleHQoc3RhcnRZZWFyLnllYXIoKSArICctJyArIGVuZFllYXIueWVhcigpKTtcblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1heERhdGUgJiYgb3B0aW9ucy5tYXhEYXRlLmlzQmVmb3JlKGVuZFllYXIsICd5JykpIHtcbiAgICAgICAgICAgICAgICAgICAgeWVhcnNWaWV3SGVhZGVyLmVxKDIpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHdoaWxlICghc3RhcnRZZWFyLmlzQWZ0ZXIoZW5kWWVhciwgJ3knKSkge1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8c3BhbiBkYXRhLWFjdGlvbj1cInNlbGVjdFllYXJcIiBjbGFzcz1cInllYXInICsgKHN0YXJ0WWVhci5pc1NhbWUoZGF0ZSwgJ3knKSAmJiAhdW5zZXQgPyAnIGFjdGl2ZScgOiAnJykgKyAoIWlzVmFsaWQoc3RhcnRZZWFyLCAneScpID8gJyBkaXNhYmxlZCcgOiAnJykgKyAnXCI+JyArIHN0YXJ0WWVhci55ZWFyKCkgKyAnPC9zcGFuPic7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0WWVhci5hZGQoMSwgJ3knKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB5ZWFyc1ZpZXcuZmluZCgndGQnKS5odG1sKGh0bWwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdXBkYXRlRGVjYWRlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVjYWRlc1ZpZXcgPSB3aWRnZXQuZmluZCgnLmRhdGVwaWNrZXItZGVjYWRlcycpLFxuICAgICAgICAgICAgICAgICAgICBkZWNhZGVzVmlld0hlYWRlciA9IGRlY2FkZXNWaWV3LmZpbmQoJ3RoJyksXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RGVjYWRlID0gbW9tZW50KHt5OiB2aWV3RGF0ZS55ZWFyKCkgLSAodmlld0RhdGUueWVhcigpICUgMTAwKSAtIDF9KSxcbiAgICAgICAgICAgICAgICAgICAgZW5kRGVjYWRlID0gc3RhcnREZWNhZGUuY2xvbmUoKS5hZGQoMTAwLCAneScpLFxuICAgICAgICAgICAgICAgICAgICBzdGFydGVkQXQgPSBzdGFydERlY2FkZS5jbG9uZSgpLFxuICAgICAgICAgICAgICAgICAgICBodG1sID0gJyc7XG5cbiAgICAgICAgICAgICAgICBkZWNhZGVzVmlld0hlYWRlci5lcSgwKS5maW5kKCdzcGFuJykuYXR0cigndGl0bGUnLCBvcHRpb25zLnRvb2x0aXBzLnByZXZDZW50dXJ5KTtcbiAgICAgICAgICAgICAgICBkZWNhZGVzVmlld0hlYWRlci5lcSgyKS5maW5kKCdzcGFuJykuYXR0cigndGl0bGUnLCBvcHRpb25zLnRvb2x0aXBzLm5leHRDZW50dXJ5KTtcblxuICAgICAgICAgICAgICAgIGRlY2FkZXNWaWV3LmZpbmQoJy5kaXNhYmxlZCcpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0RGVjYWRlLmlzU2FtZShtb21lbnQoe3k6IDE5MDB9KSkgfHwgKG9wdGlvbnMubWluRGF0ZSAmJiBvcHRpb25zLm1pbkRhdGUuaXNBZnRlcihzdGFydERlY2FkZSwgJ3knKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjYWRlc1ZpZXdIZWFkZXIuZXEoMCkuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGVjYWRlc1ZpZXdIZWFkZXIuZXEoMSkudGV4dChzdGFydERlY2FkZS55ZWFyKCkgKyAnLScgKyBlbmREZWNhZGUueWVhcigpKTtcblxuICAgICAgICAgICAgICAgIGlmIChzdGFydERlY2FkZS5pc1NhbWUobW9tZW50KHt5OiAyMDAwfSkpIHx8IChvcHRpb25zLm1heERhdGUgJiYgb3B0aW9ucy5tYXhEYXRlLmlzQmVmb3JlKGVuZERlY2FkZSwgJ3knKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjYWRlc1ZpZXdIZWFkZXIuZXEoMikuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd2hpbGUgKCFzdGFydERlY2FkZS5pc0FmdGVyKGVuZERlY2FkZSwgJ3knKSkge1xuICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8c3BhbiBkYXRhLWFjdGlvbj1cInNlbGVjdERlY2FkZVwiIGNsYXNzPVwiZGVjYWRlJyArIChzdGFydERlY2FkZS5pc1NhbWUoZGF0ZSwgJ3knKSA/ICcgYWN0aXZlJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAoIWlzVmFsaWQoc3RhcnREZWNhZGUsICd5JykgPyAnIGRpc2FibGVkJyA6ICcnKSArICdcIiBkYXRhLXNlbGVjdGlvbj1cIicgKyAoc3RhcnREZWNhZGUueWVhcigpICsgNikgKyAnXCI+JyArIChzdGFydERlY2FkZS55ZWFyKCkgKyAxKSArICcgLSAnICsgKHN0YXJ0RGVjYWRlLnllYXIoKSArIDEyKSArICc8L3NwYW4+JztcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREZWNhZGUuYWRkKDEyLCAneScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBodG1sICs9ICc8c3Bhbj48L3NwYW4+PHNwYW4+PC9zcGFuPjxzcGFuPjwvc3Bhbj4nOyAvL3B1c2ggdGhlIGRhbmdsaW5nIGJsb2NrIG92ZXIsIGF0IGxlYXN0IHRoaXMgd2F5IGl0J3MgZXZlblxuXG4gICAgICAgICAgICAgICAgZGVjYWRlc1ZpZXcuZmluZCgndGQnKS5odG1sKGh0bWwpO1xuICAgICAgICAgICAgICAgIGRlY2FkZXNWaWV3SGVhZGVyLmVxKDEpLnRleHQoKHN0YXJ0ZWRBdC55ZWFyKCkgKyAxKSArICctJyArIChzdGFydERlY2FkZS55ZWFyKCkpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGZpbGxEYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXlzVmlldyA9IHdpZGdldC5maW5kKCcuZGF0ZXBpY2tlci1kYXlzJyksXG4gICAgICAgICAgICAgICAgICAgIGRheXNWaWV3SGVhZGVyID0gZGF5c1ZpZXcuZmluZCgndGgnKSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudERhdGUsXG4gICAgICAgICAgICAgICAgICAgIGh0bWwgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgICAgICBjbHNOYW1lLFxuICAgICAgICAgICAgICAgICAgICBpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNEYXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRheXNWaWV3SGVhZGVyLmVxKDApLmZpbmQoJ3NwYW4nKS5hdHRyKCd0aXRsZScsIG9wdGlvbnMudG9vbHRpcHMucHJldk1vbnRoKTtcbiAgICAgICAgICAgICAgICBkYXlzVmlld0hlYWRlci5lcSgxKS5hdHRyKCd0aXRsZScsIG9wdGlvbnMudG9vbHRpcHMuc2VsZWN0TW9udGgpO1xuICAgICAgICAgICAgICAgIGRheXNWaWV3SGVhZGVyLmVxKDIpLmZpbmQoJ3NwYW4nKS5hdHRyKCd0aXRsZScsIG9wdGlvbnMudG9vbHRpcHMubmV4dE1vbnRoKTtcblxuICAgICAgICAgICAgICAgIGRheXNWaWV3LmZpbmQoJy5kaXNhYmxlZCcpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIGRheXNWaWV3SGVhZGVyLmVxKDEpLnRleHQodmlld0RhdGUuZm9ybWF0KG9wdGlvbnMuZGF5Vmlld0hlYWRlckZvcm1hdCkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKHZpZXdEYXRlLmNsb25lKCkuc3VidHJhY3QoMSwgJ00nKSwgJ00nKSkge1xuICAgICAgICAgICAgICAgICAgICBkYXlzVmlld0hlYWRlci5lcSgwKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKHZpZXdEYXRlLmNsb25lKCkuYWRkKDEsICdNJyksICdNJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF5c1ZpZXdIZWFkZXIuZXEoMikuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VycmVudERhdGUgPSB2aWV3RGF0ZS5jbG9uZSgpLnN0YXJ0T2YoJ00nKS5zdGFydE9mKCd3Jykuc3RhcnRPZignZCcpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDQyOyBpKyspIHsgLy9hbHdheXMgZGlzcGxheSA0MiBkYXlzIChzaG91bGQgc2hvdyA2IHdlZWtzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudERhdGUud2Vla2RheSgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3cgPSAkKCc8dHI+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5jYWxlbmRhcldlZWtzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZCgnPHRkIGNsYXNzPVwiY3dcIj4nICsgY3VycmVudERhdGUud2VlaygpICsgJzwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sLnB1c2gocm93KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjbHNOYW1lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RGF0ZS5pc0JlZm9yZSh2aWV3RGF0ZSwgJ00nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xzTmFtZSArPSAnIG9sZCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnREYXRlLmlzQWZ0ZXIodmlld0RhdGUsICdNJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsc05hbWUgKz0gJyBuZXcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RGF0ZS5pc1NhbWUoZGF0ZSwgJ2QnKSAmJiAhdW5zZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsc05hbWUgKz0gJyBhY3RpdmUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZChjdXJyZW50RGF0ZSwgJ2QnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xzTmFtZSArPSAnIGRpc2FibGVkJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudERhdGUuaXNTYW1lKGdldE1vbWVudCgpLCAnZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbHNOYW1lICs9ICcgdG9kYXknO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RGF0ZS5kYXkoKSA9PT0gMCB8fCBjdXJyZW50RGF0ZS5kYXkoKSA9PT0gNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xzTmFtZSArPSAnIHdlZWtlbmQnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmQoJzx0ZCBkYXRhLWFjdGlvbj1cInNlbGVjdERheVwiIGRhdGEtZGF5PVwiJyArIGN1cnJlbnREYXRlLmZvcm1hdCgnTCcpICsgJ1wiIGNsYXNzPVwiZGF5JyArIGNsc05hbWUgKyAnXCI+JyArIGN1cnJlbnREYXRlLmRhdGUoKSArICc8L3RkPicpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RGF0ZS5hZGQoMSwgJ2QnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkYXlzVmlldy5maW5kKCd0Ym9keScpLmVtcHR5KCkuYXBwZW5kKGh0bWwpO1xuXG4gICAgICAgICAgICAgICAgdXBkYXRlTW9udGhzKCk7XG5cbiAgICAgICAgICAgICAgICB1cGRhdGVZZWFycygpO1xuXG4gICAgICAgICAgICAgICAgdXBkYXRlRGVjYWRlcygpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZmlsbEhvdXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IHdpZGdldC5maW5kKCcudGltZXBpY2tlci1ob3VycyB0YWJsZScpLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SG91ciA9IHZpZXdEYXRlLmNsb25lKCkuc3RhcnRPZignZCcpLFxuICAgICAgICAgICAgICAgICAgICBodG1sID0gW10sXG4gICAgICAgICAgICAgICAgICAgIHJvdyA9ICQoJzx0cj4nKTtcblxuICAgICAgICAgICAgICAgIGlmICh2aWV3RGF0ZS5ob3VyKCkgPiAxMSAmJiAhdXNlMjRIb3Vycykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50SG91ci5ob3VyKDEyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRIb3VyLmlzU2FtZSh2aWV3RGF0ZSwgJ2QnKSAmJiAodXNlMjRIb3VycyB8fCAodmlld0RhdGUuaG91cigpIDwgMTIgJiYgY3VycmVudEhvdXIuaG91cigpIDwgMTIpIHx8IHZpZXdEYXRlLmhvdXIoKSA+IDExKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEhvdXIuaG91cigpICUgNCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93ID0gJCgnPHRyPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbC5wdXNoKHJvdyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZCgnPHRkIGRhdGEtYWN0aW9uPVwic2VsZWN0SG91clwiIGNsYXNzPVwiaG91cicgKyAoIWlzVmFsaWQoY3VycmVudEhvdXIsICdoJykgPyAnIGRpc2FibGVkJyA6ICcnKSArICdcIj4nICsgY3VycmVudEhvdXIuZm9ybWF0KHVzZTI0SG91cnMgPyAnSEgnIDogJ2hoJykgKyAnPC90ZD4nKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEhvdXIuYWRkKDEsICdoJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhYmxlLmVtcHR5KCkuYXBwZW5kKGh0bWwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZmlsbE1pbnV0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gd2lkZ2V0LmZpbmQoJy50aW1lcGlja2VyLW1pbnV0ZXMgdGFibGUnKSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1pbnV0ZSA9IHZpZXdEYXRlLmNsb25lKCkuc3RhcnRPZignaCcpLFxuICAgICAgICAgICAgICAgICAgICBodG1sID0gW10sXG4gICAgICAgICAgICAgICAgICAgIHJvdyA9ICQoJzx0cj4nKSxcbiAgICAgICAgICAgICAgICAgICAgc3RlcCA9IG9wdGlvbnMuc3RlcHBpbmcgPT09IDEgPyA1IDogb3B0aW9ucy5zdGVwcGluZztcblxuICAgICAgICAgICAgICAgIHdoaWxlICh2aWV3RGF0ZS5pc1NhbWUoY3VycmVudE1pbnV0ZSwgJ2gnKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1pbnV0ZS5taW51dGUoKSAlIChzdGVwICogNCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdyA9ICQoJzx0cj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwucHVzaChyb3cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmQoJzx0ZCBkYXRhLWFjdGlvbj1cInNlbGVjdE1pbnV0ZVwiIGNsYXNzPVwibWludXRlJyArICghaXNWYWxpZChjdXJyZW50TWludXRlLCAnbScpID8gJyBkaXNhYmxlZCcgOiAnJykgKyAnXCI+JyArIGN1cnJlbnRNaW51dGUuZm9ybWF0KCdtbScpICsgJzwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNaW51dGUuYWRkKHN0ZXAsICdtJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhYmxlLmVtcHR5KCkuYXBwZW5kKGh0bWwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZmlsbFNlY29uZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gd2lkZ2V0LmZpbmQoJy50aW1lcGlja2VyLXNlY29uZHMgdGFibGUnKSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNlY29uZCA9IHZpZXdEYXRlLmNsb25lKCkuc3RhcnRPZignbScpLFxuICAgICAgICAgICAgICAgICAgICBodG1sID0gW10sXG4gICAgICAgICAgICAgICAgICAgIHJvdyA9ICQoJzx0cj4nKTtcblxuICAgICAgICAgICAgICAgIHdoaWxlICh2aWV3RGF0ZS5pc1NhbWUoY3VycmVudFNlY29uZCwgJ20nKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFNlY29uZC5zZWNvbmQoKSAlIDIwID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3cgPSAkKCc8dHI+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sLnB1c2gocm93KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByb3cuYXBwZW5kKCc8dGQgZGF0YS1hY3Rpb249XCJzZWxlY3RTZWNvbmRcIiBjbGFzcz1cInNlY29uZCcgKyAoIWlzVmFsaWQoY3VycmVudFNlY29uZCwgJ3MnKSA/ICcgZGlzYWJsZWQnIDogJycpICsgJ1wiPicgKyBjdXJyZW50U2Vjb25kLmZvcm1hdCgnc3MnKSArICc8L3RkPicpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2Vjb25kLmFkZCg1LCAncycpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRhYmxlLmVtcHR5KCkuYXBwZW5kKGh0bWwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZmlsbFRpbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvZ2dsZSwgbmV3RGF0ZSwgdGltZUNvbXBvbmVudHMgPSB3aWRnZXQuZmluZCgnLnRpbWVwaWNrZXIgc3BhbltkYXRhLXRpbWUtY29tcG9uZW50XScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF1c2UyNEhvdXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZSA9IHdpZGdldC5maW5kKCcudGltZXBpY2tlciBbZGF0YS1hY3Rpb249dG9nZ2xlUGVyaW9kXScpO1xuICAgICAgICAgICAgICAgICAgICBuZXdEYXRlID0gZGF0ZS5jbG9uZSgpLmFkZCgoZGF0ZS5ob3VycygpID49IDEyKSA/IC0xMiA6IDEyLCAnaCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZS50ZXh0KGRhdGUuZm9ybWF0KCdBJykpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKG5ld0RhdGUsICdoJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aW1lQ29tcG9uZW50cy5maWx0ZXIoJ1tkYXRhLXRpbWUtY29tcG9uZW50PWhvdXJzXScpLnRleHQoZGF0ZS5mb3JtYXQodXNlMjRIb3VycyA/ICdISCcgOiAnaGgnKSk7XG4gICAgICAgICAgICAgICAgdGltZUNvbXBvbmVudHMuZmlsdGVyKCdbZGF0YS10aW1lLWNvbXBvbmVudD1taW51dGVzXScpLnRleHQoZGF0ZS5mb3JtYXQoJ21tJykpO1xuICAgICAgICAgICAgICAgIHRpbWVDb21wb25lbnRzLmZpbHRlcignW2RhdGEtdGltZS1jb21wb25lbnQ9c2Vjb25kc10nKS50ZXh0KGRhdGUuZm9ybWF0KCdzcycpKTtcblxuICAgICAgICAgICAgICAgIGZpbGxIb3VycygpO1xuICAgICAgICAgICAgICAgIGZpbGxNaW51dGVzKCk7XG4gICAgICAgICAgICAgICAgZmlsbFNlY29uZHMoKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXdpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbGxEYXRlKCk7XG4gICAgICAgICAgICAgICAgZmlsbFRpbWUoKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHNldFZhbHVlID0gZnVuY3Rpb24gKHRhcmdldE1vbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBvbGREYXRlID0gdW5zZXQgPyBudWxsIDogZGF0ZTtcblxuICAgICAgICAgICAgICAgIC8vIGNhc2Ugb2YgY2FsbGluZyBzZXRWYWx1ZShudWxsIG9yIGZhbHNlKVxuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0TW9tZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHVuc2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5kYXRhKCdkYXRlJywgJycpO1xuICAgICAgICAgICAgICAgICAgICBub3RpZnlFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZHAuY2hhbmdlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkRGF0ZTogb2xkRGF0ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0YXJnZXRNb21lbnQgPSB0YXJnZXRNb21lbnQuY2xvbmUoKS5sb2NhbGUob3B0aW9ucy5sb2NhbGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RlcHBpbmcgIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TW9tZW50Lm1pbnV0ZXMoKE1hdGgucm91bmQodGFyZ2V0TW9tZW50Lm1pbnV0ZXMoKSAvIG9wdGlvbnMuc3RlcHBpbmcpICogb3B0aW9ucy5zdGVwcGluZykgJSA2MCkuc2Vjb25kcygwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCh0YXJnZXRNb21lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGUgPSB0YXJnZXRNb21lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdEYXRlID0gZGF0ZS5jbG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWwoZGF0ZS5mb3JtYXQoYWN0dWFsRm9ybWF0KSk7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZGF0YSgnZGF0ZScsIGRhdGUuZm9ybWF0KGFjdHVhbEZvcm1hdCkpO1xuICAgICAgICAgICAgICAgICAgICB1bnNldCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgbm90aWZ5RXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RwLmNoYW5nZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBkYXRlLmNsb25lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGREYXRlOiBvbGREYXRlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5rZWVwSW52YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQudmFsKHVuc2V0ID8gJycgOiBkYXRlLmZvcm1hdChhY3R1YWxGb3JtYXQpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub3RpZnlFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZHAuZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZTogdGFyZ2V0TW9tZW50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8vPHN1bW1hcnk+SGlkZXMgdGhlIHdpZGdldC4gUG9zc2libHkgd2lsbCBlbWl0IGRwLmhpZGU8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoIXdpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXZlbnQgaWYgaW4gdGhlIG1pZGRsZSBvZiBhIHBpY2tlciB0cmFuc2l0aW9uXG4gICAgICAgICAgICAgICAgd2lkZ2V0LmZpbmQoJy5jb2xsYXBzZScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29sbGFwc2VEYXRhID0gJCh0aGlzKS5kYXRhKCdjb2xsYXBzZScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGFwc2VEYXRhICYmIGNvbGxhcHNlRGF0YS50cmFuc2l0aW9uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvbmluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC5oYXNDbGFzcygnYnRuJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2lkZ2V0LmhpZGUoKTtcblxuICAgICAgICAgICAgICAgICQod2luZG93KS5vZmYoJ3Jlc2l6ZScsIHBsYWNlKTtcbiAgICAgICAgICAgICAgICB3aWRnZXQub2ZmKCdjbGljaycsICdbZGF0YS1hY3Rpb25dJyk7XG4gICAgICAgICAgICAgICAgd2lkZ2V0Lm9mZignbW91c2Vkb3duJywgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgd2lkZ2V0LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHdpZGdldCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgbm90aWZ5RXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZHAuaGlkZScsXG4gICAgICAgICAgICAgICAgICAgIGRhdGU6IGRhdGUuY2xvbmUoKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaW5wdXQuYmx1cigpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNldFZhbHVlKG51bGwpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogV2lkZ2V0IFVJIGludGVyYWN0aW9uIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAgICAgICAgIGFjdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmF2Rm5jID0gZGF0ZVBpY2tlck1vZGVzW2N1cnJlbnRWaWV3TW9kZV0ubmF2Rm5jO1xuICAgICAgICAgICAgICAgICAgICB2aWV3RGF0ZS5hZGQoZGF0ZVBpY2tlck1vZGVzW2N1cnJlbnRWaWV3TW9kZV0ubmF2U3RlcCwgbmF2Rm5jKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsbERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdmlld1VwZGF0ZShuYXZGbmMpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBwcmV2aW91czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmF2Rm5jID0gZGF0ZVBpY2tlck1vZGVzW2N1cnJlbnRWaWV3TW9kZV0ubmF2Rm5jO1xuICAgICAgICAgICAgICAgICAgICB2aWV3RGF0ZS5zdWJ0cmFjdChkYXRlUGlja2VyTW9kZXNbY3VycmVudFZpZXdNb2RlXS5uYXZTdGVwLCBuYXZGbmMpO1xuICAgICAgICAgICAgICAgICAgICBmaWxsRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3VXBkYXRlKG5hdkZuYyk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHBpY2tlclN3aXRjaDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzaG93TW9kZSgxKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgc2VsZWN0TW9udGg6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ3Rib2R5JykuZmluZCgnc3BhbicpLmluZGV4KCQoZS50YXJnZXQpKTtcbiAgICAgICAgICAgICAgICAgICAgdmlld0RhdGUubW9udGgobW9udGgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFZpZXdNb2RlID09PSBtaW5WaWV3TW9kZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoZGF0ZS5jbG9uZSgpLnllYXIodmlld0RhdGUueWVhcigpKS5tb250aCh2aWV3RGF0ZS5tb250aCgpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd01vZGUoLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2aWV3VXBkYXRlKCdNJyk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHNlbGVjdFllYXI6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gcGFyc2VJbnQoJChlLnRhcmdldCkudGV4dCgpLCAxMCkgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgdmlld0RhdGUueWVhcih5ZWFyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRWaWV3TW9kZSA9PT0gbWluVmlld01vZGVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGRhdGUuY2xvbmUoKS55ZWFyKHZpZXdEYXRlLnllYXIoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmlubGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dNb2RlKC0xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmlld1VwZGF0ZSgnWVlZWScpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBzZWxlY3REZWNhZGU6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gcGFyc2VJbnQoJChlLnRhcmdldCkuZGF0YSgnc2VsZWN0aW9uJyksIDEwKSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICB2aWV3RGF0ZS55ZWFyKHllYXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFZpZXdNb2RlID09PSBtaW5WaWV3TW9kZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoZGF0ZS5jbG9uZSgpLnllYXIodmlld0RhdGUueWVhcigpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd01vZGUoLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsbERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2aWV3VXBkYXRlKCdZWVlZJyk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHNlbGVjdERheTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheSA9IHZpZXdEYXRlLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcygnLm9sZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXkuc3VidHJhY3QoMSwgJ00nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoJChlLnRhcmdldCkuaXMoJy5uZXcnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF5LmFkZCgxLCAnTScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGRheS5kYXRlKHBhcnNlSW50KCQoZS50YXJnZXQpLnRleHQoKSwgMTApKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGFzVGltZSgpICYmICFvcHRpb25zLmtlZXBPcGVuICYmICFvcHRpb25zLmlubGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGluY3JlbWVudEhvdXJzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRlID0gZGF0ZS5jbG9uZSgpLmFkZCgxLCAnaCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZChuZXdEYXRlLCAnaCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShuZXdEYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRNaW51dGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRlID0gZGF0ZS5jbG9uZSgpLmFkZChvcHRpb25zLnN0ZXBwaW5nLCAnbScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZChuZXdEYXRlLCAnbScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShuZXdEYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBpbmNyZW1lbnRTZWNvbmRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRlID0gZGF0ZS5jbG9uZSgpLmFkZCgxLCAncycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZChuZXdEYXRlLCAncycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShuZXdEYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBkZWNyZW1lbnRIb3VyczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RGF0ZSA9IGRhdGUuY2xvbmUoKS5zdWJ0cmFjdCgxLCAnaCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZChuZXdEYXRlLCAnaCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShuZXdEYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBkZWNyZW1lbnRNaW51dGVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRlID0gZGF0ZS5jbG9uZSgpLnN1YnRyYWN0KG9wdGlvbnMuc3RlcHBpbmcsICdtJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKG5ld0RhdGUsICdtJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKG5ld0RhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIGRlY3JlbWVudFNlY29uZHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0RhdGUgPSBkYXRlLmNsb25lKCkuc3VidHJhY3QoMSwgJ3MnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQobmV3RGF0ZSwgJ3MnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUobmV3RGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgdG9nZ2xlUGVyaW9kOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGRhdGUuY2xvbmUoKS5hZGQoKGRhdGUuaG91cnMoKSA+PSAxMikgPyAtMTIgOiAxMiwgJ2gnKSk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHRvZ2dsZVBpY2tlcjogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJChlLnRhcmdldCksXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFyZW50ID0gJHRoaXMuY2xvc2VzdCgndWwnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZGVkID0gJHBhcmVudC5maW5kKCcuaW4nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlZCA9ICRwYXJlbnQuZmluZCgnLmNvbGxhcHNlOm5vdCguaW4pJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsYXBzZURhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cGFuZGVkICYmIGV4cGFuZGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGFwc2VEYXRhID0gZXhwYW5kZWQuZGF0YSgnY29sbGFwc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xsYXBzZURhdGEgJiYgY29sbGFwc2VEYXRhLnRyYW5zaXRpb25pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhwYW5kZWQuY29sbGFwc2UpIHsgLy8gaWYgY29sbGFwc2UgcGx1Z2luIGlzIGF2YWlsYWJsZSB0aHJvdWdoIGJvb3RzdHJhcC5qcyB0aGVuIHVzZSBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZGVkLmNvbGxhcHNlKCdoaWRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VkLmNvbGxhcHNlKCdzaG93Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UganVzdCB0b2dnbGUgaW4gY2xhc3Mgb24gdGhlIHR3byB2aWV3c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGFuZGVkLnJlbW92ZUNsYXNzKCdpbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlZC5hZGRDbGFzcygnaW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkdGhpcy5pcygnc3BhbicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMudG9nZ2xlQ2xhc3Mob3B0aW9ucy5pY29ucy50aW1lICsgJyAnICsgb3B0aW9ucy5pY29ucy5kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuZmluZCgnc3BhbicpLnRvZ2dsZUNsYXNzKG9wdGlvbnMuaWNvbnMudGltZSArICcgJyArIG9wdGlvbnMuaWNvbnMuZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IHVuY29tbWVudCBpZiB0b2dnbGVkIHN0YXRlIHdpbGwgYmUgcmVzdG9yZWQgaW4gc2hvdygpXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIChjb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIGNvbXBvbmVudC5maW5kKCdzcGFuJykudG9nZ2xlQ2xhc3Mob3B0aW9ucy5pY29ucy50aW1lICsgJyAnICsgb3B0aW9ucy5pY29ucy5kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHNob3dQaWNrZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LmZpbmQoJy50aW1lcGlja2VyID4gZGl2Om5vdCgudGltZXBpY2tlci1waWNrZXIpJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQuZmluZCgnLnRpbWVwaWNrZXIgLnRpbWVwaWNrZXItcGlja2VyJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBzaG93SG91cnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LmZpbmQoJy50aW1lcGlja2VyIC50aW1lcGlja2VyLXBpY2tlcicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LmZpbmQoJy50aW1lcGlja2VyIC50aW1lcGlja2VyLWhvdXJzJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBzaG93TWludXRlczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQuZmluZCgnLnRpbWVwaWNrZXIgLnRpbWVwaWNrZXItcGlja2VyJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQuZmluZCgnLnRpbWVwaWNrZXIgLnRpbWVwaWNrZXItbWludXRlcycpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgc2hvd1NlY29uZHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LmZpbmQoJy50aW1lcGlja2VyIC50aW1lcGlja2VyLXBpY2tlcicpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LmZpbmQoJy50aW1lcGlja2VyIC50aW1lcGlja2VyLXNlY29uZHMnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHNlbGVjdEhvdXI6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBob3VyID0gcGFyc2VJbnQoJChlLnRhcmdldCkudGV4dCgpLCAxMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF1c2UyNEhvdXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZS5ob3VycygpID49IDEyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvdXIgIT09IDEyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdXIgKz0gMTI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaG91ciA9PT0gMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91ciA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGRhdGUuY2xvbmUoKS5ob3Vycyhob3VyKSk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbnMuc2hvd1BpY2tlci5jYWxsKHBpY2tlcik7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIHNlbGVjdE1pbnV0ZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUoZGF0ZS5jbG9uZSgpLm1pbnV0ZXMocGFyc2VJbnQoJChlLnRhcmdldCkudGV4dCgpLCAxMCkpKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9ucy5zaG93UGlja2VyLmNhbGwocGlja2VyKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgc2VsZWN0U2Vjb25kOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShkYXRlLmNsb25lKCkuc2Vjb25kcyhwYXJzZUludCgkKGUudGFyZ2V0KS50ZXh0KCksIDEwKSkpO1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zLnNob3dQaWNrZXIuY2FsbChwaWNrZXIpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBjbGVhcjogY2xlYXIsXG5cbiAgICAgICAgICAgICAgICB0b2RheTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9kYXlzRGF0ZSA9IGdldE1vbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCh0b2RheXNEYXRlLCAnZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZSh0b2RheXNEYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBjbG9zZTogaGlkZVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZG9BY3Rpb24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmICgkKGUuY3VycmVudFRhcmdldCkuaXMoJy5kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWN0aW9uc1skKGUuY3VycmVudFRhcmdldCkuZGF0YSgnYWN0aW9uJyldLmFwcGx5KHBpY2tlciwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzaG93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vLzxzdW1tYXJ5PlNob3dzIHRoZSB3aWRnZXQuIFBvc3NpYmx5IHdpbGwgZW1pdCBkcC5zaG93IGFuZCBkcC5jaGFuZ2U8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRNb21lbnQsXG4gICAgICAgICAgICAgICAgICAgIHVzZUN1cnJlbnRHcmFudWxhcml0eSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICd5ZWFyJzogZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5tb250aCgwKS5kYXRlKDEpLmhvdXJzKDApLnNlY29uZHMoMCkubWludXRlcygwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnbW9udGgnOiBmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmRhdGUoMSkuaG91cnMoMCkuc2Vjb25kcygwKS5taW51dGVzKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdkYXknOiBmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmhvdXJzKDApLnNlY29uZHMoMCkubWludXRlcygwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAnaG91cic6IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uc2Vjb25kcygwKS5taW51dGVzKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdtaW51dGUnOiBmdW5jdGlvbiAobSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLnNlY29uZHMoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQucHJvcCgnZGlzYWJsZWQnKSB8fCAoIW9wdGlvbnMuaWdub3JlUmVhZG9ubHkgJiYgaW5wdXQucHJvcCgncmVhZG9ubHknKSkgfHwgd2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbnB1dC52YWwoKSAhPT0gdW5kZWZpbmVkICYmIGlucHV0LnZhbCgpLnRyaW0oKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWUocGFyc2VJbnB1dERhdGUoaW5wdXQudmFsKCkudHJpbSgpKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnVzZUN1cnJlbnQgJiYgdW5zZXQgJiYgKChpbnB1dC5pcygnaW5wdXQnKSAmJiBpbnB1dC52YWwoKS50cmltKCkubGVuZ3RoID09PSAwKSB8fCBvcHRpb25zLmlubGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1vbWVudCA9IGdldE1vbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMudXNlQ3VycmVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNb21lbnQgPSB1c2VDdXJyZW50R3JhbnVsYXJpdHlbb3B0aW9ucy51c2VDdXJyZW50XShjdXJyZW50TW9tZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZShjdXJyZW50TW9tZW50KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3aWRnZXQgPSBnZXRUZW1wbGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgZmlsbERvdygpO1xuICAgICAgICAgICAgICAgIGZpbGxNb250aHMoKTtcblxuICAgICAgICAgICAgICAgIHdpZGdldC5maW5kKCcudGltZXBpY2tlci1ob3VycycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB3aWRnZXQuZmluZCgnLnRpbWVwaWNrZXItbWludXRlcycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB3aWRnZXQuZmluZCgnLnRpbWVwaWNrZXItc2Vjb25kcycpLmhpZGUoKTtcblxuICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHNob3dNb2RlKCk7XG5cbiAgICAgICAgICAgICAgICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIHBsYWNlKTtcbiAgICAgICAgICAgICAgICB3aWRnZXQub24oJ2NsaWNrJywgJ1tkYXRhLWFjdGlvbl0nLCBkb0FjdGlvbik7IC8vIHRoaXMgaGFuZGxlcyBjbGlja3Mgb24gdGhlIHdpZGdldFxuICAgICAgICAgICAgICAgIHdpZGdldC5vbignbW91c2Vkb3duJywgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudCAmJiBjb21wb25lbnQuaGFzQ2xhc3MoJ2J0bicpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC50b2dnbGVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdpZGdldC5zaG93KCk7XG4gICAgICAgICAgICAgICAgcGxhY2UoKTtcblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmZvY3VzT25TaG93ICYmICFpbnB1dC5pcygnOmZvY3VzJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBub3RpZnlFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkcC5zaG93J1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB0b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5PlNob3dzIG9yIGhpZGVzIHRoZSB3aWRnZXQ8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgcmV0dXJuICh3aWRnZXQgPyBoaWRlKCkgOiBzaG93KCkpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgcGFyc2VJbnB1dERhdGUgPSBmdW5jdGlvbiAoaW5wdXREYXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucGFyc2VJbnB1dERhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobW9tZW50LmlzTW9tZW50KGlucHV0RGF0ZSkgfHwgaW5wdXREYXRlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXREYXRlID0gbW9tZW50KGlucHV0RGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dERhdGUgPSBnZXRNb21lbnQoaW5wdXREYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0RGF0ZSA9IG9wdGlvbnMucGFyc2VJbnB1dERhdGUoaW5wdXREYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5wdXREYXRlLmxvY2FsZShvcHRpb25zLmxvY2FsZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0RGF0ZTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4MixcbiAgICAgICAgICAgICAgICAgICAgcHJlc3NlZEtleXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgcHJlc3NlZE1vZGlmaWVycyA9IHt9LFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50S2V5ID0gZS53aGljaCxcbiAgICAgICAgICAgICAgICAgICAga2V5QmluZEtleXMsXG4gICAgICAgICAgICAgICAgICAgIGFsbE1vZGlmaWVyc1ByZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgIHByZXNzZWQgPSAncCc7XG5cbiAgICAgICAgICAgICAgICBrZXlTdGF0ZVtjdXJyZW50S2V5XSA9IHByZXNzZWQ7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGluZGV4IGluIGtleVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXlTdGF0ZS5oYXNPd25Qcm9wZXJ0eShpbmRleCkgJiYga2V5U3RhdGVbaW5kZXhdID09PSBwcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVzc2VkS2V5cy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChpbmRleCwgMTApICE9PSBjdXJyZW50S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlc3NlZE1vZGlmaWVyc1tpbmRleF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChpbmRleCBpbiBvcHRpb25zLmtleUJpbmRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmtleUJpbmRzLmhhc093blByb3BlcnR5KGluZGV4KSAmJiB0eXBlb2YgKG9wdGlvbnMua2V5QmluZHNbaW5kZXhdKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5QmluZEtleXMgPSBpbmRleC5zcGxpdCgnICcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleUJpbmRLZXlzLmxlbmd0aCA9PT0gcHJlc3NlZEtleXMubGVuZ3RoICYmIGtleU1hcFtjdXJyZW50S2V5XSA9PT0ga2V5QmluZEtleXNba2V5QmluZEtleXMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNb2RpZmllcnNQcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGluZGV4MiA9IGtleUJpbmRLZXlzLmxlbmd0aCAtIDI7IGluZGV4MiA+PSAwOyBpbmRleDItLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXlNYXBba2V5QmluZEtleXNbaW5kZXgyXV0gaW4gcHJlc3NlZE1vZGlmaWVycykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1vZGlmaWVyc1ByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxNb2RpZmllcnNQcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIgPSBvcHRpb25zLmtleUJpbmRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5jYWxsKHBpY2tlciwgd2lkZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGtleXVwID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBrZXlTdGF0ZVtlLndoaWNoXSA9ICdyJztcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGNoYW5nZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9ICQoZS50YXJnZXQpLnZhbCgpLnRyaW0oKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkRGF0ZSA9IHZhbCA/IHBhcnNlSW5wdXREYXRlKHZhbCkgOiBudWxsO1xuICAgICAgICAgICAgICAgIHNldFZhbHVlKHBhcnNlZERhdGUpO1xuICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgYXR0YWNoRGF0ZVBpY2tlckVsZW1lbnRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQub24oe1xuICAgICAgICAgICAgICAgICAgICAnY2hhbmdlJzogY2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICAnYmx1cic6IG9wdGlvbnMuZGVidWcgPyAnJyA6IGhpZGUsXG4gICAgICAgICAgICAgICAgICAgICdrZXlkb3duJzoga2V5ZG93bixcbiAgICAgICAgICAgICAgICAgICAgJ2tleXVwJzoga2V5dXAsXG4gICAgICAgICAgICAgICAgICAgICdmb2N1cyc6IG9wdGlvbnMuYWxsb3dJbnB1dFRvZ2dsZSA/IHNob3cgOiAnJ1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaXMoJ2lucHV0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQub24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZvY3VzJzogc2hvd1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQub24oJ2NsaWNrJywgdG9nZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Lm9uKCdtb3VzZWRvd24nLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZGV0YWNoRGF0ZVBpY2tlckVsZW1lbnRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQub2ZmKHtcbiAgICAgICAgICAgICAgICAgICAgJ2NoYW5nZSc6IGNoYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgJ2JsdXInOiBibHVyLFxuICAgICAgICAgICAgICAgICAgICAna2V5ZG93bic6IGtleWRvd24sXG4gICAgICAgICAgICAgICAgICAgICdrZXl1cCc6IGtleXVwLFxuICAgICAgICAgICAgICAgICAgICAnZm9jdXMnOiBvcHRpb25zLmFsbG93SW5wdXRUb2dnbGUgPyBoaWRlIDogJydcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmlzKCdpbnB1dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0Lm9mZih7XG4gICAgICAgICAgICAgICAgICAgICAgICAnZm9jdXMnOiBzaG93XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5vZmYoJ2NsaWNrJywgdG9nZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Lm9mZignbW91c2Vkb3duJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGluZGV4R2l2ZW5EYXRlcyA9IGZ1bmN0aW9uIChnaXZlbkRhdGVzQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAvLyBTdG9yZSBnaXZlbiBlbmFibGVkRGF0ZXMgYW5kIGRpc2FibGVkRGF0ZXMgYXMga2V5cy5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIHdheSB3ZSBjYW4gY2hlY2sgdGhlaXIgZXhpc3RlbmNlIGluIE8oMSkgdGltZSBpbnN0ZWFkIG9mIGxvb3BpbmcgdGhyb3VnaCB3aG9sZSBhcnJheS5cbiAgICAgICAgICAgICAgICAvLyAoZm9yIGV4YW1wbGU6IG9wdGlvbnMuZW5hYmxlZERhdGVzWycyMDE0LTAyLTI3J10gPT09IHRydWUpXG4gICAgICAgICAgICAgICAgdmFyIGdpdmVuRGF0ZXNJbmRleGVkID0ge307XG4gICAgICAgICAgICAgICAgJC5lYWNoKGdpdmVuRGF0ZXNBcnJheSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZERhdGUgPSBwYXJzZUlucHV0RGF0ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGREYXRlLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2l2ZW5EYXRlc0luZGV4ZWRbZERhdGUuZm9ybWF0KCdZWVlZLU1NLUREJyldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiAoT2JqZWN0LmtleXMoZ2l2ZW5EYXRlc0luZGV4ZWQpLmxlbmd0aCkgPyBnaXZlbkRhdGVzSW5kZXhlZCA6IGZhbHNlO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaW5kZXhHaXZlbkhvdXJzID0gZnVuY3Rpb24gKGdpdmVuSG91cnNBcnJheSkge1xuICAgICAgICAgICAgICAgIC8vIFN0b3JlIGdpdmVuIGVuYWJsZWRIb3VycyBhbmQgZGlzYWJsZWRIb3VycyBhcyBrZXlzLlxuICAgICAgICAgICAgICAgIC8vIFRoaXMgd2F5IHdlIGNhbiBjaGVjayB0aGVpciBleGlzdGVuY2UgaW4gTygxKSB0aW1lIGluc3RlYWQgb2YgbG9vcGluZyB0aHJvdWdoIHdob2xlIGFycmF5LlxuICAgICAgICAgICAgICAgIC8vIChmb3IgZXhhbXBsZTogb3B0aW9ucy5lbmFibGVkSG91cnNbJzIwMTQtMDItMjcnXSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICB2YXIgZ2l2ZW5Ib3Vyc0luZGV4ZWQgPSB7fTtcbiAgICAgICAgICAgICAgICAkLmVhY2goZ2l2ZW5Ib3Vyc0FycmF5LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGdpdmVuSG91cnNJbmRleGVkW3RoaXNdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKE9iamVjdC5rZXlzKGdpdmVuSG91cnNJbmRleGVkKS5sZW5ndGgpID8gZ2l2ZW5Ib3Vyc0luZGV4ZWQgOiBmYWxzZTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGluaXRGb3JtYXR0aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBmb3JtYXQgPSBvcHRpb25zLmZvcm1hdCB8fCAnTCBMVCc7XG5cbiAgICAgICAgICAgICAgICBhY3R1YWxGb3JtYXQgPSBmb3JtYXQucmVwbGFjZSgvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nLCBmdW5jdGlvbiAoZm9ybWF0SW5wdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld2lucHV0ID0gZGF0ZS5sb2NhbGVEYXRhKCkubG9uZ0RhdGVGb3JtYXQoZm9ybWF0SW5wdXQpIHx8IGZvcm1hdElucHV0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3aW5wdXQucmVwbGFjZSgvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nLCBmdW5jdGlvbiAoZm9ybWF0SW5wdXQyKSB7IC8vdGVtcCBmaXggZm9yICM3NDBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmxvY2FsZURhdGEoKS5sb25nRGF0ZUZvcm1hdChmb3JtYXRJbnB1dDIpIHx8IGZvcm1hdElucHV0MjtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cblxuICAgICAgICAgICAgICAgIHBhcnNlRm9ybWF0cyA9IG9wdGlvbnMuZXh0cmFGb3JtYXRzID8gb3B0aW9ucy5leHRyYUZvcm1hdHMuc2xpY2UoKSA6IFtdO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZUZvcm1hdHMuaW5kZXhPZihmb3JtYXQpIDwgMCAmJiBwYXJzZUZvcm1hdHMuaW5kZXhPZihhY3R1YWxGb3JtYXQpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUZvcm1hdHMucHVzaChhY3R1YWxGb3JtYXQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHVzZTI0SG91cnMgPSAoYWN0dWFsRm9ybWF0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignYScpIDwgMSAmJiBhY3R1YWxGb3JtYXQucmVwbGFjZSgvXFxbLio/XFxdL2csICcnKS5pbmRleE9mKCdoJykgPCAxKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0VuYWJsZWQoJ3knKSkge1xuICAgICAgICAgICAgICAgICAgICBtaW5WaWV3TW9kZU51bWJlciA9IDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0VuYWJsZWQoJ00nKSkge1xuICAgICAgICAgICAgICAgICAgICBtaW5WaWV3TW9kZU51bWJlciA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0VuYWJsZWQoJ2QnKSkge1xuICAgICAgICAgICAgICAgICAgICBtaW5WaWV3TW9kZU51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY3VycmVudFZpZXdNb2RlID0gTWF0aC5tYXgobWluVmlld01vZGVOdW1iZXIsIGN1cnJlbnRWaWV3TW9kZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXVuc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICAgICAqXG4gICAgICAgICAqIFB1YmxpYyBBUEkgZnVuY3Rpb25zXG4gICAgICAgICAqID09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgKlxuICAgICAgICAgKiBJbXBvcnRhbnQ6IERvIG5vdCBleHBvc2UgZGlyZWN0IHJlZmVyZW5jZXMgdG8gcHJpdmF0ZSBvYmplY3RzIG9yIHRoZSBvcHRpb25zXG4gICAgICAgICAqIG9iamVjdCB0byB0aGUgb3V0ZXIgd29ybGQuIEFsd2F5cyByZXR1cm4gYSBjbG9uZSB3aGVuIHJldHVybmluZyB2YWx1ZXMgb3IgbWFrZVxuICAgICAgICAgKiBhIGNsb25lIHdoZW4gc2V0dGluZyBhIHByaXZhdGUgdmFyaWFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAgICAgcGlja2VyLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLy88c3VtbWFyeT5EZXN0cm95cyB0aGUgd2lkZ2V0IGFuZCByZW1vdmVzIGFsbCBhdHRhY2hlZCBldmVudCBsaXN0ZW5lcnM8L3N1bW1hcnk+XG4gICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICBkZXRhY2hEYXRlUGlja2VyRWxlbWVudEV2ZW50cygpO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVEYXRhKCdEYXRlVGltZVBpY2tlcicpO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVEYXRhKCdkYXRlJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLnRvZ2dsZSA9IHRvZ2dsZTtcblxuICAgICAgICBwaWNrZXIuc2hvdyA9IHNob3c7XG5cbiAgICAgICAgcGlja2VyLmhpZGUgPSBoaWRlO1xuXG4gICAgICAgIHBpY2tlci5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8vPHN1bW1hcnk+RGlzYWJsZXMgdGhlIGlucHV0IGVsZW1lbnQsIHRoZSBjb21wb25lbnQgaXMgYXR0YWNoZWQgdG8sIGJ5IGFkZGluZyBhIGRpc2FibGVkPVwidHJ1ZVwiIGF0dHJpYnV0ZSB0byBpdC5cbiAgICAgICAgICAgIC8vL0lmIHRoZSB3aWRnZXQgd2FzIHZpc2libGUgYmVmb3JlIHRoYXQgY2FsbCBpdCBpcyBoaWRkZW4uIFBvc3NpYmx5IGVtaXRzIGRwLmhpZGU8L3N1bW1hcnk+XG4gICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50ICYmIGNvbXBvbmVudC5oYXNDbGFzcygnYnRuJykpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dC5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8vPHN1bW1hcnk+RW5hYmxlcyB0aGUgaW5wdXQgZWxlbWVudCwgdGhlIGNvbXBvbmVudCBpcyBhdHRhY2hlZCB0bywgYnkgcmVtb3ZpbmcgZGlzYWJsZWQgYXR0cmlidXRlIGZyb20gaXQuPC9zdW1tYXJ5PlxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCAmJiBjb21wb25lbnQuaGFzQ2xhc3MoJ2J0bicpKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXQucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci5pZ25vcmVSZWFkb25seSA9IGZ1bmN0aW9uIChpZ25vcmVSZWFkb25seSkge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5pZ25vcmVSZWFkb25seTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgaWdub3JlUmVhZG9ubHkgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2lnbm9yZVJlYWRvbmx5ICgpIGV4cGVjdHMgYSBib29sZWFuIHBhcmFtZXRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5pZ25vcmVSZWFkb25seSA9IGlnbm9yZVJlYWRvbmx5O1xuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIub3B0aW9ucyA9IGZ1bmN0aW9uIChuZXdPcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkLmV4dGVuZCh0cnVlLCB7fSwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKG5ld09wdGlvbnMgaW5zdGFuY2VvZiBPYmplY3QpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9ucygpIG9wdGlvbnMgcGFyYW1ldGVyIHNob3VsZCBiZSBhbiBvYmplY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQuZXh0ZW5kKHRydWUsIG9wdGlvbnMsIG5ld09wdGlvbnMpO1xuICAgICAgICAgICAgJC5lYWNoKG9wdGlvbnMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBpY2tlcltrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGlja2VyW2tleV0odmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiAnICsga2V5ICsgJyBpcyBub3QgcmVjb2duaXplZCEnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLmRhdGUgPSBmdW5jdGlvbiAobmV3RGF0ZSkge1xuICAgICAgICAgICAgLy8vPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIiQuZm4uZGF0ZXRpbWVwaWNrZXIuZGF0ZVwiPlxuICAgICAgICAgICAgLy8vPHN1bW1hcnk+UmV0dXJucyB0aGUgY29tcG9uZW50J3MgbW9kZWwgY3VycmVudCBkYXRlLCBhIG1vbWVudCBvYmplY3Qgb3IgbnVsbCBpZiBub3Qgc2V0Ljwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLzxyZXR1cm5zIHR5cGU9XCJNb21lbnRcIj5kYXRlLmNsb25lKCk8L3JldHVybnM+XG4gICAgICAgICAgICAvLy88L3NpZ25hdHVyZT5cbiAgICAgICAgICAgIC8vLzxzaWduYXR1cmU+XG4gICAgICAgICAgICAvLy88c3VtbWFyeT5TZXRzIHRoZSBjb21wb25lbnRzIG1vZGVsIGN1cnJlbnQgbW9tZW50IHRvIGl0LiBQYXNzaW5nIGEgbnVsbCB2YWx1ZSB1bnNldHMgdGhlIGNvbXBvbmVudHMgbW9kZWwgY3VycmVudCBtb21lbnQuIFBhcnNpbmcgb2YgdGhlIG5ld0RhdGUgcGFyYW1ldGVyIGlzIG1hZGUgdXNpbmcgbW9tZW50IGxpYnJhcnkgd2l0aCB0aGUgb3B0aW9ucy5mb3JtYXQgYW5kIG9wdGlvbnMudXNlU3RyaWN0IGNvbXBvbmVudHMgY29uZmlndXJhdGlvbi48L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy88cGFyYW0gbmFtZT1cIm5ld0RhdGVcIiBsb2NpZD1cIiQuZm4uZGF0ZXRpbWVwaWNrZXIuZGF0ZV9wOm5ld0RhdGVcIj5UYWtlcyBzdHJpbmcsIERhdGUsIG1vbWVudCwgbnVsbCBwYXJhbWV0ZXIuPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLzwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodW5zZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmNsb25lKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuZXdEYXRlICE9PSBudWxsICYmIHR5cGVvZiBuZXdEYXRlICE9PSAnc3RyaW5nJyAmJiAhbW9tZW50LmlzTW9tZW50KG5ld0RhdGUpICYmICEobmV3RGF0ZSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZGF0ZSgpIHBhcmFtZXRlciBtdXN0IGJlIG9uZSBvZiBbbnVsbCwgc3RyaW5nLCBtb21lbnQgb3IgRGF0ZV0nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0VmFsdWUobmV3RGF0ZSA9PT0gbnVsbCA/IG51bGwgOiBwYXJzZUlucHV0RGF0ZShuZXdEYXRlKSk7XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci5mb3JtYXQgPSBmdW5jdGlvbiAobmV3Rm9ybWF0KSB7XG4gICAgICAgICAgICAvLy88c3VtbWFyeT50ZXN0IHN1PC9zdW1tYXJ5PlxuICAgICAgICAgICAgLy8vPHBhcmFtIG5hbWU9XCJuZXdGb3JtYXRcIj5pbmZvIGFib3V0IHBhcmE8L3BhcmFtPlxuICAgICAgICAgICAgLy8vPHJldHVybnMgdHlwZT1cInN0cmluZ3xib29sZWFuXCI+cmV0dXJucyBmb288L3JldHVybnM+XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmZvcm1hdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCh0eXBlb2YgbmV3Rm9ybWF0ICE9PSAnc3RyaW5nJykgJiYgKCh0eXBlb2YgbmV3Rm9ybWF0ICE9PSAnYm9vbGVhbicpIHx8IChuZXdGb3JtYXQgIT09IGZhbHNlKSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdmb3JtYXQoKSBleHBlY3RzIGEgc3Rpbmcgb3IgYm9vbGVhbjpmYWxzZSBwYXJhbWV0ZXIgJyArIG5ld0Zvcm1hdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbnMuZm9ybWF0ID0gbmV3Rm9ybWF0O1xuICAgICAgICAgICAgaWYgKGFjdHVhbEZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGluaXRGb3JtYXR0aW5nKCk7IC8vIHJlaW5pdCBmb3JtYXR0aW5nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci50aW1lWm9uZSA9IGZ1bmN0aW9uIChuZXdab25lKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnRpbWVab25lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcHRpb25zLnRpbWVab25lID0gbmV3Wm9uZTtcblxuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIuZGF5Vmlld0hlYWRlckZvcm1hdCA9IGZ1bmN0aW9uIChuZXdGb3JtYXQpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGF5Vmlld0hlYWRlckZvcm1hdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdGb3JtYXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZGF5Vmlld0hlYWRlckZvcm1hdCgpIGV4cGVjdHMgYSBzdHJpbmcgcGFyYW1ldGVyJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbnMuZGF5Vmlld0hlYWRlckZvcm1hdCA9IG5ld0Zvcm1hdDtcbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLmV4dHJhRm9ybWF0cyA9IGZ1bmN0aW9uIChmb3JtYXRzKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmV4dHJhRm9ybWF0cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZvcm1hdHMgIT09IGZhbHNlICYmICEoZm9ybWF0cyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4dHJhRm9ybWF0cygpIGV4cGVjdHMgYW4gYXJyYXkgb3IgZmFsc2UgcGFyYW1ldGVyJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbnMuZXh0cmFGb3JtYXRzID0gZm9ybWF0cztcbiAgICAgICAgICAgIGlmIChwYXJzZUZvcm1hdHMpIHtcbiAgICAgICAgICAgICAgICBpbml0Rm9ybWF0dGluZygpOyAvLyByZWluaXQgZm9ybWF0dGluZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIuZGlzYWJsZWREYXRlcyA9IGZ1bmN0aW9uIChkYXRlcykge1xuICAgICAgICAgICAgLy8vPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIiQuZm4uZGF0ZXRpbWVwaWNrZXIuZGlzYWJsZWREYXRlc1wiPlxuICAgICAgICAgICAgLy8vPHN1bW1hcnk+UmV0dXJucyBhbiBhcnJheSB3aXRoIHRoZSBjdXJyZW50bHkgc2V0IGRpc2FibGVkIGRhdGVzIG9uIHRoZSBjb21wb25lbnQuPC9zdW1tYXJ5PlxuICAgICAgICAgICAgLy8vPHJldHVybnMgdHlwZT1cImFycmF5XCI+b3B0aW9ucy5kaXNhYmxlZERhdGVzPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAvLy88c2lnbmF0dXJlPlxuICAgICAgICAgICAgLy8vPHN1bW1hcnk+U2V0dGluZyB0aGlzIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBvcHRpb25zLm1pbkRhdGUsIG9wdGlvbnMubWF4RGF0ZSBjb25maWd1cmF0aW9uLiBBbHNvIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiByZW1vdmVzIHRoZSBjb25maWd1cmF0aW9uIG9mXG4gICAgICAgICAgICAvLy9vcHRpb25zLmVuYWJsZWREYXRlcyBpZiBzdWNoIGV4aXN0Ljwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLzxwYXJhbSBuYW1lPVwiZGF0ZXNcIiBsb2NpZD1cIiQuZm4uZGF0ZXRpbWVwaWNrZXIuZGlzYWJsZWREYXRlc19wOmRhdGVzXCI+VGFrZXMgYW4gWyBzdHJpbmcgb3IgRGF0ZSBvciBtb21lbnQgXSBvZiB2YWx1ZXMgYW5kIGFsbG93cyB0aGUgdXNlciB0byBzZWxlY3Qgb25seSBmcm9tIHRob3NlIGRheXMuPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLzwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKG9wdGlvbnMuZGlzYWJsZWREYXRlcyA/ICQuZXh0ZW5kKHt9LCBvcHRpb25zLmRpc2FibGVkRGF0ZXMpIDogb3B0aW9ucy5kaXNhYmxlZERhdGVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkYXRlcykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGlzYWJsZWREYXRlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShkYXRlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Rpc2FibGVkRGF0ZXMoKSBleHBlY3RzIGFuIGFycmF5IHBhcmFtZXRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5kaXNhYmxlZERhdGVzID0gaW5kZXhHaXZlbkRhdGVzKGRhdGVzKTtcbiAgICAgICAgICAgIG9wdGlvbnMuZW5hYmxlZERhdGVzID0gZmFsc2U7XG4gICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLmVuYWJsZWREYXRlcyA9IGZ1bmN0aW9uIChkYXRlcykge1xuICAgICAgICAgICAgLy8vPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIiQuZm4uZGF0ZXRpbWVwaWNrZXIuZW5hYmxlZERhdGVzXCI+XG4gICAgICAgICAgICAvLy88c3VtbWFyeT5SZXR1cm5zIGFuIGFycmF5IHdpdGggdGhlIGN1cnJlbnRseSBzZXQgZW5hYmxlZCBkYXRlcyBvbiB0aGUgY29tcG9uZW50Ljwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLzxyZXR1cm5zIHR5cGU9XCJhcnJheVwiPm9wdGlvbnMuZW5hYmxlZERhdGVzPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAvLy88c2lnbmF0dXJlPlxuICAgICAgICAgICAgLy8vPHN1bW1hcnk+U2V0dGluZyB0aGlzIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBvcHRpb25zLm1pbkRhdGUsIG9wdGlvbnMubWF4RGF0ZSBjb25maWd1cmF0aW9uLiBBbHNvIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiByZW1vdmVzIHRoZSBjb25maWd1cmF0aW9uIG9mIG9wdGlvbnMuZGlzYWJsZWREYXRlcyBpZiBzdWNoIGV4aXN0Ljwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLzxwYXJhbSBuYW1lPVwiZGF0ZXNcIiBsb2NpZD1cIiQuZm4uZGF0ZXRpbWVwaWNrZXIuZW5hYmxlZERhdGVzX3A6ZGF0ZXNcIj5UYWtlcyBhbiBbIHN0cmluZyBvciBEYXRlIG9yIG1vbWVudCBdIG9mIHZhbHVlcyBhbmQgYWxsb3dzIHRoZSB1c2VyIHRvIHNlbGVjdCBvbmx5IGZyb20gdGhvc2UgZGF5cy48L3BhcmFtPlxuICAgICAgICAgICAgLy8vPC9zaWduYXR1cmU+XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAob3B0aW9ucy5lbmFibGVkRGF0ZXMgPyAkLmV4dGVuZCh7fSwgb3B0aW9ucy5lbmFibGVkRGF0ZXMpIDogb3B0aW9ucy5lbmFibGVkRGF0ZXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWRhdGVzKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5lbmFibGVkRGF0ZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoZGF0ZXMgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmFibGVkRGF0ZXMoKSBleHBlY3RzIGFuIGFycmF5IHBhcmFtZXRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5lbmFibGVkRGF0ZXMgPSBpbmRleEdpdmVuRGF0ZXMoZGF0ZXMpO1xuICAgICAgICAgICAgb3B0aW9ucy5kaXNhYmxlZERhdGVzID0gZmFsc2U7XG4gICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLmRheXNPZldlZWtEaXNhYmxlZCA9IGZ1bmN0aW9uIChkYXlzT2ZXZWVrRGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGF5c09mV2Vla0Rpc2FibGVkLnNwbGljZSgwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCh0eXBlb2YgZGF5c09mV2Vla0Rpc2FibGVkID09PSAnYm9vbGVhbicpICYmICFkYXlzT2ZXZWVrRGlzYWJsZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRheXNPZldlZWtEaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKGRheXNPZldlZWtEaXNhYmxlZCBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2RheXNPZldlZWtEaXNhYmxlZCgpIGV4cGVjdHMgYW4gYXJyYXkgcGFyYW1ldGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLmRheXNPZldlZWtEaXNhYmxlZCA9IGRheXNPZldlZWtEaXNhYmxlZC5yZWR1Y2UoZnVuY3Rpb24gKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IHBhcnNlSW50KGN1cnJlbnRWYWx1ZSwgMTApO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VmFsdWUgPiA2IHx8IGN1cnJlbnRWYWx1ZSA8IDAgfHwgaXNOYU4oY3VycmVudFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldmlvdXNWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzVmFsdWUuaW5kZXhPZihjdXJyZW50VmFsdWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlLnB1c2goY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWU7XG4gICAgICAgICAgICB9LCBbXSkuc29ydCgpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlQ3VycmVudCAmJiAhb3B0aW9ucy5rZWVwSW52YWxpZCkge1xuICAgICAgICAgICAgICAgIHZhciB0cmllcyA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCFpc1ZhbGlkKGRhdGUsICdkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZS5hZGQoMSwgJ2QnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWVzID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAnVHJpZWQgNyB0aW1lcyB0byBmaW5kIGEgdmFsaWQgZGF0ZSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJpZXMrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0VmFsdWUoZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLm1heERhdGUgPSBmdW5jdGlvbiAobWF4RGF0ZSkge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5tYXhEYXRlID8gb3B0aW9ucy5tYXhEYXRlLmNsb25lKCkgOiBvcHRpb25zLm1heERhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgodHlwZW9mIG1heERhdGUgPT09ICdib29sZWFuJykgJiYgbWF4RGF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLm1heERhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG1heERhdGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heERhdGUgPT09ICdub3cnIHx8IG1heERhdGUgPT09ICdtb21lbnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heERhdGUgPSBnZXRNb21lbnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBwYXJzZWREYXRlID0gcGFyc2VJbnB1dERhdGUobWF4RGF0ZSk7XG5cbiAgICAgICAgICAgIGlmICghcGFyc2VkRGF0ZS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYXhEYXRlKCkgQ291bGQgbm90IHBhcnNlIGRhdGUgcGFyYW1ldGVyOiAnICsgbWF4RGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5taW5EYXRlICYmIHBhcnNlZERhdGUuaXNCZWZvcmUob3B0aW9ucy5taW5EYXRlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21heERhdGUoKSBkYXRlIHBhcmFtZXRlciBpcyBiZWZvcmUgb3B0aW9ucy5taW5EYXRlOiAnICsgcGFyc2VkRGF0ZS5mb3JtYXQoYWN0dWFsRm9ybWF0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLm1heERhdGUgPSBwYXJzZWREYXRlO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlQ3VycmVudCAmJiAhb3B0aW9ucy5rZWVwSW52YWxpZCAmJiBkYXRlLmlzQWZ0ZXIobWF4RGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZShvcHRpb25zLm1heERhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZpZXdEYXRlLmlzQWZ0ZXIocGFyc2VkRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB2aWV3RGF0ZSA9IHBhcnNlZERhdGUuY2xvbmUoKS5zdWJ0cmFjdChvcHRpb25zLnN0ZXBwaW5nLCAnbScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci5taW5EYXRlID0gZnVuY3Rpb24gKG1pbkRhdGUpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMubWluRGF0ZSA/IG9wdGlvbnMubWluRGF0ZS5jbG9uZSgpIDogb3B0aW9ucy5taW5EYXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKHR5cGVvZiBtaW5EYXRlID09PSAnYm9vbGVhbicpICYmIG1pbkRhdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5taW5EYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtaW5EYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlmIChtaW5EYXRlID09PSAnbm93JyB8fCBtaW5EYXRlID09PSAnbW9tZW50Jykge1xuICAgICAgICAgICAgICAgICAgICBtaW5EYXRlID0gZ2V0TW9tZW50KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcGFyc2VkRGF0ZSA9IHBhcnNlSW5wdXREYXRlKG1pbkRhdGUpO1xuXG4gICAgICAgICAgICBpZiAoIXBhcnNlZERhdGUuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbWluRGF0ZSgpIENvdWxkIG5vdCBwYXJzZSBkYXRlIHBhcmFtZXRlcjogJyArIG1pbkRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubWF4RGF0ZSAmJiBwYXJzZWREYXRlLmlzQWZ0ZXIob3B0aW9ucy5tYXhEYXRlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21pbkRhdGUoKSBkYXRlIHBhcmFtZXRlciBpcyBhZnRlciBvcHRpb25zLm1heERhdGU6ICcgKyBwYXJzZWREYXRlLmZvcm1hdChhY3R1YWxGb3JtYXQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMubWluRGF0ZSA9IHBhcnNlZERhdGU7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VDdXJyZW50ICYmICFvcHRpb25zLmtlZXBJbnZhbGlkICYmIGRhdGUuaXNCZWZvcmUobWluRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZShvcHRpb25zLm1pbkRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZpZXdEYXRlLmlzQmVmb3JlKHBhcnNlZERhdGUpKSB7XG4gICAgICAgICAgICAgICAgdmlld0RhdGUgPSBwYXJzZWREYXRlLmNsb25lKCkuYWRkKG9wdGlvbnMuc3RlcHBpbmcsICdtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLmRlZmF1bHREYXRlID0gZnVuY3Rpb24gKGRlZmF1bHREYXRlKSB7XG4gICAgICAgICAgICAvLy88c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiJC5mbi5kYXRldGltZXBpY2tlci5kZWZhdWx0RGF0ZVwiPlxuICAgICAgICAgICAgLy8vPHN1bW1hcnk+UmV0dXJucyBhIG1vbWVudCB3aXRoIHRoZSBvcHRpb25zLmRlZmF1bHREYXRlIG9wdGlvbiBjb25maWd1cmF0aW9uIG9yIGZhbHNlIGlmIG5vdCBzZXQ8L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy88cmV0dXJucyB0eXBlPVwiTW9tZW50XCI+ZGF0ZS5jbG9uZSgpPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAvLy88c2lnbmF0dXJlPlxuICAgICAgICAgICAgLy8vPHN1bW1hcnk+V2lsbCBzZXQgdGhlIHBpY2tlcidzIGluaXRhbCBkYXRlLiBJZiBhIGJvb2xlYW46ZmFsc2UgdmFsdWUgaXMgcGFzc2VkIHRoZSBvcHRpb25zLmRlZmF1bHREYXRlIHBhcmFtZXRlciBpcyBjbGVhcmVkLjwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLzxwYXJhbSBuYW1lPVwiZGVmYXVsdERhdGVcIiBsb2NpZD1cIiQuZm4uZGF0ZXRpbWVwaWNrZXIuZGVmYXVsdERhdGVfcDpkZWZhdWx0RGF0ZVwiPlRha2VzIGEgc3RyaW5nLCBEYXRlLCBtb21lbnQsIGJvb2xlYW46ZmFsc2U8L3BhcmFtPlxuICAgICAgICAgICAgLy8vPC9zaWduYXR1cmU+XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmRlZmF1bHREYXRlID8gb3B0aW9ucy5kZWZhdWx0RGF0ZS5jbG9uZSgpIDogb3B0aW9ucy5kZWZhdWx0RGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGVmYXVsdERhdGUpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRlZmF1bHREYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkZWZhdWx0RGF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdERhdGUgPT09ICdub3cnIHx8IGRlZmF1bHREYXRlID09PSAnbW9tZW50Jykge1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0RGF0ZSA9IGdldE1vbWVudCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBhcnNlZERhdGUgPSBwYXJzZUlucHV0RGF0ZShkZWZhdWx0RGF0ZSk7XG4gICAgICAgICAgICBpZiAoIXBhcnNlZERhdGUuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZGVmYXVsdERhdGUoKSBDb3VsZCBub3QgcGFyc2UgZGF0ZSBwYXJhbWV0ZXI6ICcgKyBkZWZhdWx0RGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWlzVmFsaWQocGFyc2VkRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkZWZhdWx0RGF0ZSgpIGRhdGUgcGFzc2VkIGlzIGludmFsaWQgYWNjb3JkaW5nIHRvIGNvbXBvbmVudCBzZXR1cCB2YWxpZGF0aW9ucycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcHRpb25zLmRlZmF1bHREYXRlID0gcGFyc2VkRGF0ZTtcblxuICAgICAgICAgICAgaWYgKChvcHRpb25zLmRlZmF1bHREYXRlICYmIG9wdGlvbnMuaW5saW5lKSB8fCBpbnB1dC52YWwoKS50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgc2V0VmFsdWUob3B0aW9ucy5kZWZhdWx0RGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci5sb2NhbGUgPSBmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmxvY2FsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFtb21lbnQubG9jYWxlRGF0YShsb2NhbGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbG9jYWxlKCkgbG9jYWxlICcgKyBsb2NhbGUgKyAnIGlzIG5vdCBsb2FkZWQgZnJvbSBtb21lbnQgbG9jYWxlcyEnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0aW9ucy5sb2NhbGUgPSBsb2NhbGU7XG4gICAgICAgICAgICBkYXRlLmxvY2FsZShvcHRpb25zLmxvY2FsZSk7XG4gICAgICAgICAgICB2aWV3RGF0ZS5sb2NhbGUob3B0aW9ucy5sb2NhbGUpO1xuXG4gICAgICAgICAgICBpZiAoYWN0dWFsRm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgaW5pdEZvcm1hdHRpbmcoKTsgLy8gcmVpbml0IGZvcm1hdHRpbmdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgICAgc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIuc3RlcHBpbmcgPSBmdW5jdGlvbiAoc3RlcHBpbmcpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuc3RlcHBpbmc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0ZXBwaW5nID0gcGFyc2VJbnQoc3RlcHBpbmcsIDEwKTtcbiAgICAgICAgICAgIGlmIChpc05hTihzdGVwcGluZykgfHwgc3RlcHBpbmcgPCAxKSB7XG4gICAgICAgICAgICAgICAgc3RlcHBpbmcgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5zdGVwcGluZyA9IHN0ZXBwaW5nO1xuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIudXNlQ3VycmVudCA9IGZ1bmN0aW9uICh1c2VDdXJyZW50KSB7XG4gICAgICAgICAgICB2YXIgdXNlQ3VycmVudE9wdGlvbnMgPSBbJ3llYXInLCAnbW9udGgnLCAnZGF5JywgJ2hvdXInLCAnbWludXRlJ107XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnVzZUN1cnJlbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgodHlwZW9mIHVzZUN1cnJlbnQgIT09ICdib29sZWFuJykgJiYgKHR5cGVvZiB1c2VDdXJyZW50ICE9PSAnc3RyaW5nJykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1c2VDdXJyZW50KCkgZXhwZWN0cyBhIGJvb2xlYW4gb3Igc3RyaW5nIHBhcmFtZXRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VDdXJyZW50ID09PSAnc3RyaW5nJyAmJiB1c2VDdXJyZW50T3B0aW9ucy5pbmRleE9mKHVzZUN1cnJlbnQudG9Mb3dlckNhc2UoKSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndXNlQ3VycmVudCgpIGV4cGVjdHMgYSBzdHJpbmcgcGFyYW1ldGVyIG9mICcgKyB1c2VDdXJyZW50T3B0aW9ucy5qb2luKCcsICcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMudXNlQ3VycmVudCA9IHVzZUN1cnJlbnQ7XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci5jb2xsYXBzZSA9IGZ1bmN0aW9uIChjb2xsYXBzZSkge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5jb2xsYXBzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb2xsYXBzZSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY29sbGFwc2UoKSBleHBlY3RzIGEgYm9vbGVhbiBwYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmNvbGxhcHNlID09PSBjb2xsYXBzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLmNvbGxhcHNlID0gY29sbGFwc2U7XG4gICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgIHNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLmljb25zID0gZnVuY3Rpb24gKGljb25zKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkLmV4dGVuZCh7fSwgb3B0aW9ucy5pY29ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKGljb25zIGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ljb25zKCkgZXhwZWN0cyBwYXJhbWV0ZXIgdG8gYmUgYW4gT2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLmljb25zLCBpY29ucyk7XG4gICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgIHNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLnRvb2x0aXBzID0gZnVuY3Rpb24gKHRvb2x0aXBzKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAkLmV4dGVuZCh7fSwgb3B0aW9ucy50b29sdGlwcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKHRvb2x0aXBzIGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Rvb2x0aXBzKCkgZXhwZWN0cyBwYXJhbWV0ZXIgdG8gYmUgYW4gT2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLnRvb2x0aXBzLCB0b29sdGlwcyk7XG4gICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgIHNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLnVzZVN0cmljdCA9IGZ1bmN0aW9uICh1c2VTdHJpY3QpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMudXNlU3RyaWN0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHVzZVN0cmljdCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndXNlU3RyaWN0KCkgZXhwZWN0cyBhIGJvb2xlYW4gcGFyYW1ldGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLnVzZVN0cmljdCA9IHVzZVN0cmljdDtcbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLnNpZGVCeVNpZGUgPSBmdW5jdGlvbiAoc2lkZUJ5U2lkZSkge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5zaWRlQnlTaWRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHNpZGVCeVNpZGUgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3NpZGVCeVNpZGUoKSBleHBlY3RzIGEgYm9vbGVhbiBwYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMuc2lkZUJ5U2lkZSA9IHNpZGVCeVNpZGU7XG4gICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgIHNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLnZpZXdNb2RlID0gZnVuY3Rpb24gKHZpZXdNb2RlKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnZpZXdNb2RlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZpZXdNb2RlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZpZXdNb2RlKCkgZXhwZWN0cyBhIHN0cmluZyBwYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHZpZXdNb2Rlcy5pbmRleE9mKHZpZXdNb2RlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2aWV3TW9kZSgpIHBhcmFtZXRlciBtdXN0IGJlIG9uZSBvZiAoJyArIHZpZXdNb2Rlcy5qb2luKCcsICcpICsgJykgdmFsdWUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0aW9ucy52aWV3TW9kZSA9IHZpZXdNb2RlO1xuICAgICAgICAgICAgY3VycmVudFZpZXdNb2RlID0gTWF0aC5tYXgodmlld01vZGVzLmluZGV4T2Yodmlld01vZGUpLCBtaW5WaWV3TW9kZU51bWJlcik7XG5cbiAgICAgICAgICAgIHNob3dNb2RlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci50b29sYmFyUGxhY2VtZW50ID0gZnVuY3Rpb24gKHRvb2xiYXJQbGFjZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMudG9vbGJhclBsYWNlbWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0b29sYmFyUGxhY2VtZW50ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Rvb2xiYXJQbGFjZW1lbnQoKSBleHBlY3RzIGEgc3RyaW5nIHBhcmFtZXRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvb2xiYXJQbGFjZW1lbnRzLmluZGV4T2YodG9vbGJhclBsYWNlbWVudCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndG9vbGJhclBsYWNlbWVudCgpIHBhcmFtZXRlciBtdXN0IGJlIG9uZSBvZiAoJyArIHRvb2xiYXJQbGFjZW1lbnRzLmpvaW4oJywgJykgKyAnKSB2YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy50b29sYmFyUGxhY2VtZW50ID0gdG9vbGJhclBsYWNlbWVudDtcblxuICAgICAgICAgICAgaWYgKHdpZGdldCkge1xuICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICBzaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci53aWRnZXRQb3NpdGlvbmluZyA9IGZ1bmN0aW9uICh3aWRnZXRQb3NpdGlvbmluZykge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5leHRlbmQoe30sIG9wdGlvbnMud2lkZ2V0UG9zaXRpb25pbmcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKHt9KS50b1N0cmluZy5jYWxsKHdpZGdldFBvc2l0aW9uaW5nKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd3aWRnZXRQb3NpdGlvbmluZygpIGV4cGVjdHMgYW4gb2JqZWN0IHZhcmlhYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2lkZ2V0UG9zaXRpb25pbmcuaG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygd2lkZ2V0UG9zaXRpb25pbmcuaG9yaXpvbnRhbCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignd2lkZ2V0UG9zaXRpb25pbmcoKSBob3Jpem9udGFsIHZhcmlhYmxlIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2lkZ2V0UG9zaXRpb25pbmcuaG9yaXpvbnRhbCA9IHdpZGdldFBvc2l0aW9uaW5nLmhvcml6b250YWwudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoaG9yaXpvbnRhbE1vZGVzLmluZGV4T2Yod2lkZ2V0UG9zaXRpb25pbmcuaG9yaXpvbnRhbCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3dpZGdldFBvc2l0aW9uaW5nKCkgZXhwZWN0cyBob3Jpem9udGFsIHBhcmFtZXRlciB0byBiZSBvbmUgb2YgKCcgKyBob3Jpem9udGFsTW9kZXMuam9pbignLCAnKSArICcpJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnMud2lkZ2V0UG9zaXRpb25pbmcuaG9yaXpvbnRhbCA9IHdpZGdldFBvc2l0aW9uaW5nLmhvcml6b250YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2lkZ2V0UG9zaXRpb25pbmcudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpZGdldFBvc2l0aW9uaW5nLnZlcnRpY2FsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd3aWRnZXRQb3NpdGlvbmluZygpIHZlcnRpY2FsIHZhcmlhYmxlIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2lkZ2V0UG9zaXRpb25pbmcudmVydGljYWwgPSB3aWRnZXRQb3NpdGlvbmluZy52ZXJ0aWNhbC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGlmICh2ZXJ0aWNhbE1vZGVzLmluZGV4T2Yod2lkZ2V0UG9zaXRpb25pbmcudmVydGljYWwpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd3aWRnZXRQb3NpdGlvbmluZygpIGV4cGVjdHMgdmVydGljYWwgcGFyYW1ldGVyIHRvIGJlIG9uZSBvZiAoJyArIHZlcnRpY2FsTW9kZXMuam9pbignLCAnKSArICcpJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnMud2lkZ2V0UG9zaXRpb25pbmcudmVydGljYWwgPSB3aWRnZXRQb3NpdGlvbmluZy52ZXJ0aWNhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIuY2FsZW5kYXJXZWVrcyA9IGZ1bmN0aW9uIChjYWxlbmRhcldlZWtzKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmNhbGVuZGFyV2Vla3M7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsZW5kYXJXZWVrcyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2FsZW5kYXJXZWVrcygpIGV4cGVjdHMgcGFyYW1ldGVyIHRvIGJlIGEgYm9vbGVhbiB2YWx1ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcHRpb25zLmNhbGVuZGFyV2Vla3MgPSBjYWxlbmRhcldlZWtzO1xuICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci5zaG93VG9kYXlCdXR0b24gPSBmdW5jdGlvbiAoc2hvd1RvZGF5QnV0dG9uKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnNob3dUb2RheUJ1dHRvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzaG93VG9kYXlCdXR0b24gIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Nob3dUb2RheUJ1dHRvbigpIGV4cGVjdHMgYSBib29sZWFuIHBhcmFtZXRlcicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcHRpb25zLnNob3dUb2RheUJ1dHRvbiA9IHNob3dUb2RheUJ1dHRvbjtcbiAgICAgICAgICAgIGlmICh3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgICAgc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIuc2hvd0NsZWFyID0gZnVuY3Rpb24gKHNob3dDbGVhcikge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5zaG93Q2xlYXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2hvd0NsZWFyICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzaG93Q2xlYXIoKSBleHBlY3RzIGEgYm9vbGVhbiBwYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0aW9ucy5zaG93Q2xlYXIgPSBzaG93Q2xlYXI7XG4gICAgICAgICAgICBpZiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICAgIHNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLndpZGdldFBhcmVudCA9IGZ1bmN0aW9uICh3aWRnZXRQYXJlbnQpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMud2lkZ2V0UGFyZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpZGdldFBhcmVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB3aWRnZXRQYXJlbnQgPSAkKHdpZGdldFBhcmVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3aWRnZXRQYXJlbnQgIT09IG51bGwgJiYgKHR5cGVvZiB3aWRnZXRQYXJlbnQgIT09ICdzdHJpbmcnICYmICEod2lkZ2V0UGFyZW50IGluc3RhbmNlb2YgJCkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignd2lkZ2V0UGFyZW50KCkgZXhwZWN0cyBhIHN0cmluZyBvciBhIGpRdWVyeSBvYmplY3QgcGFyYW1ldGVyJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbnMud2lkZ2V0UGFyZW50ID0gd2lkZ2V0UGFyZW50O1xuICAgICAgICAgICAgaWYgKHdpZGdldCkge1xuICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICBzaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci5rZWVwT3BlbiA9IGZ1bmN0aW9uIChrZWVwT3Blbikge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5rZWVwT3BlbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZWVwT3BlbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigna2VlcE9wZW4oKSBleHBlY3RzIGEgYm9vbGVhbiBwYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0aW9ucy5rZWVwT3BlbiA9IGtlZXBPcGVuO1xuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIuZm9jdXNPblNob3cgPSBmdW5jdGlvbiAoZm9jdXNPblNob3cpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZm9jdXNPblNob3c7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZm9jdXNPblNob3cgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ZvY3VzT25TaG93KCkgZXhwZWN0cyBhIGJvb2xlYW4gcGFyYW1ldGVyJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbnMuZm9jdXNPblNob3cgPSBmb2N1c09uU2hvdztcbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLmlubGluZSA9IGZ1bmN0aW9uIChpbmxpbmUpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuaW5saW5lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGlubGluZSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW5saW5lKCkgZXhwZWN0cyBhIGJvb2xlYW4gcGFyYW1ldGVyJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9wdGlvbnMuaW5saW5lID0gaW5saW5lO1xuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjbGVhcigpO1xuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIua2V5QmluZHMgPSBmdW5jdGlvbiAoa2V5QmluZHMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMua2V5QmluZHMgPSBrZXlCaW5kcztcbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLmdldE1vbWVudCA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0TW9tZW50KGQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci5kZWJ1ZyA9IGZ1bmN0aW9uIChkZWJ1Zykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkZWJ1ZyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZGVidWcoKSBleHBlY3RzIGEgYm9vbGVhbiBwYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0aW9ucy5kZWJ1ZyA9IGRlYnVnO1xuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIuYWxsb3dJbnB1dFRvZ2dsZSA9IGZ1bmN0aW9uIChhbGxvd0lucHV0VG9nZ2xlKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmFsbG93SW5wdXRUb2dnbGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYWxsb3dJbnB1dFRvZ2dsZSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYWxsb3dJbnB1dFRvZ2dsZSgpIGV4cGVjdHMgYSBib29sZWFuIHBhcmFtZXRlcicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcHRpb25zLmFsbG93SW5wdXRUb2dnbGUgPSBhbGxvd0lucHV0VG9nZ2xlO1xuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIuc2hvd0Nsb3NlID0gZnVuY3Rpb24gKHNob3dDbG9zZSkge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5zaG93Q2xvc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2hvd0Nsb3NlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzaG93Q2xvc2UoKSBleHBlY3RzIGEgYm9vbGVhbiBwYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0aW9ucy5zaG93Q2xvc2UgPSBzaG93Q2xvc2U7XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci5rZWVwSW52YWxpZCA9IGZ1bmN0aW9uIChrZWVwSW52YWxpZCkge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5rZWVwSW52YWxpZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBrZWVwSW52YWxpZCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigna2VlcEludmFsaWQoKSBleHBlY3RzIGEgYm9vbGVhbiBwYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMua2VlcEludmFsaWQgPSBrZWVwSW52YWxpZDtcbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLmRhdGVwaWNrZXJJbnB1dCA9IGZ1bmN0aW9uIChkYXRlcGlja2VySW5wdXQpIHtcbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGF0ZXBpY2tlcklucHV0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRhdGVwaWNrZXJJbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkYXRlcGlja2VySW5wdXQoKSBleHBlY3RzIGEgc3RyaW5nIHBhcmFtZXRlcicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvcHRpb25zLmRhdGVwaWNrZXJJbnB1dCA9IGRhdGVwaWNrZXJJbnB1dDtcbiAgICAgICAgICAgIHJldHVybiBwaWNrZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGlja2VyLnBhcnNlSW5wdXREYXRlID0gZnVuY3Rpb24gKHBhcnNlSW5wdXREYXRlKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnBhcnNlSW5wdXREYXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlSW5wdXREYXRlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyc2VJbnB1dERhdGUoKSBzaG9sdWQgYmUgYXMgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3B0aW9ucy5wYXJzZUlucHV0RGF0ZSA9IHBhcnNlSW5wdXREYXRlO1xuXG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci5kaXNhYmxlZFRpbWVJbnRlcnZhbHMgPSBmdW5jdGlvbiAoZGlzYWJsZWRUaW1lSW50ZXJ2YWxzKSB7XG4gICAgICAgICAgICAvLy88c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiJC5mbi5kYXRldGltZXBpY2tlci5kaXNhYmxlZFRpbWVJbnRlcnZhbHNcIj5cbiAgICAgICAgICAgIC8vLzxzdW1tYXJ5PlJldHVybnMgYW4gYXJyYXkgd2l0aCB0aGUgY3VycmVudGx5IHNldCBkaXNhYmxlZCBkYXRlcyBvbiB0aGUgY29tcG9uZW50Ljwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLzxyZXR1cm5zIHR5cGU9XCJhcnJheVwiPm9wdGlvbnMuZGlzYWJsZWRUaW1lSW50ZXJ2YWxzPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAvLy88c2lnbmF0dXJlPlxuICAgICAgICAgICAgLy8vPHN1bW1hcnk+U2V0dGluZyB0aGlzIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBvcHRpb25zLm1pbkRhdGUsIG9wdGlvbnMubWF4RGF0ZSBjb25maWd1cmF0aW9uLiBBbHNvIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiByZW1vdmVzIHRoZSBjb25maWd1cmF0aW9uIG9mXG4gICAgICAgICAgICAvLy9vcHRpb25zLmVuYWJsZWREYXRlcyBpZiBzdWNoIGV4aXN0Ljwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLzxwYXJhbSBuYW1lPVwiZGF0ZXNcIiBsb2NpZD1cIiQuZm4uZGF0ZXRpbWVwaWNrZXIuZGlzYWJsZWRUaW1lSW50ZXJ2YWxzX3A6ZGF0ZXNcIj5UYWtlcyBhbiBbIHN0cmluZyBvciBEYXRlIG9yIG1vbWVudCBdIG9mIHZhbHVlcyBhbmQgYWxsb3dzIHRoZSB1c2VyIHRvIHNlbGVjdCBvbmx5IGZyb20gdGhvc2UgZGF5cy48L3BhcmFtPlxuICAgICAgICAgICAgLy8vPC9zaWduYXR1cmU+XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAob3B0aW9ucy5kaXNhYmxlZFRpbWVJbnRlcnZhbHMgPyAkLmV4dGVuZCh7fSwgb3B0aW9ucy5kaXNhYmxlZFRpbWVJbnRlcnZhbHMpIDogb3B0aW9ucy5kaXNhYmxlZFRpbWVJbnRlcnZhbHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWRpc2FibGVkVGltZUludGVydmFscykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZGlzYWJsZWRUaW1lSW50ZXJ2YWxzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghKGRpc2FibGVkVGltZUludGVydmFscyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Rpc2FibGVkVGltZUludGVydmFscygpIGV4cGVjdHMgYW4gYXJyYXkgcGFyYW1ldGVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLmRpc2FibGVkVGltZUludGVydmFscyA9IGRpc2FibGVkVGltZUludGVydmFscztcbiAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIuZGlzYWJsZWRIb3VycyA9IGZ1bmN0aW9uIChob3Vycykge1xuICAgICAgICAgICAgLy8vPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIiQuZm4uZGF0ZXRpbWVwaWNrZXIuZGlzYWJsZWRIb3Vyc1wiPlxuICAgICAgICAgICAgLy8vPHN1bW1hcnk+UmV0dXJucyBhbiBhcnJheSB3aXRoIHRoZSBjdXJyZW50bHkgc2V0IGRpc2FibGVkIGhvdXJzIG9uIHRoZSBjb21wb25lbnQuPC9zdW1tYXJ5PlxuICAgICAgICAgICAgLy8vPHJldHVybnMgdHlwZT1cImFycmF5XCI+b3B0aW9ucy5kaXNhYmxlZEhvdXJzPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAvLy88c2lnbmF0dXJlPlxuICAgICAgICAgICAgLy8vPHN1bW1hcnk+U2V0dGluZyB0aGlzIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBvcHRpb25zLm1pbkRhdGUsIG9wdGlvbnMubWF4RGF0ZSBjb25maWd1cmF0aW9uLiBBbHNvIGNhbGxpbmcgdGhpcyBmdW5jdGlvbiByZW1vdmVzIHRoZSBjb25maWd1cmF0aW9uIG9mXG4gICAgICAgICAgICAvLy9vcHRpb25zLmVuYWJsZWRIb3VycyBpZiBzdWNoIGV4aXN0Ljwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLzxwYXJhbSBuYW1lPVwiaG91cnNcIiBsb2NpZD1cIiQuZm4uZGF0ZXRpbWVwaWNrZXIuZGlzYWJsZWRIb3Vyc19wOmhvdXJzXCI+VGFrZXMgYW4gWyBpbnQgXSBvZiB2YWx1ZXMgYW5kIGRpc2FsbG93cyB0aGUgdXNlciB0byBzZWxlY3Qgb25seSBmcm9tIHRob3NlIGhvdXJzLjwvcGFyYW0+XG4gICAgICAgICAgICAvLy88L3NpZ25hdHVyZT5cbiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChvcHRpb25zLmRpc2FibGVkSG91cnMgPyAkLmV4dGVuZCh7fSwgb3B0aW9ucy5kaXNhYmxlZEhvdXJzKSA6IG9wdGlvbnMuZGlzYWJsZWRIb3Vycyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaG91cnMpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRpc2FibGVkSG91cnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoaG91cnMgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkaXNhYmxlZEhvdXJzKCkgZXhwZWN0cyBhbiBhcnJheSBwYXJhbWV0ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMuZGlzYWJsZWRIb3VycyA9IGluZGV4R2l2ZW5Ib3Vycyhob3Vycyk7XG4gICAgICAgICAgICBvcHRpb25zLmVuYWJsZWRIb3VycyA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMudXNlQ3VycmVudCAmJiAhb3B0aW9ucy5rZWVwSW52YWxpZCkge1xuICAgICAgICAgICAgICAgIHZhciB0cmllcyA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCFpc1ZhbGlkKGRhdGUsICdoJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZS5hZGQoMSwgJ2gnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWVzID09PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ1RyaWVkIDI0IHRpbWVzIHRvIGZpbmQgYSB2YWxpZCBkYXRlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cmllcysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRWYWx1ZShkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgfTtcblxuICAgICAgICBwaWNrZXIuZW5hYmxlZEhvdXJzID0gZnVuY3Rpb24gKGhvdXJzKSB7XG4gICAgICAgICAgICAvLy88c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiJC5mbi5kYXRldGltZXBpY2tlci5lbmFibGVkSG91cnNcIj5cbiAgICAgICAgICAgIC8vLzxzdW1tYXJ5PlJldHVybnMgYW4gYXJyYXkgd2l0aCB0aGUgY3VycmVudGx5IHNldCBlbmFibGVkIGhvdXJzIG9uIHRoZSBjb21wb25lbnQuPC9zdW1tYXJ5PlxuICAgICAgICAgICAgLy8vPHJldHVybnMgdHlwZT1cImFycmF5XCI+b3B0aW9ucy5lbmFibGVkSG91cnM8L3JldHVybnM+XG4gICAgICAgICAgICAvLy88L3NpZ25hdHVyZT5cbiAgICAgICAgICAgIC8vLzxzaWduYXR1cmU+XG4gICAgICAgICAgICAvLy88c3VtbWFyeT5TZXR0aW5nIHRoaXMgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIG9wdGlvbnMubWluRGF0ZSwgb3B0aW9ucy5tYXhEYXRlIGNvbmZpZ3VyYXRpb24uIEFsc28gY2FsbGluZyB0aGlzIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIGNvbmZpZ3VyYXRpb24gb2Ygb3B0aW9ucy5kaXNhYmxlZEhvdXJzIGlmIHN1Y2ggZXhpc3QuPC9zdW1tYXJ5PlxuICAgICAgICAgICAgLy8vPHBhcmFtIG5hbWU9XCJob3Vyc1wiIGxvY2lkPVwiJC5mbi5kYXRldGltZXBpY2tlci5lbmFibGVkSG91cnNfcDpob3Vyc1wiPlRha2VzIGFuIFsgaW50IF0gb2YgdmFsdWVzIGFuZCBhbGxvd3MgdGhlIHVzZXIgdG8gc2VsZWN0IG9ubHkgZnJvbSB0aG9zZSBob3Vycy48L3BhcmFtPlxuICAgICAgICAgICAgLy8vPC9zaWduYXR1cmU+XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAob3B0aW9ucy5lbmFibGVkSG91cnMgPyAkLmV4dGVuZCh7fSwgb3B0aW9ucy5lbmFibGVkSG91cnMpIDogb3B0aW9ucy5lbmFibGVkSG91cnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWhvdXJzKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5lbmFibGVkSG91cnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEoaG91cnMgaW5zdGFuY2VvZiBBcnJheSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdlbmFibGVkSG91cnMoKSBleHBlY3RzIGFuIGFycmF5IHBhcmFtZXRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5lbmFibGVkSG91cnMgPSBpbmRleEdpdmVuSG91cnMoaG91cnMpO1xuICAgICAgICAgICAgb3B0aW9ucy5kaXNhYmxlZEhvdXJzID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy51c2VDdXJyZW50ICYmICFvcHRpb25zLmtlZXBJbnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyaWVzID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoIWlzVmFsaWQoZGF0ZSwgJ2gnKSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRlLmFkZCgxLCAnaCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJpZXMgPT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAnVHJpZWQgMjQgdGltZXMgdG8gZmluZCBhIHZhbGlkIGRhdGUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyaWVzKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldFZhbHVlKGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIHBpY2tlci52aWV3RGF0ZSA9IGZ1bmN0aW9uIChuZXdEYXRlKSB7XG4gICAgICAgICAgICAvLy88c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiJC5mbi5kYXRldGltZXBpY2tlci52aWV3RGF0ZVwiPlxuICAgICAgICAgICAgLy8vPHN1bW1hcnk+UmV0dXJucyB0aGUgY29tcG9uZW50J3MgbW9kZWwgY3VycmVudCB2aWV3RGF0ZSwgYSBtb21lbnQgb2JqZWN0IG9yIG51bGwgaWYgbm90IHNldC48L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy88cmV0dXJucyB0eXBlPVwiTW9tZW50XCI+dmlld0RhdGUuY2xvbmUoKTwvcmV0dXJucz5cbiAgICAgICAgICAgIC8vLzwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgLy8vPHNpZ25hdHVyZT5cbiAgICAgICAgICAgIC8vLzxzdW1tYXJ5PlNldHMgdGhlIGNvbXBvbmVudHMgbW9kZWwgY3VycmVudCBtb21lbnQgdG8gaXQuIFBhc3NpbmcgYSBudWxsIHZhbHVlIHVuc2V0cyB0aGUgY29tcG9uZW50cyBtb2RlbCBjdXJyZW50IG1vbWVudC4gUGFyc2luZyBvZiB0aGUgbmV3RGF0ZSBwYXJhbWV0ZXIgaXMgbWFkZSB1c2luZyBtb21lbnQgbGlicmFyeSB3aXRoIHRoZSBvcHRpb25zLmZvcm1hdCBhbmQgb3B0aW9ucy51c2VTdHJpY3QgY29tcG9uZW50cyBjb25maWd1cmF0aW9uLjwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLzxwYXJhbSBuYW1lPVwibmV3RGF0ZVwiIGxvY2lkPVwiJC5mbi5kYXRldGltZXBpY2tlci5kYXRlX3A6bmV3RGF0ZVwiPlRha2VzIHN0cmluZywgdmlld0RhdGUsIG1vbWVudCwgbnVsbCBwYXJhbWV0ZXIuPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLzwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlld0RhdGUuY2xvbmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFuZXdEYXRlKSB7XG4gICAgICAgICAgICAgICAgdmlld0RhdGUgPSBkYXRlLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdEYXRlICE9PSAnc3RyaW5nJyAmJiAhbW9tZW50LmlzTW9tZW50KG5ld0RhdGUpICYmICEobmV3RGF0ZSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmlld0RhdGUoKSBwYXJhbWV0ZXIgbXVzdCBiZSBvbmUgb2YgW3N0cmluZywgbW9tZW50IG9yIERhdGVdJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZpZXdEYXRlID0gcGFyc2VJbnB1dERhdGUobmV3RGF0ZSk7XG4gICAgICAgICAgICB2aWV3VXBkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gcGlja2VyO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGluaXRpYWxpemluZyBlbGVtZW50IGFuZCBjb21wb25lbnQgYXR0cmlidXRlc1xuICAgICAgICBpZiAoZWxlbWVudC5pcygnaW5wdXQnKSkge1xuICAgICAgICAgICAgaW5wdXQgPSBlbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQgPSBlbGVtZW50LmZpbmQob3B0aW9ucy5kYXRlcGlja2VySW5wdXQpO1xuICAgICAgICAgICAgaWYgKGlucHV0LnNpemUoKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gZWxlbWVudC5maW5kKCdpbnB1dCcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghaW5wdXQuaXMoJ2lucHV0JykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NTUyBjbGFzcyBcIicgKyBvcHRpb25zLmRhdGVwaWNrZXJJbnB1dCArICdcIiBjYW5ub3QgYmUgYXBwbGllZCB0byBub24gaW5wdXQgZWxlbWVudCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVsZW1lbnQuaGFzQ2xhc3MoJ2lucHV0LWdyb3VwJykpIHtcbiAgICAgICAgICAgIC8vIGluIGNhc2UgdGhlcmUgaXMgbW9yZSB0aGVuIG9uZSAnaW5wdXQtZ3JvdXAtYWRkb24nIElzc3VlICM0OFxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuZmluZCgnLmRhdGVwaWNrZXJidXR0b24nKS5zaXplKCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQgPSBlbGVtZW50LmZpbmQoJy5pbnB1dC1ncm91cC1hZGRvbicpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQgPSBlbGVtZW50LmZpbmQoJy5kYXRlcGlja2VyYnV0dG9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5saW5lICYmICFpbnB1dC5pcygnaW5wdXQnKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgaW5pdGlhbGl6ZSBEYXRlVGltZVBpY2tlciB3aXRob3V0IGFuIGlucHV0IGVsZW1lbnQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0cyBmb3IgZGF0ZSBoZXJlIG5vdyBpbnN0ZWFkIG9mIGluIHZhciBkZWNsYXJhdGlvblxuICAgICAgICBkYXRlID0gZ2V0TW9tZW50KCk7XG4gICAgICAgIHZpZXdEYXRlID0gZGF0ZS5jbG9uZSgpO1xuXG4gICAgICAgICQuZXh0ZW5kKHRydWUsIG9wdGlvbnMsIGRhdGFUb09wdGlvbnMoKSk7XG5cbiAgICAgICAgcGlja2VyLm9wdGlvbnMob3B0aW9ucyk7XG5cbiAgICAgICAgaW5pdEZvcm1hdHRpbmcoKTtcblxuICAgICAgICBhdHRhY2hEYXRlUGlja2VyRWxlbWVudEV2ZW50cygpO1xuXG4gICAgICAgIGlmIChpbnB1dC5wcm9wKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICBwaWNrZXIuZGlzYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnB1dC5pcygnaW5wdXQnKSAmJiBpbnB1dC52YWwoKS50cmltKCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICBzZXRWYWx1ZShwYXJzZUlucHV0RGF0ZShpbnB1dC52YWwoKS50cmltKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLmRlZmF1bHREYXRlICYmIGlucHV0LmF0dHIoJ3BsYWNlaG9sZGVyJykgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2V0VmFsdWUob3B0aW9ucy5kZWZhdWx0RGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaW5saW5lKSB7XG4gICAgICAgICAgICBzaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpY2tlcjtcbiAgICB9O1xuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICAgICpcbiAgICAgKiBqUXVlcnkgcGx1Z2luIGNvbnN0cnVjdG9yIGFuZCBkZWZhdWx0cyBvYmplY3RcbiAgICAgKlxuICAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuICAgICQuZm4uZGF0ZXRpbWVwaWNrZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICBpZiAoISR0aGlzLmRhdGEoJ0RhdGVUaW1lUGlja2VyJykpIHtcbiAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYSBwcml2YXRlIGNvcHkgb2YgdGhlIGRlZmF1bHRzIG9iamVjdFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgJC5mbi5kYXRldGltZXBpY2tlci5kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnRGF0ZVRpbWVQaWNrZXInLCBkYXRlVGltZVBpY2tlcigkdGhpcywgb3B0aW9ucykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgJC5mbi5kYXRldGltZXBpY2tlci5kZWZhdWx0cyA9IHtcbiAgICAgICAgdGltZVpvbmU6ICdFdGMvVVRDJyxcbiAgICAgICAgZm9ybWF0OiBmYWxzZSxcbiAgICAgICAgZGF5Vmlld0hlYWRlckZvcm1hdDogJ01NTU0gWVlZWScsXG4gICAgICAgIGV4dHJhRm9ybWF0czogZmFsc2UsXG4gICAgICAgIHN0ZXBwaW5nOiAxLFxuICAgICAgICBtaW5EYXRlOiBmYWxzZSxcbiAgICAgICAgbWF4RGF0ZTogZmFsc2UsXG4gICAgICAgIHVzZUN1cnJlbnQ6IHRydWUsXG4gICAgICAgIGNvbGxhcHNlOiB0cnVlLFxuICAgICAgICBsb2NhbGU6IG1vbWVudC5sb2NhbGUoKSxcbiAgICAgICAgZGVmYXVsdERhdGU6IGZhbHNlLFxuICAgICAgICBkaXNhYmxlZERhdGVzOiBmYWxzZSxcbiAgICAgICAgZW5hYmxlZERhdGVzOiBmYWxzZSxcbiAgICAgICAgaWNvbnM6IHtcbiAgICAgICAgICAgIHRpbWU6ICdnbHlwaGljb24gZ2x5cGhpY29uLXRpbWUnLFxuICAgICAgICAgICAgZGF0ZTogJ2dseXBoaWNvbiBnbHlwaGljb24tY2FsZW5kYXInLFxuICAgICAgICAgICAgdXA6ICdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAnLFxuICAgICAgICAgICAgZG93bjogJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duJyxcbiAgICAgICAgICAgIHByZXZpb3VzOiAnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnQnLFxuICAgICAgICAgICAgbmV4dDogJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodCcsXG4gICAgICAgICAgICB0b2RheTogJ2dseXBoaWNvbiBnbHlwaGljb24tc2NyZWVuc2hvdCcsXG4gICAgICAgICAgICBjbGVhcjogJ2dseXBoaWNvbiBnbHlwaGljb24tdHJhc2gnLFxuICAgICAgICAgICAgY2xvc2U6ICdnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZSdcbiAgICAgICAgfSxcbiAgICAgICAgdG9vbHRpcHM6IHtcbiAgICAgICAgICAgIHRvZGF5OiAnR28gdG8gdG9kYXknLFxuICAgICAgICAgICAgY2xlYXI6ICdDbGVhciBzZWxlY3Rpb24nLFxuICAgICAgICAgICAgY2xvc2U6ICdDbG9zZSB0aGUgcGlja2VyJyxcbiAgICAgICAgICAgIHNlbGVjdE1vbnRoOiAnU2VsZWN0IE1vbnRoJyxcbiAgICAgICAgICAgIHByZXZNb250aDogJ1ByZXZpb3VzIE1vbnRoJyxcbiAgICAgICAgICAgIG5leHRNb250aDogJ05leHQgTW9udGgnLFxuICAgICAgICAgICAgc2VsZWN0WWVhcjogJ1NlbGVjdCBZZWFyJyxcbiAgICAgICAgICAgIHByZXZZZWFyOiAnUHJldmlvdXMgWWVhcicsXG4gICAgICAgICAgICBuZXh0WWVhcjogJ05leHQgWWVhcicsXG4gICAgICAgICAgICBzZWxlY3REZWNhZGU6ICdTZWxlY3QgRGVjYWRlJyxcbiAgICAgICAgICAgIHByZXZEZWNhZGU6ICdQcmV2aW91cyBEZWNhZGUnLFxuICAgICAgICAgICAgbmV4dERlY2FkZTogJ05leHQgRGVjYWRlJyxcbiAgICAgICAgICAgIHByZXZDZW50dXJ5OiAnUHJldmlvdXMgQ2VudHVyeScsXG4gICAgICAgICAgICBuZXh0Q2VudHVyeTogJ05leHQgQ2VudHVyeScsXG4gICAgICAgICAgICBwaWNrSG91cjogJ1BpY2sgSG91cicsXG4gICAgICAgICAgICBpbmNyZW1lbnRIb3VyOiAnSW5jcmVtZW50IEhvdXInLFxuICAgICAgICAgICAgZGVjcmVtZW50SG91cjogJ0RlY3JlbWVudCBIb3VyJyxcbiAgICAgICAgICAgIHBpY2tNaW51dGU6ICdQaWNrIE1pbnV0ZScsXG4gICAgICAgICAgICBpbmNyZW1lbnRNaW51dGU6ICdJbmNyZW1lbnQgTWludXRlJyxcbiAgICAgICAgICAgIGRlY3JlbWVudE1pbnV0ZTogJ0RlY3JlbWVudCBNaW51dGUnLFxuICAgICAgICAgICAgcGlja1NlY29uZDogJ1BpY2sgU2Vjb25kJyxcbiAgICAgICAgICAgIGluY3JlbWVudFNlY29uZDogJ0luY3JlbWVudCBTZWNvbmQnLFxuICAgICAgICAgICAgZGVjcmVtZW50U2Vjb25kOiAnRGVjcmVtZW50IFNlY29uZCcsXG4gICAgICAgICAgICB0b2dnbGVQZXJpb2Q6ICdUb2dnbGUgUGVyaW9kJyxcbiAgICAgICAgICAgIHNlbGVjdFRpbWU6ICdTZWxlY3QgVGltZSdcbiAgICAgICAgfSxcbiAgICAgICAgdXNlU3RyaWN0OiBmYWxzZSxcbiAgICAgICAgc2lkZUJ5U2lkZTogZmFsc2UsXG4gICAgICAgIGRheXNPZldlZWtEaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIGNhbGVuZGFyV2Vla3M6IGZhbHNlLFxuICAgICAgICB2aWV3TW9kZTogJ2RheXMnLFxuICAgICAgICB0b29sYmFyUGxhY2VtZW50OiAnZGVmYXVsdCcsXG4gICAgICAgIHNob3dUb2RheUJ1dHRvbjogZmFsc2UsXG4gICAgICAgIHNob3dDbGVhcjogZmFsc2UsXG4gICAgICAgIHNob3dDbG9zZTogZmFsc2UsXG4gICAgICAgIHdpZGdldFBvc2l0aW9uaW5nOiB7XG4gICAgICAgICAgICBob3Jpem9udGFsOiAnYXV0bycsXG4gICAgICAgICAgICB2ZXJ0aWNhbDogJ2F1dG8nXG4gICAgICAgIH0sXG4gICAgICAgIHdpZGdldFBhcmVudDogbnVsbCxcbiAgICAgICAgaWdub3JlUmVhZG9ubHk6IGZhbHNlLFxuICAgICAgICBrZWVwT3BlbjogZmFsc2UsXG4gICAgICAgIGZvY3VzT25TaG93OiB0cnVlLFxuICAgICAgICBpbmxpbmU6IGZhbHNlLFxuICAgICAgICBrZWVwSW52YWxpZDogZmFsc2UsXG4gICAgICAgIGRhdGVwaWNrZXJJbnB1dDogJy5kYXRlcGlja2VyaW5wdXQnLFxuICAgICAgICBrZXlCaW5kczoge1xuICAgICAgICAgICAgdXA6IGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXdpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkID0gdGhpcy5kYXRlKCkgfHwgdGhpcy5nZXRNb21lbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAod2lkZ2V0LmZpbmQoJy5kYXRlcGlja2VyJykuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlKGQuY2xvbmUoKS5zdWJ0cmFjdCg3LCAnZCcpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUoZC5jbG9uZSgpLmFkZCh0aGlzLnN0ZXBwaW5nKCksICdtJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkb3duOiBmdW5jdGlvbiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGQgPSB0aGlzLmRhdGUoKSB8fCB0aGlzLmdldE1vbWVudCgpO1xuICAgICAgICAgICAgICAgIGlmICh3aWRnZXQuZmluZCgnLmRhdGVwaWNrZXInKS5pcygnOnZpc2libGUnKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUoZC5jbG9uZSgpLmFkZCg3LCAnZCcpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUoZC5jbG9uZSgpLnN1YnRyYWN0KHRoaXMuc3RlcHBpbmcoKSwgJ20nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdjb250cm9sIHVwJzogZnVuY3Rpb24gKHdpZGdldCkge1xuICAgICAgICAgICAgICAgIGlmICghd2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGQgPSB0aGlzLmRhdGUoKSB8fCB0aGlzLmdldE1vbWVudCgpO1xuICAgICAgICAgICAgICAgIGlmICh3aWRnZXQuZmluZCgnLmRhdGVwaWNrZXInKS5pcygnOnZpc2libGUnKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUoZC5jbG9uZSgpLnN1YnRyYWN0KDEsICd5JykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZShkLmNsb25lKCkuYWRkKDEsICdoJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAnY29udHJvbCBkb3duJzogZnVuY3Rpb24gKHdpZGdldCkge1xuICAgICAgICAgICAgICAgIGlmICghd2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGQgPSB0aGlzLmRhdGUoKSB8fCB0aGlzLmdldE1vbWVudCgpO1xuICAgICAgICAgICAgICAgIGlmICh3aWRnZXQuZmluZCgnLmRhdGVwaWNrZXInKS5pcygnOnZpc2libGUnKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUoZC5jbG9uZSgpLmFkZCgxLCAneScpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGUoZC5jbG9uZSgpLnN1YnRyYWN0KDEsICdoJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsZWZ0OiBmdW5jdGlvbiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZCA9IHRoaXMuZGF0ZSgpIHx8IHRoaXMuZ2V0TW9tZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHdpZGdldC5maW5kKCcuZGF0ZXBpY2tlcicpLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZShkLmNsb25lKCkuc3VidHJhY3QoMSwgJ2QnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJpZ2h0OiBmdW5jdGlvbiAod2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZCA9IHRoaXMuZGF0ZSgpIHx8IHRoaXMuZ2V0TW9tZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKHdpZGdldC5maW5kKCcuZGF0ZXBpY2tlcicpLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0ZShkLmNsb25lKCkuYWRkKDEsICdkJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYWdlVXA6IGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXdpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkID0gdGhpcy5kYXRlKCkgfHwgdGhpcy5nZXRNb21lbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAod2lkZ2V0LmZpbmQoJy5kYXRlcGlja2VyJykuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlKGQuY2xvbmUoKS5zdWJ0cmFjdCgxLCAnTScpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFnZURvd246IGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXdpZGdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBkID0gdGhpcy5kYXRlKCkgfHwgdGhpcy5nZXRNb21lbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAod2lkZ2V0LmZpbmQoJy5kYXRlcGlja2VyJykuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRlKGQuY2xvbmUoKS5hZGQoMSwgJ00nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXNjYXBlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy90YWI6IGZ1bmN0aW9uICh3aWRnZXQpIHsgLy90aGlzIGJyZWFrIHRoZSBmbG93IG9mIHRoZSBmb3JtLiBkaXNhYmxpbmcgZm9yIG5vd1xuICAgICAgICAgICAgLy8gICAgdmFyIHRvZ2dsZSA9IHdpZGdldC5maW5kKCcucGlja2VyLXN3aXRjaCBhW2RhdGEtYWN0aW9uPVwidG9nZ2xlUGlja2VyXCJdJyk7XG4gICAgICAgICAgICAvLyAgICBpZih0b2dnbGUubGVuZ3RoID4gMCkgdG9nZ2xlLmNsaWNrKCk7XG4gICAgICAgICAgICAvL30sXG4gICAgICAgICAgICAnY29udHJvbCBzcGFjZSc6IGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAod2lkZ2V0LmZpbmQoJy50aW1lcGlja2VyJykuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LmZpbmQoJy5idG5bZGF0YS1hY3Rpb249XCJ0b2dnbGVQZXJpb2RcIl0nKS5jbGljaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRlKHRoaXMuZ2V0TW9tZW50KCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdkZWxldGUnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICAgIGFsbG93SW5wdXRUb2dnbGU6IGZhbHNlLFxuICAgICAgICBkaXNhYmxlZFRpbWVJbnRlcnZhbHM6IGZhbHNlLFxuICAgICAgICBkaXNhYmxlZEhvdXJzOiBmYWxzZSxcbiAgICAgICAgZW5hYmxlZEhvdXJzOiBmYWxzZSxcbiAgICAgICAgdmlld0RhdGU6IGZhbHNlXG4gICAgfTtcbn0pKTtcbiIsIi8vIGh0dHA6Ly9zcGluLmpzLm9yZy8jdjIuMy4yXG4hZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1iKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShiKTphLlNwaW5uZXI9YigpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYShhLGIpe3ZhciBjLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChhfHxcImRpdlwiKTtmb3IoYyBpbiBiKWRbY109YltjXTtyZXR1cm4gZH1mdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj0xLGM9YXJndW1lbnRzLmxlbmd0aDtjPmI7YisrKWEuYXBwZW5kQ2hpbGQoYXJndW1lbnRzW2JdKTtyZXR1cm4gYX1mdW5jdGlvbiBjKGEsYixjLGQpe3ZhciBlPVtcIm9wYWNpdHlcIixiLH5+KDEwMCphKSxjLGRdLmpvaW4oXCItXCIpLGY9LjAxK2MvZCoxMDAsZz1NYXRoLm1heCgxLSgxLWEpL2IqKDEwMC1mKSxhKSxoPWouc3Vic3RyaW5nKDAsai5pbmRleE9mKFwiQW5pbWF0aW9uXCIpKS50b0xvd2VyQ2FzZSgpLGk9aCYmXCItXCIraCtcIi1cInx8XCJcIjtyZXR1cm4gbVtlXXx8KGsuaW5zZXJ0UnVsZShcIkBcIitpK1wia2V5ZnJhbWVzIFwiK2UrXCJ7MCV7b3BhY2l0eTpcIitnK1wifVwiK2YrXCIle29wYWNpdHk6XCIrYStcIn1cIisoZisuMDEpK1wiJXtvcGFjaXR5OjF9XCIrKGYrYiklMTAwK1wiJXtvcGFjaXR5OlwiK2ErXCJ9MTAwJXtvcGFjaXR5OlwiK2crXCJ9fVwiLGsuY3NzUnVsZXMubGVuZ3RoKSxtW2VdPTEpLGV9ZnVuY3Rpb24gZChhLGIpe3ZhciBjLGQsZT1hLnN0eWxlO2lmKGI9Yi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStiLnNsaWNlKDEpLHZvaWQgMCE9PWVbYl0pcmV0dXJuIGI7Zm9yKGQ9MDtkPGwubGVuZ3RoO2QrKylpZihjPWxbZF0rYix2b2lkIDAhPT1lW2NdKXJldHVybiBjfWZ1bmN0aW9uIGUoYSxiKXtmb3IodmFyIGMgaW4gYilhLnN0eWxlW2QoYSxjKXx8Y109YltjXTtyZXR1cm4gYX1mdW5jdGlvbiBmKGEpe2Zvcih2YXIgYj0xO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspe3ZhciBjPWFyZ3VtZW50c1tiXTtmb3IodmFyIGQgaW4gYyl2b2lkIDA9PT1hW2RdJiYoYVtkXT1jW2RdKX1yZXR1cm4gYX1mdW5jdGlvbiBnKGEsYil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGE/YTphW2IlYS5sZW5ndGhdfWZ1bmN0aW9uIGgoYSl7dGhpcy5vcHRzPWYoYXx8e30saC5kZWZhdWx0cyxuKX1mdW5jdGlvbiBpKCl7ZnVuY3Rpb24gYyhiLGMpe3JldHVybiBhKFwiPFwiK2IrJyB4bWxucz1cInVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sXCIgY2xhc3M9XCJzcGluLXZtbFwiPicsYyl9ay5hZGRSdWxlKFwiLnNwaW4tdm1sXCIsXCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKVwiKSxoLnByb3RvdHlwZS5saW5lcz1mdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGYoKXtyZXR1cm4gZShjKFwiZ3JvdXBcIix7Y29vcmRzaXplOmsrXCIgXCIrayxjb29yZG9yaWdpbjotaitcIiBcIistan0pLHt3aWR0aDprLGhlaWdodDprfSl9ZnVuY3Rpb24gaChhLGgsaSl7YihtLGIoZShmKCkse3JvdGF0aW9uOjM2MC9kLmxpbmVzKmErXCJkZWdcIixsZWZ0On5+aH0pLGIoZShjKFwicm91bmRyZWN0XCIse2FyY3NpemU6ZC5jb3JuZXJzfSkse3dpZHRoOmosaGVpZ2h0OmQuc2NhbGUqZC53aWR0aCxsZWZ0OmQuc2NhbGUqZC5yYWRpdXMsdG9wOi1kLnNjYWxlKmQud2lkdGg+PjEsZmlsdGVyOml9KSxjKFwiZmlsbFwiLHtjb2xvcjpnKGQuY29sb3IsYSksb3BhY2l0eTpkLm9wYWNpdHl9KSxjKFwic3Ryb2tlXCIse29wYWNpdHk6MH0pKSkpfXZhciBpLGo9ZC5zY2FsZSooZC5sZW5ndGgrZC53aWR0aCksaz0yKmQuc2NhbGUqaixsPS0oZC53aWR0aCtkLmxlbmd0aCkqZC5zY2FsZSoyK1wicHhcIixtPWUoZigpLHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmwsbGVmdDpsfSk7aWYoZC5zaGFkb3cpZm9yKGk9MTtpPD1kLmxpbmVzO2krKyloKGksLTIsXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmx1cihwaXhlbHJhZGl1cz0yLG1ha2VzaGFkb3c9MSxzaGFkb3dvcGFjaXR5PS4zKVwiKTtmb3IoaT0xO2k8PWQubGluZXM7aSsrKWgoaSk7cmV0dXJuIGIoYSxtKX0saC5wcm90b3R5cGUub3BhY2l0eT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLmZpcnN0Q2hpbGQ7ZD1kLnNoYWRvdyYmZC5saW5lc3x8MCxlJiZiK2Q8ZS5jaGlsZE5vZGVzLmxlbmd0aCYmKGU9ZS5jaGlsZE5vZGVzW2IrZF0sZT1lJiZlLmZpcnN0Q2hpbGQsZT1lJiZlLmZpcnN0Q2hpbGQsZSYmKGUub3BhY2l0eT1jKSl9fXZhciBqLGssbD1bXCJ3ZWJraXRcIixcIk1velwiLFwibXNcIixcIk9cIl0sbT17fSxuPXtsaW5lczoxMixsZW5ndGg6Nyx3aWR0aDo1LHJhZGl1czoxMCxzY2FsZToxLGNvcm5lcnM6MSxjb2xvcjpcIiMwMDBcIixvcGFjaXR5Oi4yNSxyb3RhdGU6MCxkaXJlY3Rpb246MSxzcGVlZDoxLHRyYWlsOjEwMCxmcHM6MjAsekluZGV4OjJlOSxjbGFzc05hbWU6XCJzcGlubmVyXCIsdG9wOlwiNTAlXCIsbGVmdDpcIjUwJVwiLHNoYWRvdzohMSxod2FjY2VsOiExLHBvc2l0aW9uOlwiYWJzb2x1dGVcIn07aWYoaC5kZWZhdWx0cz17fSxmKGgucHJvdG90eXBlLHtzcGluOmZ1bmN0aW9uKGIpe3RoaXMuc3RvcCgpO3ZhciBjPXRoaXMsZD1jLm9wdHMsZj1jLmVsPWEobnVsbCx7Y2xhc3NOYW1lOmQuY2xhc3NOYW1lfSk7aWYoZShmLHtwb3NpdGlvbjpkLnBvc2l0aW9uLHdpZHRoOjAsekluZGV4OmQuekluZGV4LGxlZnQ6ZC5sZWZ0LHRvcDpkLnRvcH0pLGImJmIuaW5zZXJ0QmVmb3JlKGYsYi5maXJzdENoaWxkfHxudWxsKSxmLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInByb2dyZXNzYmFyXCIpLGMubGluZXMoZixjLm9wdHMpLCFqKXt2YXIgZyxoPTAsaT0oZC5saW5lcy0xKSooMS1kLmRpcmVjdGlvbikvMixrPWQuZnBzLGw9ay9kLnNwZWVkLG09KDEtZC5vcGFjaXR5KS8obCpkLnRyYWlsLzEwMCksbj1sL2QubGluZXM7IWZ1bmN0aW9uIG8oKXtoKys7Zm9yKHZhciBhPTA7YTxkLmxpbmVzO2ErKylnPU1hdGgubWF4KDEtKGgrKGQubGluZXMtYSkqbiklbCptLGQub3BhY2l0eSksYy5vcGFjaXR5KGYsYSpkLmRpcmVjdGlvbitpLGcsZCk7Yy50aW1lb3V0PWMuZWwmJnNldFRpbWVvdXQobyx+figxZTMvaykpfSgpfXJldHVybiBjfSxzdG9wOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbDtyZXR1cm4gYSYmKGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpLGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpLHRoaXMuZWw9dm9pZCAwKSx0aGlzfSxsaW5lczpmdW5jdGlvbihkLGYpe2Z1bmN0aW9uIGgoYixjKXtyZXR1cm4gZShhKCkse3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix3aWR0aDpmLnNjYWxlKihmLmxlbmd0aCtmLndpZHRoKStcInB4XCIsaGVpZ2h0OmYuc2NhbGUqZi53aWR0aCtcInB4XCIsYmFja2dyb3VuZDpiLGJveFNoYWRvdzpjLHRyYW5zZm9ybU9yaWdpbjpcImxlZnRcIix0cmFuc2Zvcm06XCJyb3RhdGUoXCIrfn4oMzYwL2YubGluZXMqaytmLnJvdGF0ZSkrXCJkZWcpIHRyYW5zbGF0ZShcIitmLnNjYWxlKmYucmFkaXVzK1wicHgsMClcIixib3JkZXJSYWRpdXM6KGYuY29ybmVycypmLnNjYWxlKmYud2lkdGg+PjEpK1wicHhcIn0pfWZvcih2YXIgaSxrPTAsbD0oZi5saW5lcy0xKSooMS1mLmRpcmVjdGlvbikvMjtrPGYubGluZXM7aysrKWk9ZShhKCkse3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6MSt+KGYuc2NhbGUqZi53aWR0aC8yKStcInB4XCIsdHJhbnNmb3JtOmYuaHdhY2NlbD9cInRyYW5zbGF0ZTNkKDAsMCwwKVwiOlwiXCIsb3BhY2l0eTpmLm9wYWNpdHksYW5pbWF0aW9uOmomJmMoZi5vcGFjaXR5LGYudHJhaWwsbCtrKmYuZGlyZWN0aW9uLGYubGluZXMpK1wiIFwiKzEvZi5zcGVlZCtcInMgbGluZWFyIGluZmluaXRlXCJ9KSxmLnNoYWRvdyYmYihpLGUoaChcIiMwMDBcIixcIjAgMCA0cHggIzAwMFwiKSx7dG9wOlwiMnB4XCJ9KSksYihkLGIoaSxoKGcoZi5jb2xvcixrKSxcIjAgMCAxcHggcmdiYSgwLDAsMCwuMSlcIikpKTtyZXR1cm4gZH0sb3BhY2l0eTpmdW5jdGlvbihhLGIsYyl7YjxhLmNoaWxkTm9kZXMubGVuZ3RoJiYoYS5jaGlsZE5vZGVzW2JdLnN0eWxlLm9wYWNpdHk9Yyl9fSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50KXtrPWZ1bmN0aW9uKCl7dmFyIGM9YShcInN0eWxlXCIse3R5cGU6XCJ0ZXh0L2Nzc1wifSk7cmV0dXJuIGIoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLGMpLGMuc2hlZXR8fGMuc3R5bGVTaGVldH0oKTt2YXIgbz1lKGEoXCJncm91cFwiKSx7YmVoYXZpb3I6XCJ1cmwoI2RlZmF1bHQjVk1MKVwifSk7IWQobyxcInRyYW5zZm9ybVwiKSYmby5hZGo/aSgpOmo9ZChvLFwiYW5pbWF0aW9uXCIpfXJldHVybiBofSk7IiwiLy9odHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC9jbG9zZXN0XG5pZiAod2luZG93LkVsZW1lbnQgJiYgIUVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QpIHtcbiAgICBFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0ID0gXG4gICAgZnVuY3Rpb24ocykge1xuICAgICAgICB2YXIgbWF0Y2hlcyA9ICh0aGlzLmRvY3VtZW50IHx8IHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzKSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBlbCA9IHRoaXM7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGkgPSBtYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICgtLWkgPj0gMCAmJiBtYXRjaGVzLml0ZW0oaSkgIT09IGVsKSB7fTtcbiAgICAgICAgfSB3aGlsZSAoKGkgPCAwKSAmJiAoZWwgPSBlbC5wYXJlbnRFbGVtZW50KSk7IFxuICAgICAgICByZXR1cm4gZWw7XG4gICAgfTtcbn1cblxuTnVtYmVyLmlzSW50ZWdlciA9IE51bWJlci5pc0ludGVnZXIgfHwgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiAmJiBcbiAgICBpc0Zpbml0ZSh2YWx1ZSkgJiYgXG4gICAgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xufVxuXG5cbi8vaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcGF1bGlyaXNoLzE1Nzk2NzFcbmNvbnN0IHJlcXVlc3RBbmltYXRpb25GcmFtZVBvbHlmaWxsID0gKCgpID0+IHtcbiAgICBsZXQgY2xvY2sgPSBEYXRlLm5vdygpO1xuXG4gICAgcmV0dXJuIChjYWxsYmFjaykgPT4ge1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICBpZiAoY3VycmVudFRpbWUgLSBjbG9jayA+IDE2KSB7XG4gICAgICAgICAgICBjbG9jayA9IGN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgY2FsbGJhY2soY3VycmVudFRpbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcG9seWZpbGwoY2FsbGJhY2spO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICB9O1xufSkoKTtcblxud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSAgICB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZVBvbHlmaWxsXG5cbmlmKCAhIHdpbmRvdy5JbnRsICkge1xuICAgIHJlcXVpcmUoJ2ludGwnKVxuICAgIHJlcXVpcmUoJ2ludGwvbG9jYWxlLWRhdGEvanNvbnAvZW4uanMnKVxufVxuXG4vL2h0dHA6Ly93d3cuamF2YXNjcmlwdGtpdC5jb20vZGh0bWx0dXRvcnMvc3RpY2t5LWhvdmVyLWlzc3VlLXNvbHV0aW9ucy5zaHRtbFxuY29uc3QgdG91Y2hzdXBwb3J0ID0gKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykgfHwgKG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDApIHx8IChuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDApXG5pZiAoIXRvdWNoc3VwcG9ydCl7IC8vIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IHRvdWNoXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJub24tdG91Y2hcIilcbn1cblxucmVxdWlyZSgnc21vb3Roc2Nyb2xsLXBvbHlmaWxsJykucG9seWZpbGwoKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRydWVcbiIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSgge1xuXG4gICAgRXJyb3I6IHJlcXVpcmUoJy4uLy4uL2xpYi9NeUVycm9yJyksXG5cbiAgICBWaWV3RmFjdG9yeTogcmVxdWlyZSgnLi9mYWN0b3J5L1ZpZXcnKSxcblxuICAgIFZpZXdzOiByZXF1aXJlKCcuLy5WaWV3TWFwJyksXG5cbiAgICBjYXBpdGFsaXplRmlyc3RMZXR0ZXI6IHN0cmluZyA9PiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSksXG5cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29udGVudCcpXG5cbiAgICAgICAgd2luZG93Lm9ucG9wc3RhdGUgPSB0aGlzLmhhbmRsZS5iaW5kKHRoaXMpXG5cbiAgICAgICAgdGhpcy51c2VyID0gcmVxdWlyZSgnLi9tb2RlbHMvVXNlcicpXG5cbiAgICAgICAgdGhpcy51c2VyLm9uKCAnbG9nZ2VkSW4nLCAoKSA9PiB0aGlzLm9uTG9naW4oKSApXG5cbiAgICAgICAgdGhpcy51c2VyUHJvbWlzZSA9IG5ldyBQcm9taXNlKCAoIHJlc29sdmUsIHJlamVjdCApID0+IHRoaXMudXNlci5mZXRjaCgpLmRvbmUoIHJlc29sdmUgKS5mYWlsKCByZWplY3QgKSApXG5cbiAgICAgICAgdGhpcy5mb290ZXIgPSB0aGlzLlZpZXdGYWN0b3J5LmNyZWF0ZSggJ2Zvb3RlcicsIHsgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmNvbnRlbnQsIG1ldGhvZDogJ2FmdGVyJyB9IH0gKVxuXG4gICAgICAgIHRoaXMudmlld3MgPSB7IH1cblxuICAgICAgICB0aGlzLmhhbmRsZSgpXG4gICAgfSxcblxuICAgIGhhbmRsZSgpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVyKCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKS5zbGljZSgxKSApXG4gICAgfSxcblxuICAgIGhhbmRsZUhlYWRlciggcmVzb3VyY2UgKSB7XG4gICAgICAgIGlmKCAvYWRtaW4vLnRlc3QocmVzb3VyY2UpICkge1xuICAgICAgICAgICAgaWYoIHRoaXMuYWRtaW5IZWFkZXIgKSB7IHRoaXMuYWRtaW5IZWFkZXIub25OYXZpZ2F0aW9uKCkgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZG1pbkhlYWRlciA9IHRoaXMuVmlld0ZhY3RvcnkuY3JlYXRlKCAnYWRtaW5IZWFkZXInLCB7IGluc2VydGlvbjogeyBlbDogdGhpcy5jb250ZW50LCBtZXRob2Q6ICdpbnNlcnRCZWZvcmUnIH0gfSApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbiggJ3NpZ25vdXQnLCAoKSA9PiB0aGlzLm9uU2lnbm91dCgpIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmKCB0aGlzLmFkbWluSGVhZGVyICkgeyB0aGlzLmFkbWluSGVhZGVyLmhpZGUoKSB9XG4gICAgICAgICAgICBpZiggdGhpcy5oZWFkZXIgKSB7IHJldHVybiB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhlYWRlciA9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuVmlld0ZhY3RvcnkuY3JlYXRlKCAnaGVhZGVyJywgeyBpbnNlcnRpb246IHsgZWw6IHRoaXMuY29udGVudCwgbWV0aG9kOiAnaW5zZXJ0QmVmb3JlJyB9IH0gKVxuICAgICAgICAgICAgICAgICAgICAub24oICduYXZpZ2F0ZScsIHRoaXMub25WaWV3TmF2aWdhdGUuYmluZCh0aGlzKSApXG4gICAgICAgICAgICAgICAgICAgIC5vbiggJ3NpZ25JbkNsaWNrZWQnLCAoKSA9PiB0aGlzLmhhbmRsZUxvZ2luKCkgKVxuICAgICAgICAgICAgICAgICAgICAub24oICdzaWduT3V0Q2xpY2tlZCcsICgpID0+IHRoaXMub25TaWdub3V0KCkgKVxuICAgICAgICAgICAgICAgICAgICAub24oICdyZW1vdmVMb2dpbicsICgpID0+IHRoaXMuTG9naW4uZGVsZXRlKCkuY2F0Y2goIHRoaXMuRXJyb3IgKSApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaGFuZGxlTG9naW4oKSB7XG4gICAgICAgIFByb21pc2UuYWxsKCBPYmplY3Qua2V5cyggdGhpcy52aWV3cyApLm1hcCggdmlldyA9PiB0aGlzLnZpZXdzWyB2aWV3IF0uaGlkZSgpICkgKVxuICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5Mb2dpbiA9IHRoaXMuVmlld0ZhY3RvcnkuY3JlYXRlKCAnbG9naW4nLCB7IGluc2VydGlvbjogeyBlbDogdGhpcy5jb250ZW50IH0gfSApXG4gICAgICAgICAgICAub24oIFwic3VjY2Vzc1wiLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkZXIub25Mb2dpbigpXG4gICAgICAgICAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuaGFuZGxlKCkgKVxuICAgICAgICAgICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgICAgICAgICB9IClcbiAgICAgICAgICAgIC5vbiggJ2xvZ2luQ2FuY2VsbGVkJywgKCkgPT4gdGhpcy5oYW5kbGUoKSApXG4gICAgICAgIH0gKVxuICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgIH0sXG5cbiAgICBoYW5kbGVGb290ZXIoIHJlc291cmNlICkge1xuICAgICAgICB0aGlzLmZvb3Rlci5lbHMuY29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoICdmZC1oaWRkZW4nLCAvYWRtaW4vLnRlc3QoIHJlc291cmNlICkgKVxuICAgIH0sXG5cbiAgICBoYW5kbGVyKCBwYXRoICkge1xuICAgICAgICBsZXQgbmFtZSA9IHRoaXMucGF0aFRvVmlldyggcGF0aFswXSApLFxuICAgICAgICAgICAgdmlldyA9IHRoaXMuVmlld3NbIG5hbWUgXSA/IHBhdGhbMF0gOiAnaG9tZSdcblxuICAgICAgICBpZiggdGhpcy5yZXNvdXJjZXNbIHBhdGhbMF0gXSApIHZpZXcgPSBwYXRoWzBdXG5cbiAgICAgICAgdGhpcy51c2VyUHJvbWlzZS50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUhlYWRlciggcGF0aFswXSApXG4gICAgICAgICAgICB0aGlzLmhhbmRsZUZvb3RlciggcGF0aFswXSApXG5cbiAgICAgICAgICAgIGlmKCB0aGlzLnVzZXIuaWQgJiYgL2FkbWluLy50ZXN0KCBwYXRoWzBdICkgKSB0aGlzLmFkbWluSGVhZGVyLm9uVXNlciggdGhpcy51c2VyIClcblxuICAgICAgICAgICAgaWYoIHZpZXcgPT09IHRoaXMuY3VycmVudFZpZXcgKSByZXR1cm4gdGhpcy52aWV3c1sgdmlldyBdLm9uTmF2aWdhdGlvbiggcGF0aC5zbGljZSgxKSApXG5cbiAgICAgICAgICAgIFByb21pc2UuYWxsKCBPYmplY3Qua2V5cyggdGhpcy52aWV3cyApLm1hcCggdmlldyA9PiB0aGlzLnZpZXdzWyB2aWV3IF0uaGlkZSgpICkgKVxuICAgICAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gdmlld1xuXG4gICAgICAgICAgICAgICAgaWYoIHRoaXMuaGVhZGVyICkgdGhpcy5oZWFkZXIudG9nZ2xlU2lnblVwQnRuKCB2aWV3IClcblxuICAgICAgICAgICAgICAgIGlmKCB0aGlzLnZpZXdzWyB2aWV3IF0gKSByZXR1cm4gdGhpcy52aWV3c1sgdmlldyBdLm9uTmF2aWdhdGlvbiggcGF0aCApXG5cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdzWyB2aWV3IF0gPSAhdGhpcy5yZXNvdXJjZXNbIHZpZXcgXVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuVmlld0ZhY3RvcnkuY3JlYXRlKCB2aWV3LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRpb246IHsgZWw6IHRoaXMuY29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aFxuICAgICAgICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgICAgICAgICAgIC5vbiggJ25hdmlnYXRlJywgKCByb3V0ZSwgb3B0aW9ucyApID0+IHRoaXMubmF2aWdhdGUoIHJvdXRlLCBvcHRpb25zICkgKVxuICAgICAgICAgICAgICAgICAgICAgIC5vbiggJ2RlbGV0ZWQnLCAoKSA9PiBkZWxldGUgdGhpcy52aWV3c1sgdmlldyBdIClcbiAgICAgICAgICAgICAgICAgICAgOiBuZXcgKCB0aGlzLnJlc291cmNlc1sgdmlldyBdLnZpZXcgKSggT2JqZWN0LmFzc2lnbiggeyBmYWN0b3J5OiB0aGlzLlZpZXdGYWN0b3J5IH0sIHRoaXMucmVzb3VyY2VzWyB2aWV3IF0ub3B0aW9ucyApIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5vbiggJ25hdmlnYXRlJywgKCByb3V0ZSwgb3B0aW9ucyApID0+IHRoaXMubmF2aWdhdGUoIHJvdXRlLCBvcHRpb25zICkgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCAnZGVsZXRlZCcsICgpID0+IGRlbGV0ZSB0aGlzLnZpZXdzWyB2aWV3IF0gKVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYoICEvYWRtaW4vLnRlc3QoIHBhdGhbMF0gKSApIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gMFxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICB9IClcbiAgICAgICAgfSApXG4gICAgICAgIC5jYXRjaCggZXJyID0+IG5ldyB0aGlzLkVycm9yKGVycikgKVxuICAgIH0sXG5cbiAgICBuYXZpZ2F0ZSggbG9jYXRpb24sIG9wdGlvbnM9e30gKSB7XG4gICAgICAgIGxldCBwYXRoID0gYCR7d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfWAuc3BsaXQoJy8nKVxuXG4gICAgICAgIGlmKCBvcHRpb25zLnJlcGxhY2UgfHwgb3B0aW9ucy51cCApIHtcbiAgICAgICAgICAgIHBhdGgucG9wKClcbiAgICAgICAgICAgIGlmKCBvcHRpb25zLnJlcGxhY2UgKSBwYXRoLnB1c2goIGxvY2F0aW9uIClcbiAgICAgICAgICAgIGxvY2F0aW9uID0gcGF0aC5qb2luKCcvJylcbiAgICAgICAgfSBlbHNlIGlmKCBvcHRpb25zLmFwcGVuZCApIHsgbG9jYXRpb24gPSBgJHt3aW5kb3cubG9jYXRpb24ucGF0aG5hbWV9LyR7bG9jYXRpb259YCB9XG5cbiAgICAgICAgaWYoIHBhdGguaW5jbHVkZXMoJ3Jlc2V0UGFzc3dvcmQnKSB8fCBwYXRoLmluY2x1ZGVzKCd2ZXJpZnknKSApIHsgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID0gYC8ke2xvY2F0aW9ufWAgfVxuICAgICAgICBpZiggbG9jYXRpb24gIT09IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSApIGhpc3RvcnkucHVzaFN0YXRlKCB7fSwgJycsIGxvY2F0aW9uIClcbiAgICAgICAgaWYoICFvcHRpb25zLnNpbGVudCApIHRoaXMuaGFuZGxlKClcbiAgICB9LFxuXG4gICAgb25Mb2dpbigpIHtcbiAgICAgICAgdGhpcy5vblVzZXIoIHRoaXMudXNlciApXG4gICAgICAgIGlmKCB0aGlzLmhlYWRlciApIHRoaXMuaGVhZGVyLm9uTG9naW4oKS5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgfSxcblxuICAgIG9uVmlld05hdmlnYXRlKCByb3V0ZSApIHsgdGhpcy5uYXZpZ2F0ZSggcm91dGUsIHsgdHJpZ2dlcjogdHJ1ZSB9ICkgfSxcblxuICAgIG9uU2lnbm91dCgpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKCBPYmplY3Qua2V5cyggdGhpcy52aWV3cyApLm1hcCggbmFtZSA9PiB0aGlzLnZpZXdzWyBuYW1lIF0uZGVsZXRlKCkgKSApXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWaWV3ID0gdW5kZWZpbmVkICAgIFxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZSggXCIvXCIgKVxuICAgICAgICB9IClcbiAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICB9LFxuXG4gICAgb25Vc2VyKCB1c2VyICkge1xuICAgICAgICB0aGlzLmFkbWluSGVhZGVyID8gdGhpcy5hZG1pbkhlYWRlci5vblVzZXIoIHRoaXMudXNlciApIDogdGhpcy5oZWFkZXIub25Vc2VyKCB0aGlzLnVzZXIgKVxuICAgIH0sXG5cbiAgICBwYXRoVG9WaWV3KCBwYXRoICkge1xuICAgICAgICBjb25zdCBoeXBoZW5TcGxpdCA9IHBhdGguc3BsaXQoJy0nKVxuICAgICAgICByZXR1cm4gaHlwaGVuU3BsaXQubWFwKCBpdGVtID0+IHRoaXMuY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKCBpdGVtICkgKS5qb2luKCcnKVxuICAgIH0sXG5cbiAgICByZXNvdXJjZXM6IHtcbiAgICAgICAgXCJzaWduLXVwXCI6IHsgdmlldzogcmVxdWlyZSgnLi92aWV3cy9TaWdudXAnKSwgb3B0aW9uczogeyB9IH0sXG4gICAgfVxuXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0gcCA9PlxuICAgIGA8ZGl2IGNsYXNzPSdpbnRybyc+JHtwLmludHJvfTwvZGl2PjxwPiR7cC5wYXJhZ3JhcGh9PC9wPmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT5cbmA8ZGl2IGRhdGEtanM9XCJjb250YWluZXJcIiBjbGFzcz1cIlNpZ251cFwiPlxuICAgIDxoMT5TaWduIFVwPC9oMT5cbiAgICA8aDIgZGF0YS1qcz1cImludHJvXCI+V2VsY29tZSB0byBvdXIgQ1NBIFNpZ24gVXAgUGFnZTwvaDI+XG4gICAgPHNlY3Rpb24+XG4gICAgICAgIDxkaXYgZGF0YS1qcz1cIndhbGt0aHJvdWdoXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuYXYtYXJyb3dzXCI+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJsZWZ0QnRuXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLW1lbnUtbGVmdFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5CYWNrPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJyaWdodEJ0blwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPk5leHQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLW1lbnUtcmlnaHRcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9zZWN0aW9uPlxuPC9kaXY+YCIsIm1vZHVsZS5leHBvcnRzID0gcCA9PlxuYDxkaXYgY2xhc3M9XCJEYXRlU2VsZWN0aW9uXCIgZGF0YS1qcz1cImNvbnRhaW5lclwiPlxuICAgIDxkaXY+Tm90IGdvaW5nIHRvIGJlIGFyb3VuZD88L2Rpdj5cbiAgICA8ZGl2PlBsZWFzZSBjaG9vc2UgYW55IGRhdGVzIGZvciB3aGljaCB5b3Ugd2lsbCBub3QgYmUgYXZhaWxhYmxlIHRvIHJlY2VpdmUgb3IgcGljayB1cCB5b3VyIHNoYXJlLjwvZGl2PlxuICAgIDx1bCBkYXRhLWpzPVwic2hhcmVzXCI+PC91bD5cbjwvZGl2PmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT5cbmA8ZGl2IGNsYXNzPVwiRGVsaXZlcnlcIiBkYXRhLWpzPVwiY29udGFpbmVyXCI+XG4gICAgPHA+UGxlYXNlIHNlbGVjdCBhIGRlbGl2ZXJ5IG9wdGlvbiBmb3IgeW91ciBzaGFyZShzKS48L3A+XG4gICAgPHVsIGRhdGEtanM9XCJzaGFyZXNcIj48L3VsPlxuPC9kaXY+YCIsIm1vZHVsZS5leHBvcnRzID0gcCA9PlxuYDxsaSBjbGFzcz1cImRlbGl2ZXJ5LW9wdGlvblwiIGRhdGEtaWQ9XCIke3AuaWR9XCIgZGF0YS1qcz1cImNvbnRhaW5lclwiPlxuICAgIDxkaXY+JHtwLmxhYmVsfTwvZGl2PlxuICAgIDxkaXYgZGF0YS1qcz1cImRlbGl2ZXJ5UHJpY2VcIj4ke3AucHJpY2V9IC8gd2Vlazwvc3Bhbj48L2Rpdj5cbjwvbGk+YCIsIm1vZHVsZS5leHBvcnRzID0gcCA9PlxuYDxsaSBkYXRhLWpzPVwiY29udGFpbmVyXCIgY2xhc3M9XCJkZWxpdmVyeS1vcHRpb25zXCI+XG4gICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNoYXJlLWxhYmVsXCI+XG4gICAgICAgICAgICA8ZGl2PiR7cC5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4+JHtwLmh1bWFuU3RhcnRkYXRlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4tPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiR7cC5odW1hbkVuZGRhdGV9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PiR7cC5kdXJhdGlvbn0gd2Vla3M8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJvcHRpb25zXCIgY2xhc3M9XCJvcHRpb25zXCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJmZWVkYmFja1wiIGNsYXNzPVwiZmVlZGJhY2stbWVzc2FnZXNcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBkYXRhLWpzPVwiZHJvcG9mZnNcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZXJyb3JcIj5QbGVhc2Ugc2VsZWN0IGEgdmFsaWQgb3B0aW9uLjwvZGl2PlxuPC9saT5gIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGRpdiBkYXRhLWpzPVwiY29udGFpbmVyXCIgY2xhc3M9XCJkcm9wb2ZmXCI+XG4gICAgPGRpdj4ke3AubGFiZWx9PC9kaXY+XG4gICAgPGRpdj4ke3AudmVudWUgfHwgJyd9PC9kaXY+XG4gICAgPGRpdj4ke3Auc3RyZWV0fTwvZGl2PlxuICAgIDxkaXY+JHtwLmNpdHlTdGF0ZVppcH08L2Rpdj5cbiAgICA8ZGl2PiR7cC5kYXlPZldlZWt9IDogJHtwLnN0YXJ0dGltZX0gLSAke3AuZW5kdGltZX08L2Rpdj5cbjwvZGl2PmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4gYDxkaXYgY2xhc3M9XCJkcm9wb2Zmc1wiIGRhdGEtanM9XCJjb250YWluZXJcIj48L2Rpdj5gIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+IGA8ZGl2Pk9uLWZhcm0gcGlja3VwIGF2YWlsYWJsZSAke3AuZGF5T2ZXZWVrfSAke3Auc3RhcnR0aW1lfSAtICR7cC5lbmR0aW1lfTwvZGl2PmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4gYDxkaXY+SG9tZSBkZWxpdmVyeSBhdmFpbGFibGUgJHtwLmRheU9mV2Vla30gJHtwLnN0YXJ0dGltZX0gLSAke3AuZW5kdGltZX08L2Rpdj5gIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGxpIGRhdGEtanM9XCJjb250YWluZXJcIiBjbGFzcz1cInBheW1lbnQtb3B0aW9uXCI+XG4gICAgPGRpdj4ke3AubGFiZWx9PC9kaXY+XG4gICAgPGRpdj4ke3Aubm90ZX08L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibWV0aG9kLXRvdGFsXCI+PC9kaXY+ICAgIFxuPC9saT5gXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4gYDx1bCBjbGFzcz1cInBheW1lbnQtb3B0aW9uc1wiIGRhdGEtanM9XCJjb250YWluZXJcIj48L3VsPmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT5cbmA8ZGl2IGRhdGEtanM9XCJjb250YWluZXJcIiBjbGFzcz1cInBpY2t1cC1kYXRlICR7cC5zZWxlY3RlZCA/ICdzZWxlY3RlZCcgOiAnJ30gJHtwLnVuc2VsZWN0YWJsZSA/ICd1bnNlbGVjdGFibGUnIDogJyd9XCI+XG4gICAgPGRpdj4ke3AuZGF5T2ZXZWVrfTwvZGl2PlxuICAgIDxkaXY+JHtwLm1vbnRofTwvZGl2PlxuICAgIDxkaXY+JHtwLmRheU9mTW9udGh9PC9kaXY+XG48L2Rpdj5gIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGxpIGRhdGEtanM9XCJjb250YWluZXJcIiBjbGFzcz1cInNoYXJlLWRhdGVzXCI+XG4gICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNoYXJlLWxhYmVsXCI+XG4gICAgICAgICAgICA8ZGl2PiR7cC5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPHNwYW4+JHtwLmh1bWFuU3RhcnRkYXRlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4tPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiR7cC5odW1hbkVuZGRhdGV9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PiR7cC5kdXJhdGlvbn0gd2Vla3M8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgZGF0YS1qcz1cImRhdGVzXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImVycm9yXCI+UGxlYXNlIHNlbGVjdCBhdCBsZWFzdCBvbmUgZGF0ZSB0byByZWNlaXZlIGEgc2hhcmUuPC9kaXY+XG48L2xpPmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT5cbmA8bGkgZGF0YS1qcz1cImNvbnRhaW5lclwiIGNsYXNzPVwic2hhcmVcIiBkYXRhLWlkPVwiJHtwLmlkfVwiPlxuICAgIDxkaXY+XG4gICAgICAgIDxkaXYgZGF0YS1qcz1cInNoYXJlQm94XCI+PC9kaXY+XG4gICAgICAgIDxkaXY+JHtwLmRlc2NyaXB0aW9ufTwvZGl2PlxuICAgIDwvZGl2PlxuPC9saT5gIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+IHtcbiAgICBjb25zdCBvcHRpb25zID0gcC5vcHRpb25zLm1hcCggb3B0aW9uID0+IGA8b3B0aW9uIHZhbHVlPVwiJHtvcHRpb24uaWR9XCI+JHtvcHRpb24ubGFiZWx9PC9vcHRpb24+YCApLmpvaW4oJycpLFxuICAgICAgICBkZXNjcmlwdGlvbiA9IHAuZGVzY3JpcHRpb24gPyBgPHNwYW4gZGF0YS1qcz1cIm9wdGlvbkljb25cIiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24taW5mby1zaWduXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPmAgOiBgYFxuXG5yZXR1cm4gYGAgK1xuYDxkaXYgZGF0YS1qcz1cImNvbnRhaW5lclwiIGNsYXNzPVwic2hhcmUtb3B0aW9uXCI+XG4gICAgPGRpdiBjbGFzcz1cIm9wdGlvbi10aXRsZVwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHNwYW4+JHtwLnByb21wdH08L3NwYW4+XG4gICAgICAgICAgICAke2Rlc2NyaXB0aW9ufVxuICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHNlbGVjdCBkYXRhLWpzPVwiaW5wdXRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuICAgICAgICAgICAgICAgICR7b3B0aW9uc31cbiAgICAgICAgICAgIDwvc2VsZWN0PiAgICBcbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInRvdGFsXCI+XG4gICAgICAgIDxkaXYgZGF0YS1qcz1cInRvdGFsXCI+PC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj5gXG59IiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGRpdiBjbGFzcz1cIlNoYXJlT3B0aW9uc1wiIGRhdGEtanM9XCJjb250YWluZXJcIj5cbiAgICA8cD5QbGVhc2UgbWFrZSBzZWxlY3Rpb25zIHRvIGN1c3RvbWl6ZSB5b3VyIGJveDwvcD5cbiAgICA8dWwgZGF0YS1qcz1cInNoYXJlc1wiPjwvdWw+XG48L2Rpdj5gIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGRpdiBjbGFzcz1cIlNoYXJlc1wiIGRhdGEtanM9XCJjb250YWluZXJcIj5cbiAgICA8cD5BcyBhIG1lbWJlciBpbiBvdXIgQ1NBIHByb2dyYW0sIHlvdSB3aWxsIHJlY2VpdmUgYSB3ZWVrbHkgYm94IG9mIGZyZXNoLXBpY2tlZCwgY2hlbWljYWwtZnJlZSBwcm9kdWNlIGFsbCBncm93biBhdCBQYXRjaHdvcmsgR2FyZGVucywgcmlnaHQgaGVyZSBpbiB0aGUgTWlhbWkgVmFsbGV5LjwvcD5cbiAgICA8cD5JZiB5b3XigJlyZSBub3QgcXVpdGUgc3VyZSB5b3XigJlyZSByZWFkeSBmb3IgYSBDU0EsIGNoZWNrIG91dCBvdXIgPHNwYW4gZGF0YS1qcz1cImNzYUluZm9CdG5cIiBjbGFzcz1cImxpbmtcIj5DU0EgUHJvZ3JhbTwvc3Bhbj4gcGFnZSBmb3IgbW9yZSBpbmZvcm1hdGlvbjwvcD5cbiAgICA8aDI+UGxlYXNlIHNlbGVjdCB3aGljaCBzZWFzb24ocykgeW91IHdvdWxkIGxpa2UgdG8gam9pbiB1czwvaDI+XG4gICAgPHVsIGRhdGEtanM9XCJzaGFyZXNcIj48L3VsPlxuICAgIDxkaXYgY2xhc3M9XCJlcnJvclwiPlBsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIHNoYXJlLjwvZGl2PlxuPC9kaXY+YCIsIm1vZHVsZS5leHBvcnRzID0gcCA9PlxuYDxsaSBkYXRhLWpzPVwiY29udGFpbmVyXCI+XG4gICAgPGRpdiBjbGFzcz1cInNpbmdsZS1zaGFyZVwiPlxuICAgICAgICA8ZGl2IGRhdGEtanM9XCJzaGFyZUJveFwiPjwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGg0IGRhdGEtanM9XCJ3ZWVrbHlIZWFkZXJcIj5XZWVrbHkgT3B0aW9uczwvaDQ+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJvcHRpb25zXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGRhdGEtanM9XCJzZWFzb25hbENvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGg0PlNlYXNvbmFsIEl0ZW1zPC9oND5cbiAgICAgICAgICAgIDxkaXYgZGF0YS1qcz1cInNlYXNvbmFsT3B0aW9uc1wiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2PlxuICAgICAgICA8ZGl2PjxzcGFuPlNoYXJlIFRvdGFsOiA8L3NwYW4+PHNwYW4gZGF0YS1qcz1cIndlZWtseVRvdGFsXCI+PC9zcGFuPjwvZGl2PlxuICAgICAgICA8ZGl2PjxzcGFuPlNlYXNvbmFsIEl0ZW1zIFRvdGFsOiA8L3NwYW4+PHNwYW4gZGF0YS1qcz1cInNlYXNvbmFsVG90YWxcIj48L3NwYW4+PC9kaXY+XG4gICAgPC9kaXY+XG48L2xpPmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4ge1xuXG5jb25zdCBzaGFyZXMgPSBwLnNoYXJlcy5tYXAoIHNoYXJlID0+IHtcblxuICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9ucyA9IHNoYXJlLnNlbGVjdGVkT3B0aW9ucy5tYXAoIG9wdCA9PlxuICAgICAgICBgPGRpdiBjbGFzcz1cIml0ZW0tcm93XCI+XG4gICAgICAgICAgICA8ZGl2PiR7b3B0Lm9wdGlvbk5hbWV9PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuPiR7b3B0LnNlbGVjdGVkT3B0aW9uTGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiR7cC51bml0IHx8ICcnfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByaWNlXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+JHtvcHQucHJpY2V9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPnBlciB3ZWVrPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmBcbiAgICApLmpvaW4oJycpXG5cbiAgICBjb25zdCBzZWFzb25hbEFkZE9ucyA9IHNoYXJlLnNlYXNvbmFsQWRkT25zLm1hcCggYWRkb24gPT5cbiAgICAgICAgYDxkaXYgY2xhc3M9XCJpdGVtLXJvd1wiPlxuICAgICAgICAgICAgPGRpdj4ke2FkZG9uLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4ke2FkZG9uLnNlbGVjdGVkT3B0aW9uTGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPiR7YWRkb24udW5pdH08L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmljZVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPiR7YWRkb24ucHJpY2V9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmBcbiAgICApLmpvaW4oJycpXG5cbiAgICBjb25zdCBzZWFzb25hbFRvdGFsID0gc2hhcmUuc2Vhc29uYWxBZGRPbnMubGVuZ3RoXG4gICAgICAgID8gYDxkaXY+PGRpdj5TZWFzb25hbCBJdGVtcyBUb3RhbCA6PC9kaXY+PGRpdj4ke3NoYXJlLnNlYXNvbmFsT3B0aW9uc1RvdGFsfTwvZGl2PjwvZGl2PmBcbiAgICAgICAgOiBgYFxuXG4gICAgY29uc3QgZ3JvdXBkcm9wb2ZmID0gc2hhcmUuc2VsZWN0ZWREZWxpdmVyeS5ncm91cGRyb3BvZmZcbiAgICAgICAgPyBgPGRpdiBjbGFzcz1cIml0ZW0tcm93XCI+XG4gICAgICAgICAgICA8ZGl2PkRyb3Atb2ZmIExvY2F0aW9uPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PiR7c2hhcmUuc2VsZWN0ZWREZWxpdmVyeS5ncm91cGRyb3BvZmZ9PC9kaXY+XG4gICAgICAgIDwvZGl2PmBcbiAgICAgICAgOiBgYFxuXG4gICAgY29uc3Qgc2tpcERheXMgPSBzaGFyZS5za2lwRGF5cy5sZW5ndGhcbiAgICAgICAgPyBgPGRpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLXRpdGxlXCI+RGF0ZXMgWW91IFdpbGwgTm90IFBpY2t1cDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBpY2t1cC1kYXRlc1wiPiR7c2hhcmUuc2tpcERheXMuam9pbignJyl9PC9kaXY+XG4gICAgICAgIDwvZGl2PmBcbiAgICAgICAgOiBgYFxuXG4gICAgcmV0dXJuIGBgICtcbiAgICBgPGRpdiBjbGFzcz1cInNoYXJlLXN1bW1hcnlcIj5cbiAgICAgICAgPGRpdj4ke3NoYXJlLnNoYXJlQm94fTwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5TaGFyZSBPcHRpb25zPC9kaXY+XG4gICAgICAgICAgICAke3NlbGVjdGVkT3B0aW9uc31cbiAgICAgICAgICAgICR7c2Vhc29uYWxBZGRPbnN9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5EZWxpdmVyeTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW0tcm93XCI+XG4gICAgICAgICAgICAgICAgPGRpdj5NZXRob2Q8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PiR7c2hhcmUuc2VsZWN0ZWREZWxpdmVyeS5kZWxpdmVyeVR5cGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByaWNlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPiR7c2hhcmUuc2VsZWN0ZWREZWxpdmVyeS53ZWVrbHlDb3N0fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+cGVyIHdlZWs8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+ICBcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgJHtncm91cGRyb3BvZmZ9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS1yb3dcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PkFkZHJlc3M8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PiR7c2hhcmUuc2VsZWN0ZWREZWxpdmVyeS5hZGRyZXNzfTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaXRlbS1yb3dcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PlBpY2stdXAgSG91cnM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj4ke3NoYXJlLnNlbGVjdGVkRGVsaXZlcnkuZGF5T2ZXZWVrfSA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPiR7c2hhcmUuc2VsZWN0ZWREZWxpdmVyeS5zdGFydHRpbWV9IC0gJHtzaGFyZS5zZWxlY3RlZERlbGl2ZXJ5LmVuZHRpbWV9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5EYXRlcyBTZWxlY3RlZCBmb3IgRGVsaXZlcnk8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpdGVtLXJvd1wiPlxuICAgICAgICAgICAgICAgIDxkaXY+TnVtYmVyIG9mIHdlZWtzIHNlbGVjdGVkPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj4ke3NoYXJlLndlZWtzU2VsZWN0ZWR9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwaWNrdXAtZGF0ZXNcIj5cbiAgICAgICAgICAgICAgICAke3NoYXJlLnNlbGVjdGVkRGF0ZXMuam9pbignJyl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICR7c2tpcERheXN9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzaGFyZS10b3RhbFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNlY3Rpb24tdGl0bGVcIj5TaGFyZSBUb3RhbDwvZGl2PlxuICAgICAgICAgICAgJHtzZWFzb25hbFRvdGFsfVxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PldlZWtseSBTaGFyZSBQcmljZSA6PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj4ke3NoYXJlLndlZWtseVByaWNlfTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+TnVtYmVyIG9mIFdlZWtzIDo8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PiR7c2hhcmUud2Vla3NTZWxlY3RlZH08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlNoYXJlIFRvdGFsIDo8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PiR7c2hhcmUudG90YWx9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YFxufSApLmpvaW4oJycpXG5cbnJldHVybiBgYCArXG5gPGRpdiBkYXRhLWpzPVwiY29udGFpbmVyXCIgY2xhc3M9XCJTdW1tYXJ5ICR7cC5jb250YWluZXJDbGFzc31cIj5cbiAgICA8ZGl2IGNsYXNzPVwic3VtbWFyaWVzXCI+XG4gICAgICAgICR7c2hhcmVzfVxuICAgIDwvZGl2PlxuICAgIDxkaXYgZGF0YS1qcz1cImdyYW5kVG90YWxcIiBjbGFzcz1cImdyYW5kLXRvdGFsXCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInBheW1lbnRcIj4gICAgXG4gICAgICAgIDxoMj5TZWxlY3QgYSBtZXRob2Qgb2YgcGF5bWVudDwvaDI+XG4gICAgICAgIDxkaXYgZGF0YS1qcz1cInBheW1lbnRPcHRpb25zXCI+PC9kaXY+XG4gICAgICAgIDxmb3JtIGRhdGEtanM9XCJwYXltZW50Rm9ybVwiIGNsYXNzPVwiaGlkZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNyZWRpdC1jYXJkLWluZm9cIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsIG51bWJlclwiPkNhcmQgTnVtYmVyPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGRhdGEtanM9XCJudW1iZXJcIiBpZD1cIm51bWJlclwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBmb3JtLWNvbnRyb2wtZmVlZGJhY2sgaGlkZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2PlZpc2EsIE1hc3RlckNhcmQsIEFtZXJpY2FuIEV4cHJlc3MsIEpDQiwgRGlzY292ZXIsIGFuZCBEaW5lcnMgQ2x1YiBhcmUgYWNjZXB0ZWQ8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV4cGlyYXRpb25cIj5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+RXhwIE1vbnRoPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBkYXRhLWpzPVwiZXhwX21vbnRoXCIgbWF4bGVuZ3RoPVwiMlwiIHNpemU9XCIzXCIgcGxhY2Vob2xkZXI9XCJtbVwiIGlkPVwiZXhwX21vbnRoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBmb3JtLWNvbnRyb2wtZmVlZGJhY2sgaGlkZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPkV4cCBZZWFyPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBkYXRhLWpzPVwiZXhwX3llYXJcIiBtYXhsZW5ndGg9XCI0XCIgc2l6ZT1cIjRcIiBwbGFjZWhvbGRlcj1cInl5eXlcIiBpZD1cImV4cF95ZWFyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBmb3JtLWNvbnRyb2wtZmVlZGJhY2sgaGlkZVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPkNWQzwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImN2Y1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgZGF0YS1qcz1cImN2Y1wiIG1heGxlbmd0aD1cIjRcIiBzaXplPVwiNFwiIGlkPVwiY3ZjXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGZvcm0tY29udHJvbC1mZWVkYmFjayBoaWRlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1yb3dcIj5cbiAgICAgICAgICAgIDxidXR0b24gZGF0YS1qcz1cInNpZ251cEJ0blwiIGNsYXNzPVwiZGlzYWJsZWRcIj5CZWNvbWUgYSBNZW1iZXIhPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+YFxufSIsIm1vZHVsZS5leHBvcnRzID0gcCA9PlxuYDxkaXY+XG4gICAgPGRpdj5CZWNhdXNlIHlvdSBoYXZlIHNlbGVjdGVkIGhvbWUgZGVsaXZlcnksIGFuZCB5b3VyIGFkZHJlc3MgY291bGQgbm90IGJlIHZhbGlkYXRlZCBhdXRvbWF0aWNhbGx5LCB3ZSB3b3VsZCBsaWtlIHlvdSB0byB2ZXJpZnkgeW91ciBhZGRyZXNzIGFuZCB6aXAgY29kZTwvZGl2PlxuICAgIDxmb3JtIGNsYXNzPVwiZm9ybS1ob3Jpem9udGFsXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjb2wtc20tMyBjb250cm9sLWxhYmVsXCI+QWRkcmVzczwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwidmVyaWZpZWRBZGRyZXNzXCIgdmFsdWU9XCIke3AuYWRkcmVzc31cIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBpZD1cInppcENvZGVGb3JtR3JvdXBcIiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImNvbC1zbS0zIGNvbnRyb2wtbGFiZWxcIj5aaXAgQ29kZTwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTlcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImZvcm0tY29udHJvbFwiIGlkPVwidmVyaWZpZWRaaXBDb2RlXCIgdmFsdWU9XCIke3AuemlwQ29kZX1cIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBpZD1cInppcENvZGVIZWxwQmxvY2tcIiBjbGFzcz1cImhlbHAtYmxvY2sgaGlkZVwiPkludmFsaWQgWmlwIENvZGUgZm9yIEhvbWUgRGVsaXZlcnk8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9mb3JtPlxuPC9kaXY+YCIsImNvbnN0IEN1c3RvbUNvbnRlbnQgPSByZXF1aXJlKCcuL3V0aWwvQ3VzdG9tQ29udGVudCcpXG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIEN1c3RvbUNvbnRlbnQsIHtcblxuICAgIHRhYmxlczogWyBcbiAgICAgICAgeyBuYW1lOiAnU3RhZmYnLCBlbDogJ3N0YWZmJywgdGVtcGxhdGU6ICdzdGFmZlByb2ZpbGUnIH1cbiAgICBdLFxuXG4gICAgdGVtcGxhdGVzOiB7XG4gICAgICAgIHN0YWZmUHJvZmlsZTogcmVxdWlyZSgnLi90ZW1wbGF0ZXMvU3RhZmZQcm9maWxlJylcbiAgICB9XG5cbn0gKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgQ3VzdG9tZXI6IHJlcXVpcmUoJy4uL21vZGVscy9DdXN0b21lcicpLFxuICAgIERlbGl2ZXJ5OiByZXF1aXJlKCcuLi9tb2RlbHMvRGVsaXZlcnknKSxcbiAgICBUcmFuc2FjdGlvbnM6IHJlcXVpcmUoJy4uL21vZGVscy9Dc2FUcmFuc2FjdGlvbicpLFxuXG4gICAgVmlld3M6IHtcblxuICAgICAgICBwZXJzb25hbEluZm8oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiBPYmplY3QuY3JlYXRlKCB0aGlzLk1vZGVsICkuY29uc3RydWN0b3IoIHsgfSwge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiByZXF1aXJlKCcuLi8uLi8uLi9tb2RlbHMvQWNjb3VudEluZm8nKS5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBtZXRhOiB7IG5vUGxhY2Vob2xkZXI6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6ICdhY2NvdW50SW5mbydcbiAgICAgICAgICAgICAgICB9ICksXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVPcHRzKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZzogJ1lvdXIgQWNjb3VudCBJbmZvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdFRleHQ6ICdVcGRhdGUnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsQnRuQ2xpY2soKSB7IHRoaXMuZW1pdCgnY2FuY2VsJykgfSxcbiAgICAgICAgICAgICAgICB0b2FzdFN1Y2Nlc3M6ICdBY2NvdW50IHVwZGF0ZWQhJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9LFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgIGFjY291bnRJbmZvQnRuOiAnY2xpY2snLFxuICAgICAgICBiYWNrQnRuOiAnY2xpY2snLFxuICAgICAgICBvcmRlcnNCdG46ICdjbGljaycsXG4gICAgICAgIHBheW1lbnRCdG46ICdjbGljaycsXG5cbiAgICAgICAgdmlld3M6IHtcbiAgICAgICAgICAgIHBlcnNvbmFsSW5mbzogW1xuICAgICAgICAgICAgICAgIFsgJ3Bvc3RlZCcsIGZ1bmN0aW9uKCByZXNwb25zZSApIHsgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyggcmVzcG9uc2UgKS5mb3JFYWNoKCBrZXkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMudXNlci5oYXMoIGtleSApICkgdGhpcy51c2VyLnNldCgga2V5LCByZXNwb25zZVsga2V5IF0gKVxuICAgICAgICAgICAgICAgICAgICB9IClcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIucGVyc29uLmRhdGEubmFtZSA9IHJlc3BvbnNlLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEN1c3RvbWVyLnBlcnNvbi5kYXRhLmVtYWlsID0gcmVzcG9uc2UuZW1haWxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEN1c3RvbWVyLm1lbWJlci5kYXRhLnBob25lbnVtYmVyID0gcmVzcG9uc2UucGhvbmVudW1iZXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEN1c3RvbWVyLm1lbWJlci5kYXRhLmFkZHJlc3MgPSByZXNwb25zZS5hZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDdXN0b21lci5tZW1iZXIuZGF0YS5leHRyYWFkZHJlc3MgPSByZXNwb25zZS5leHRyYWFkZHJlc3NcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEN1c3RvbWVyLm1lbWJlci5kYXRhLnppcGNvZGUgPSByZXNwb25zZS56aXBjb2RlXG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclN1YnZpZXdzKClcbiAgICAgICAgICAgICAgICB9IF0sXG4gICAgICAgICAgICAgICAgWyAnY2FuY2VsJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZUVsKCB0aGlzLmVscy5hY2NvdW50SW5mbyApXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLnNob3dFbCggdGhpcy5lbHMuYWNjb3VudE5hdiApIClcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICAgICAgICAgICAgICB9IF1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBhZGRyZXNzU2VsZWN0ZWQoKSB7XG4gICAgICAgIGNvbnN0IHBsYWNlID0gdGhpcy5hZGRyZXNzQXV0b0NvbXBsZXRlLmdldFBsYWNlKCksXG4gICAgICAgICAgICB6aXBjb2RlID0gcGxhY2UuYWRkcmVzc19jb21wb25lbnRzLmZpbmQoIGNvbXBvbmVudCA9PiBjb21wb25lbnQudHlwZXNbMF0gPT09IFwicG9zdGFsX2NvZGVcIiApLnNob3J0X25hbWVcblxuICAgICAgICB0aGlzLnZpZXdzLnBlcnNvbmFsSW5mby5tb2RlbC5zZXQoICd6aXBjb2RlJywgemlwY29kZSApXG4gICAgfSxcblxuICAgIGNsZWFyU3Vidmlld3MoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCggW1xuICAgICAgICAgICAgdGhpcy5oaWRlRWwoIHRoaXMuZWxzLmFjY291bnRJbmZvICksXG4gICAgICAgICAgICB0aGlzLmhpZGVFbCggdGhpcy5lbHMub3JkZXJJbmZvICksXG4gICAgICAgICAgICB0aGlzLnZpZXdzLmFjY291bnRQYXltZW50cy5oaWRlKClcbiAgICAgICAgXSApXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdzLnNoYXJlUGF0Y2gucmVzZXQoKVxuICAgICAgICAgICAgdGhpcy52aWV3cy5vcmRlck9wdGlvbnMuZWxzLmVkaXRTdW1tYXJ5LmNsYXNzTGlzdC5hZGQoJ2ZkLWhpZGRlbicpXG4gICAgICAgICAgICB0aGlzLnZpZXdzLndlZWtPcHRpb25zLmVscy5lZGl0U3VtbWFyeS5jbGFzc0xpc3QuYWRkKCdmZC1oaWRkZW4nKVxuICAgICAgICAgICAgdGhpcy5lbHMuYmFja0J0bi5jbGFzc0xpc3QuYWRkKCdmZC1oaWRkZW4nKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0VsKCB0aGlzLmVscy5hY2NvdW50TmF2IClcbiAgICAgICAgfSApXG4gICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgfSxcblxuICAgIGdlb2xvY2F0ZSgpIHtcbiAgICAgICAgaWYoIG5hdmlnYXRvci5nZW9sb2NhdGlvbiApIHtcbiAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oIHBvc2l0aW9uID0+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuYWRkcmVzc0F1dG9Db21wbGV0ZS5zZXRCb3VuZHMoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBnb29nbGUubWFwcy5DaXJjbGUoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogcG9zaXRpb24uY29vcmRzLmFjY3VyYWN5IH0gKVxuICAgICAgICAgICAgICAgICAgICAuZ2V0Qm91bmRzKCkgKVxuXG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5pdEF1dG9jb21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5hZGRyZXNzQXV0b0NvbXBsZXRlID0gbmV3IGdvb2dsZS5tYXBzLnBsYWNlcy5BdXRvY29tcGxldGUoIHRoaXMudmlld3MucGVyc29uYWxJbmZvLmVscy5hZGRyZXNzLCB7IHR5cGVzOiBbJ2FkZHJlc3MnXSB9IClcblxuICAgICAgICB0aGlzLmFkZHJlc3NBdXRvQ29tcGxldGUuYWRkTGlzdGVuZXIoICdwbGFjZV9jaGFuZ2VkJywgdGhpcy5hZGRyZXNzU2VsZWN0ZWQuYmluZCh0aGlzKSApXG4gICAgfSxcblxuICAgIG9uQWNjb3VudEluZm9CdG5DbGljaygpIHtcbiAgICAgICAgdGhpcy5oaWRlRWwoIHRoaXMuZWxzLmFjY291bnROYXYgKVxuICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbHMuYmFja0J0bi5jbGFzc0xpc3QucmVtb3ZlKCdmZC1oaWRkZW4nKVxuICAgICAgICAgICAgdGhpcy5wb3B1bGF0ZUFjY291bnRGaWVsZHMoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0VsKCB0aGlzLmVscy5hY2NvdW50SW5mbyApXG4gICAgICAgIH0gKVxuICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgIH0sXG5cbiAgICBvbkJhY2tCdG5DbGljaygpIHsgdGhpcy5jbGVhclN1YnZpZXdzKCkgfSxcblxuICAgIG9uTmF2aWdhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvdygpXG4gICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLmNsZWFyU3Vidmlld3MoKSApXG4gICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLnZpZXdzLnNlYXNvbnMudXBkYXRlKCB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIgKSApXG4gICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgfSxcblxuICAgIG9uT3JkZXJzQnRuQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuaGlkZUVsKCB0aGlzLmVscy5hY2NvdW50TmF2IClcbiAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuc2hvd0VsKCB0aGlzLmVscy5vcmRlckluZm8gKSApXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdzLm9yZGVyT3B0aW9ucy5oaWRlU3luYygpXG4gICAgICAgICAgICB0aGlzLnZpZXdzLndlZWtPcHRpb25zLmhpZGVTeW5jKClcbiAgICAgICAgICAgIHRoaXMuZWxzLmJhY2tCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmQtaGlkZGVuJylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdzLnNlYXNvbnMudXBkYXRlKCB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIgKVxuICAgICAgICB9IClcbiAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICB9LFxuXG4gICAgb25QYXltZW50QnRuQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuaGlkZUVsKCB0aGlzLmVscy5hY2NvdW50TmF2IClcbiAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZWxzLmJhY2tCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmQtaGlkZGVuJylcbiAgICAgICAgICAgIHRoaXMudmlld3MuYWNjb3VudFBheW1lbnRzLmNsZWFyKClcbiAgICAgICAgICAgIHRoaXMudmlld3MuYWNjb3VudFBheW1lbnRzLnZpZXdzLnNlYXNvbnMudXBkYXRlKCB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIgKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld3MuYWNjb3VudFBheW1lbnRzLnNob3coKVxuICAgICAgICB9IClcbiAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICB9LFxuXG4gICAgcGF0Y2hNZW1iZXJTaGFyZSgpIHtcbiAgICAgICAgY29uc3Qgd2Vla1BhdGNoID0gdGhpcy52aWV3cy53ZWVrT3B0aW9ucy5nZXRQYXRjaERhdGEoKVxuXG4gICAgICAgIGxldCB3ZWVrRGV0YWlsID0gYGAsXG4gICAgICAgICAgICBlbWFpbFRvID0gWyB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIucGVyc29uLmRhdGEuZW1haWwgXVxuXG4gICAgICAgIGlmKCB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIucGVyc29uLmRhdGEuc2Vjb25kYXJ5RW1haWwgKSBlbWFpbFRvLnB1c2goIHRoaXMuc2VsZWN0ZWRDdXN0b21lci5wZXJzb24uZGF0YS5zZWNvbmRhcnlFbWFpbCApXG5cbiAgICAgICAgaWYoIHdlZWtQYXRjaC5hZGRlZERhdGVzLmxlbmd0aCB8fCB3ZWVrUGF0Y2gucmVtb3ZlZERhdGVzLmxlbmd0aCApIHsgd2Vla0RldGFpbCArPSBgICggYCB9XG5cbiAgICAgICAgaWYoIHdlZWtQYXRjaC5hZGRlZERhdGVzLmxlbmd0aCApIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gd2Vla1BhdGNoLmFkZGVkRGF0ZXMubWFwKCBkYXRlID0+IGRhdGUuc2xpY2UoNSkgKS5qb2luKCcsJylcbiAgICAgICAgICAgIHdlZWtEZXRhaWwgKz0gYEFkZGVkIFdlZWtzOiAke2Rlc2NyaXB0aW9ufWBcbiAgICAgICAgICAgIGlmKCB3ZWVrUGF0Y2gucmVtb3ZlZERhdGVzLmxlbmd0aCApIHsgd2Vla0RldGFpbCArPSBgLCBgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYoIHdlZWtQYXRjaC5yZW1vdmVkRGF0ZXMubGVuZ3RoICkge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB3ZWVrUGF0Y2gucmVtb3ZlZERhdGVzLm1hcCggZGF0ZSA9PiBkYXRlLnNsaWNlKDUpICkuam9pbignLCcpXG4gICAgICAgICAgICB3ZWVrRGV0YWlsICs9IGBSZW1vdmVkIFdlZWtzOiAke2Rlc2NyaXB0aW9ufWBcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYoIHdlZWtQYXRjaC5hZGRlZERhdGVzLmxlbmd0aCB8fCB3ZWVrUGF0Y2gucmVtb3ZlZERhdGVzLmxlbmd0aCApIHsgd2Vla0RldGFpbCArPSBgICkgYCB9XG5cbiAgICAgICAgdGhpcy5YaHIoIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLm1lbWJlclNoYXJlSWQsXG4gICAgICAgICAgICBtZXRob2Q6ICdwYXRjaCcsXG4gICAgICAgICAgICByZXNvdXJjZTogJ21lbWJlci1vcmRlcicsXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSgge1xuICAgICAgICAgICAgICAgIGFkanVzdG1lbnQ6IHRoaXMudmlld3Muc2hhcmVQYXRjaC5nZXRQYXRjaERhdGEoKSxcbiAgICAgICAgICAgICAgICBtZW1iZXJTaGFyZUlkOiB0aGlzLm1lbWJlclNoYXJlSWQsXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5zZWxlY3RlZEN1c3RvbWVyLnBlcnNvbi5kYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgb3JkZXJPcHRpb25zOiB0aGlzLnZpZXdzLm9yZGVyT3B0aW9ucy5nZXRQYXRjaERhdGEoKSxcbiAgICAgICAgICAgICAgICBwcmV2aW91c0JhbGFuY2U6IHRoaXMudmlld3Muc2hhcmVQYXRjaC5iYWxhbmNlLFxuICAgICAgICAgICAgICAgIHNoYXJlTGFiZWw6IHRoaXMuc2VsZWN0ZWRTaGFyZS5sYWJlbCxcbiAgICAgICAgICAgICAgICB3ZWVrT3B0aW9uczogd2Vla1BhdGNoLmFsbFJlbW92ZWQsXG4gICAgICAgICAgICAgICAgd2Vla0RldGFpbCxcbiAgICAgICAgICAgICAgICB0bzogZW1haWxUb1xuICAgICAgICAgICAgfSApXG4gICAgICAgIH0gKVxuICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ3N1Y2Nlc3MnLCAnT3JkZXIgVXBkYXRlZCEgWW91IHdpbGwgcmVjZWl2ZSBhIGNvbmZpcm1hdGlvbiBlbWFpbCBzaG9ydGx5LicgKVxuXG4gICAgICAgICAgICBPYmplY3Qua2V5cyggdGhpcy52aWV3cyApLmZvckVhY2goIGtleSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMudmlld3NbIGtleSBdXG4gICAgICAgICAgICAgICAgaWYoIHZpZXcuZWxzLmVkaXRTdW1tYXJ5ICYmICF2aWV3LmlzSGlkZGVuKCB2aWV3LmVscy5lZGl0U3VtbWFyeSApICkgdmlldy5lbHMuZWRpdFN1bW1hcnkuY2xhc3NMaXN0LmFkZCgnZmQtaGlkZGVuJylcbiAgICAgICAgICAgIH0gKVxuXG4gICAgICAgICAgICB0aGlzLnZpZXdzLnNlYXNvbnMuZWxzLmNvbnRhaW5lci5zY3JvbGxJbnRvVmlldyggeyBiZWhhdmlvcjogJ3Ntb290aCcgfSApXG4gICAgICAgICAgICB0aGlzLnZpZXdzLnNlYXNvbnMuc2VsZWN0KCB0aGlzLm1lbWJlclNoYXJlSWQgKVxuICAgICAgICB9IClcbiAgICAgICAgLmNhdGNoKCBlID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCBlLnN0YWNrIHx8IGUgKVxuICAgICAgICAgICAgdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ2Vycm9yJywgJ1VwZGF0ZSBGYWlsZWQuIFBsZWFzZSBjb250YWN0IHVzIGZvciBhc3Npc3RhbmNlLicgKVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgcG9wdWxhdGVBY2NvdW50RmllbGRzKCkge1xuICAgICAgICB0aGlzLnZpZXdzLnBlcnNvbmFsSW5mby5jbGVhcigpXG5cbiAgICAgICAgdGhpcy52aWV3cy5wZXJzb25hbEluZm8ubW9kZWwuc2V0KCAnb2xkWmlwY29kZScsIHRoaXMuc2VsZWN0ZWRDdXN0b21lci5tZW1iZXIuZGF0YS56aXBjb2RlIHx8ICcnIClcblxuICAgICAgICBPYmplY3Qua2V5cyggdGhpcy5zZWxlY3RlZEN1c3RvbWVyLnBlcnNvbi5kYXRhICkuZm9yRWFjaCgga2V5ID0+IHtcbiAgICAgICAgICAgIGlmKCB0aGlzLnZpZXdzLnBlcnNvbmFsSW5mby5lbHNbIGtleSBdICkgdGhpcy52aWV3cy5wZXJzb25hbEluZm8uZWxzWyBrZXkgXS52YWx1ZSA9IHRoaXMuc2VsZWN0ZWRDdXN0b21lci5wZXJzb24uZGF0YVsga2V5IF1cbiAgICAgICAgfSApXG5cbiAgICAgICAgT2JqZWN0LmtleXMoIHRoaXMuc2VsZWN0ZWRDdXN0b21lci5tZW1iZXIuZGF0YSApLmZvckVhY2goIGtleSA9PiB7XG4gICAgICAgICAgICBpZiggdGhpcy52aWV3cy5wZXJzb25hbEluZm8uZWxzWyBrZXkgXSApIHRoaXMudmlld3MucGVyc29uYWxJbmZvLmVsc1sga2V5IF0udmFsdWUgPSB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIubWVtYmVyLmRhdGFbIGtleSBdXG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBwb3N0UmVuZGVyKCkge1xuICAgICAgICB0aGlzLkN1c3RvbWVyLmdldCggeyBxdWVyeTogeyBlbWFpbDogdGhpcy51c2VyLmdldCgnZW1haWwnKSwgJ2lkJzogeyBvcGVyYXRpb246ICdqb2luJywgdmFsdWU6IHsgdGFibGU6ICdtZW1iZXInLCBjb2x1bW46ICdwZXJzb25pZCcgfSB9IH0gfSApXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXN0b21lciA9IHRoaXMuQ3VzdG9tZXIuZGF0YVswXVxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEN1c3RvbWVyID0gY3VzdG9tZXJcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy52aWV3cy5vcmRlck9wdGlvbnMuaGlkZSgpXG4gICAgICAgICAgICB0aGlzLnZpZXdzLndlZWtPcHRpb25zLmhpZGUoKVxuICAgICAgICAgICAgdGhpcy52aWV3cy5zaGFyZVBhdGNoLnJlc2V0KCk7XG5cbiAgICAgICAgICAgICggd2luZG93Lmdvb2dsZSAmJiB3aW5kb3cuZ29vZ2xlLm1hcHMgKSBcbiAgICAgICAgICAgICAgICA/IHRoaXMuaW5pdEF1dG9jb21wbGV0ZSgpXG4gICAgICAgICAgICAgICAgOiB3aW5kb3cuaW5pdEdNYXAgPSAoKSA9PiB0aGlzLmluaXRBdXRvY29tcGxldGUoKVxuXG4gICAgICAgICAgICB0aGlzLnZpZXdzLnNlYXNvbnMub24oICdzZWxlY3RlZCcsIGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld3Muc2hhcmVQYXRjaC5yZXNldCgpXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFNoYXJlID0gZGF0YS5zaGFyZVxuICAgICAgICAgICAgICAgIHRoaXMubWVtYmVyU2hhcmVJZCA9IHRoaXMuc2VsZWN0ZWRTaGFyZS5tZW1iZXJzaGFyZWlkXG5cbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbCggW1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkRlbGl2ZXJ5LmdldCgge1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW1iZXJzaGFyZWlkOiBkYXRhLnNoYXJlLm1lbWJlcnNoYXJlaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsaXZlcnlvcHRpb25pZDogeyBvcGVyYXRpb246ICdqb2luJywgdmFsdWU6IHsgdGFibGU6ICdkZWxpdmVyeW9wdGlvbicsIGNvbHVtbjogJ2lkJyB9IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBkcm9wb2ZmaWQ6IHsgb3BlcmF0aW9uOiAnbGVmdEpvaW4nLCB2YWx1ZTogeyB0YWJsZTogJ2dyb3VwZHJvcG9mZicsIGNvbHVtbjogJ2lkJyB9IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSApLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLlRyYW5zYWN0aW9ucy5nZXQoIHsgcXVlcnk6IHsgbWVtYmVyU2hhcmVJZDogZGF0YS5zaGFyZS5tZW1iZXJzaGFyZWlkIH0gfSApXG4gICAgICAgICAgICAgICAgXSApXG4gICAgICAgICAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmFsYW5jZSA9IHRoaXMuVHJhbnNhY3Rpb25zLmdldEJhbGFuY2UoKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdzLnNlYXNvbnMudXBkYXRlQmFsYW5jZU5vdGljZSggYmFsYW5jZSApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld3Muc2hhcmVQYXRjaC5iYWxhbmNlID0gYmFsYW5jZVxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKCBkYXRhLCB7IGRlbGl2ZXJ5OiB0aGlzLkRlbGl2ZXJ5IH0gKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdzLm9yZGVyT3B0aW9ucy51cGRhdGUoIGRhdGEgKS50aGVuKCAoKSA9PiB0aGlzLnZpZXdzLnNoYXJlUGF0Y2guc2V0T3JpZ2luYWxXZWVrbHlQcmljZSggdGhpcy52aWV3cy5vcmRlck9wdGlvbnMub3JpZ2luYWxXZWVrbHlQcmljZSApICkuY2F0Y2godGhpcy5FcnJvcilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3cy53ZWVrT3B0aW9ucy51cGRhdGUoIGRhdGEgKS50aGVuKCAoKSA9PiB0aGlzLnZpZXdzLnNoYXJlUGF0Y2guc2V0V2Vla3NBZmZlY3RlZCggdGhpcy52aWV3cy53ZWVrT3B0aW9ucy5nZXRXZWVrc0FmZmVjdGVkKCkgKSApLmNhdGNoKHRoaXMuRXJyb3IpXG4gICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICB9IClcblxuICAgICAgICAgICAgdGhpcy52aWV3cy5zZWFzb25zLm9uKCAncGF5QmFsYW5jZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdzLnNoYXJlUGF0Y2gucmVzZXQoKVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlkZUVsKCB0aGlzLmVscy5vcmRlckluZm8gKVxuICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLnZpZXdzLmFjY291bnRQYXltZW50cy5zaG93KCkgKVxuICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLnZpZXdzLmFjY291bnRQYXltZW50cy51cGRhdGUoIGN1c3RvbWVyLCB0aGlzLnNlbGVjdGVkU2hhcmUsIHRoaXMubWVtYmVyU2hhcmVJZCApIClcbiAgICAgICAgICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgICAgICAgICAgfSApXG5cbiAgICAgICAgICAgIHRoaXMudmlld3Mub3JkZXJPcHRpb25zLm9uKCAnZGVsaXZlcnlDaGFuZ2VkJywgZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cy5zaGFyZVBhdGNoLnNldFdlZWtzQWZmZWN0ZWQoIHRoaXMudmlld3Mud2Vla09wdGlvbnMuZ2V0V2Vla3NBZmZlY3RlZCgpIClcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdzLnNoYXJlUGF0Y2gub25XZWVrc1Jlc2V0KClcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdzLndlZWtPcHRpb25zLnVwZGF0ZURlbGl2ZXJ5KCBkYXRhIClcbiAgICAgICAgICAgIH0gKVxuXG4gICAgICAgICAgICB0aGlzLnZpZXdzLm9yZGVyT3B0aW9ucy5vbiggJ3Jlc2V0JywgbW9kZWwgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld3Mud2Vla09wdGlvbnMudXBkYXRlKCBtb2RlbCApXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cy5zaGFyZVBhdGNoLnJlc2V0KClcbiAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnZpZXdzLndlZWtPcHRpb25zLm9uKCAncmVzZXQnLCBtb2RlbCA9PiB0aGlzLnZpZXdzLnNoYXJlUGF0Y2gub25XZWVrc1Jlc2V0KCkgKVxuXG4gICAgICAgICAgICB0aGlzLnZpZXdzLm9yZGVyT3B0aW9ucy5vbiggJ2FkanVzdG1lbnQnLCBkYXRhID0+IHRoaXMudmlld3Muc2hhcmVQYXRjaC5vbk9wdGlvbnNVcGRhdGUoIGRhdGEgKSApXG4gICAgICAgICAgICB0aGlzLnZpZXdzLndlZWtPcHRpb25zLm9uKCAnYWRqdXN0bWVudCcsIGRhdGEgPT4gdGhpcy52aWV3cy5zaGFyZVBhdGNoLm9uV2Vla1VwZGF0ZSggZGF0YSApIClcblxuICAgICAgICAgICAgdGhpcy52aWV3cy5zaGFyZVBhdGNoLm9uKCAncGF0Y2hNZW1iZXJTaGFyZScsICgpID0+IHRoaXMucGF0Y2hNZW1iZXJTaGFyZSgpIClcbiAgICAgICAgfSApXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgcmVxdWlyZXNMb2dpbjogdHJ1ZVxuXG59ICkiLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHt9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCB7XG5cbiAgICBDdXN0b21lcjogcmVxdWlyZSgnLi4vbW9kZWxzL0N1c3RvbWVyJyksXG4gICAgVHJhbnNhY3Rpb25zOiByZXF1aXJlKCcuLi9tb2RlbHMvQ3NhVHJhbnNhY3Rpb24nKSxcblxuICAgIFZpZXdzOiB7XG4gICAgICAgIGNyZWRpdENhcmQoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiBPYmplY3QuY3JlYXRlKCB0aGlzLk1vZGVsICkuY29uc3RydWN0b3IoIHsgfSwge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiByZXF1aXJlKCcuLi8uLi8uLi9tb2RlbHMvQ3JlZGl0Q2FyZCcpLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIG1ldGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vUGxhY2Vob2xkZXI6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6ICdwYXltZW50J1xuICAgICAgICAgICAgICAgIH0gKSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZU9wdHMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6ICdQbGVhc2UgZW50ZXIgeW91ciBjcmVkaXQgY2FyZCBpbmZvcm1hdGlvbi4nXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvYXN0U3VjY2VzczogJ1RoYW5rIHlvdSBmb3IgeW91ciBwYXltZW50ISBZb3Ugd2lsbCByZWNlaXZlIGFuIGVtYWlsIHJlY2VpcHQgc2hvcnRseS4nXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICBjcmVkaXRDYXJkOiBbXG4gICAgICAgICAgICAgICAgWyAncG9zdGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld3Muc2Vhc29ucy5zZWxlY3QoIHRoaXMubWVtYmVyU2hhcmVJZCApXG4gICAgICAgICAgICAgICAgfSBdXG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZWxzLnRvdGFsLnRleHRDb250ZW50ID0gJydcbiAgICAgICAgdGhpcy5lbHMuY2NXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2ZkLWhpZGRlbicpXG4gICAgfSxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuQ3VzdG9tZXIuZ2V0KCB7IHF1ZXJ5OiB7IGVtYWlsOiB0aGlzLnVzZXIuZ2V0KCdlbWFpbCcpLCAnaWQnOiB7IG9wZXJhdGlvbjogJ2pvaW4nLCB2YWx1ZTogeyB0YWJsZTogJ21lbWJlcicsIGNvbHVtbjogJ3BlcnNvbmlkJyB9IH0gfSB9IClcbiAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGN1c3RvbWVyID0gdGhpcy5DdXN0b21lci5kYXRhWzBdXG4gICAgICAgICAgICBpZiggIWN1c3RvbWVyICkgcmV0dXJuXG5cbiAgICAgICAgICAgIHRoaXMudmlld3MuY3JlZGl0Q2FyZC5tb2RlbC5zZXQoICdtZW1iZXInLCBjdXN0b21lci5tZW1iZXIuZGF0YSApXG4gICAgICAgICAgICB0aGlzLnZpZXdzLmNyZWRpdENhcmQubW9kZWwuc2V0KCAncGVyc29uJywgY3VzdG9tZXIucGVyc29uLmRhdGEgKVxuXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIgPSBjdXN0b21lclxuXG4gICAgICAgICAgICB0aGlzLnZpZXdzLnNlYXNvbnMub24oICdzZWxlY3RlZCcsIGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRTaGFyZSA9IGRhdGEuc2hhcmVcbiAgICAgICAgICAgICAgICB0aGlzLm1lbWJlclNoYXJlSWQgPSB0aGlzLnNlbGVjdGVkU2hhcmUubWVtYmVyc2hhcmVpZFxuICAgICAgICAgICAgICAgIHRoaXMuVHJhbnNhY3Rpb25zLmdldCggeyBxdWVyeTogeyBtZW1iZXJTaGFyZUlkOiB0aGlzLm1lbWJlclNoYXJlSWQgfSB9IClcbiAgICAgICAgICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdzLmNyZWRpdENhcmQubW9kZWwuc2V0KCAnc2hhcmUnLCB0aGlzLnNlbGVjdGVkU2hhcmUgKVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFsYW5jZSA9IHRoaXMuVHJhbnNhY3Rpb25zLmdldEJhbGFuY2UoKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdzLmNyZWRpdENhcmQubW9kZWwuc2V0KCAndG90YWwnLCB0aGlzLmJhbGFuY2UgKVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxzLnRvdGFsLnRleHRDb250ZW50ID0gYFJlbWFpbmluZyBCYWxhbmNlOiAke3RoaXMuQ3VycmVuY3kuZm9ybWF0KCB0aGlzLmJhbGFuY2UgKX1gXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2xpZGVJbiggdGhpcy5lbHMudG90YWwsICdyaWdodCcgKVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxzLmNjV3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKCAnZmQtaGlkZGVuJywgdGhpcy5iYWxhbmNlIDw9IDAgKVxuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5iYWxhbmNlID4gMCApIHRoaXMuc2xpZGVJbiggdGhpcy5lbHMuY2NXcmFwcGVyLCAncmlnaHQnIClcbiAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgICAgICAgICAgfSApXG5cbiAgICAgICAgICAgIHRoaXMudmlld3Muc2Vhc29ucy51cGRhdGUoIGN1c3RvbWVyIClcbiAgICAgICAgfSApXG4gICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgdXBkYXRlKCBjdXN0b21lciwgc2hhcmUsIG1lbWJlclNoYXJlSWQgKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDdXN0b21lciA9IGN1c3RvbWVyXG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdzLnNlYXNvbnMudXBkYXRlKCBjdXN0b21lciApXG4gICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLnZpZXdzLnNlYXNvbnMuc2VsZWN0KCBtZW1iZXJTaGFyZUlkICkgKVxuICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgIH1cblxufSApIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgUGlrYWRheTogcmVxdWlyZSgncGlrYWRheScpLFxuXG4gICAgVmlld3M6IHtcbiAgICAgICAgYnV0dG9uRmxvdygpIHtcbiAgICAgICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgICAgIG1vZGVsOiBPYmplY3QuY3JlYXRlKCB0aGlzLk1vZGVsICkuY29uc3RydWN0b3IoIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFsgeyBuYW1lOiAnYWRkVHJhbnNhY3Rpb24nLCBjbGFzczogJ3NhdmUtYnRuJywgdGV4dDogJ0FkZCBUcmFuc2FjdGlvbicsIG5leHRTdGF0ZTogJ2NvbmZpcm0nIH0gXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm06IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IG5hbWU6ICdjb25maXJtQWRkJywgY2xhc3M6ICdzYXZlLWJ0bicsIHRleHQ6ICdBcmUgeW91IFN1cmU/JywgZW1pdDogdHJ1ZSwgbmV4dFN0YXRlOiAnc3RhcnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FuY2VsJywgY2xhc3M6ICdyZXNldC1idG4nLCBuZXh0U3RhdGU6ICdzdGFydCcsIHRleHQ6ICdDYW5jZWwnLCBlbWl0OiB0cnVlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGFkZFRyYW5zYWN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5wb3N0KCBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgeyBtZW1iZXJTaGFyZUlkOiB0aGlzLm1lbWJlclNoYXJlSWQgfSxcbiAgICAgICAgICAgIHRoaXMubW9kZWwuYXR0cmlidXRlcy5yZWR1Y2UoICggbWVtbywgYXR0ciApID0+XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbiggbWVtbywgeyBbIGF0dHIgXTpcbiAgICAgICAgICAgICAgICAgICAgYXR0ciA9PT0gJ2NyZWF0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuTW9tZW50KCB0aGlzLmVsc1thdHRyXS52YWx1ZSwgJ01NTSBELCBZWVlZJyApLmZvcm1hdCgnWVlZWS1NTS1ERCcpIFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmVsc1thdHRyXS52YWx1ZVxuICAgICAgICAgICAgICAgIH0gKSxcbiAgICAgICAgICAgICAgICB7IH1cbiAgICAgICAgICAgICkgXG4gICAgICAgICkgKVxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ3N1Y2Nlc3MnLCAnVHJhbnNhY3Rpb24gYWRkZWQhJyApIClcbiAgICAgICAgLmNhdGNoKCBlID0+IHsgdGhpcy5FcnJvcihlKTsgdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ2Vycm9yJywgJ0Vycm9yIGFkZGluZyB0cmFuc2FjdGlvbicgKSB9IClcbiAgICB9LFxuXG4gICAgb25BZGRCbHVyKGUpIHtcbiAgICAgICAgaXNOYU4oIHBhcnNlRmxvYXQoIHRoaXMuZWxzLnZhbHVlLnZhbHVlICkgKVxuICAgICAgICAgICAgPyB0aGlzLmVscy5mb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgICAgICAgICA6IHRoaXMudmlld3MuYnV0dG9uRmxvdy5lbmFibGUoKVxuICAgIH0sXG5cbiAgICBvbkFkZEZvY3VzKGUpIHtcbiAgICAgICAgdGhpcy5lbHMuZm9ybS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIH0sXG5cbiAgICBvbkNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5yZXNldCgpXG4gICAgICAgIHRoaXMudmlld3MuYnV0dG9uRmxvdy5kaXNhYmxlKClcbiAgICB9LFxuXG4gICAgcG9zdFJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5hdHRyaWJ1dGVzLmZvckVhY2goIGF0dHIgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbHNbIGF0dHIgXS5hZGRFdmVudExpc3RlbmVyKCAnZm9jdXMnLCBlID0+IHRoaXMub25BZGRGb2N1cyhlKSApXG4gICAgICAgICAgICB0aGlzLmVsc1sgYXR0ciBdLmFkZEV2ZW50TGlzdGVuZXIoICdibHVyJywgZSA9PiB0aGlzLm9uQWRkQmx1cihlKSApXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMuY3JlYXRlZCA9IG5ldyB0aGlzLlBpa2FkYXkoIHsgZmllbGQ6IHRoaXMuZWxzLmNyZWF0ZWQsIGZvcm1hdDogJ01NTSBELCBZWVlZJyB9IClcblxuICAgICAgICB0aGlzLnZpZXdzLmJ1dHRvbkZsb3cub24oICdjb25maXJtQWRkQ2xpY2tlZCcsIGUgPT4gdGhpcy5hZGRUcmFuc2FjdGlvbigpIClcbiAgICAgICAgdGhpcy52aWV3cy5idXR0b25GbG93Lm9uKCAnY2FuY2VsQ2xpY2tlZCcsIGUgPT4gdGhpcy5vbkNhbmNlbCgpIClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5Nb21lbnQoKS5mb3JtYXQoJ01NTSBELCBZWVlZJylcbiAgICAgICAgdGhpcy5tb2RlbC5hdHRyaWJ1dGVzLmZvckVhY2goIGF0dHIgPT5cbiAgICAgICAgICAgIHRoaXMuZWxzWyBhdHRyIF0udmFsdWUgPVxuICAgICAgICAgICAgICAgIGF0dHIgPT09ICdhY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5tb2RlbC5hY3Rpb25zWzBdXG4gICAgICAgICAgICAgICAgICAgIDogYXR0ciA9PT0gJ2NyZWF0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5vd1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAnJyApXG5cbiAgICAgICAgdGhpcy5jcmVhdGVkLnNldE1vbWVudCggbm93IClcbiAgICB9LFxuXG4gICAgdGVtcGxhdGVPcHRzKCkge1xuICAgICAgICByZXR1cm4geyBhY3Rpb25zOiB0aGlzLm1vZGVsLmFjdGlvbnMgfVxuICAgIH0sXG5cbiAgICB1cGRhdGUoIG1lbWJlclNoYXJlSWQgKSB7XG4gICAgICAgIHRoaXMubWVtYmVyU2hhcmVJZCA9IG1lbWJlclNoYXJlSWRcbiAgICAgICAgdGhpcy5yZXNldCgpXG4gICAgfVxufSApXG4iLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHsgfSwgcmVxdWlyZSggJy4vX19wcm90b19fJyApLCB7XG5cbiAgICBldmVudHM6IHtcbiAgICAgICAgJ3NpZ25vdXRCdG4nOiAnY2xpY2snXG4gICAgfSxcblxuICAgIHRlbXBsYXRlT3B0czogeyBsb2dvOiAnL3N0YXRpYy9pbWcvbG9nby5naWYnIH0sXG5cbiAgICBpbnNlcnRpb25NZXRob2Q6ICdiZWZvcmUnLFxuXG4gICAgb25Vc2VyKCkge1xuICAgICAgICB0aGlzLmVscy5uYW1lLnRleHRDb250ZW50ID0gdGhpcy51c2VyLmdldCgnbmFtZScpXG4gICAgICAgIHRoaXMuZWxzLnVzZXJQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCAnaGlkZScgKVxuICAgIH0sXG4gICAgXG4gICAgcmVxdWlyZXNMb2dpbjogZmFsc2UsXG5cbiAgICBvblNpZ25vdXRCdG5DbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGBwYXRjaHdvcmtqd3Q9OyBkb21haW49JHt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9OyBwYXRoPS87IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVQ7YFxuICAgICAgICB0aGlzLnVzZXIuY2xlYXIoKVxuXG4gICAgICAgIHRoaXMudXNlci5zZXQoIHRoaXMudXNlci5kZWZhdWx0cygpIClcblxuICAgICAgICB0aGlzLmVscy5uYW1lLnRleHRDb250ZW50ID0gJydcbiAgICAgICAgdGhpcy5lbHMudXNlclBhbmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGUnKVxuXG4gICAgICAgIHRoaXMuZW1pdCgnc2lnbm91dCcpXG4gICAgfVxuXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHtcblxuICAgIGV2ZW50czoge1xuICAgICAgICAnY29sbGVjdGlvbk1hbmFnZXJCdG4nOiAnY2xpY2snLFxuICAgICAgICAnbWFuYWdlQ3VzdG9tZXJCdG4nOiAnY2xpY2snLFxuICAgICAgICAncmVwb3J0aW5nQnRuJzogJ2NsaWNrJ1xuICAgIH0sXG5cbiAgICBtb2RlbDoge1xuXG4gICAgICAgIG1hbmFnZUN1c3RvbWVyOiB7IGxhYmVsOiAnTWFuYWdlIEN1c3RvbWVycycsIHJvbGVzOiBuZXcgU2V0KCBbICdhZG1pbicgXSApLCB1cmw6ICdtYW5hZ2UtY3VzdG9tZXInIH0sXG5cbiAgICAgICAgY29sbGVjdGlvbk1hbmFnZXI6IHtcbiAgICAgICAgICAgIGxhYmVsOiAnQ29sbGVjdGlvbiBNYW5hZ2VyJyxcbiAgICAgICAgICAgIHJvbGVzOiBuZXcgU2V0KCBbICdhZG1pbicgXSApLFxuICAgICAgICAgICAgdXJsOiAnY29sbGVjdGlvbi1tYW5hZ2VyJ1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlcG9ydGluZzogeyBsYWJlbDogJ35ffiBSZXBvcnRpbmcgfl9+Jywgcm9sZXM6IG5ldyBTZXQoIFsgJ2FkbWluJyBdICksIHVybDogJ3JlcG9ydGluZycgfVxuICAgIH0sXG5cbiAgICBvbkNvbGxlY3Rpb25NYW5hZ2VyQnRuQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuZW1pdCggJ25hdmlnYXRlJywgJ2FkbWluLXBsdXMvY29sbGVjdGlvbi1tYW5hZ2VyJyApXG4gICAgfSxcblxuICAgIG9uTWFuYWdlQ3VzdG9tZXJCdG5DbGljaygpIHtcbiAgICAgICAgdGhpcy5lbWl0KCAnbmF2aWdhdGUnLCAnYWRtaW4tcGx1cy9tYW5hZ2UtY3VzdG9tZXInIClcbiAgICB9LFxuXG4gICAgb25OYXZpZ2F0aW9uKCBwYXRoICkge1xuICAgICAgICB0aGlzLnBhdGggPSBwYXRoXG5cbiAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXlzLmZpbmQoIGtleSA9PiB0aGlzLm1vZGVsWyBrZXkgXS51cmwgPT09IHBhdGhbMF0gKVxuXG4gICAgICAgIGlmKCBrZXkgIT09IHVuZGVmaW5lZCApIHJldHVybiB0aGlzLnNob3dWaWV3KCBrZXkgKVxuXG4gICAgICAgIFByb21pc2UuYWxsKCBPYmplY3Qua2V5cyggdGhpcy5tb2RlbCApLm1hcCgga2V5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLm1vZGVsWyBrZXkgXS52aWV3XG4gICAgICAgICAgICByZXR1cm4gdmlldyA/IHZpZXcuaGlkZSgpIDogUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgfSApIClcbiAgICAgICAgLnRoZW4oICgpID0+IHsgdGhpcy5jdXJyZW50RWwgPSB0aGlzLmVscy5uYXY7IHJldHVybiB0aGlzLnNob3dFbCggdGhpcy5lbHMubmF2ICkgfSApXG4gICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgfSxcblxuICAgIG9uUmVwb3J0aW5nQnRuQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuZW1pdCggJ25hdmlnYXRlJywgJ2FkbWluLXBsdXMvcmVwb3J0aW5nJyApXG4gICAgfSxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIHRoaXMua2V5cyA9IE9iamVjdC5rZXlzKCB0aGlzLm1vZGVsIClcblxuICAgICAgICB0aGlzLmtleXMuZm9yRWFjaCggKCBuYW1lLCBpICkgPT4ge1xuICAgICAgICAgICAgaWYoIHRoaXMudXNlci5nZXQoJ3JvbGVzJykuZmlsdGVyKCByb2xlID0+IHRoaXMubW9kZWxbIG5hbWUgXS5yb2xlcy5oYXMoIHJvbGUgKSApLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHsgdGVtcGxhdGU6IGA8YnV0dG9uIGRhdGEtanM9XCIke25hbWV9QnRuXCI+JHt0aGlzLm1vZGVsWyBuYW1lIF0ubGFiZWx9PC9idXR0b24+YCwgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmVscy5uYXYgfSB9IClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSApXG5cbiAgICAgICAgdGhpcy5jdXJyZW50RWwgPSB0aGlzLmVscy5uYXZcblxuICAgICAgICBpZiggdGhpcy5wYXRoLmxlbmd0aCA+IDEgKSB0aGlzLm9uTmF2aWdhdGlvbiggdGhpcy5wYXRoLnNsaWNlKCAxICkgKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIHNob3dWaWV3KCBrZXkgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpZGVFbCggdGhpcy5jdXJyZW50RWwgKVxuICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tb2RlbFsga2V5IF0udmlldyBcbiAgICAgICAgICAgICAgICA/IHRoaXMubW9kZWxbIGtleSBdLnZpZXcub25OYXZpZ2F0aW9uKCB0aGlzLnBhdGguc2xpY2UoIDEgKSApXG4gICAgICAgICAgICAgICAgOiB0aGlzLm1vZGVsWyBrZXkgXS52aWV3ID0gdGhpcy5mYWN0b3J5LmNyZWF0ZSgga2V5LCB7IGluc2VydGlvbjogeyBlbDogdGhpcy5lbHMudmlld3MgfSwgcGF0aDogdGhpcy5wYXRoLnNsaWNlKDEpIH0gKVxuICAgICAgICAgICAgICAgICAgICAub24oICduYXZpZ2F0ZScsICggcm91dGUsIG9wdHMgKSA9PiB0aGlzLmVtaXQoICduYXZpZ2F0ZScsIHJvdXRlLCBvcHRzICkgKVxuICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZpZXcgPSB0aGlzLm1vZGVsWyBrZXkgXS52aWV3XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRFbCA9IHRoaXMubW9kZWxbIGtleSBdLnZpZXcuZ2V0Q29udGFpbmVyKClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICB9IClcbiAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICB9LFxuXG4gICAgcmVxdWlyZXNMb2dpbjogdHJ1ZSxcblxuICAgIHJlcXVpcmVzUm9sZTogJ2FkbWluJ1xuXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHtcblxuICAgIGRpc2FibGUoKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKCB0aGlzLm1vZGVsLmRhdGEuc3RhdGVzICkuZm9yRWFjaCggc3RhdGVOYW1lID0+XG4gICAgICAgICAgIHRoaXMubW9kZWwuZGF0YS5zdGF0ZXNbIHN0YXRlTmFtZSBdLmZvckVhY2goIGJ1dHRvbiA9PiB7XG4gICAgICAgICAgICAgICBjb25zdCBlbCA9IHRoaXMuZWxzWyBidXR0b24ubmFtZSBdXG4gICAgICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCAnY2xpY2snLCBidXR0b24uY2xpY2tMaXN0ZW5lciApXG4gICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpXG4gICAgICAgICAgIH0gKVxuICAgICAgICApXG4gICAgfSxcblxuICAgIGVuYWJsZSgpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoIHRoaXMubW9kZWwuZGF0YS5zdGF0ZXMgKS5mb3JFYWNoKCBzdGF0ZU5hbWUgPT5cbiAgICAgICAgICAgdGhpcy5tb2RlbC5kYXRhLnN0YXRlc1sgc3RhdGVOYW1lIF0uZm9yRWFjaCggYnV0dG9uID0+IHtcbiAgICAgICAgICAgICAgIGNvbnN0IGVsID0gdGhpcy5lbHNbIGJ1dHRvbi5uYW1lIF1cbiAgICAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsIGJ1dHRvbi5jbGlja0xpc3RlbmVyIClcbiAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJylcbiAgICAgICAgICAgfSApXG4gICAgICAgIClcbiAgICB9LFxuXG4gICAgZ2V0TGlzdGVuZXIoIG5hbWUsIGJ1dHRvbiApIHtcbiAgICAgICAgcmV0dXJuIGUgPT4ge1xuICAgICAgICAgICAgaWYoIGJ1dHRvbi5uZXh0U3RhdGUgKSBlLmZkTmV4dFN0YXRlID0gdGhpcy5vbk5leHRTdGF0ZSggYnV0dG9uLm5leHRTdGF0ZSApXG4gICAgICAgICAgICBpZiggYnV0dG9uLmVtaXQgKSB0aGlzLmVtaXQoIGAke25hbWV9Q2xpY2tlZGAsIGUgKVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9uTmV4dFN0YXRlKCBuZXdTdGF0ZSApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlkZUVsKCB0aGlzLmVsc1sgdGhpcy5zdGF0ZSBdIClcbiAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0VsKCB0aGlzLmVsc1sgbmV3U3RhdGUgXSApXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCB0aGlzLnN0YXRlID0gbmV3U3RhdGUgKVxuICAgICAgICB9IClcbiAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICB9LFxuXG4gICAgcG9zdFJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdzdGFydCdcblxuICAgICAgICBPYmplY3Qua2V5cyggdGhpcy5tb2RlbC5kYXRhLnN0YXRlcyApLmZvckVhY2goIHN0YXRlTmFtZSA9PlxuICAgICAgICAgICB0aGlzLm1vZGVsLmRhdGEuc3RhdGVzWyBzdGF0ZU5hbWUgXS5mb3JFYWNoKCBidXR0b24gPT4ge1xuICAgICAgICAgICAgICAgY29uc3QgZWwgPSB0aGlzLmVsc1sgYnV0dG9uLm5hbWUgXVxuICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGlja0xpc3RlbmVyID0gdGhpcy5nZXRMaXN0ZW5lciggYnV0dG9uLm5hbWUsIGJ1dHRvbiApXG4gICAgICAgICAgICAgICAgaWYoICF0aGlzLm1vZGVsLmRpc2FibGVkICkgeyBlbC5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBidXR0b24uY2xpY2tMaXN0ZW5lciApIH1cbiAgICAgICAgICAgfSApXG4gICAgICAgIClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbn0gKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7IH0sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHtcblxuICAgIG1vZGVsOiByZXF1aXJlKCcuLi9tb2RlbHMvQ29sbGVjdGlvbk1hbmFnZXInKSxcblxuICAgIENvbGxlY3Rpb246IHJlcXVpcmUoJy4uL21vZGVscy9Db2xsZWN0aW9uJyksXG4gICAgRG9jdW1lbnRNb2RlbDogcmVxdWlyZSgnLi4vbW9kZWxzL0RvY3VtZW50JyksXG5cbiAgICBUZW1wbGF0ZXM6IHtcbiAgICAgICAgRG9jdW1lbnQ6IHJlcXVpcmUoJy4vdGVtcGxhdGVzL0RvY3VtZW50JylcbiAgICB9LFxuXG4gICAgVmlld3M6IHtcblxuICAgICAgICBjb2xsZWN0aW9ucygpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZXZlbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3Q6ICdjbGljaydcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1vZGVsOiBPYmplY3QuY3JlYXRlKCB0aGlzLk1vZGVsICkuY29uc3RydWN0b3IoIHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogT2JqZWN0LmNyZWF0ZSggdGhpcy5Db2xsZWN0aW9uICksXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGZldGNoOiB0cnVlXG4gICAgICAgICAgICAgICAgfSApLFxuICAgICAgICAgICAgICAgIGl0ZW1UZW1wbGF0ZTogY29sbGVjdGlvbiA9PiBgPHNwYW4+JHtjb2xsZWN0aW9uLmxhYmVsIHx8IGNvbGxlY3Rpb24ubmFtZX08L3NwYW4+YCxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZU9wdHM6IHsgaGVhZGluZzogJ0NvbGxlY3Rpb25zJywgbmFtZTogJ0NvbGxlY3Rpb25zJywgdG9nZ2xlOiB0cnVlIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKmNyZWF0ZUNvbGxlY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGluc2VydGlvbjogeyBlbDogdGhpcy5lbHMubWFpblBhbmVsIH0sXG4gICAgICAgICAgICAgICAgbW9kZWw6IE9iamVjdC5jcmVhdGUoIHRoaXMuQ29sbGVjdGlvbiApLmNvbnN0cnVjdG9yKCksXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVPcHRzOiB7IGhlYWRpbmc6ICdDcmVhdGUgQ29sbGVjdGlvbicgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGRlbGV0ZUNvbGxlY3Rpb24oIG1vZGVsICkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRpb246IHsgZWw6IHRoaXMuZWxzLm1haW5QYW5lbCB9LFxuICAgICAgICAgICAgICAgIG1vZGVsOiBPYmplY3QuY3JlYXRlKCB0aGlzLkNvbGxlY3Rpb24gKS5jb25zdHJ1Y3RvciggbW9kZWwgKSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZU9wdHM6IHsgbWVzc2FnZTogYERlbGV0ZSBcIiR7bW9kZWwubmFtZX1cIiBDb2xsZWN0aW9uP2AgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCovXG5cbiAgICAgICAgZGVsZXRlRG9jdW1lbnQoIGRvY3VtZW50ICkge1xuICAgICAgICAgICAgY29uc3QgY29sbGVjdGlvbk5hbWUgPSB0aGlzLm1vZGVsLmdpdCgnY3VycmVudENvbGxlY3Rpb24nKSxcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uID0gdGhpcy52aWV3cy5jb2xsZWN0aW9ucy5jb2xsZWN0aW9uLnN0b3JlLm5hbWVbIGNvbGxlY3Rpb25OYW1lIF0sXG4gICAgICAgICAgICAgICAgbWV0YSA9IHRoaXMubW9kZWwubWV0YVsgY29sbGVjdGlvbk5hbWUgXSB8fCB7IH0sXG4gICAgICAgICAgICAgICAgc2NoZW1hID0gY29sbGVjdGlvbi5zY2hlbWFcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRpb246IHsgZWw6IHRoaXMuZWxzLm1haW5QYW5lbCB9LFxuICAgICAgICAgICAgICAgIG1vZGVsOiBPYmplY3QuY3JlYXRlKCB0aGlzLkRvY3VtZW50TW9kZWwgKS5jb25zdHJ1Y3RvciggZG9jdW1lbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0YTogeyBrZXk6IGNvbGxlY3Rpb24ua2V5IH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiBjb2xsZWN0aW9uTmFtZVxuICAgICAgICAgICAgICAgIH0gKSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZU9wdHM6IHsgbWVzc2FnZTogYDxkaXY+PHNwYW4+RGVsZXRlIDwvc3Bhbj4ke3RoaXMuZ2V0RGlzcGxheVZhbHVlKCBtZXRhLCBkb2N1bWVudCwgc2NoZW1hICl9PHNwYW4+IGZyb20gJHtjb2xsZWN0aW9uTmFtZX0/PC9zcGFuPjwvZGl2PmAgfSxcbiAgICAgICAgICAgICAgICB0b2FzdFN1Y2Nlc3M6ICdJdGVtIGRlbGV0ZWQuJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGRvY3VtZW50TGlzdCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25OYW1lID0gdGhpcy5tb2RlbC5naXQoJ2N1cnJlbnRDb2xsZWN0aW9uJyksXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbiA9IHRoaXMudmlld3MuY29sbGVjdGlvbnMuY29sbGVjdGlvbi5zdG9yZS5uYW1lWyBjb2xsZWN0aW9uTmFtZSBdLFxuICAgICAgICAgICAgICAgIG1ldGEgPSB0aGlzLm1vZGVsLm1ldGFbIGNvbGxlY3Rpb25OYW1lIF0gfHwgeyB9LFxuICAgICAgICAgICAgICAgIHNjaGVtYSA9IGNvbGxlY3Rpb24uc2NoZW1hXG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IE9iamVjdC5jcmVhdGUoIHRoaXMuTW9kZWwgKS5jb25zdHJ1Y3RvciggT2JqZWN0LmFzc2lnbiAoIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBPYmplY3QuY3JlYXRlKCB0aGlzLkRvY3VtZW50TW9kZWwgKS5jb25zdHJ1Y3RvciggWyBdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhOiB7IGtleTogY29sbGVjdGlvbi5rZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiBjb2xsZWN0aW9uTmFtZVxuICAgICAgICAgICAgICAgICAgICB9ICksXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGFnZVNpemU6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgc2tpcDogMCxcbiAgICAgICAgICAgICAgICAgICAgc29ydDogeyAnbGFiZWwnOiAxIH0sXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBhZ2luYXRpb246IHRydWVcbiAgICAgICAgICAgICAgICB9LCBtZXRhICkgKSxcbiAgICAgICAgICAgICAgICBldmVudHM6IHsgbGlzdDogJ2NsaWNrJyB9LFxuICAgICAgICAgICAgICAgIGluc2VydGlvbjogeyBlbDogdGhpcy5lbHMubWFpblBhbmVsIH0sXG4gICAgICAgICAgICAgICAgaXRlbVRlbXBsYXRlOiBkYXR1bSA9PiB0aGlzLmdldERpc3BsYXlWYWx1ZSggbWV0YSwgZGF0dW0sIHNjaGVtYSApXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZG9jdW1lbnRWaWV3KCBtb2RlbCApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGlzYWxsb3dFbnRlcktleVN1Ym1pc3Npb246IHRydWUsXG4gICAgICAgICAgICAgICAgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmVscy5tYWluUGFuZWwgfSxcbiAgICAgICAgICAgICAgICBtb2RlbCxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZU9wdHMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKCB7IGhlYWRpbmc6IG1vZGVsLmhlYWRpbmcgfSwgbW9kZWwubWV0YS50ZW1wbGF0ZU9wdGlvbnMgKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVmlld3M6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZUFoZWFkOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUeXBlOiAnRG9jdW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVPcHRzOiB7IGhpZGVTZWFyY2g6IHRydWUgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9LFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgIGNyZWF0ZUNvbGxlY3Rpb25CdG46ICdjbGljaycsXG4gICAgICAgIGJhY2tCdG46ICdjbGljaycsXG4gICAgICAgIHJlc291cmNlOiAnY2xpY2snLFxuXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uczogW1xuICAgICAgICAgICAgICAgIFsgJ2RlbGV0ZUNsaWNrZWQnLFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGNvbGxlY3Rpb24gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckN1cnJlbnRWaWV3KClcbiAgICAgICAgICAgICAgICAgICAgICAudGhlbiggKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCB0aGlzLmNyZWF0ZVZpZXcoICdkZWxldGVyJywgJ2RlbGV0ZUNvbGxlY3Rpb24nLCBjb2xsZWN0aW9uICkgKSApXG4gICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFsgJ2ZldGNoZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3cy5jb2xsZWN0aW9ucy5oaWRlSXRlbXMoIFsgdGhpcy5tb2RlbC5naXQoJ2N1cnJlbnRDb2xsZWN0aW9uJykgXSApXG4gICAgICAgICAgICAgICAgfSBdLFxuICAgICAgICAgICAgICAgIFsgJ2l0ZW1DbGlja2VkJywgZnVuY3Rpb24oIG1vZGVsICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyQ3VycmVudFZpZXcoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbiggKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCB0aGlzLm1vZGVsLnNldCggJ2N1cnJlbnRDb2xsZWN0aW9uJywgbW9kZWwubmFtZSApICkgKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgICAgICAgICAgICAgIH0gXSxcbiAgICAgICAgICAgICAgICBbICdzdWNjZXNzZnVsRHJvcCcsIGZ1bmN0aW9uKCBkYXRhICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN3YXBEb2N1bWVudCggeyBkb2N1bWVudDogZGF0YS5kcm9wcGVkLCB0bzogZGF0YS5kcm9wcGVkT24ubmFtZSwgZnJvbTogdGhpcy5tb2RlbC5naXQoJ2N1cnJlbnRDb2xsZWN0aW9uJyApIH0gKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goIHRoaXMudG9hc3RFcnJvci5iaW5kKHRoaXMpIClcbiAgICAgICAgICAgICAgICB9IF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAvKmNyZWF0ZUNvbGxlY3Rpb246IFtcbiAgICAgICAgICAgICAgICBbICdkZWxldGVkJywgZnVuY3Rpb24oKSB7IHRoaXMubW9kZWwuc2V0KCAnY3VycmVudFZpZXcnLCAnZG9jdW1lbnRMaXN0JyApIH0gXSxcbiAgICAgICAgICAgICAgICBbICdwb3N0ZWQnLCBmdW5jdGlvbiggY29sbGVjdGlvbiApIHsgdGhpcy52aWV3cy5jb2xsZWN0aW9ucy5hZGQoIGNvbGxlY3Rpb24gKSB9IF1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBkZWxldGVDb2xsZWN0aW9uOiBbXG4gICAgICAgICAgICAgICAgWyAnZGVsZXRlZCcsIGZ1bmN0aW9uKCkgeyB0aGlzLm1vZGVsLnNldCgnY3VycmVudFZpZXcnLCAnZG9jdW1lbnRMaXN0JyApIH0gXSxcbiAgICAgICAgICAgICAgICBbICdtb2RlbERlbGV0ZWQnLCBmdW5jdGlvbiggbW9kZWwgKSB7IHRoaXMudmlld3MuY29sbGVjdGlvbnMucmVtb3ZlKCBtb2RlbCApIH0gXVxuICAgICAgICAgICAgXSwqL1xuICAgICAgICAgICAgZGVsZXRlRG9jdW1lbnQ6IFtcbiAgICAgICAgICAgICAgICBbICdkZWxldGVkJywgZnVuY3Rpb24oKSB7IHRoaXMubW9kZWwuc2V0KCdjdXJyZW50VmlldycsICdkb2N1bWVudExpc3QnICkgfSBdLFxuICAgICAgICAgICAgICAgIFsgJ21vZGVsRGVsZXRlZCcsIGZ1bmN0aW9uKCBtb2RlbCApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3cy5kb2N1bWVudExpc3QucmVtb3ZlKCBtb2RlbCApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld3MuZG9jdW1lbnRMaXN0LmdldENvdW50KCkudGhlbiggY291bnQgPT4gdGhpcy51cGRhdGVDb3VudChjb3VudCkgKS5jYXRjaCh0aGlzLkVycm9yKVxuICAgICAgICAgICAgICAgIH0gXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGRvY3VtZW50TGlzdDogW1xuICAgICAgICAgICAgICAgIFsgJ2FkZENsaWNrZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckN1cnJlbnRWaWV3KClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZm9ybScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkb2N1bWVudFZpZXcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZURvY3VtZW50TW9kZWwoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgWyAnaXRlbUNsaWNrZWQnLCBmdW5jdGlvbiggZG9jdW1lbnQgKSB7IHRoaXMub25Eb2N1bWVudFNlbGVjdGVkKCBkb2N1bWVudCApIH0gXSxcbiAgICAgICAgICAgICAgICAvL1sgJ2RyYWdTdGFydCcsIGZ1bmN0aW9uKCB0eXBlICkgeyB0aGlzLnZpZXdzLmNvbGxlY3Rpb25zLnNob3dEcm9wcGFibGUoIHR5cGUgKSB9IF0sXG4gICAgICAgICAgICAgICAgLy9bICdkcm9wcGVkJywgZnVuY3Rpb24oIGRhdGEgKSB7IHRoaXMudmlld3MuY29sbGVjdGlvbnMuaGlkZURyb3BwYWJsZSgpOyB0aGlzLnZpZXdzLmNvbGxlY3Rpb25zLmNoZWNrRHJvcCggZGF0YSApIH0gXSxcbiAgICAgICAgICAgICAgICBbICdkZWxldGVDbGlja2VkJyxcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCBkb2N1bWVudCApIHsgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJDdXJyZW50VmlldygpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoICdkZWxldGVyJywgJ2RlbGV0ZURvY3VtZW50JywgZG9jdW1lbnQgKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSggd2luZG93LnNjcm9sbFRvKCAwLCAwICkgKVxuICAgICAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZG9jdW1lbnRWaWV3OiBbXG4gICAgICAgICAgICAgICAgWyAnZGVsZXRlZCcsIGZ1bmN0aW9uKCBtb2RlbCApIHsgdGhpcy5tb2RlbC5zZXQoICdjdXJyZW50VmlldycsICdkb2N1bWVudExpc3QnICkgfSBdLFxuICAgICAgICAgICAgICAgIFsgJ3B1dCcsIGZ1bmN0aW9uKCBtb2RlbCApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMudmlld3MuZG9jdW1lbnRMaXN0LmZldGNoZWQgKSB0aGlzLnZpZXdzLmRvY3VtZW50TGlzdC51cGRhdGVJdGVtKCB0aGlzLmNyZWF0ZURvY3VtZW50TW9kZWwoIG1vZGVsICkgKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyQ3VycmVudFZpZXcoKS50aGVuKCAoKSA9PiBQcm9taXNlLnJlc29sdmUoIHRoaXMubW9kZWwuc2V0KCdjdXJyZW50VmlldycsICdkb2N1bWVudExpc3QnKSApICkuY2F0Y2godGhpcy5DYXRjaClcblxuICAgICAgICAgICAgICAgIH0gXSxcbiAgICAgICAgICAgICAgICBbICdwb3N0ZWQnLCBmdW5jdGlvbiggbW9kZWwgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCB0aGlzLnZpZXdzLmRvY3VtZW50TGlzdC5mZXRjaGVkICkgdGhpcy52aWV3cy5kb2N1bWVudExpc3QuYWRkKCBtb2RlbCwgdHJ1ZSApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJDdXJyZW50VmlldygpLnRoZW4oICgpID0+IFByb21pc2UucmVzb2x2ZSggdGhpcy5tb2RlbC5zZXQoJ2N1cnJlbnRWaWV3JywgJ2RvY3VtZW50TGlzdCcpICkgKS5jYXRjaCh0aGlzLkNhdGNoKVxuICAgICAgICAgICAgICAgIH0gXVxuICAgICAgICAgICAgXVxuXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY2FjaGVkVGFibGVzOiBbICdkZWxpdmVyeW9wdGlvbicsICdkZWxpdmVyeXJvdXRlJywgJ2dyb3VwZHJvcG9mZicsICdwcm9kdWNlZmFtaWx5JywgJ3NlYXNvbmFsQWRkT24nLCAnc2hhcmUnLCAnc2hhcmVvcHRpb24nIF0sXG4gICAgXG4gICAgY2xlYXJDdXJyZW50VmlldygpIHtcbiAgICAgICAgY29uc3QgY3VycmVudFZpZXcgPSB0aGlzLm1vZGVsLmdpdCgnY3VycmVudFZpZXcnKTtcblxuICAgICAgICByZXR1cm4gKCBjdXJyZW50VmlldyAhPT0gJ2RvY3VtZW50TGlzdCdcbiAgICAgICAgICAgID8gdGhpcy52aWV3c1sgY3VycmVudFZpZXcgXS5kZWxldGUoIHsgc2lsZW50OiB0cnVlIH0gKVxuICAgICAgICAgICAgOiB0aGlzLnZpZXdzWyBjdXJyZW50VmlldyBdLmhpZGUoKVxuICAgICAgICApXG4gICAgfSxcblxuICAgIGNyZWF0ZURvY3VtZW50TGlzdCggY29sbGVjdGlvbk5hbWUsIGZldGNoPXRydWUgKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlVmlldyggJ2xpc3QnLCAnZG9jdW1lbnRMaXN0JyApXG4gICAgICAgIHRoaXMudmlld3MuZG9jdW1lbnRMaXN0LmdldENvdW50KCkudGhlbiggY291bnQgPT4gdGhpcy51cGRhdGVDb3VudChjb3VudCkgKS5jYXRjaCh0aGlzLkVycm9yKVxuICAgICAgICByZXR1cm4gdGhpcy52aWV3cy5jb2xsZWN0aW9ucy51bmhpZGVJdGVtcygpLmhpZGVJdGVtcyggWyB0aGlzLm1vZGVsLmdpdCgnY3VycmVudENvbGxlY3Rpb24nKSBdIClcbiAgICB9LFxuXG4gICAgY3JlYXRlRG9jdW1lbnRNb2RlbCggZGF0YT17fSApIHtcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbk5hbWUgPSB0aGlzLm1vZGVsLmdpdCgnY3VycmVudENvbGxlY3Rpb24nKSxcbiAgICAgICAgICAgIGNvbGxlY3Rpb24gPSB0aGlzLnZpZXdzLmNvbGxlY3Rpb25zLmNvbGxlY3Rpb24uc3RvcmUubmFtZVsgY29sbGVjdGlvbk5hbWUgXSxcbiAgICAgICAgICAgIG1ldGEgPSBPYmplY3QuYXNzaWduKCB0aGlzLm1vZGVsLm1ldGFbIGNvbGxlY3Rpb25OYW1lIF0gfHwgeyB9LCB7IG5vUGxhY2Vob2xkZXI6IHRydWUsIGtleTogY29sbGVjdGlvbi5rZXkgfSApXG5cbiAgICAgICAgbGV0IHNjaGVtYSA9IHRoaXMubW9kZWwuZ2l0KCdjdXJyZW50Q29sbGVjdGlvbicpID09PSAnUGFnZXMnXG4gICAgICAgICAgICA/IGNvbGxlY3Rpb25bIGRhdGEubmFtZSBdXG4gICAgICAgICAgICA6IGNvbGxlY3Rpb24uc2NoZW1hXG5cbiAgICAgICAgc2NoZW1hLmF0dHJpYnV0ZXMuZm9yRWFjaCggYXR0ciA9PiB7XG4gICAgICAgICAgICBpZiggYXR0ci5yYW5nZSA9PT0gJ0dlb2dyYXBoeScgJiYgZGF0YVsgYXR0ci5uYW1lIF0gJiYgIUFycmF5LmlzQXJyYXkoIGRhdGFbIGF0dHIubmFtZSBdICkgKSBkYXRhWyBhdHRyLm5hbWUgXSA9IEpTT04ucGFyc2UoIGRhdGFbIGF0dHIubmFtZSBdICkuY29vcmRpbmF0ZXNcbiAgICAgICAgICAgIGlmKCBtZXRhLnZhbGlkYXRlICYmIG1ldGEudmFsaWRhdGVbIGF0dHIubmFtZSB8fCBhdHRyLmZrIF0gKSBhdHRyLnZhbGlkYXRlID0gbWV0YS52YWxpZGF0ZVsgYXR0ci5uYW1lIHx8IGF0dHIuZmsgXVxuICAgICAgICB9IClcblxuICAgICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSggdGhpcy5Nb2RlbCApLmNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oIHtcbiAgICAgICAgICAgICAgICBtZXRhLFxuICAgICAgICAgICAgICAgIHJlc291cmNlOiBjb2xsZWN0aW9uTmFtZSxcbiAgICAgICAgICAgICAgICBoZWFkaW5nOiB0aGlzLmdldERpc3BsYXlWYWx1ZSggbWV0YSwgZGF0YSwgc2NoZW1hIClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2NoZW1hXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICB9LFxuXG4gICAgY3JlYXRlVmlldyggdHlwZSwgbmFtZSwgbW9kZWwgKSB7XG4gICAgICAgIHRoaXMudmlld3NbIG5hbWUgXSA9IHRoaXMuZmFjdG9yeS5jcmVhdGUoIHR5cGUsIFJlZmxlY3QuYXBwbHkoIHRoaXMuVmlld3NbIG5hbWUgXSwgdGhpcywgWyBtb2RlbCBdICkgKVxuXG4gICAgICAgIGlmKCB0aGlzLmV2ZW50cy52aWV3c1sgbmFtZSBdICkgdGhpcy5ldmVudHMudmlld3NbIG5hbWUgXS5mb3JFYWNoKCBhcnIgPT4gdGhpcy52aWV3c1sgbmFtZSBdLm9uKCBhcnJbMF0sIGV2ZW50RGF0YSA9PiBSZWZsZWN0LmFwcGx5KCBhcnJbMV0sIHRoaXMsIFsgZXZlbnREYXRhIF0gKSApIClcbiAgICAgICAgdGhpcy5tb2RlbC5zZXQoICdjdXJyZW50VmlldycsIG5hbWUgKVxuICAgIH0sXG5cbiAgICBnZXREaXNwbGF5VmFsdWUoIG1ldGEsIGRhdHVtLCBzY2hlbWEgKSB7XG4gICAgICAgIGlmKCAhT2JqZWN0LmtleXMoIGRhdHVtICkubGVuZ3RoICkgcmV0dXJuIGA8ZGl2Pk5ldyAke3RoaXMubW9kZWwuZ2l0KCdjdXJyZW50Q29sbGVjdGlvbicpfTwvZGl2PmBcbiAgICAgICAgaWYoIHRoaXMuVGVtcGxhdGVzWyBtZXRhLmRpc3BsYXlBdHRyIF0gKSByZXR1cm4gdGhpcy5UZW1wbGF0ZXNbIG1ldGEuZGlzcGxheUF0dHIgXSggZGF0dW0gKVxuXG4gICAgICAgIGxldCB2YWx1ZVxuXG4gICAgICAgIGlmKCBtZXRhLmRpc3BsYXlBdHRyICkge1xuICAgICAgICAgICAgdmFsdWUgPSBtZXRhLmRpc3BsYXlBdHRyLm1hcCggYXR0ciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmtDb2x1bW4gPSBzY2hlbWEuYXR0cmlidXRlcy5maW5kKCBzY2hlbWFBdHRyID0+IHNjaGVtYUF0dHIuZmsgPT09IGF0dHIgKVxuICAgICAgICAgICAgICAgIGlmKCBma0NvbHVtbiApIHJldHVybiB0aGlzWyBhdHRyIF0uc3RvcmUuaWRbIGRhdHVtWyBma0NvbHVtbi5jb2x1bW5OYW1lIF0gXS5sYWJlbCB8fCB0aGlzWyBhdHRyIF0uc3RvcmUuaWRbIGRhdHVtWyBma0NvbHVtbi5jb2x1bW5OYW1lIF0gXS5uYW1lXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYXR0ciA9PT0gJ2NyZWF0ZWRBdCdcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLkZvcm1hdC5Nb21lbnQudXRjKCBkYXR1bVsgbWV0YS5kaXNwbGF5QXR0ciBdICkuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tOnNzJylcbiAgICAgICAgICAgICAgICAgICAgOiBkYXR1bVsgYXR0ciBdXG4gICAgICAgICAgICB9ICkuam9pbignIC0tICcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGRhdHVtLmxhYmVsIHx8IGRhdHVtLm5hbWVcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBgPGRpdj48c3Bhbj4ke3ZhbHVlfTwvc3Bhbj48L2Rpdj5gXG4gICAgfSxcblxuICAgIGdldERvY3VtZW50KCBjb2xsZWN0aW9uLCB2YWx1ZSApIHtcbiAgICAgICAgY29uc3QgcXVlcnkgPSBOdW1iZXIuaXNOYU4oICt2YWx1ZSApID8geyBuYW1lOiB2YWx1ZSB9IDogeyBpZDogdmFsdWUgfVxuXG4gICAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKCB0aGlzLk1vZGVsICkuY29uc3RydWN0b3IoIHt9LCB7IHJlc291cmNlOiBjb2xsZWN0aW9uIH0gKS5nZXQoIHsgcXVlcnkgfSApXG4gICAgICAgIC50aGVuKCBkb2N1bWVudCA9PiBQcm9taXNlLnJlc29sdmUoIGRvY3VtZW50Lmxlbmd0aCA9PT0gMSA/IGRvY3VtZW50WzBdIDogZG9jdW1lbnQgKSApXG4gICAgfSxcblxuICAgIG9uQmFja0J0bkNsaWNrKCkgeyB0aGlzLmVtaXQoICduYXZpZ2F0ZScsICcvYWRtaW4tcGx1cycgKSB9LFxuXG4gICAgb25DcmVhdGVDb2xsZWN0aW9uQnRuQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuY2xlYXJDdXJyZW50VmlldygpXG4gICAgICAgIC50aGVuKCAoKSA9PiBQcm9taXNlLnJlc29sdmUoIHRoaXMuY3JlYXRlVmlldyggJ2Zvcm0nLCAnY3JlYXRlQ29sbGVjdGlvbicgKSApIClcbiAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICB9LFxuXG4gICAgb25Eb2N1bWVudFNlbGVjdGVkKCBkb2N1bWVudCApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xlYXJDdXJyZW50VmlldygpXG4gICAgICAgIC50aGVuKCAoKSA9PiBQcm9taXNlLnJlc29sdmUoIHRoaXMuc2hvd0RvY3VtZW50VmlldyggZG9jdW1lbnQgKSApIClcbiAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICB9LFxuXG4gICAgb25OYXZpZ2F0aW9uKCBwYXRoICkge1xuXG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG5cbiAgICAgICAgKCB0aGlzLmlzSGlkZGVuKCkgPyB0aGlzLnNob3coKSA6IFByb21pc2UucmVzb2x2ZSgpIClcbiAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuY2xlYXJDdXJyZW50VmlldygpIClcbiAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuc2hvd1Byb3BlclZpZXcoIGZhbHNlICkgKVxuICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKSBcbiAgICB9LFxuXG4gICAgb25SZXNvdXJjZUNsaWNrKCkge1xuICAgICAgICBpZiggdGhpcy5tb2RlbC5naXQoJ2N1cnJlbnRWaWV3JykgPT09ICdkb2N1bWVudExpc3QnICkgcmV0dXJuXG5cbiAgICAgICAgdGhpcy5jbGVhckN1cnJlbnRWaWV3KClcbiAgICAgICAgLnRoZW4oICgpID0+IFByb21pc2UucmVzb2x2ZSggdGhpcy5tb2RlbC5zZXQoJ2N1cnJlbnRWaWV3JywgJ2RvY3VtZW50TGlzdCcpICkgKVxuICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgIH0sXG5cbiAgICBwb3N0UmVuZGVyKCkge1xuICAgICAgICBpZiggdGhpcy5wYXRoLmxlbmd0aCA+IDAgKSB0aGlzLm1vZGVsLnNldCggJ2N1cnJlbnRDb2xsZWN0aW9uJywgdGhpcy5wYXRoWzBdIClcblxuICAgICAgICB0aGlzLm1vZGVsLm9uKCAnY3VycmVudENvbGxlY3Rpb25DaGFuZ2VkJywgKCkgPT5cbiAgICAgICAgICAgIHRoaXMudmlld3MuZG9jdW1lbnRMaXN0LmRlbGV0ZSggeyBzaWxlbnQ6IHRydWUgfSApXG4gICAgICAgICAgICAudGhlbiggKCkgPT4gdGhpcy5jcmVhdGVEb2N1bWVudExpc3QoIHRoaXMubW9kZWwuZ2l0KCAnY3VycmVudENvbGxlY3Rpb24nKSApIClcbiAgICAgICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgICAgIClcblxuICAgICAgICB0aGlzLm1vZGVsLm9uKCAnY3VycmVudFZpZXdDaGFuZ2VkJywgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZpZXcgPSB0aGlzLm1vZGVsLmdpdCgnY3VycmVudFZpZXcnKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50Q29sbGVjdGlvbiA9IHRoaXMubW9kZWwuZ2l0KCdjdXJyZW50Q29sbGVjdGlvbicpLFxuICAgICAgICAgICAgICAgIHBhdGggPSBjdXJyZW50VmlldyA9PT0gJ2RvY3VtZW50VmlldydcbiAgICAgICAgICAgICAgICAgICAgPyBgLyR7Y3VycmVudENvbGxlY3Rpb259LyR7dGhpcy52aWV3cy5kb2N1bWVudFZpZXcubW9kZWwuZ2l0KCduYW1lJykgfHwgdGhpcy52aWV3cy5kb2N1bWVudFZpZXcubW9kZWwuZ2l0KCdpZCcpIHx8ICduZXctaXRlbSd9YFxuICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnRWaWV3ID09PSAnZG9jdW1lbnRMaXN0J1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBgLyR7Y3VycmVudENvbGxlY3Rpb259YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgYFxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmVtaXQoICduYXZpZ2F0ZScsIGAvYWRtaW4tcGx1cy9jb2xsZWN0aW9uLW1hbmFnZXIke3BhdGh9YCwgeyBzaWxlbnQ6IHRydWUgfSApO1xuXG4gICAgICAgICAgICAoIGN1cnJlbnRWaWV3ID09PSAnZG9jdW1lbnRMaXN0JyAmJiB0aGlzLnZpZXdzLmRvY3VtZW50TGlzdC5jb2xsZWN0aW9uLmRhdGEubGVuZ3RoID09PSAwID8gdGhpcy52aWV3cy5kb2N1bWVudExpc3QuZmV0Y2goKSA6IFByb21pc2UucmVzb2x2ZSgpIClcbiAgICAgICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLnZpZXdzWyBjdXJyZW50VmlldyBdLnNob3coKSApXG4gICAgICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgICAgICB9IClcblxuICAgICAgICBQcm9taXNlLmFsbCggdGhpcy5jYWNoZWRUYWJsZXMubWFwKCBuYW1lID0+IHtcbiAgICAgICAgICAgIHRoaXNbIG5hbWUgXSA9IE9iamVjdC5jcmVhdGUoIHRoaXMuTW9kZWwgKS5jb25zdHJ1Y3RvciggeyB9LCB7IHJlc291cmNlOiBuYW1lIH0gKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXNbIG5hbWUgXS5nZXQoIHsgc3RvcmVCeTogWydpZCddIH0gKVxuICAgICAgICB9ICkgKVxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy5zaG93UHJvcGVyVmlldyggdHJ1ZSApIClcbiAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICBzaG93RG9jdW1lbnRWaWV3KCBkb2N1bWVudCApIHtcbiAgICAgICAgdGhpcy5jcmVhdGVWaWV3KFxuICAgICAgICAgICAgJ2Zvcm0nLFxuICAgICAgICAgICAgJ2RvY3VtZW50VmlldycsXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZURvY3VtZW50TW9kZWwoIGRvY3VtZW50IClcbiAgICAgICAgKVxuICAgIH0sXG5cbiAgICBzaG93UHJvcGVyVmlldygpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMucGF0aFxuXG4gICAgICAgIGlmKCBwYXRoLmxlbmd0aCAmJiBwYXRoWzBdICE9PSB0aGlzLm1vZGVsLmdpdCgnY3VycmVudENvbGxlY3Rpb24nKSApIHJldHVybiBQcm9taXNlLnJlc29sdmUoIHRoaXMubW9kZWwuc2V0KCAnY3VycmVudENvbGxlY3Rpb24nLCBwYXRoWzBdICkgKVxuXG4gICAgICAgIHJldHVybiAoIHRoaXMudmlld3MuZG9jdW1lbnRMaXN0ID8gUHJvbWlzZS5yZXNvbHZlKCkgOiB0aGlzLmNyZWF0ZURvY3VtZW50TGlzdCggdGhpcy5tb2RlbC5naXQoJ2N1cnJlbnRDb2xsZWN0aW9uJyksIHRoaXMucGF0aC5sZW5ndGggPT09IDIgPyBmYWxzZSA6IHRydWUgKSApXG4gICAgICAgIC50aGVuKCAoKSA9PlxuICAgICAgICAgICAgcGF0aC5sZW5ndGggPT09IDIgJiYgcGF0aFsxXSAhPT0gJ25ldy1pdGVtJ1xuICAgICAgICAgICAgICAgID8gdGhpcy5nZXREb2N1bWVudCggcGF0aFswXSwgcGF0aFsxXSApXG4gICAgICAgICAgICAgICAgICAudGhlbiggZG9jdW1lbnQgPT5cbiAgICAgICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheSggZG9jdW1lbnQgKVxuICAgICAgICAgICAgICAgICAgICAgID8gUHJvbWlzZS5yZXNvbHZlKCB0aGlzLm1vZGVsLnNldCggJ2N1cnJlbnRWaWV3JywgJ2RvY3VtZW50TGlzdCcgKSApXG4gICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmNsZWFyQ3VycmVudFZpZXcoKS50aGVuKCAoKSA9PiBQcm9taXNlLnJlc29sdmUoIHRoaXMuc2hvd0RvY3VtZW50VmlldyggZG9jdW1lbnQsIGZhbHNlICkgKSApLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBQcm9taXNlLnJlc29sdmUoIHRoaXMubW9kZWwuZ2l0KCdjdXJyZW50VmlldycpID09PSAnZG9jdW1lbnRMaXN0JyA/IGBgIDogdGhpcy5tb2RlbC5zZXQoICdjdXJyZW50VmlldycsICdkb2N1bWVudExpc3QnICkgKVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgfSxcblxuICAgIHN3YXBEb2N1bWVudCggeyBkb2N1bWVudCwgdG8sIGZyb20gfSApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWGhyKCB7IG1ldGhvZDogJ1BBVENIJywgcmVzb3VyY2U6ICdEb2N1bWVudCcsIGlkOiBkb2N1bWVudC5faWQsIGRhdGE6IEpTT04uc3RyaW5naWZ5KCB7IHRvLCBmcm9tIH0gKSB9IClcbiAgICAgICAgLnRoZW4oICgpID0+IFByb21pc2UucmVzb2x2ZSggdGhpcy52aWV3cy5kb2N1bWVudExpc3QucmVtb3ZlKCBkb2N1bWVudCApICkgKVxuICAgIH0sXG5cbiAgICB0b2FzdEVycm9yKGUpIHtcbiAgICAgICAgdGhpcy5FcnJvcihlKTtcbiAgICAgICAgdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ2Vycm9yJywgYFNvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3QgQ2hyaXMuYCApXG4gICAgfSxcblxuICAgIHVwZGF0ZUNvdW50KCBjb3VudCApIHtcbiAgICAgICAgY29uc3QgY29sbGVjdGlvbiA9IHRoaXMudmlld3MuY29sbGVjdGlvbnMuY29sbGVjdGlvbi5zdG9yZS5uYW1lWyB0aGlzLm1vZGVsLmdpdCgnY3VycmVudENvbGxlY3Rpb24nKSBdXG4gICAgICAgIHRoaXMuZWxzLnJlc291cmNlLnRleHRDb250ZW50ID0gYCR7Y29sbGVjdGlvbi5sYWJlbCB8fCBjb2xsZWN0aW9uLm5hbWV9ICgke2NvdW50fSlgXG4gICAgfVxuXG59IClcbiIsImNvbnN0IEN1c3RvbUNvbnRlbnQgPSByZXF1aXJlKCcuL3V0aWwvQ3VzdG9tQ29udGVudCcpXG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIEN1c3RvbUNvbnRlbnQsIHtcblxuICAgIHRhYmxlczogWyB7IG5hbWU6ICdjb250YWN0aW5mbycsIGVsOiAnY29udGFjdEluZm8nLCB0ZW1wbGF0ZTogJ2NvbnRhY3QnfSBdLFxuXG4gICAgdGVtcGxhdGVzOiB7XG4gICAgICAgIGNvbnRhY3Q6IHJlcXVpcmUoJy4vdGVtcGxhdGVzL0xvY2F0aW9uJylcbiAgICB9XG5cbn0gKSIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHJlcXVpcmUoJy4vdXRpbC9DdXN0b21Db250ZW50JyksIHtcblxuICAgIEN1cnJlbnRTaGFyZTogcmVxdWlyZSgnLi4vbW9kZWxzL0N1cnJlbnRTaGFyZScpLFxuICAgIFNoYXJlczogT2JqZWN0LmNyZWF0ZSggcmVxdWlyZSgnLi4vbW9kZWxzL19fcHJvdG9fXycpLCB7IHJlc291cmNlOiB7IHZhbHVlOiAnQ3NhUGFnZVNoYXJlJyB9IH0gKSxcbiAgICBTaGFyZU9wdGlvbnM6IE9iamVjdC5jcmVhdGUoIHJlcXVpcmUoJy4uL21vZGVscy9fX3Byb3RvX18nKSwgeyByZXNvdXJjZTogeyB2YWx1ZTogJ3NoYXJlb3B0aW9uJyB9IH0gKSxcblxuICAgIGV2ZW50czoge1xuICAgICAgICBzaWdudXBCdG46ICdjbGljaydcbiAgICB9LFxuXG4gICAgaGFzaFRvRWxlbWVudDoge1xuICAgICAgICAnaG93LWRvLWkta25vdyc6ICdob3dEb0lLbm93JyxcbiAgICB9LFxuXG4gICAgaW5zZXJ0QWRkT25EZXNjcmlwdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuU2hhcmVPcHRpb25zLmRhdGEuZmlsdGVyKCBvcHQgPT4gb3B0Lm5hbWUgIT09ICdTaGFyZSBzaXplJyApLmZvckVhY2goIHNoYXJlT3B0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFkZE9uSW5mbyA9IHRoaXMuQ3VycmVudFNoYXJlLmRhdGEucHJvZHVjZU9wdGlvbnMuZmluZCggcHJvZHVjZU9wdCA9PiBwcm9kdWNlT3B0LnNoYXJlb3B0aW9uaWQgPT09IHNoYXJlT3B0LmlkICYmIHByb2R1Y2VPcHQubmFtZSA9PT0gJ29uZScgKVxuXG4gICAgICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXMuY3NhSXRlbSggT2JqZWN0LmFzc2lnbiggYWRkT25JbmZvLCB7IGhlYWRpbmc6IHNoYXJlT3B0Lm5hbWUgfSApICksXG4gICAgICAgICAgICAgICAgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmVscy5hZGRPbkl0ZW1zIH1cbiAgICAgICAgICAgIH0gKVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgaW5zZXJ0RGVsaXZlcnlNYXRyaXgoKSB7XG4gICAgICAgIHRoaXMuc2x1cnBUZW1wbGF0ZSgge1xuICAgICAgICAgICAgdGVtcGxhdGU6IHRoaXMudGVtcGxhdGVzLmRlbGl2ZXJ5TWF0cml4KCB7XG4gICAgICAgICAgICAgICAgZGVsaXZlcnlPcHRpb25zOiB0aGlzLkN1cnJlbnRTaGFyZS5kYXRhLmRlbGl2ZXJ5T3B0aW9ucyxcbiAgICAgICAgICAgICAgICBzaXplT3B0aW9uczogdGhpcy5DdXJyZW50U2hhcmUuZ2V0U2l6ZU9wdGlvbnMoKVxuICAgICAgICAgICAgfSApLFxuICAgICAgICAgICAgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmVscy5kZWxpdmVyeU1hdHJpeCB9XG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBpbnNlcnRTaGFyZURlc2NyaXB0aW9uKCBzaGFyZSApIHtcbiAgICAgICAgY29uc3QgZGVsaXZlcnlPcHRzID0gdGhpcy5DdXJyZW50U2hhcmUuZGF0YS5kZWxpdmVyeU9wdGlvbnMsXG4gICAgICAgICAgICBzaGFyZVByaWNlID0gcGFyc2VGbG9hdCggdGhpcy5DdXJyZW50U2hhcmUuZGF0YS5wcm9kdWNlT3B0aW9ucy5maW5kKCBvcHQgPT4gb3B0LnByb21wdCA9ICdTaGFyZSBzaXplJyAmJiBzaGFyZS5uYW1lID09PSBvcHQubmFtZSApLnByaWNlLnJlcGxhY2UoJyQnLCcnKSApLFxuICAgICAgICAgICAgbG93UHJpY2UgPSBzaGFyZVByaWNlICsgcGFyc2VGbG9hdCggdGhpcy5DdXJyZW50U2hhcmUuZGF0YS5kZWxpdmVyeU9wdGlvbnNbMF0ucHJpY2UucmVwbGFjZSgnJCcsJycpICksXG4gICAgICAgICAgICBoaWdoUHJpY2UgPSBzaGFyZVByaWNlICsgcGFyc2VGbG9hdCggdGhpcy5DdXJyZW50U2hhcmUuZGF0YS5kZWxpdmVyeU9wdGlvbnNbIHRoaXMuQ3VycmVudFNoYXJlLmRhdGEuZGVsaXZlcnlPcHRpb25zLmxlbmd0aCAtIDEgXS5wcmljZS5yZXBsYWNlKCckJywnJykgKSxcbiAgICAgICAgICAgIHByaWNlUmFuZ2UgPSBgJCR7bG93UHJpY2UudG9GaXhlZCgyKX0gLSAkJHtoaWdoUHJpY2UudG9GaXhlZCgyKX1gXG5cbiAgICAgICAgdGhpcy5zbHVycFRlbXBsYXRlKCB7XG4gICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXMuY3NhSXRlbSggT2JqZWN0LmFzc2lnbiggc2hhcmUuc2hhcmVEZXNjcmlwdGlvbiwgeyBwcmljZTogcHJpY2VSYW5nZSB9ICkgKSxcbiAgICAgICAgICAgIGluc2VydGlvbjogeyBlbDogdGhpcy5lbHMuc2hhcmVEZXNjcmlwdGlvbnMgfVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgaW5zZXJ0U2hhcmVFeGFtcGxlKCBzaGFyZSApIHtcbiAgICAgICAgdGhpcy5zbHVycFRlbXBsYXRlKCB7XG4gICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXMuc2hhcmVFeGFtcGxlKCBzaGFyZS5zaGFyZUV4YW1wbGUgKSxcbiAgICAgICAgICAgIGluc2VydGlvbjogeyBlbDogdGhpcy5lbHMuc2hhcmVFeGFtcGxlcyB9XG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBvblNpZ251cEJ0bkNsaWNrKCkgeyB0aGlzLmVtaXQoICduYXZpZ2F0ZScsICdzaWduLXVwJyApIH0sXG5cbiAgICBwb3N0UmVuZGVyKCkge1xuICAgICAgICByZXF1aXJlKCcuL3V0aWwvQ3VzdG9tQ29udGVudCcpLnBvc3RSZW5kZXIuY2FsbCh0aGlzKVxuXG4gICAgICAgIGlmKCB3aW5kb3cubG9jYXRpb24uaGFzaCApIHtcbiAgICAgICAgICAgIHRoaXMuZWxzWyB0aGlzLmhhc2hUb0VsZW1lbnRbIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpIF0gXS5zY3JvbGxJbnRvVmlldyggeyBiZWhhdmlvcjogJ3Ntb290aCcgfSApXG4gICAgICAgIH1cblxuICAgICAgICBQcm9taXNlLmFsbCggWyB0aGlzLkN1cnJlbnRTaGFyZS5nZXQoKSwgdGhpcy5TaGFyZXMuZ2V0KCksIHRoaXMuU2hhcmVPcHRpb25zLmdldCgpIF0gKVxuICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnREZWxpdmVyeU1hdHJpeCgpXG5cbiAgICAgICAgICAgIHRoaXMuU2hhcmVzLmRhdGEuZm9yRWFjaCggc2hhcmUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0U2hhcmVFeGFtcGxlKCBzaGFyZSApXG4gICAgICAgICAgICAgICAgdGhpcy5pbnNlcnRTaGFyZURlc2NyaXB0aW9uKCBzaGFyZSApXG4gICAgICAgICAgICB9IClcblxuICAgICAgICAgICAgdGhpcy5pbnNlcnRBZGRPbkRlc2NyaXB0aW9ucygpXG4gICAgICAgIH0gKVxuICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIHRlbXBsYXRlczoge1xuICAgICAgICBjc2FJdGVtOiByZXF1aXJlKCcuL3RlbXBsYXRlcy9Dc2FJdGVtJyksXG4gICAgICAgIGRlbGl2ZXJ5TWF0cml4OiByZXF1aXJlKCcuL3RlbXBsYXRlcy9kZWxpdmVyeU1hdHJpeCcpLFxuICAgICAgICBzaGFyZUV4YW1wbGU6IHJlcXVpcmUoJy4vdGVtcGxhdGVzL1NoYXJlRXhhbXBsZScpXG4gICAgfVxuXG59ICkiLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHt9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCB7XG5cbiAgICBNZW1iZXJGb29kT21pc3Npb246IHJlcXVpcmUoJy4uL21vZGVscy9NZW1iZXJGb29kT21pc3Npb24nKSxcblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmZpZWxkcy5mb3JFYWNoKCBmaWVsZCA9PiB7XG4gICAgICAgICAgICBpZiggZmllbGQudHlwZSAhPT0gJ3NlbGVjdCcgKSB0aGlzLmVsc1sgZmllbGQubmFtZSBdLnRleHRDb250ZW50ID0gJydcbiAgICAgICAgfSApXG5cbiAgICAgICAgdGhpcy5lbHMuaW5mb1RhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJy5lZGl0ZWQnKS5mb3JFYWNoKCBlbCA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0ZWQnKSApXG5cbiAgICAgICAgdGhpcy5Gb29kT21pc3Npb24uY2xlYXIoKVxuXG4gICAgICAgIHRoaXMuZWxzLnJlc2V0QnRuLmNsYXNzTGlzdC5hZGQoICdmZC1oaWRkZW4nIClcbiAgICAgICAgdGhpcy5lbHMuZWRpdFN1bW1hcnkuY2xhc3NMaXN0LmFkZCggJ2ZkLWhpZGRlbicgKVxuICAgIH0sXG5cbiAgICBldmVudHM6IHtcbiAgICAgICAgb25wYXltZW50cGxhbjogJ2NoYW5nZScsXG4gICAgICAgIHJlc2V0QnRuOiAnY2xpY2snLFxuICAgICAgICBzYXZlQnRuOiAnY2xpY2snXG4gICAgfSxcblxuICAgIGZpZWxkczogW1xuICAgICAgICB7IHRhYmxlOiAncGVyc29uJywgdHlwZTogJ3RleHQnLCBuYW1lOiAnbmFtZScsIGxhYmVsOiAnTmFtZScgfSxcbiAgICAgICAgeyB0YWJsZTogJ3BlcnNvbicsIHR5cGU6ICd0ZXh0JywgbmFtZTogJ2VtYWlsJywgbGFiZWw6ICdFbWFpbCcgfSxcbiAgICAgICAgeyB0YWJsZTogJ3BlcnNvbicsIHR5cGU6ICd0ZXh0JywgbmFtZTogJ3NlY29uZGFyeUVtYWlsJywgbGFiZWw6ICdTZWNvbmRhcnkgRW1haWwnIH0sXG4gICAgICAgIHsgdGFibGU6ICdtZW1iZXInLCB0eXBlOiAndGV4dCcsIG5hbWU6ICdwaG9uZW51bWJlcicsIGxhYmVsOiAnUGhvbmUnIH0sXG4gICAgICAgIHsgdGFibGU6ICdtZW1iZXInLCB0eXBlOiAndGV4dCcsIG5hbWU6ICd6aXBjb2RlJywgbGFiZWw6ICdaaXAgQ29kZScgfSxcbiAgICAgICAgeyB0YWJsZTogJ21lbWJlcicsIHR5cGU6ICd0ZXh0JywgbmFtZTogJ2FkZHJlc3MnLCBsYWJlbDogJ0FkZHJlc3MnIH0sXG4gICAgICAgIHsgdGFibGU6ICdtZW1iZXJGb29kT21pc3Npb24nLCB0eXBlOiAnc2VsZWN0JywgbmFtZTogJ25ldmVyUmVjZWl2ZScsIGxhYmVsOiAnT3B0LW91dCBWZWdldGFibGUnIH0sXG4gICAgICAgIHsgdGFibGU6ICdtZW1iZXInLCB0eXBlOiAnc2VsZWN0JywgbmFtZTogJ29ucGF5bWVudHBsYW4nLCBsYWJlbDogJ09uIFBheW1lbnQgUGxhbicgfVxuICAgIF0sXG5cbiAgICBnZXRUZW1wbGF0ZU9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGlzQWRtaW4gPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignYWRtaW4nKSAhPT0gLTFcbiAgICAgICAgaWYoICFpc0FkbWluICkgdGhpcy5maWVsZHMucG9wKClcbiAgICAgICAgcmV0dXJuIHsgZmllbGRzOiB0aGlzLmZpZWxkcywgaXNBZG1pbiB9XG4gICAgfSxcblxuICAgIGhhbmRsZUJsdXIoIGUgKSB7XG4gICAgICAgIGNvbnN0IGVsID0gZS50YXJnZXQsXG4gICAgICAgICAgICAgIGZpZWxkID0gdGhpcy5maWVsZHMuZmluZCggZmllbGQgPT4gZmllbGQubmFtZSA9PT0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKSApLFxuICAgICAgICAgICAgICBmaWVsZFZhbHVlID0gZWwudGV4dENvbnRlbnQudHJpbSgpLFxuICAgICAgICAgICAgICBtb2RlbFZhbHVlID0gdGhpcy5tb2RlbFsgZmllbGQudGFibGUgXS5kYXRhWyBmaWVsZC5uYW1lIF0gfHwgJydcblxuICAgICAgICBpZiggZmllbGRWYWx1ZSAhPT0gbW9kZWxWYWx1ZSApIHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2VkaXRlZCcpXG4gICAgICAgICAgICB0aGlzLmVkaXRlZEZpZWxkc1sgZmllbGQubmFtZSBdID0gZmllbGRWYWx1ZSB8fCBudWxsXG4gICAgICAgICAgICB0aGlzLnNob3dFZGl0U3VtbWFyeSgpXG4gICAgICAgICAgICB0aGlzLmVtaXQoICdlZGl0ZWQnIClcbiAgICAgICAgfSBlbHNlIGlmKCB0aGlzLmVkaXRlZEZpZWxkc1sgZmllbGQubmFtZSBdICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0ZWQnKVxuICAgICAgICAgICAgdGhpcy5lZGl0ZWRGaWVsZHNbIGZpZWxkLm5hbWUgXSA9IHVuZGVmaW5lZFxuICAgICAgICAgICAgdGhpcy5zaG93RWRpdFN1bW1hcnkoKVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGhhc0VkaXRzKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoIHRoaXMuZWRpdGVkRmllbGRzICkuZmlsdGVyKCBrZXkgPT4gdGhpcy5lZGl0ZWRGaWVsZHNbIGtleSBdICE9PSB1bmRlZmluZWQgKS5sZW5ndGggPiAwXG4gICAgfSxcblxuICAgIGhhbmRsZUVkaXQoIGUgKSB7IHRoaXMuZWxzLnJlc2V0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2ZkLWhpZGRlbicpIH0sXG5cbiAgICBoYW5kbGVPbWlzc2lvbkNoYW5nZSggZSwgbSApIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gbS52YWwoKSxcbiAgICAgICAgICAgIG5hbWUgPSB2YWx1ZXMubGVuZ3RoID8gbS52YWwoKVswXS5uYW1lIDogJycsXG4gICAgICAgICAgICBvcmlnaW5hbE5hbWUgPSB0aGlzLk1lbWJlckZvb2RPbWlzc2lvbi5kYXRhLmxlbmd0aCA/IHRoaXMuTWVtYmVyRm9vZE9taXNzaW9uLmRhdGFbMF0ubmFtZSA6ICcnXG4gICAgICAgXG4gICAgICAgIGlmKCBvcmlnaW5hbE5hbWUgIT09IG5hbWUgKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRlZEZpZWxkcy5uZXZlclJlY2VpdmUgPSBuYW1lXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2VkaXRlZCcpXG4gICAgICAgICAgICB0aGlzLnNob3dFZGl0U3VtbWFyeSgpXG4gICAgICAgIH0gZWxzZSBpZiggdGhpcy5lZGl0ZWRGaWVsZHMubmV2ZXJSZWNlaXZlICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRlZEZpZWxkcy5uZXZlclJlY2VpdmUgPSB1bmRlZmluZWRcbiAgICAgICAgICAgIHRoaXMuc2hvd0VkaXRTdW1tYXJ5KClcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvbk9ucGF5bWVudHBsYW5DaGFuZ2UoIGUgKSB7XG4gICAgICAgIGNvbnN0IGVsID0gZS50YXJnZXQsXG4gICAgICAgICAgICBmaWVsZFZhbHVlID0gQm9vbGVhbiggZWwudmFsdWUgPT09IFwidHJ1ZVwiICksXG4gICAgICAgICAgICBtb2RlbFZhbHVlID0gdGhpcy5tb2RlbC5tZW1iZXIuZGF0YS5vbnBheW1lbnRwbGFuXG5cbiAgICAgICAgaWYoIG1vZGVsVmFsdWUgIT09IGZpZWxkVmFsdWUgKSB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdlZGl0ZWQnKVxuICAgICAgICAgICAgdGhpcy5lZGl0ZWRGaWVsZHNbICdvbnBheW1lbnRwbGFuJyBdID0gQm9vbGVhbiggZWwudmFsdWUgPT09IFwidHJ1ZVwiIClcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZWRpdGVkJylcbiAgICAgICAgICAgIHRoaXMuc2hvd0VkaXRTdW1tYXJ5KClcbiAgICAgICAgfSBlbHNlIGlmKCB0aGlzLmVkaXRlZEZpZWxkcy5vbnBheW1lbnRwbGFuICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0ZWQnKVxuICAgICAgICAgICAgdGhpcy5lZGl0ZWRGaWVsZHMub25wYXltZW50cGxhbiA9IHVuZGVmaW5lZFxuICAgICAgICAgICAgdGhpcy5zaG93RWRpdFN1bW1hcnkoKVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9uUmVzZXRCdG5DbGljaygpIHsgdGhpcy5yZXNldCggdGhpcy5tb2RlbCApIH0sXG5cbiAgICBvblNhdmVCdG5DbGljaygpIHtcbiAgICAgICAgY29uc3QgcmVzb3VyY2VzVG9VcGRhdGUgPSBbIF1cblxuICAgICAgICB0aGlzLm1lbWJlckRhdGEgPSB7IH1cbiAgICAgICAgdGhpcy5wZXJzb25EYXRhID0geyB9XG4gICAgICAgIHRoaXMubWVtYmVyRm9vZE9taXNzaW9uRGF0YSA9IHsgfVxuXG4gICAgICAgIHRoaXMuZmllbGRzLmZvckVhY2goIGZpZWxkID0+IHtcbiAgICAgICAgICAgIGlmKCB0aGlzLmVkaXRlZEZpZWxkc1sgZmllbGQubmFtZSBdICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICAgICAgdGhpc1sgYCR7ZmllbGQudGFibGV9RGF0YWAgXVsgZmllbGQubmFtZSBdID0gdGhpcy5lZGl0ZWRGaWVsZHNbIGZpZWxkLm5hbWUgXVxuICAgICAgICAgICAgICAgIGlmKCByZXNvdXJjZXNUb1VwZGF0ZS5pbmRleE9mKCBmaWVsZC50YWJsZSApID09PSAtMSApIHJlc291cmNlc1RvVXBkYXRlLnB1c2goIGZpZWxkLnRhYmxlIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSApXG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKCByZXNvdXJjZXNUb1VwZGF0ZS5tYXAoIHJlc291cmNlID0+IHRoaXNbIGB1cGRhdGUke3Jlc291cmNlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcmVzb3VyY2Uuc2xpY2UoMSl9YCBdKCkgKSApXG4gICAgICAgIC50aGVuKCAoKSA9PiB7ICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmVscy5yZXNldEJ0bi5jbGFzc0xpc3QuYWRkKCdmZC1oaWRkZW4nKVxuICAgICAgICAgICAgdGhpcy5lbHMuZWRpdFN1bW1hcnkuY2xhc3NMaXN0LmFkZCgnZmQtaGlkZGVuJylcblxuICAgICAgICAgICAgdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ3N1Y2Nlc3MnLCAnQ3VzdG9tZXIgSW5mbyBVcGRhdGVkIScgKVxuICAgICAgICAgICAgdGhpcy51cGRhdGUoIHRoaXMubW9kZWwgKVxuICAgICAgICB9IClcbiAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICB9LFxuXG4gICAgcG9wdWxhdGVUYWJsZSgpIHtcbiAgICAgICAgdGhpcy5maWVsZHMuZm9yRWFjaCggZmllbGQgPT4ge1xuICAgICAgICAgICAgaWYoIGZpZWxkLnR5cGUgIT09ICdzZWxlY3QnICkgdGhpcy5lbHNbIGZpZWxkLm5hbWUgXS50ZXh0Q29udGVudCA9IHRoaXMubW9kZWxbIGZpZWxkLnRhYmxlIF0uZGF0YVsgZmllbGQubmFtZSBdXG4gICAgICAgIH0gKVxuXG4gICAgICAgIGlmKCB0aGlzLk1lbWJlckZvb2RPbWlzc2lvbi5kYXRhLmxlbmd0aCApIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdHVtID0gdGhpcy5NZW1iZXJGb29kT21pc3Npb24uZGF0YVswXSxcbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMuRm9vZE9taXNzaW9uLkZvb2RzLmRhdGEuZmluZEluZGV4KCBmb29kID0+XG4gICAgICAgICAgICAgICAgICAgICggZm9vZC5wcm9kdWNlaWQgPT0gZGF0dW0ucHJvZHVjZWlkICYmIGZvb2QucHJvZHVjZWlkICE9PSBudWxsICkgfHxcbiAgICAgICAgICAgICAgICAgICAgKCBmb29kLnByb2R1Y2VmYW1pbHlpZCA9PSBkYXR1bS5wcm9kdWNlZmFtaWx5aWQgJiYgZGF0dW0ucHJvZHVjZWlkID09PSBudWxsICkgKVxuXG4gICAgICAgICAgICBpZiggaW5kZXggIT09IC0xICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvb2REYXR1bSA9IHRoaXMuRm9vZE9taXNzaW9uLkZvb2RzLmRhdGFbIGluZGV4IF1cbiAgICAgICAgICAgICAgICBkYXR1bS5uYW1lID0gZm9vZERhdHVtLm5hbWVcbiAgICAgICAgICAgICAgICB0aGlzLkZvb2RPbWlzc2lvbi5tcy5zZXRTZWxlY3Rpb24oIFsgT2JqZWN0LmFzc2lnbigge30sIGZvb2REYXR1bSwgeyBpZDogaW5kZXggfSApIF0gKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoIHRoaXMuZWxzLm9ucGF5bWVudHBsYW4gKSB0aGlzLmVscy5vbnBheW1lbnRwbGFuLnNlbGVjdGVkSW5kZXggPSB0aGlzLm1vZGVsLm1lbWJlci5kYXRhLm9ucGF5bWVudHBsYW4gPyAwIDogMVxuICAgIH0sXG5cbiAgICBwb3N0UmVuZGVyKCkge1xuXG4gICAgICAgIHRoaXMuRm9vZE9taXNzaW9uID0gdGhpcy5mYWN0b3J5LmNyZWF0ZSggJ2Zvb2RPbWlzc2lvbicsIHsgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmVscy5uZXZlclJlY2VpdmUsIG1ldGhvZDogJ2FmdGVyJyB9IH0gKVxuXG4gICAgICAgIHRoaXMuZWxzLm5ldmVyUmVjZWl2ZS5yZW1vdmUoKVxuXG4gICAgICAgIHRoaXMuRm9vZE9taXNzaW9uLmluaXRpYWxpemVGb29kT21pc3Npb24oKVxuICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5Gb29kT21pc3Npb24ucmVtb3ZlSGVscGVyVGV4dCgpXG4gICAgICAgICAgICB0aGlzLkZvb2RPbWlzc2lvbi51bnN0eWxlKClcblxuICAgICAgICAgICAgdGhpcy5Gb29kT21pc3Npb24ub24oICdzZWxlY3Rpb25DaGFuZ2UnLCAoIGUsIG0gKSA9PiB0aGlzLmhhbmRsZU9taXNzaW9uQ2hhbmdlKCBlLCBtICkgKVxuICAgICAgICB9IClcblxuICAgICAgICB0aGlzLmVscy5pbmZvVGFibGUucXVlcnlTZWxlY3RvckFsbCgnZGl2W2NvbnRlbnRlZGl0YWJsZT10cnVlXScpLmZvckVhY2goIGVsID0+IHtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoICdibHVyJywgZSA9PiB0aGlzLmhhbmRsZUJsdXIoZSkgKVxuICAgICAgICB9IClcblxuICAgICAgICB0aGlzLm9uKCAnZWRpdGVkJywgZSA9PiB0aGlzLmhhbmRsZUVkaXQoIGUgKSApXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgcmVzZXQoIGN1c3RvbWVyICkge1xuICAgICAgICB0aGlzLmVscy5yZXNldEJ0bi5jbGFzc0xpc3QuYWRkKCdmZC1oaWRkZW4nKVxuICAgICAgICB0aGlzLnVwZGF0ZSggY3VzdG9tZXIgKVxuICAgIH0sXG5cbiAgICBzaG93RWRpdFN1bW1hcnkoKSB7XG4gICAgICAgIGNvbnN0IGhhc0VkaXRzID0gdGhpcy5oYXNFZGl0cygpXG5cbiAgICAgICAgdGhpcy5lbHMuY2hhbmdlcy5pbm5lckhUTUwgPSAnJ1xuICAgICAgICBcbiAgICAgICAgdGhpcy5maWVsZHMuZm9yRWFjaCggZmllbGQgPT4ge1xuICAgICAgICAgICAgaWYoIHRoaXMuZWRpdGVkRmllbGRzWyBmaWVsZC5uYW1lIF0gIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgICAgICBsZXQgb2xkVmFsdWUgPSAoIGZpZWxkLm5hbWUgPT09ICduZXZlclJlY2VpdmUnIClcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLk1lbWJlckZvb2RPbWlzc2lvbi5kYXRhLmxlbmd0aCA/IHRoaXMuTWVtYmVyRm9vZE9taXNzaW9uLmRhdGFbMF0ubmFtZSA6ICcnXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5tb2RlbFsgZmllbGQudGFibGUgXS5kYXRhWyBmaWVsZC5uYW1lIF1cbiAgICAgICAgICAgICAgICBsZXQgbmV3VmFsdWUgPSB0aGlzLmVkaXRlZEZpZWxkc1sgZmllbGQubmFtZSBdXG5cbiAgICAgICAgICAgICAgICBpZiggISBvbGRWYWx1ZSAmJiBmaWVsZC5uYW1lICE9PSAnb25wYXltZW50cGxhbicgKSBvbGRWYWx1ZSA9ICdFTVBUWSdcbiAgICAgICAgICAgICAgICBpZiggISBuZXdWYWx1ZSAmJiBmaWVsZC5uYW1lICE9PSAnb25wYXltZW50cGxhbicgKSBuZXdWYWx1ZSA9ICdFTVBUWSdcblxuICAgICAgICAgICAgICAgIGlmKCBmaWVsZC5uYW1lID09PSAnb25wYXltZW50cGxhbicgKSB7XG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gb2xkVmFsdWUudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgICBuZXdWYWx1ZSA9IG5ld1ZhbHVlLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggb2xkVmFsdWUgPT09ICdFTVBUWScgJiYgbmV3VmFsdWUgPT09ICdFTVBUWScgKSByZXR1cm5cblxuICAgICAgICAgICAgICAgIHRoaXMuc2x1cnBUZW1wbGF0ZSggeyBpbnNlcnRpb246IHsgZWw6IHRoaXMuZWxzLmNoYW5nZXMgfSwgdGVtcGxhdGU6IHRoaXMuVGVtcGxhdGVzLmZpZWxkRWRpdCggeyBsYWJlbDogZmllbGQubGFiZWwsIG9sZFZhbHVlLCBuZXdWYWx1ZSB9ICkgfSApXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMuZWxzLnJlc2V0QnRuLmNsYXNzTGlzdC50b2dnbGUoICdmZC1oaWRkZW4nLCAhaGFzRWRpdHMgKVxuXG4gICAgICAgIGlmKCAhdGhpcy5pc0hpZGRlbiggdGhpcy5lbHMuZWRpdFN1bW1hcnkgKSAmJiBoYXNFZGl0cyApIHJldHVyblxuXG4gICAgICAgIHRoaXNbIGBzbGlkZSR7aGFzRWRpdHMgPyAnSW4nIDogJ091dCd9YCBdKCB0aGlzLmVscy5lZGl0U3VtbWFyeSwgJ3JpZ2h0JyApXG4gICAgfSxcblxuICAgIFRlbXBsYXRlczoge1xuICAgICAgICBmaWVsZEVkaXQ6IHJlcXVpcmUoJy4vdGVtcGxhdGVzL0ZpZWxkRWRpdCcpXG4gICAgfSxcbiAgICBcbiAgICB1cGRhdGUoIGN1c3RvbWVyICkge1xuICAgICAgICB0aGlzLmNsZWFyKClcblxuICAgICAgICB0aGlzLm1vZGVsID0gY3VzdG9tZXJcbiAgICAgICAgdGhpcy5lZGl0ZWRGaWVsZHMgPSB7IH1cblxuICAgICAgICByZXR1cm4gdGhpcy5NZW1iZXJGb29kT21pc3Npb24uZ2V0KCB7IHF1ZXJ5OiB7IG1lbWJlcmlkOiBjdXN0b21lci5tZW1iZXIuZGF0YS5pZCB9IH0gKVxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy5wb3B1bGF0ZVRhYmxlKCkgKVxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy5zaG93KCkgKVxuICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgIH0sXG5cbiAgICB1cGRhdGVNZW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlhociggeyBtZXRob2Q6ICdQQVRDSCcsIGlkOiB0aGlzLm1vZGVsLm1lbWJlci5kYXRhLmlkLCByZXNvdXJjZTogJ21lbWJlcicsIGRhdGE6IEpTT04uc3RyaW5naWZ5KCB0aGlzLm1lbWJlckRhdGEgKSB9IClcbiAgICAgICAgLnRoZW4oICgpID0+XG4gICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoIHRoaXMubWVtYmVyRGF0YSApLmZvckVhY2goIGZpZWxkID0+IHRoaXMubW9kZWwubWVtYmVyLmRhdGFbIGZpZWxkIF0gPSB0aGlzLm1lbWJlckRhdGFbIGZpZWxkIF0gKVxuICAgICAgICAgICAgKVxuICAgICAgICApXG4gICAgfSxcblxuICAgIHVwZGF0ZU1lbWJlckZvb2RPbWlzc2lvbigpIHtcbiAgICAgICAgY29uc3QgZm9vZElkeCA9IHRoaXMuRm9vZE9taXNzaW9uLkZvb2RzLmRhdGEuZmluZEluZGV4KCBkYXR1bSA9PiBkYXR1bS5uYW1lID09IHRoaXMubWVtYmVyRm9vZE9taXNzaW9uRGF0YS5uZXZlclJlY2VpdmUgKVxuXG4gICAgICAgIGlmKCBmb29kSWR4ID09PSAtMSApIHJldHVybiB0aGlzLk1lbWJlckZvb2RPbWlzc2lvbi5kZWxldGUoIHRoaXMuTWVtYmVyRm9vZE9taXNzaW9uLmRhdGFbMF0uaWQgKVxuXG4gICAgICAgIGNvbnN0IG1zRGF0YSA9IHRoaXMuRm9vZE9taXNzaW9uLkZvb2RzLmRhdGFbIGZvb2RJZHggXSxcbiAgICAgICAgICAgIGRhdGEgPSB7IG1lbWJlcmlkOiB0aGlzLm1vZGVsLm1lbWJlci5kYXRhLmlkLCBwcm9kdWNlaWQ6IG1zRGF0YS5wcm9kdWNlaWQsIHByb2R1Y2VmYW1pbHlpZDogbXNEYXRhLnByb2R1Y2VpZCA/IG51bGwgOiBtc0RhdGEucHJvZHVjZWZhbWlseWlkIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5NZW1iZXJGb29kT21pc3Npb24uZGF0YS5sZW5ndGhcbiAgICAgICAgICAgID8gdGhpcy5NZW1iZXJGb29kT21pc3Npb24ucGF0Y2goIHRoaXMuTWVtYmVyRm9vZE9taXNzaW9uLmRhdGFbMF0uaWQsIGRhdGEgKVxuICAgICAgICAgICAgOiB0aGlzLk1lbWJlckZvb2RPbWlzc2lvbi5wb3N0KCBkYXRhIClcbiAgICB9LFxuXG4gICAgdXBkYXRlUGVyc29uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5YaHIoIHsgbWV0aG9kOiAnUEFUQ0gnLCBpZDogdGhpcy5tb2RlbC5wZXJzb24uZGF0YS5pZCwgcmVzb3VyY2U6ICdwZXJzb24nLCBkYXRhOiBKU09OLnN0cmluZ2lmeSggdGhpcy5wZXJzb25EYXRhICkgfSApXG4gICAgICAgIC50aGVuKCAoKSA9PlxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKCB0aGlzLnBlcnNvbkRhdGEgKS5mb3JFYWNoKCBmaWVsZCA9PiB0aGlzLm1vZGVsLnBlcnNvbi5kYXRhWyBmaWVsZCBdID0gdGhpcy5wZXJzb25EYXRhWyBmaWVsZCBdIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgIH1cblxufSApXG4iLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHsgfSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwgcmVxdWlyZSgnLi9TdWJtaXR0ZXInKSwge1xuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgIGNhbmNlbEJ0bjogJ2NsaWNrJyxcbiAgICAgICAgc3VibWl0QnRuOiAnY2xpY2snLFxuICAgIH0sXG5cbiAgICBvbkNhbmNlbEJ0bkNsaWNrKCkge1xuICAgICAgICB0aGlzLmRlbGV0ZSgpXG4gICAgfSxcblxuICAgIG9uU3VibWl0QnRuQ2xpY2soKSB7XG4gICAgICAgIGlmKCB0aGlzLnN1Ym1pdHRpbmcgKSByZXR1cm5cbiAgICAgICAgdGhpcy5vblN1Ym1pdFN0YXJ0KClcbiAgICAgICAgdGhpcy5zdWJtaXQoKVxuICAgICAgICAudGhlbiggKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCB0aGlzLm9uU3VibWl0RW5kKCkgKSApXG4gICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLmRlbGV0ZSgpIClcbiAgICAgICAgLmNhdGNoKCBlID0+IHRoaXMuaGFuZGxlU3VibWlzc2lvbkVycm9yKGUpIClcbiAgICB9LFxuXG4gICAgc3VibWl0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC5kZWxldGUoKVxuICAgICAgICAudGhlbigga2V5VmFsdWUgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCAnbW9kZWxEZWxldGVkJywgdGhpcy5tb2RlbC5kYXRhIClcbiAgICAgICAgICAgIHRoaXMuVG9hc3Quc2hvd01lc3NhZ2UoICdzdWNjZXNzJywgdGhpcy50b2FzdFN1Y2Nlc3MgfHwgYFN1Y2Nlc3NgIClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICB9IClcbiAgICB9XG5cbn0gKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlKCBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgSWNvbnM6IHtcbiAgICAgICAgZXJyb3I6IHJlcXVpcmUoJy4vdGVtcGxhdGVzL2xpYi9lcnJvcicpKCksXG4gICAgICAgIHN1Y2Nlc3M6IHJlcXVpcmUoJy4vdGVtcGxhdGVzL2xpYi9jaGVja21hcmsnKSgpXG4gICAgfSxcbiAgICBcbiAgICBiaW5kRXZlbnRzKCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duIClcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCAnbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwIClcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCAnbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSApXG4gICAgfSxcblxuICAgIGxpc3RlbigpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMrK1xuXG4gICAgICAgIGlmKCB0aGlzLmxpc3RlbmVycyA9PT0gMSApIHRoaXMuYmluZEV2ZW50cygpXG4gICAgfSxcblxuICAgIG5hbWU6ICdEcmFnZ2VyJyxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gMFxuXG4gICAgICAgIHRoaXMub25Nb3VzZURvd24gPSBlID0+IHRoaXMuZW1pdCgnbW91c2Vkb3duJywgZSlcbiAgICAgICAgdGhpcy5vbk1vdXNlVXAgPSBlID0+IHRoaXMuZW1pdCgnbW91c2V1cCcsIGUpXG4gICAgICAgIHRoaXMub25Nb3VzZU1vdmUgPSBlID0+IHRoaXMuZW1pdCgnbW91c2Vtb3ZlJywgZSlcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICBzdG9wTGlzdGVuaW5nKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmVycy0tXG5cbiAgICAgICAgaWYoIHRoaXMubGlzdGVuZXJzID09PSAwICkgdGhpcy51bmJpbmRFdmVudHMoKVxuICAgIH0sXG5cbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi90ZW1wbGF0ZXMvRHJhZ2dlcicpLFxuXG4gICAgdW5iaW5kRXZlbnRzKCkge1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duIClcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwIClcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2Vtb3ZlJywgdGhpcy5vbk1vdXNlTW92ZSApXG5cbiAgICB9XG5cbn0gKSwgeyB9ICkuY29uc3RydWN0b3IoKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgJDogcmVxdWlyZSgnanF1ZXJ5JyksXG5cbiAgICBGb29kczogcmVxdWlyZSgnLi4vbW9kZWxzL0Zvb2QnKSxcblxuICAgIGNsZWFyKCkgeyB0aGlzLm1zLmNsZWFyKCkgfSxcblxuICAgIGdldE1hZ2ljU3VnZ2VzdCgpIHsgcmV0dXJuIHRoaXMubXMgfSxcblxuICAgIGluaXRpYWxpemVGb29kT21pc3Npb24oKSB7ICAgICAgXG4gICAgICAgIHJldHVybiB0aGlzLkZvb2RzLmdldCgpXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICBpZiggISB0aGlzLkZvb2RzLmRhdGEubGVuZ3RoICkgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG5cbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLkZvb2RzLmRhdGEubWFwKCAoIGZvb2QsIGkgKSA9PiBPYmplY3QuYXNzaWduKCB7IGlkOiBpIH0sIGZvb2QgKSApLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyZXIgPSAgZGF0YSA9PiBcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wcm9kdWNlaWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYDxzcGFuIGNsYXNzPVwiJHtkYXRhLnByb2R1Y2VmYW1pbHlpZCA/ICdwcm9kdWNlLWluLWZhbWlseScgOiAnJ31cIj4ke2RhdGEubmFtZX08L3NwYW4+YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgPHNwYW4gY2xhc3M9XCJwcm9kdWNlLWZhbWlseVwiPkFsbCAke2RhdGEubmFtZX08L3NwYW4+YFxuXG4gICAgICAgICAgICB0aGlzLm1zID0gdGhpcy4kKCB0aGlzLmVscy5jb250YWluZXIgKS5tYWdpY1N1Z2dlc3QoIHtcbiAgICAgICAgICAgICAgICBhbGxvd0ZyZWVFbnRyaWVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgIGhpZ2hsaWdodDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICcnLFxuICAgICAgICAgICAgICAgIG1heERyb3BIZWlnaHQ6IDIwMCxcbiAgICAgICAgICAgICAgICBtYXhTZWxlY3Rpb246IDEsXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uUmVuZGVyZXI6IHJlbmRlcmVyLFxuICAgICAgICAgICAgICAgIHZhbHVlRmllbGQ6ICdpZCdcbiAgICAgICAgICAgIH0gKVxuXG4gICAgICAgICAgICB0aGlzLm1zLnZhbCA9IHZhbHVlID0+XG4gICAgICAgICAgICAgICAgdmFsdWUgPyB0aGlzLm1zLnNldFNlbGVjdGlvbiggdmFsdWUgKSA6IHRoaXMubXMuZ2V0U2VsZWN0aW9uKClcblxuICAgICAgICAgICAgdGhpcy4kKHRoaXMubXMpLm9uKCAnc2VsZWN0aW9uY2hhbmdlJywgKCBlLCBtICkgPT4gdGhpcy5lbWl0KCAnc2VsZWN0aW9uQ2hhbmdlJywgZSwgbSApIClcblxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIH0gKVxuICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgIH0sXG5cbiAgICByZW1vdmVIZWxwZXJUZXh0KCkgeyB0aGlzLm1zLmhlbHBlclswXS5yZW1vdmUoKSB9LFxuXG4gICAgc2V0UGxhY2Vob2xkZXIoIHRleHQgKSB7IHRoaXMubXMuaW5wdXQuYXR0ciggJ3BsYWNlaG9sZGVyJywgdGV4dCApIH0sXG5cbiAgICB1bnN0eWxlKCkgeyB0aGlzLm1zLmNvbnRhaW5lci5yZW1vdmVDbGFzcygnZm9ybS1jb250cm9sJykgfVxuXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHtcblxuXG59IClcbiIsImNvbnN0IFN1Ym1pdHRlciA9IHJlcXVpcmUoJy4vU3VibWl0dGVyJylcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7IH0sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIFN1Ym1pdHRlciwge1xuXG4gICAgRmxhdHBpY2tyOiByZXF1aXJlKCdmbGF0cGlja3InKSxcblxuICAgIGV2ZW50czogT2JqZWN0LmFzc2lnbiggU3VibWl0dGVyLmV2ZW50cywgeyBwcmV2aWV3QnRuOiAnY2xpY2snIH0gKSxcblxuICAgIG9uUHJldmlld0J0bkNsaWNrKCBlICkge1xuICAgICAgICBlLnRhcmdldC5uZXh0RWxlbWVudFNpYmxpbmcuc3JjID0gdGhpcy5Gb3JtYXQuSW1hZ2VTcmMoIGUudGFyZ2V0LnBhcmVudEVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy52YWx1ZSApXG4gICAgfSxcblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmlucHV0RWxzLmZvckVhY2goIGVsID0+IGVsLnZhbHVlID0gJycgKVxuXG4gICAgICAgIGlmKCB0aGlzLnZpZXdzICkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoIHRoaXMudmlld3MgKS5mb3JFYWNoKCBrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnZpZXdzWyBrZXkgXVxuXG4gICAgICAgICAgICAgICAgaWYoIHZpZXcuaXRlbVZpZXdzICkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3Lml0ZW1WaWV3cy5mb3JFYWNoKCBpdGVtVmlldyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggaXRlbVZpZXcubmFtZSAhPT0gJ0Zvcm0nICkgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtVmlldy5jbGVhcigpXG4gICAgICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCB2aWV3Lm5hbWUgIT09ICdGb3JtJyApIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB2aWV3LmNsZWFyKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IClcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRFbGVtZW50VmFsdWUoIGVsLCBhdHRyaWJ1dGUgKSB7XG4gICAgICAgIGlmKCBhdHRyaWJ1dGUgPT09IHVuZGVmaW5lZCB8fCAoICFhdHRyaWJ1dGUuZmsgJiYgYXR0cmlidXRlLnJhbmdlICYmIHR5cGVvZiBhdHRyaWJ1dGUucmFuZ2UgPT09ICdzdHJpbmcnICkgKSByZXR1cm4gZWwudmFsdWVcbiAgICB9LFxuXG4gICAgZ2V0Rm9ybVZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IHRoaXMubW9kZWwuYXR0cmlidXRlc1xuXG4gICAgICAgIGxldCBkYXRhID0gdGhpcy5yZWR1Y2VyKCBPYmplY3Qua2V5cyggdGhpcy5lbHMgKSwga2V5ID0+XG4gICAgICAgICAgICAvKElOUFVUfFNFTEVDVHxURVhUQVJFQSkvLnRlc3QoIHRoaXMuZWxzWyBrZXkgXS50YWdOYW1lIClcbiAgICAgICAgICAgICAgICA/IHsgW2tleV06IHRoaXMuZ2V0RWxlbWVudFZhbHVlKCB0aGlzLmVsc1sga2V5IF0sIGF0dHJpYnV0ZXMuZmluZCggYXR0cmlidXRlID0+IGF0dHJpYnV0ZS5uYW1lID09PSBrZXkgKSApIH1cbiAgICAgICAgICAgICAgICA6IHsgfVxuICAgICAgICApXG5cbiAgICAgICAgYXR0cmlidXRlcy5mb3JFYWNoKCBhdHRyaWJ1dGUgPT4ge1xuICAgICAgICAgICAgaWYoIGF0dHJpYnV0ZS5mayApIHsgZGF0YVsgYXR0cmlidXRlLmNvbHVtbk5hbWUgXSA9IHRoaXMudmlld3NbIGF0dHJpYnV0ZS5mayBdLmdldFNlbGVjdGVkSWQoKSB9XG4gICAgICAgICAgICBlbHNlIGlmKCBhdHRyaWJ1dGUucmFuZ2UgPT09ICdHZW9ncmFwaHknICkgeyBkYXRhWyBhdHRyaWJ1dGUubmFtZSBdID0gQXJyYXkuZnJvbSggdGhpcy5lbHNbIGF0dHJpYnV0ZS5uYW1lIF0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKSApLm1hcCggZWwgPT4gZWwudmFsdWUgKSB9XG4gICAgICAgICAgICBlbHNlIGlmKCB0eXBlb2YgYXR0cmlidXRlLnJhbmdlID09PSBcIm9iamVjdFwiICkgeyBkYXRhWyBhdHRyaWJ1dGUubmFtZSBdID0gdGhpcy52aWV3c1sgYXR0cmlidXRlLm5hbWUgXS5nZXRGb3JtVmFsdWVzKCkgfVxuICAgICAgICAgICAgZWxzZSBpZiggYXR0cmlidXRlLnJhbmdlID09PSBcIkxpc3RcIiApIHtcbiAgICAgICAgICAgICAgICBkYXRhWyBhdHRyaWJ1dGUubmFtZSBdID0gQXJyYXkuZnJvbSggdGhpcy52aWV3c1sgYXR0cmlidXRlLm5hbWUgXS5lbHMubGlzdC5jaGlsZHJlbiApLm1hcCggaXRlbUVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSBhdHRyaWJ1dGUuaXRlbVJhbmdlID09PSAnVGV4dCcgPyAnLml0ZW0gdGV4dGFyZWEnIDogJy5pdGVtIGlucHV0J1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50VmFsdWUoIGl0ZW1FbC5xdWVyeVNlbGVjdG9yKCBzZWxlY3RvciApLCB7IHJhbmdlOiBhdHRyaWJ1dGUuaXRlbVJhbmdlIH0gKVxuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IClcblxuICAgICAgICByZXR1cm4gZGF0YVxuICAgIH0sXG5cbiAgICBoYW5kbGVWYWxpZGF0aW9uRXJyb3IoIGF0dHIgKSB7XG4gICAgICAgIHRoaXMuVG9hc3Quc2hvd01lc3NhZ2UoICdlcnJvcicsIGF0dHIuZXJyb3IgKVxuICAgICAgICB0aGlzLmVsc1sgYXR0ci5uYW1lIF0uY2xhc3NMaXN0LmFkZCggJ2Vycm9yJyApXG4gICAgICAgIHRoaXMub25TdWJtaXRFbmQoKVxuICAgIH0sXG5cbiAgICBpbml0VHlwZUFoZWFkcygpIHtcbiAgICAgICAgdGhpcy5tb2RlbC5hdHRyaWJ1dGVzLmZvckVhY2goIGF0dHJpYnV0ZSA9PiB7XG4gICAgICAgICAgICBpZiggYXR0cmlidXRlLmZrICkgdGhpcy52aWV3c1sgYXR0cmlidXRlLmZrIF0uc2V0UmVzb3VyY2UoIGF0dHJpYnV0ZS5mayApLmluaXRBdXRvQ29tcGxldGUoIHRoaXMubW9kZWwuZ2l0KCBhdHRyaWJ1dGUuY29sdW1uTmFtZSApIClcbiAgICAgICAgICAgIGVsc2UgaWYoIGF0dHJpYnV0ZS5yYW5nZSA9PT0gJ1RpbWUnICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsYXRwaWNrciA9IHRoaXMuRmxhdHBpY2tyKCB0aGlzLmVsc1sgYXR0cmlidXRlLm5hbWUgXSwge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVUaW1lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBub0NhbGVuZGFyOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkYXRlRm9ybWF0OiBcIkg6aVwiXG4gICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICB9IGVsc2UgaWYoIGF0dHJpYnV0ZS5yYW5nZSA9PT0gJ0RhdGUnICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZsYXRwaWNrciA9IHRoaXMuRmxhdHBpY2tyKCB0aGlzLmVsc1sgYXR0cmlidXRlLm5hbWUgXSwgeyB9IClcbiAgICAgICAgICAgIH0gZWxzZSBpZiggdHlwZW9mIGF0dHJpYnV0ZS5yYW5nZSA9PT0gXCJvYmplY3RcIiApIHtcbiAgICAgICAgICAgICAgICB0aGlzLlZpZXdzWyBhdHRyaWJ1dGUubmFtZSBdID0ge1xuICAgICAgICAgICAgICAgICAgICBkaXNhbGxvd0VudGVyS2V5U3VibWlzc2lvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IE9iamVjdC5jcmVhdGUoIHRoaXMuTW9kZWwgKS5jb25zdHJ1Y3RvciggdGhpcy5tb2RlbC5kYXRhWyBhdHRyaWJ1dGUubmFtZSBdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhOiB7IGlzTmVzdGVkOiAhdGhpcy5tb2RlbC5tZXRhLmlzTmVzdGVkLCAuLi50aGlzLm1vZGVsLm1ldGEgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IGF0dHJpYnV0ZS5yYW5nZVxuICAgICAgICAgICAgICAgICAgICB9ICksXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlT3B0czogeyBoaWRlQnV0dG9uUm93OiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIFZpZXdzOiB7IH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gdGhpcy5lbHNbIGF0dHJpYnV0ZS5uYW1lIF1cbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5lbHNbIGF0dHJpYnV0ZS5uYW1lIF1cbiAgICAgICAgICAgICAgICB0aGlzLnN1YnZpZXdFbGVtZW50cyA9IFsgeyBlbCwgdmlldzogJ2Zvcm0nLCBuYW1lOiBhdHRyaWJ1dGUubmFtZSB9IF1cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclN1YnZpZXdzKClcbiAgICAgICAgICAgIH0gZWxzZSBpZiggYXR0cmlidXRlLnJhbmdlID09PSBcIkxpc3RcIiApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xsZWN0aW9uRGF0YSA9IHRoaXMubW9kZWwuZ2l0KCBhdHRyaWJ1dGUubmFtZSApID8gdGhpcy5tb2RlbC5naXQoIGF0dHJpYnV0ZS5uYW1lICkubWFwKCBkYXR1bSA9PiAoIHsgdmFsdWU6IGRhdHVtIH0gKSApIDogWyBdO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5WaWV3c1sgYXR0cmlidXRlLm5hbWUgXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IE9iamVjdC5jcmVhdGUoIHRoaXMubW9kZWwgKS5jb25zdHJ1Y3Rvcigge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogT2JqZWN0LmNyZWF0ZSggdGhpcy5Nb2RlbCApLmNvbnN0cnVjdG9yKCBjb2xsZWN0aW9uRGF0YSwgeyBtZXRhOiB7IGtleTogJ3ZhbHVlJyB9IH0gKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRG9jdW1lbnRMaXN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogJ2xpc3RJdGVtJ1xuICAgICAgICAgICAgICAgICAgICB9ICksXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1UZW1wbGF0ZTogZGF0dW0gPT4gUmVmbGVjdC5hcHBseSggdGhpcy5Gb3JtYXQuR2V0Rm9ybUZpZWxkLCB0aGlzLkZvcm1hdCwgWyB7IHJhbmdlOiBhdHRyaWJ1dGUuaXRlbVJhbmdlIH0sIGRhdHVtLnZhbHVlLCB0aGlzLm1vZGVsLm1ldGEgXSApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gdGhpcy5lbHNbIGF0dHJpYnV0ZS5uYW1lIF1cbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5lbHNbIGF0dHJpYnV0ZS5uYW1lIF1cbiAgICAgICAgICAgICAgICB0aGlzLnN1YnZpZXdFbGVtZW50cyA9IFsgeyBlbCwgdmlldzogJ2xpc3QnLCBuYW1lOiBhdHRyaWJ1dGUubmFtZSB9IF1cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclN1YnZpZXdzKClcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdzWyBhdHRyaWJ1dGUubmFtZSBdLm9uKCAnYWRkQ2xpY2tlZCcsICgpID0+IHRoaXMudmlld3NbIGF0dHJpYnV0ZS5uYW1lIF0uYWRkKCB7IHZhbHVlOiAnJyB9ICkgKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld3NbIGF0dHJpYnV0ZS5uYW1lIF0ub24oICdkZWxldGVDbGlja2VkJywgZGF0dW0gPT4gdGhpcy52aWV3c1sgYXR0cmlidXRlLm5hbWUgXS5yZW1vdmUoIGRhdHVtICkgKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgcG9zdFJlbmRlcigpIHtcbiAgICAgICAgaWYoIHRoaXMubW9kZWwubWV0YS5pc05lc3RlZCAmJiB0aGlzLmVscy5jb250YWluZXIuY2xvc2VzdCgnLmZvcm0tZ3JvdXAnKSApIHRoaXMuZWxzLmNvbnRhaW5lci5jbG9zZXN0KCcuZm9ybS1ncm91cCcpLmNsYXNzTGlzdC5hZGQoJ3ZlcnRpY2FsJylcbiAgICAgICAgdGhpcy5pbnB1dEVscyA9IHRoaXMuZWxzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYScpXG5cbiAgICAgICAgaWYoICF0aGlzLmRpc2FsbG93RW50ZXJLZXlTdWJtaXNzaW9uICkgdGhpcy5lbHMuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoICdrZXl1cCcsIGUgPT4geyBpZiggZS5rZXlDb2RlID09PSAxMyApIHRoaXMub25TdWJtaXRCdG5DbGljaygpIH0gKVxuXG4gICAgICAgIHRoaXMuaW5wdXRFbHMuZm9yRWFjaCggZWwgPT5cbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoICdmb2N1cycsICgpID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJykgKVxuICAgICAgICApXG5cbiAgICAgICAgaWYoIHRoaXMubW9kZWwgKXtcbiAgICAgICAgICAgIHRoaXMubW9kZWwub24oICd2YWxpZGF0aW9uRXJyb3InLCBhdHRyID0+IHRoaXMuaGFuZGxlVmFsaWRhdGlvbkVycm9yKCBhdHRyICkgKVxuICAgICAgICAgICAgdGhpcy5pbml0VHlwZUFoZWFkcygpXG4gICAgICAgICAgICB0aGlzLmtleSA9IHRoaXMubW9kZWwubWV0YSA/IHRoaXMubW9kZWwubWV0YS5rZXkgOiAnX2lkJ1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMgXG4gICAgfSxcblxuICAgIHN1Ym1pdCgpIHtcbiAgICAgICAgaWYoICF0aGlzLnZhbGlkYXRlKCB0aGlzLmdldEZvcm1WYWx1ZXMoKSApICkgcmV0dXJuIFByb21pc2UucmVzb2x2ZSggdGhpcy5vblN1Ym1pdEVuZCgpIClcblxuICAgICAgICBjb25zdCBtZXRob2QgPSAhQm9vbGVhbiggdGhpcy5tb2RlbC5kYXRhWyB0aGlzLmtleSBdICApID8gJ3Bvc3QnIDogdGhpcy5rZXkgPT09ICdpZCcgPyAncGF0Y2gnIDogJ3B1dCdcblxuICAgICAgICByZXR1cm4gKCBtZXRob2QgPT09ICdwb3N0J1xuICAgICAgICAgICAgPyB0aGlzLm1vZGVsLnBvc3QoKVxuICAgICAgICAgICAgOiB0aGlzLm1vZGVsWyBtZXRob2QgXSggdGhpcy5tb2RlbC5kYXRhWyB0aGlzLmtleSBdLCB0aGlzLm9taXQoIHRoaXMubW9kZWwuZGF0YSwgWyB0aGlzLmtleSBdICkgKVxuICAgICAgICApXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoIG1ldGhvZCA9PT0gJ3Bvc3QnID8gJ3Bvc3RlZCcgOiAncHV0JywgT2JqZWN0LmFzc2lnbigge30sIHRoaXMubW9kZWwuZGF0YSApIClcbiAgICAgICAgICAgIHRoaXMubW9kZWwuZGF0YSA9IHsgfVxuICAgICAgICAgICAgdGhpcy5jbGVhcigpXG4gICAgICAgICAgICB0aGlzLlRvYXN0LnNob3dNZXNzYWdlKCAnc3VjY2VzcycsIHRoaXMudG9hc3RTdWNjZXNzIHx8IGBTdWNjZXNzYCApXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgfSApXG4gICAgfSxcblxuICAgIHZhbGlkYXRlKCBkYXRhICkge1xuICAgICAgICBsZXQgdmFsaWQgPSB0cnVlXG5cbiAgICAgICAgaWYoICF0aGlzLm1vZGVsLnZhbGlkYXRlKCBkYXRhICkgKSB2YWxpZCA9IGZhbHNlXG5cbiAgICAgICAgaWYoIHRoaXMudmlld3MgKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyggdGhpcy52aWV3cyApLmZvckVhY2goIGtleSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMudmlld3NbIGtleSBdXG5cbiAgICAgICAgICAgICAgICBpZiggdmlldy5pdGVtVmlld3MgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuaXRlbVZpZXdzLmZvckVhY2goIGl0ZW1WaWV3ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpdGVtVmlldy5uYW1lICE9PSAnRm9ybScgKSByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhaXRlbVZpZXcudmFsaWRhdGUoIGl0ZW1WaWV3LmdldEZvcm1WYWx1ZXMoKSApICkgdmFsaWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiggdmlldy5uYW1lICE9PSAnRm9ybScgKSByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgaWYoICF2aWV3LnZhbGlkYXRlKCB2aWV3LmdldEZvcm1WYWx1ZXMoKSApICkgdmFsaWQgPSBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbGlkXG4gICAgfVxuXG59IClcbiIsImNvbnN0IEN1c3RvbUNvbnRlbnQgPSByZXF1aXJlKCcuL3V0aWwvQ3VzdG9tQ29udGVudCcpXG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIEN1c3RvbUNvbnRlbnQsIHtcblxuXG5cbn0gKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgTmF2OiByZXF1aXJlKCAnLi4vbW9kZWxzL05hdicpLFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgIGFjY291bnRCdG46ICdjbGljaycsXG4gICAgICAgIGNzYVNpZ25VcEJ0bjogJ2NsaWNrJyxcbiAgICAgICAganVzdGlmeTogJ2NsaWNrJyxcbiAgICAgICAgbmF2TGlua3M6ICdjbGljaycsXG4gICAgICAgIHNpZ25JbkJ0bjogJ2NsaWNrJyxcbiAgICAgICAgc2lnbk91dEJ0bjogJ2NsaWNrJyxcbiAgICAgICAgdGl0bGU6ICdjbGljaycsXG4gICAgICAgIHVzZXJOYW1lOiAnY2xpY2snXG4gICAgfSxcblxuICAgIG9uQWNjb3VudEJ0bkNsaWNrKCkge1xuICAgICAgICBjb25zb2xlLmxvZyggJ29uQWNjb3VudEJ0bkNsaWNrJyApXG4gICAgICAgIHRoaXMudG9nZ2xlQWNjb3VudE1lbnUoKVxuICAgICAgICB0aGlzLmVtaXQoICduYXZpZ2F0ZScsICdhY2NvdW50LWhvbWUnIClcbiAgICB9LFxuXG4gICAgb25Dc2FTaWduVXBCdG5DbGljaygpIHsgdGhpcy5lbWl0KCAnbmF2aWdhdGUnLCAnc2lnbi11cCcgKSB9LFxuXG4gICAgb25KdXN0aWZ5Q2xpY2soKSB7IHRoaXMuZWxzLm5hdkxpbmtzLmNsYXNzTGlzdC50b2dnbGUoJ2lzLW1vYmlsZScpIH0sXG5cbiAgICBvbkxvZ2luKCkge1xuICAgICAgICB0aGlzLm9uVXNlcigpXG4gICAgICAgIHRoaXMuZGlzcGxheWluZ0xvZ2luID0gZmFsc2VcbiAgICAgICAgdGhpcy50b2dnbGVBY2NvdW50VUkoKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9LFxuXG4gICAgb25OYXZMaW5rc0NsaWNrKCBlICkge1xuICAgICAgICBjb25zb2xlLmxvZyggJ29uTmF2TGlua3NDbGljaycgKVxuICAgICAgICBpZiggdGhpcy5kaXNwbGF5aW5nTG9naW4gKSB0aGlzLmVtaXQoJ3JlbW92ZUxvZ2luJylcbiAgICAgICAgY29uc3QgZWwgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpXG5cbiAgICAgICAgaWYoICFlbCApIHJldHVyblxuXG4gICAgICAgIHRoaXMuZW1pdCggJ25hdmlnYXRlJywgZWwuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKSApXG4gICAgICAgIGlmKCB0aGlzLmVscy5uYXZMaW5rcy5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLW1vYmlsZScpICkgdGhpcy5lbHMubmF2TGlua3MuY2xhc3NMaXN0LnJlbW92ZSgnaXMtbW9iaWxlJylcbiAgICB9LFxuXG4gICAgb25TaWduSW5CdG5DbGljaygpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdzaWduSW5DbGlja2VkJylcbiAgICAgICAgdGhpcy5kaXNwbGF5aW5nTG9naW4gPSB0cnVlXG4gICAgfSxcblxuICAgIG9uU2lnbk91dEJ0bkNsaWNrKCkge1xuICAgICAgICBjb25zb2xlLmxvZyggJ29uU2lnbk91dEJ0bkNsaWNrJyApXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGBwYXRjaHdvcmtqd3Q9OyBkb21haW49JHt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9OyBwYXRoPS87IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVQ7YFxuXG4gICAgICAgIHRoaXMudXNlci5jbGVhcigpXG5cbiAgICAgICAgdGhpcy51c2VyLnNldCggdGhpcy51c2VyLmRlZmF1bHRzKCkgKVxuXG4gICAgICAgIHRoaXMudG9nZ2xlQWNjb3VudFVJKClcbiAgICAgICAgdGhpcy50b2dnbGVBY2NvdW50TWVudSgpXG5cbiAgICAgICAgdGhpcy5lbWl0KCdzaWduT3V0Q2xpY2tlZCcpXG5cbiAgICAgICAgdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ3N1Y2Nlc3MnLCAnWW91IGFyZSBub3cgc2lnbmVkIG91dC4nIClcbiAgICB9LFxuXG4gICAgb25UaXRsZUNsaWNrKCkge1xuICAgICAgICBpZiggdGhpcy5kaXNwbGF5aW5nTG9naW4gKSB0aGlzLmVtaXQoJ3JlbW92ZUxvZ2luJylcbiAgICAgICAgdGhpcy5lbWl0KCAnbmF2aWdhdGUnLCAnLycgKVxuICAgIH0sXG5cbiAgICBvblVzZXIoKSB7IHRoaXMuZWxzLnVzZXJOYW1lLnRleHRDb250ZW50ID0gYEhlbGxvLCAke3RoaXMudXNlci5nZXQoJ25hbWUnKX1gIH0sXG5cbiAgICBvblVzZXJOYW1lQ2xpY2soZSkgeyBjb25zb2xlLmxvZyggJ29uVXNlck5hbWVDbGljaycpOyB0aGlzLnRvZ2dsZUFjY291bnRNZW51KCk7IGUuc3RvcFByb3BhZ2F0aW9uKCkgfSxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIHRoaXMub24oICdpbWdMb2FkZWQnLCAoKSA9PiB0aGlzLmVscy5uYXYuY2xhc3NMaXN0LnJlbW92ZSgnZmQtaGlkZGVuJykgKVxuICAgICAgICAvL2NvbnNvbGUubG9nKCB0aGlzLmVscy5hY2NvdW50QnRuIClcbiAgICAgICAgLy90aGlzLmVscy5hY2NvdW50QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY29uc29sZS5sb2coICdjbGlja2tra2tra2snICkgKVxuICAgICAgICB0aGlzLnRvZ2dsZUFjY291bnRVSSgpXG5cbiAgICAgICAgaWYoIHRoaXMudXNlci5pc0xvZ2dlZEluKCkgKSB0aGlzLm9uVXNlcigpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgdGVtcGxhdGVPcHRzKCkge1xuICAgICAgICByZXR1cm4geyBmaWVsZHM6IHRoaXMuTmF2LmRhdGEsIGhvbWU6IHsgbGFiZWw6ICdQYXRjaHdvcmsgR2FyZGVucycsIG5hbWU6ICdob21lJyB9IH1cbiAgICB9LFxuXG4gICAgdG9nZ2xlQWNjb3VudFVJKCkge1xuICAgICAgICB0aGlzLmVscy5zaWduSW5CdG4uY2xhc3NMaXN0LnRvZ2dsZSggJ2ZkLWhpZGRlbicsIHRoaXMudXNlci5pc0xvZ2dlZEluKCkgKVxuICAgICAgICB0aGlzLmVscy5tZW1iZXJNZW51LmNsYXNzTGlzdC50b2dnbGUoICdmZC1oaWRkZW4nLCAhdGhpcy51c2VyIHx8ICF0aGlzLnVzZXIuaWQgKVxuICAgIH0sXG5cbiAgICB0b2dnbGVBY2NvdW50TWVudSgpIHtcbiAgICAgICAgdGhpcy5lbHMuYWNjb3VudE1lbnUuY2xhc3NMaXN0LnRvZ2dsZSggJ2ZkLWhpZGRlbicsICF0aGlzLmVscy5hY2NvdW50TWVudS5jbGFzc0xpc3QuY29udGFpbnMoJ2ZkLWhpZGRlbicpIClcbiAgICB9LFxuXG4gICAgdG9nZ2xlU2lnblVwQnRuKCB2aWV3ICkge1xuICAgICAgICB0aGlzLmVscy5jc2FTaWduVXBCdG4ucGFyZW50Tm9kZS5jbGFzc0xpc3QudG9nZ2xlKCAnZmQtaGlkZGVuJywgdmlldyA9PT0gJ2hvbWUnIClcbiAgICB9XG5cbn0gKVxuIiwiY29uc3QgQ3VzdG9tQ29udGVudCA9IHJlcXVpcmUoJy4vdXRpbC9DdXN0b21Db250ZW50JylcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwgQ3VzdG9tQ29udGVudCwge1xuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgIGpvaW5CdG46ICdjbGljaydcbiAgICB9LFxuXG4gICAgb25Kb2luQnRuQ2xpY2soKSB7IHRoaXMuZW1pdCggJ25hdmlnYXRlJywgJ3NpZ24tdXAnICkgfSxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIHRoaXMub24oICdpbWdMb2FkZWQnLCAoKSA9PiB0aGlzLmVscy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaW1nLWxvYWRlZCcpIClcblxuICAgICAgICByZXR1cm4gQ3VzdG9tQ29udGVudC5wb3N0UmVuZGVyLmNhbGwodGhpcylcbiAgICB9XG5cbn0gKVxuIiwiY29uc3QgU3VwZXIgPSByZXF1aXJlKCcuL19fcHJvdG9fXycpXG5cbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbiggeyB9LCBTdXBlciwge1xuXG4gICAgYWRkKCBkYXR1bSwgc29ydD1mYWxzZSApIHtcbiAgICAgICAgaWYoICF0aGlzLmNvbGxlY3Rpb24gKSB0aGlzLmNvbGxlY3Rpb24gPSBPYmplY3QuY3JlYXRlKCB0aGlzLk1vZGVsIClcblxuICAgICAgICBjb25zdCBrZXlWYWx1ZSA9IGRhdHVtWyB0aGlzLmtleSBdXG4gICAgICAgIGxldCBpbnNlcnRpb24gPSB7IGVsOiB0aGlzLmVscy5saXN0IH1cblxuICAgICAgICB0aGlzLmNvbGxlY3Rpb24uYWRkKCBkYXR1bSApXG4gICAgICAgIHRoaXMuY29sbGVjdGlvbi5zdG9yZVsgdGhpcy5rZXkgXVsga2V5VmFsdWUgXSA9IGRhdHVtXG5cbiAgICAgICAgaWYoIHNvcnQgJiYgdGhpcy5jb2xsZWN0aW9uLmRhdGEubGVuZ3RoICE9PSAxICkge1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLnNvcnQoIHRoaXMubW9kZWwuZ2l0KCdzb3J0JykgKVxuICAgICAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5jb2xsZWN0aW9uLmRhdGEuZmluZEluZGV4KCBkYXR1bSA9PiBkYXR1bVt0aGlzLmtleV0gPT0ga2V5VmFsdWUgKVxuXG4gICAgICAgICAgICBpZiggaW5kZXggIT09IC0xICkgaW5zZXJ0aW9uID0gdGhpcy5lbHMubGlzdC5jaGlsZHJlbi5pdGVtKGluZGV4KVxuICAgICAgICAgICAgICAgID8geyBtZXRob2Q6ICdpbnNlcnRCZWZvcmUnLCBlbDogdGhpcy5lbHMubGlzdC5jaGlsZHJlbi5pdGVtKCBpbmRleCApIH1cbiAgICAgICAgICAgICAgICA6IHsgZWw6IHRoaXMuZWxzLmxpc3QgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlKClcblxuICAgICAgICBpZiggdGhpcy5pdGVtVGVtcGxhdGUgKSB7XG4gICAgICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRpb24sXG4gICAgICAgICAgICAgICAgcmVuZGVyU3Vidmlld3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRoaXMuZ2V0SXRlbVRlbXBsYXRlUmVzdWx0KCBrZXlWYWx1ZSwgZGF0dW0gKVxuICAgICAgICAgICAgfSApXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vdGhpcy5lbHMubGlzdC5xdWVyeVNlbGVjdG9yKGAqW2RhdGEta2V5PVwiJHtrZXlWYWx1ZX1cIl1gKS5zY3JvbGxJbnRvVmlldyggeyBiZWhhdmlvcjogJ3Ntb290aCcgfSApXG5cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pdGVtVmlld3NbIGtleVZhbHVlIF0gPVxuICAgICAgICAgICAgdGhpcy5mYWN0b3J5LmNyZWF0ZSggdGhpcy5tb2RlbC5naXQoJ3ZpZXcnKSwgeyBpbnNlcnRpb24sIG1vZGVsOiBPYmplY3QuY3JlYXRlKCB0aGlzLmNvbGxlY3Rpb24ubW9kZWwgKS5jb25zdHJ1Y3RvciggZGF0dW0gKSB9IClcbiAgICAgICAgICAgIC5vbiggJ2RlbGV0ZWQnLCAoKSA9PiB0aGlzLm9uRGVsZXRlZCggZGF0dW0gKSApXG4gICAgICAgXG4gICAgICAgIHRoaXMuaXRlbVZpZXdzWyBrZXlWYWx1ZSBdLmVscy5jb250YWluZXIuc2Nyb2xsSW50b1ZpZXcoIHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0gKVxuICAgIH0sXG5cbiAgICBjaGVja0RyYWcoIGUgKSB7XG4gICAgICAgIGlmKCAhdGhpcy5kcmFnZ2luZyApIHJldHVyblxuXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgICAgIHRoaXMuRHJhZ2dlci5lbHMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2ZkLWhpZGRlbicpXG4gICAgICAgIHRoaXMuRHJhZ2dlci5lbHMuY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke2UuY2xpZW50WSs1fXB4YFxuICAgICAgICB0aGlzLkRyYWdnZXIuZWxzLmNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gYCR7ZS5jbGllbnRYKzV9cHhgXG5cbiAgICAgICAgaWYoIHRoaXMubW9kZWwuZ2l0KCdkcmFnZ2FibGUnKSAhPT0gJ2xpc3RJdGVtJyApIHJldHVyblxuXG4gICAgICAgIGNvbnN0IGxpc3RJdGVtUmVjdGFuZ2xlcyA9IEFycmF5LmZyb20oIHRoaXMuZWxzLmxpc3QuY2hpbGRyZW4gKS5tYXAoIGl0ZW0gPT4gKCB7IGVsOiBpdGVtLCByZWN0YW5nbGU6IGl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgfSApICksXG4gICAgICAgICAgICBtYXRjaGluZ0l0ZW0gPSBsaXN0SXRlbVJlY3RhbmdsZXMuZmluZCggaXRlbSA9PlxuICAgICAgICAgICAgICAgIGl0ZW0ucmVjdGFuZ2xlLnJpZ2h0ID49IGUuY2xpZW50WCAmJiBpdGVtLnJlY3RhbmdsZS5sZWZ0IDw9IGUuY2xpZW50WCAmJiBpdGVtLnJlY3RhbmdsZS5ib3R0b20gPj0gZS5jbGllbnRZICYmIGl0ZW0ucmVjdGFuZ2xlLnRvcCA8PSBlLmNsaWVudFlcbiAgICAgICAgKVxuXG4gICAgICAgIGlmKCAhbWF0Y2hpbmdJdGVtIHx8ICggIW1hdGNoaW5nSXRlbSAmJiB0aGlzLmRyYWdvdmVyRWwgKSB8fCAoIG1hdGNoaW5nSXRlbSAmJiB0aGlzLmRyYWdvdmVyRWwgJiYgbWF0Y2hpbmdJdGVtLmVsLmlzU2FtZU5vZGUoIHRoaXMuZHJhZ2dpbmcuZWwgKSApICkge1xuICAgICAgICAgICAgaWYoIHRoaXMuZHJhZ292ZXJFbCApIHRoaXMuZHJhZ292ZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCAnZHJhZ292ZXItdG9wJywgJ2RyYWdvdmVyLWJvdHRvbScgKVxuICAgICAgICAgICAgdGhpcy5kcmFnb3ZlckVsID0gdW5kZWZpbmVkXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCBtYXRjaGluZ0l0ZW0gJiYgIW1hdGNoaW5nSXRlbS5lbC5pc1NhbWVOb2RlKCB0aGlzLmRyYWdnaW5nLmVsICkgKSB7XG4gICAgICAgICAgICBpZiggdGhpcy5kcmFnb3ZlckVsICkgdGhpcy5kcmFnb3ZlckVsLmNsYXNzTGlzdC5yZW1vdmUoICdkcmFnb3Zlci10b3AnLCAnZHJhZ292ZXItYm90dG9tJyApXG4gICAgICAgICAgICB0aGlzLmRyYWdvdmVyRWwgPSBtYXRjaGluZ0l0ZW0uZWxcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1SZWN0ID0gbWF0Y2hpbmdJdGVtLmVsLnF1ZXJ5U2VsZWN0b3IoJy5pdGVtJykuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcblxuICAgICAgICAgICAgaWYoIGUuY2xpZW50WSA8ICggaXRlbVJlY3QuYm90dG9tIC0gaXRlbVJlY3QuaGVpZ2h0IC8gMiApICkge1xuICAgICAgICAgICAgICAgIGlmKCB0aGlzLmRyYWdvdmVyRWwucHJldmlvdXNTaWJsaW5nICYmIHRoaXMuZHJhZ292ZXJFbC5wcmV2aW91c1NpYmxpbmcuaXNTYW1lTm9kZSggdGhpcy5kcmFnZ2luZy5lbCApICkgcmV0dXJuXG4gICAgICAgICAgICAgICAgdGhpcy5kcmFnb3ZlckVsLmNsYXNzTGlzdC5hZGQoJ2RyYWdvdmVyLXRvcCcpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmKCB0aGlzLmRyYWdvdmVyRWwubmV4dFNpYmxpbmcgJiYgdGhpcy5kcmFnb3ZlckVsLm5leHRTaWJsaW5nLmlzU2FtZU5vZGUoIHRoaXMuZHJhZ2dpbmcuZWwgKSApIHJldHVyblxuICAgICAgICAgICAgICAgIHRoaXMuZHJhZ292ZXJFbC5jbGFzc0xpc3QuYWRkKCdkcmFnb3Zlci1ib3R0b20nKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9LFxuXG4gICAgY2hlY2tEcmFnRW5kKCBlICkge1xuICAgICAgICBpZiggIXRoaXMuZHJhZ2dpbmcgKSByZXR1cm5cblxuICAgICAgICBpZiggdGhpcy5kcmFnb3ZlckVsICkge1xuICAgICAgICAgICAgdGhpcy5lbHMubGlzdC5pbnNlcnRCZWZvcmUoIHRoaXMuZHJhZ2dpbmcuZWwsIHRoaXMuZHJhZ292ZXJFbC5jbGFzc0xpc3QuY29udGFpbnMoJ2RyYWdvdmVyLXRvcCcpID8gdGhpcy5kcmFnb3ZlckVsIDogdGhpcy5kcmFnb3ZlckVsLm5leHRTaWJsaW5nIClcbiAgICAgICAgICAgIHRoaXMuZHJhZ292ZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCAnZHJhZ292ZXItdG9wJywgJ2RyYWdvdmVyLWJvdHRvbScgKVxuICAgICAgICAgICAgdGhpcy5kcmFnb3ZlckVsID0gdW5kZWZpbmVkXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVtaXQoICdkcm9wcGVkJywgeyBlLCB0eXBlOiB0aGlzLm1vZGVsLmdpdCgnZHJhZ2dhYmxlJyksIG1vZGVsOiB0aGlzLmRyYWdnaW5nLm1vZGVsIH0gKVxuICAgICAgICB0aGlzLmRyYWdnaW5nLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWRyYWdnaW5nJylcbiAgICAgICAgdGhpcy5lbHMubGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1kcmFnZ2luZycpXG5cdFx0dGhpcy5EcmFnZ2VyLmVscy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZmQtaGlkZGVuJylcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlXG4gICAgfSxcblxuICAgIGNoZWNrRHJhZ1N0YXJ0KCBlICkge1xuICAgICAgICBjb25zdCBjbG9zZXN0TGlzdCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5MaXN0JylcbiAgICAgICAgaWYoIGNsb3Nlc3RMaXN0ID09PSBudWxsIHx8ICggIWNsb3Nlc3RMaXN0LmlzU2FtZU5vZGUoIHRoaXMuZWxzLmNvbnRhaW5lciApICkgKSByZXR1cm5cblxuICAgICAgICBjb25zdCBlbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcbiAgICAgICAgaWYoICFlbCApIHJldHVybiBudWxsXG5cbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLmNvbGxlY3Rpb24uc3RvcmVbIHRoaXMua2V5IF1bIGVsLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpIF1cblxuICAgICAgICB0aGlzLmRyYWdnaW5nID0geyBlbDogZWwucGFyZW50Tm9kZSwgbW9kZWwgfVxuICAgICAgICB0aGlzLmRyYWdnaW5nLmVsLmNsYXNzTGlzdC5hZGQoJ2lzLWRyYWdnaW5nJylcbiAgICAgICAgdGhpcy5lbHMubGlzdC5jbGFzc0xpc3QuYWRkKCdpcy1kcmFnZ2luZycpXG4gICAgICAgIGlmKCBtb2RlbCAmJiBtb2RlbC5sYWJlbCApIHRoaXMuRHJhZ2dlci5lbHMuY29udGFpbmVyLnRleHRDb250ZW50ID0gYE1vdmUgJHttb2RlbC5sYWJlbH0uYFxuICAgICAgICB0aGlzLmVtaXQoICdkcmFnU3RhcnQnLCB0aGlzLm1vZGVsLmdpdCgnZHJhZ2dhYmxlJykgKVxuXG4gICAgfSxcblxuICAgIGNoZWNrRHJvcCggeyBlLCB0eXBlLCBtb2RlbCB9ICkge1xuICAgICAgICBpZiggdGhpcy5tb2RlbC5naXQoJ2Ryb3BwYWJsZScpICE9PSB0eXBlICkgcmV0dXJuXG5cbiAgICAgICAgY29uc3QgZWwgPSBlLnRhcmdldC5jbG9zZXN0KCcuaXRlbScpXG5cbiAgICAgICAgaWYoICFlbCApIHJldHVyblxuICAgICAgICBcbiAgICAgICAgY29uc3QgbG9jYWxNb2RlbCA9IHRoaXMuY29sbGVjdGlvbi5zdG9yZVsgdGhpcy5rZXkgXVsgZWwucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5JykgXVxuXG4gICAgICAgIGlmKCAhbG9jYWxNb2RlbCApIHJldHVyblxuXG4gICAgICAgIHRoaXMuZW1pdCggJ3N1Y2Nlc3NmdWxEcm9wJywgeyBkcm9wcGVkOiBtb2RlbCwgZHJvcHBlZE9uOiBsb2NhbE1vZGVsIH0gKVxuICAgIH0sXG5cbiAgICBmZXRjaCggbmV4dFBhZ2U9ZmFsc2UgKSB7XG4gICAgICAgIHRoaXMuZmV0Y2hpbmcgPSB0cnVlXG4gICAgICAgIGlmKCBuZXh0UGFnZSApIHRoaXMubW9kZWwuc2V0KCAnc2tpcCcsIHRoaXMubW9kZWwuZ2l0KCdza2lwJykgKyB0aGlzLm1vZGVsLmdpdCgncGFnZVNpemUnKSApXG5cbiAgICAgICAgY29uc3QgcXVlcnkgPSB0aGlzLmtleSA9PT0gJ2lkJyA/IHsgfSA6IHsgc2tpcDogdGhpcy5tb2RlbC5naXQoJ3NraXAnKSwgbGltaXQ6IHRoaXMubW9kZWwuZ2l0KCdwYWdlU2l6ZScpLCBzb3J0OiB0aGlzLm1vZGVsLmdpdCgnc29ydCcpIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uLmdldCggeyBxdWVyeSB9IClcbiAgICAgICAgLnRoZW4oIG5ld0RhdGEgPT4ge1xuICAgICAgICAgICAgdGhpcy5wb3B1bGF0ZUxpc3QoIG5ld0RhdGEgKVxuICAgICAgICAgICAgdGhpcy5mZXRjaGVkID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5mZXRjaGluZyA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2ZldGNoZWQnKVxuICAgICAgICAgICAgaWYoIG5ld0RhdGEubGVuZ3RoID09IDAgJiYgbmV4dFBhZ2UgKSB0aGlzLmVscy5saXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsUGFnaW5hdGlvbiApXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgfSApXG4gICAgfSxcblxuICAgIGdldENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uLmdldENvdW50KClcbiAgICAgICAgLnRoZW4oICgpID0+IFByb21pc2UucmVzb2x2ZSggdGhpcy5jb2xsZWN0aW9uLm1ldGEuY291bnQgKSApXG4gICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgfSxcblxuICAgIGdldEl0ZW1UZW1wbGF0ZVJlc3VsdCgga2V5VmFsdWUsIGRhdHVtICkge1xuICAgICAgICBjb25zdCBidXR0b25zT25SaWdodCA9IHRoaXMubW9kZWwuZ2l0KCdkZWxldGUnKSA/IGA8ZGl2IGNsYXNzPVwiYnV0dG9uc1wiPiR7dGhpcy5kZWxldGVJY29ufTwvZGl2PmAgOiBgYCxcbiAgICAgICAgICAgIHNlbGVjdGlvbiA9IHRoaXMudG9nZ2xlU2VsZWN0aW9uID8gYDxkaXYgY2xhc3M9XCJzZWxlY3Rpb25cIj48aW5wdXQgZGF0YS1qcz1cImNoZWNrYm94XCIgdHlwZT1cImNoZWNrYm94XCIgLz48L2Rpdj5gIDogYGBcblxuICAgICAgICByZXR1cm4gYGAgK1xuICAgICAgICBgPGxpIGRhdGEta2V5PVwiJHtrZXlWYWx1ZX1cIj5cbiAgICAgICAgICAgICR7c2VsZWN0aW9ufVxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIml0ZW1cIj4ke3RoaXMuaXRlbVRlbXBsYXRlKCBkYXR1bSApfTwvZGl2PlxuICAgICAgICAgICAgJHtidXR0b25zT25SaWdodH1cbiAgICAgICAgPC9saT5gXG4gICAgfSxcblxuICAgIGhpZGUoKSB7XG4gICAgICAgIGlmKCB0aGlzLmVscy5yZXNldEJ0biApIHRoaXMuZWxzLnJlc2V0QnRuLmNsYXNzTGlzdC5hZGQoJ2ZkLWhpZGRlbicpXG4gICAgICAgIGlmKCB0aGlzLmVscy5zYXZlQnRuICkgdGhpcy5lbHMuc2F2ZUJ0bi5jbGFzc0xpc3QuYWRkKCdmZC1oaWRkZW4nKVxuICAgICAgICByZXR1cm4gUmVmbGVjdC5hcHBseSggU3VwZXIuaGlkZSwgdGhpcywgWyBdIClcbiAgICB9LFxuXG4gICAgaGlkZUl0ZW1zKCBrZXlzICkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICBrZXlzLm1hcCgga2V5ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbCA9IHRoaXMuZWxzLmxpc3QucXVlcnlTZWxlY3RvcihgbGlbZGF0YS1rZXk9XCIke2tleX1cIl1gKVxuICAgICAgICAgICAgICAgIHJldHVybiBlbCA/IHRoaXMuaGlkZUVsKCBlbCApIDogUHJvbWlzZS5yZXNvbHZlKCkgXG4gICAgICAgICAgICB9IClcbiAgICAgICAgKVxuICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgIH0sXG5cbiAgICBoaWRlTGlzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlkZUVsKCB0aGlzLmVscy5saXN0IClcbiAgICAgICAgLnRoZW4oICgpID0+IFByb21pc2UucmVzb2x2ZSggdGhpcy5lbHMudG9nZ2xlLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpICkgKVxuICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgIH0sXG5cbiAgICBpbml0aWFsaXplRHJhZ0Ryb3AoKSB7XG4gICAgICAgIHRoaXMuRHJhZ2dlci5vbiggJ21vdXNlZG93bicsIGUgPT4gdGhpcy5jaGVja0RyYWdTdGFydChlKSApXG4gICAgICAgIHRoaXMuRHJhZ2dlci5vbiggJ21vdXNldXAnLCBlID0+IHRoaXMuY2hlY2tEcmFnRW5kKGUpIClcbiAgICAgICAgdGhpcy5EcmFnZ2VyLm9uKCAnbW91c2Vtb3ZlJywgZSA9PiB0aGlzLmNoZWNrRHJhZyhlKSApXG4gICAgICAgIHRoaXMuRHJhZ2dlci5saXN0ZW4oKVxuICAgIH0sXG5cbiAgICBpbml0aWFsaXplU2Nyb2xsUGFnaW5hdGlvbigpIHtcbiAgICAgICAgY29uc3QgbGlzdEVsID0gdGhpcy5lbHMubGlzdFxuXG4gICAgICAgIHRoaXMub25TY3JvbGxQYWdpbmF0aW9uID0gZSA9PiB7XG4gICAgICAgICAgICBpZiggdGhpcy5mZXRjaGluZyApIHJldHVyblxuICAgICAgICAgICAgaWYoICggdGhpcy5zY3JvbGxIZWlnaHQgLSAoIGxpc3RFbC5zY3JvbGxUb3AgKyB0aGlzLm9mZnNldEhlaWdodCApICkgPCAxMDAgKSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCAoKSA9PiB0aGlzLmZldGNoKCB0cnVlICkuY2F0Y2godGhpcy5FcnJvcikgKVxuICAgICAgICB9XG5cbiAgICAgICAgbGlzdEVsLmFkZEV2ZW50TGlzdGVuZXIoICdzY3JvbGwnLCB0aGlzLm9uU2Nyb2xsUGFnaW5hdGlvbiApXG4gICAgfSxcblxuICAgIGVtcHR5KCkge1xuICAgICAgICB0aGlzLmVscy5saXN0LmlubmVySFRNTCA9ICcnXG4gICAgfSxcblxuICAgIGV2ZW50czoge1xuICAgICAgICBhZGRCdG46ICdjbGljaycsXG4gICAgICAgIGNoZWNrYm94OiAnY2hhbmdlJyxcbiAgICAgICAgZ29CYWNrQnRuOiAnY2xpY2snLFxuICAgICAgICByZXNldEJ0bjogJ2NsaWNrJyxcbiAgICAgICAgc2F2ZUJ0bjogJ2NsaWNrJyxcbiAgICAgICAgdG9nZ2xlOiAnY2xpY2snXG4gICAgfSxcblxuICAgIGdldExpc3RJdGVtS2V5KCBlICkge1xuICAgICAgICBjb25zdCBlbCA9IGUudGFyZ2V0LmNsb3Nlc3QoJy5pdGVtJylcblxuICAgICAgICBpZiggIWVsICkgcmV0dXJuIG51bGxcblxuICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uLnN0b3JlWyB0aGlzLmtleSBdWyBlbC5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKSBdXG4gICAgfSxcblxuICAgIGhpZGVEcm9wcGFibGUoKSB7XG4gICAgICAgIHRoaXMuZWxzLmxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnaXMtZHJvcHBhYmxlJylcbiAgICAgICAgQXJyYXkuZnJvbSggdGhpcy5lbHMubGlzdC5jaGlsZHJlbiApLmZvckVhY2goIGNoaWxkID0+IGNoaWxkLnJlbW92ZUNoaWxkKCBjaGlsZC5sYXN0Q2hpbGQgKSApXG4gICAgfSxcblxuICAgIG9uQWRkQnRuQ2xpY2soIGUgKSB7XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbi5tb2RlbFxuICAgICAgICAgICAgPyB0aGlzLmFkZCggdGhpcy5jb2xsZWN0aW9uLm1vZGVsLkNyZWF0ZURlZmF1bHQoKSApXG4gICAgICAgICAgICA6IHRoaXMuZW1pdCgnYWRkQ2xpY2tlZCcpXG4gICAgfSxcblxuICAgIG9uQ2hlY2tib3hDaGFuZ2UoIGUgKSB7XG4gICAgICAgIGNvbnN0IGVsID0gZS50YXJnZXQuY2xvc2VzdCgnTEknKVxuXG4gICAgICAgIGlmKCAhZWwgKSByZXR1cm4gZmFsc2VcblxuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuY29sbGVjdGlvbi5zdG9yZVsgdGhpcy5rZXkgXVsgZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpIF1cbiAgICAgICAgICAgIGV2ZW50ID0gYHRvZ2dsZWQkeyBlLnRhcmdldC5jaGVja2VkID8gJ09uJyA6ICdPZmYnfWBcblxuICAgICAgICBpZiggIW1vZGVsICkgcmV0dXJuXG5cbiAgICAgICAgZWwuY2xhc3NMaXN0LnRvZ2dsZSggJ2NoZWNrZWQnLCBlLnRhcmdldC5jaGVja2VkIClcblxuICAgICAgICB0aGlzLmVtaXQoIGV2ZW50LCBtb2RlbCApXG4gICAgfSxcblxuICAgIG9uR29CYWNrQnRuQ2xpY2soIGUgKSB7XG4gICAgICAgIHRoaXMuZW1pdCggJ2dvQmFja0NsaWNrZWQnIClcbiAgICB9LFxuXG4gICAgb25JdGVtTW91c2VlbnRlciggZSApIHsgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnbW91c2VvdmVyJykgfSxcbiAgICBvbkl0ZW1Nb3VzZWxlYXZlKCBlICkgeyBlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdtb3VzZW92ZXInKSB9LFxuXG4gICAgb25MaXN0Q2xpY2soIGUgKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5nZXRMaXN0SXRlbUtleSggZSApXG5cbiAgICAgICAgaWYoICFtb2RlbCApIHJldHVyblxuXG4gICAgICAgIHRoaXMuZW1pdCggJ2l0ZW1DbGlja2VkJywgbW9kZWwgKVxuICAgIH0sXG5cbiAgICBvbkxpc3REYmxjbGljayggZSApIHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLmdldExpc3RJdGVtS2V5KCBlIClcblxuICAgICAgICBpZiggIW1vZGVsICkgcmV0dXJuXG5cbiAgICAgICAgdGhpcy5lbWl0KCAnaXRlbURibENsaWNrZWQnLCBtb2RlbCApXG4gICAgfSxcbiAgICBcbiAgICBvblJlc2V0QnRuQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuZW1pdCgncmVzZXRDbGlja2VkJylcbiAgICB9LFxuXG4gICAgb25TYXZlQnRuQ2xpY2soKSB7XG4gICAgICAgIGlmKCB0aGlzLm1vZGVsLmdpdCgndmlldycpICkge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCAnc2F2ZUNsaWNrZWQnLCBPYmplY3Qua2V5cyggdGhpcy5pdGVtVmlld3MgKS5tYXAoIGtleSA9PiB0aGlzLml0ZW1WaWV3c1trZXldLmdldFByb3Bvc2VkTW9kZWwoKSApIClcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvblRvZ2dsZUNsaWNrKCkgeyB0aGlzLmVscy5saXN0LmNsYXNzTGlzdC5jb250YWlucygnZmQtaGlkZGVuJykgPyB0aGlzLnNob3dMaXN0KCkgOiB0aGlzLmhpZGVMaXN0KCkgfSxcblxuICAgIHBvcHVsYXRlTGlzdCggZGF0YSApIHtcbiAgICAgICAgZGF0YSA9IGRhdGEgfHwgdGhpcy5jb2xsZWN0aW9uLmRhdGFcblxuICAgICAgICBpZiggIUFycmF5LmlzQXJyYXkoIGRhdGEgKSApIGRhdGEgPSBbIGRhdGEgXVxuXG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGUoKVxuXG4gICAgICAgIGlmKCBkYXRhLmxlbmd0aCA9PT0gMCApIHJldHVyblxuXG4gICAgICAgIGlmKCB0aGlzLm1vZGVsLmdpdCgndmlldycpICkge1xuICAgICAgICAgICAgbGV0IHZpZXdOYW1lID0gdGhpcy5tb2RlbC5naXQoJ3ZpZXcnKVxuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPVxuICAgICAgICAgICAgICAgIGRhdGEucmVkdWNlKFxuICAgICAgICAgICAgICAgICAgICAoIGZyYWdtZW50LCBkYXR1bSApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleVZhbHVlID0gZGF0dW1bIHRoaXMua2V5IF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbi5zdG9yZVsgdGhpcy5rZXkgXVsga2V5VmFsdWUgXSA9IGRhdHVtXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbVZpZXdzWyBrZXlWYWx1ZSBdID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhY3RvcnkuY3JlYXRlKCB2aWV3TmFtZSwgeyBtb2RlbDogT2JqZWN0LmNyZWF0ZSggdGhpcy5jb2xsZWN0aW9uLm1vZGVsICkuY29uc3RydWN0b3IoIGRhdHVtICksIHN0b3JlRnJhZ21lbnQ6IHRydWUgfSApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbiggJ2RlbGV0ZWQnLCAoKSA9PiB0aGlzLm9uRGVsZXRlZCggZGF0dW0gKSApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKCB0aGlzLml0ZW1WaWV3c1sga2V5VmFsdWUgXS5mcmFnbWVudC5maXJzdENoaWxkICkgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIHRoaXMuaXRlbVZpZXdzWyBrZXlWYWx1ZSBdLmZyYWdtZW50LmZpcnN0Q2hpbGQgKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKVxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgdGhpcy5lbHMubGlzdC5hcHBlbmRDaGlsZCggZnJhZ21lbnQgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zbHVycFRlbXBsYXRlKCB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmVscy5saXN0IH0sXG4gICAgICAgICAgICAgICAgcmVuZGVyU3Vidmlld3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IGRhdGEucmVkdWNlKFxuICAgICAgICAgICAgICAgICAgICAoIG1lbW8sIGRhdHVtICkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5VmFsdWUgPSBkYXR1bVsgdGhpcy5rZXkgXVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uLnN0b3JlWyB0aGlzLmtleSBdWyBrZXlWYWx1ZSBdID0gZGF0dW1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZW1vICsgdGhpcy5nZXRJdGVtVGVtcGxhdGVSZXN1bHQoIGtleVZhbHVlLCBkYXR1bSApXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfSApXG5cbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgICBpZiggdGhpcy5tb2RlbC5naXQoJ3Njcm9sbFBhZ2luYXRpb24nKSApIHsgdGhpcy5zY3JvbGxIZWlnaHQgPSB0aGlzLmVscy5saXN0LnNjcm9sbEhlaWdodDsgdGhpcy5vZmZzZXRIZWlnaHQgPSB0aGlzLmVscy5saXN0Lm9mZnNldEhlaWdodCB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcG9zdFJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uID0gdGhpcy5tb2RlbC5naXQoJ2NvbGxlY3Rpb24nKSB8fCBPYmplY3QuY3JlYXRlKCB0aGlzLk1vZGVsIClcbiAgICAgICAgdGhpcy5rZXkgPSB0aGlzLmNvbGxlY3Rpb24ubWV0YS5rZXlcblxuICAgICAgICBpZiggdGhpcy5jb2xsZWN0aW9uICkgdGhpcy5jb2xsZWN0aW9uLnN0b3JlID0geyBbIHRoaXMua2V5IF06IHsgfSB9XG5cbiAgICAgICAgaWYoIHRoaXMubW9kZWwuZ2l0KCdkZWxldGUnKSApIHtcbiAgICAgICAgICAgIHRoaXMuZGVsZXRlSWNvbiA9IHRoaXMuRm9ybWF0LkdldEljb24oJ2dhcmJhZ2UnKVxuICAgICAgICAgICAgdGhpcy5lbHMubGlzdC5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldFxuICAgICAgICAgICAgICAgIGlmKCB0YXJnZXQudGFnTmFtZSA9PT0gJ3N2ZycgJiYgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZ2FyYmFnZScpICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoICdkZWxldGVDbGlja2VkJywgdGhpcy5jb2xsZWN0aW9uLnN0b3JlWyB0aGlzLmtleSBdWyB0YXJnZXQuY2xvc2VzdCgnTEknKS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5JykgXSApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSApXG4gICAgICAgIH1cblxuICAgICAgICBpZiggdGhpcy5tb2RlbC5naXQoJ2ZldGNoJykgKSB0aGlzLmZldGNoKCkuY2F0Y2goIHRoaXMuRXJyb3IgKVxuXG4gICAgICAgIGlmKCB0aGlzLm1vZGVsLmdpdCgnc2Nyb2xsUGFnaW5hdGlvbicpICkgdGhpcy5pbml0aWFsaXplU2Nyb2xsUGFnaW5hdGlvbigpXG5cbiAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpXG5cbiAgICAgICAgaWYoIHRoaXMuY29sbGVjdGlvbi5kYXRhLmxlbmd0aCApIHRoaXMucG9wdWxhdGVMaXN0KClcblxuICAgICAgICBpZiggdGhpcy5tb2RlbC5naXQoJ2RyYWdnYWJsZScpICkgdGhpcy5pbml0aWFsaXplRHJhZ0Ryb3AoKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIHJlbW92ZSggZGF0dW0gKSB7XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbi5yZW1vdmUoIGRhdHVtIClcblxuICAgICAgICB0aGlzLnVwZGF0ZVN0eWxlKClcblxuICAgICAgICBpZiggdGhpcy5tb2RlbC5naXQoJ3ZpZXcnKSApIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLml0ZW1WaWV3c1sgZGF0dW1bIHRoaXMua2V5IF0gXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmVscy5saXN0LnF1ZXJ5U2VsZWN0b3IoIGBbZGF0YS1rZXk9XCIke2RhdHVtWyB0aGlzLmtleSBdfVwiXWAgKVxuXG4gICAgICAgICAgICBpZiggY2hpbGQgKSB0aGlzLmVscy5saXN0LnJlbW92ZUNoaWxkKCBjaGlsZCApXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICBzaG93KCkge1xuICAgICAgICBpZiggdGhpcy5lbHMucmVzZXRCdG4gKSB0aGlzLmVscy5yZXNldEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdmZC1oaWRkZW4nKVxuICAgICAgICBpZiggdGhpcy5lbHMuc2F2ZUJ0biApIHRoaXMuZWxzLnNhdmVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnZmQtaGlkZGVuJylcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuYXBwbHkoIFN1cGVyLnNob3csIHRoaXMsIFsgXSApXG4gICAgfSxcblxuICAgIHNob3dMaXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zaG93RWwoIHRoaXMuZWxzLmxpc3QgKVxuICAgICAgICAudGhlbiggKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCB0aGlzLmVscy50b2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaGlkZGVuJykgKSApXG4gICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgfSxcblxuICAgIHNob3dEcm9wcGFibGUoIHR5cGUgKSB7XG4gICAgICAgIHRoaXMuZWxzLmxpc3QuY2xhc3NMaXN0LmFkZCgnaXMtZHJvcHBhYmxlJylcbiAgICAgICAgQXJyYXkuZnJvbSggdGhpcy5lbHMubGlzdC5jaGlsZHJlbiApLmZvckVhY2goIGNoaWxkID0+IHtcbiAgICAgICAgICAgIHRoaXMuYmluZEV2ZW50KCAnaXRlbScsICdtb3VzZWVudGVyJywgY2hpbGQgKSAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLmJpbmRFdmVudCggJ2l0ZW0nLCAnbW91c2VsZWF2ZScsIGNoaWxkICkgICAgICAgICAgIFxuICAgICAgICAgICAgY2hpbGQuYXBwZW5kQ2hpbGQoIHRoaXMuaHRtbFRvRnJhZ21lbnQoYDxkaXYgY2xhc3M9XCJkcmFnXCI+RHJhZyBoZXJlIHRvIG1vdmUgJHt0eXBlfTwvZGl2PmApIClcbiAgICAgICAgfSApXG4gICAgfSxcblxuICAgIHVuaGlkZUl0ZW1zKCkge1xuICAgICAgICBQcm9taXNlLmFsbCggQXJyYXkuZnJvbSggdGhpcy5lbHMubGlzdC5xdWVyeVNlbGVjdG9yQWxsKGBsaS5mZC1oaWRkZW5gKSApLm1hcCggZWwgPT4gdGhpcy5zaG93RWwoZWwpICkgKVxuICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIHVwZGF0ZSggaXRlbXMgKSB7XG4gICAgICAgIHRoaXMuY29sbGVjdGlvbi5jb25zdHJ1Y3RvciggaXRlbXMsIHsgc3RvcmVCeTogWyB0aGlzLmtleSBdIH0gKVxuXG4gICAgICAgIGlmKCB0aGlzLml0ZW1UZW1wbGF0ZSApIHJldHVybiB0aGlzLnJlbW92ZUNoaWxkcmVuKCB0aGlzLmVscy5saXN0ICkucG9wdWxhdGVMaXN0KClcblxuICAgICAgICB0aGlzLmVtcHR5KClcbiAgICAgICAgXG4gICAgICAgIE9iamVjdC5hc3NpZ24oIHRoaXMsIHsgaXRlbVZpZXdzOiB7IH0gfSApLnBvcHVsYXRlTGlzdCgpXG4gICAgICAgIFxuICAgICAgICAvL3dpbmRvdy5zY3JvbGwoIHsgYmVoYXZpb3I6ICdzbW9vdGgnLCB0b3A6IHRoaXMuZWxzLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgLSA1MCB9IClcbiAgICAgICAgdGhpcy5lbHMuY29udGFpbmVyLnNjcm9sbEludG9WaWV3KCB7IGJlaGF2aW9yOiAnc21vb3RoJyB9IClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICB1cGRhdGVJdGVtKCBtb2RlbCApIHtcbiAgICAgICAgY29uc3Qga2V5VmFsdWUgPSBtb2RlbC5naXQodGhpcy5rZXkpXG5cbiAgICAgICAgdGhpcy5jb2xsZWN0aW9uLl9wdXQoIGtleVZhbHVlLCBtb2RlbC5kYXRhIClcbiAgICAgICAgXG4gICAgICAgIGlmKCAhdGhpcy5tb2RlbC5naXQoJ3ZpZXcnKSApIHtcbiAgICAgICAgICAgIGxldCBvbGRJdGVtID0gdGhpcy5lbHMubGlzdC5xdWVyeVNlbGVjdG9yKGAqW2RhdGEta2V5PVwiJHtrZXlWYWx1ZX1cIl1gKVxuICAgICAgICAgICAgdGhpcy5zbHVycFRlbXBsYXRlKCB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0aW9uOiB7IG1ldGhvZDogJ2luc2VydEJlZm9yZScsIGVsOiBvbGRJdGVtIH0sXG4gICAgICAgICAgICAgICAgcmVuZGVyU3Vidmlld3M6IHRydWUsXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRoaXMuZ2V0SXRlbVRlbXBsYXRlUmVzdWx0KCBrZXlWYWx1ZSwgbW9kZWwuZGF0YSApXG4gICAgICAgICAgICB9IClcbiAgICAgICAgICAgIHRoaXMuZWxzLmxpc3QucmVtb3ZlQ2hpbGQoIG9sZEl0ZW0gKVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHVwZGF0ZVN0eWxlKCkge1xuICAgICAgICB0aGlzLmVscy5saXN0LmNsYXNzTGlzdC50b2dnbGUoICduby1pdGVtcycsIHRoaXMuY29sbGVjdGlvbi5kYXRhLmxlbmd0aCA9PT0gMCApXG4gICAgfVxuXG59ICkiLCJjb25zdCBDdXN0b21Db250ZW50ID0gcmVxdWlyZSgnLi91dGlsL0N1c3RvbUNvbnRlbnQnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHt9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCBDdXN0b21Db250ZW50LCB7XG5cbiAgICBldmVudHM6IHtcbiAgICAgICAgbGVnZW5kOiAnY2xpY2snLFxuICAgICAgICBzaWdudXBCdG46ICdjbGljaydcbiAgICB9LFxuXG4gICAgbW9kZWw6IHJlcXVpcmUoJy4uL21vZGVscy9Mb2NhdGlvbnMnKSxcblxuICAgIG1vZGVsczoge1xuICAgICAgICBncm91cExvY2F0aW9uOiByZXF1aXJlKCcuLi9tb2RlbHMvQ3VycmVudFNoYXJlJyksXG4gICAgICAgIGZhcm1lck1hcmtldDogcmVxdWlyZSgnLi4vbW9kZWxzL0Zhcm1lck1hcmtldCcpLFxuICAgICAgICByZXRhaWxPdXRsZXQ6IHJlcXVpcmUoJy4uL21vZGVscy9SZXRhaWxPdXRsZXQnKSxcbiAgICAgICAgcmVzdGF1cmFudDogcmVxdWlyZSgnLi4vbW9kZWxzL1Jlc3RhdXJhbnQnKSxcbiAgICAgICAgZmFybVBpY2t1cDogcmVxdWlyZSgnLi4vbW9kZWxzL0Zhcm1QaWNrdXAnKVxuICAgIH0sXG5cbiAgICB0ZW1wbGF0ZXM6IHtcbiAgICAgICAgaW5mb1dpbmRvdzogcmVxdWlyZSgnLi90ZW1wbGF0ZXMvSW5mb1dpbmRvdycpLFxuICAgICAgICBsb2NhdGlvbjogcmVxdWlyZSgnLi90ZW1wbGF0ZXMvTG9jYXRpb24nKVxuICAgIH0sXG5cbiAgICBjcmVhdGVEZWxpdmVyeVJhbmdlKCkge1xuICAgICAgICBjb25zdCBvdmVybGF5Q29sb3IgPSB0aGlzLm1vZGVsLmF0dHJpYnV0ZXMuZmluZCggYXR0ciA9PiBhdHRyLm5hbWUgPT09ICdkZWxpdmVyeVJhbmdlJyApLmNvbG9yXG5cbiAgICAgICAgdGhpcy5kZWxpdmVyeVJhbmdlID0gbmV3IGdvb2dsZS5tYXBzLlBvbHlnb24oIHtcbiAgICAgICAgICAgIHBhdGhzOiB0aGlzLm1vZGVsLmRhdGEuZGVsaXZlcnlSYW5nZUNvb3JkcyxcbiAgICAgICAgICAgIHN0cm9rZUNvbG9yOiBvdmVybGF5Q29sb3IsXG4gICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAuMyxcbiAgICAgICAgICAgIHN0cm9rZVdlaWdodDogMSxcbiAgICAgICAgICAgIGZpbGxDb2xvcjogb3ZlcmxheUNvbG9yLFxuICAgICAgICAgICAgZmlsbE9wYWNpdHk6IC4zLFxuICAgICAgICAgICAgY2xpY2thYmxlOiBmYWxzZVxuICAgICAgICB9IClcblxuICAgICAgICB0aGlzLmRlbGl2ZXJ5UmFuZ2Uuc2V0TWFwKCB0aGlzLm1hcCApXG4gICAgfSxcblxuICAgIGNyZWF0ZU1hcmtlcnMoIGRhdGEsIGNhdGVnb3J5ICkge1xuICAgICAgICB0aGlzLmljb25zWyBjYXRlZ29yeSBdID0gdGhpcy5nZXRJY29uKCBjYXRlZ29yeSApXG4gICAgICAgIHRoaXMubWFya2Vyc1sgY2F0ZWdvcnkgXSA9IFsgXVxuXG4gICAgICAgIGRhdGEuZm9yRWFjaCggZGF0dW0gPT4ge1xuICAgICAgICAgICAgaWYoICFkYXR1bS5sb2NhdGlvbiApIHJldHVyblxuXG4gICAgICAgICAgICBjb25zdCBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coIHtcbiAgICAgICAgICAgICAgICBjb250ZW50OiB0aGlzLnRlbXBsYXRlcy5pbmZvV2luZG93KCBkYXR1bSApLFxuICAgICAgICAgICAgfSApXG5cbiAgICAgICAgICAgIGNvbnN0IG1hcmtlciA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogeyBsYXQ6IGRhdHVtLmxvY2F0aW9uWzBdLCBsbmc6IGRhdHVtLmxvY2F0aW9uWzFdIH0sXG4gICAgICAgICAgICAgICAgbWFwOiB0aGlzLm1hcCxcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGljb246IHRoaXMuaWNvbnNbIGNhdGVnb3J5IF0sXG4gICAgICAgICAgICAgICAgdGl0bGU6IGRhdHVtLm5hbWVcbiAgICAgICAgICAgIH0gKVxuXG4gICAgICAgICAgICB0aGlzLm1hcmtlcnNbIGNhdGVnb3J5IF0ucHVzaCggbWFya2VyIClcblxuICAgICAgICAgICAgbWFya2VyLmFkZExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PiBpbmZvd2luZG93Lm9wZW4oIHRoaXMubWFwLCBtYXJrZXIgKSApXG5cbiAgICAgICAgfSApXG4gICAgfSxcblxuICAgIGZldGNoQW5kUmVuZGVyKCkge1xuICAgICAgICBsZXQgY2hhaW4gPSBQcm9taXNlLnJlc29sdmUoKVxuXG4gICAgICAgIE9iamVjdC5rZXlzKCB0aGlzLm1vZGVscyApLmZvckVhY2goIG5hbWUgPT4ge1xuICAgICAgICAgICAgY2hhaW4gPSBjaGFpbi50aGVuKCAoKSA9PiBcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsc1sgbmFtZSBdLmdldCgpXG4gICAgICAgICAgICAgICAgLnRoZW4oICgpID0+XG4gICAgICAgICAgICAgICAgICAgIG5hbWUgPT09ICdncm91cExvY2F0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLm1vZGVscy5ncm91cExvY2F0aW9uLmdldEN1cnJlbnRHcm91cERyb3BvZmZzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbmFtZSA9PT0gJ2Zhcm1QaWNrdXAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLm1vZGVscy5mYXJtUGlja3VwLmdldEhvdXJzKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIC50aGVuKCBkcm9wb2ZmRGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsQXR0ciA9IHRoaXMubW9kZWwuYXR0cmlidXRlcy5maW5kKCBhdHRyID0+IGF0dHIubmFtZSA9PT0gbmFtZSApLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IGRyb3BvZmZEYXRhIHx8IHRoaXMubW9kZWxzWyBuYW1lIF0uZGF0YVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0TGlzdExvY2F0aW9ucyggZGF0YSwgdGhpcy5lbHNbIG1vZGVsQXR0ci5lbCBdIClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVNYXJrZXJzKCBkYXRhLCBuYW1lIClcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICAuY2F0Y2goIGUgPT4gUHJvbWlzZS5yZXNvbHZlKCBjb25zb2xlLmxvZyggYEZhaWxlZCB0byByZXRyaWV2ZSAke25hbWV9IGRhdGEuYCApICkgKVxuICAgICAgICAgICAgKVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgZ2V0SWNvbiggY2F0ZWdvcnkgKSB7XG4gICAgICAgIGlmKCBjYXRlZ29yeSA9PT0gJ2Zhcm1QaWNrdXAnICkgcmV0dXJuICcvc3RhdGljL2ltZy9mYXZpY29uLnBuZydcblxuICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMubW9kZWwuYXR0cmlidXRlcy5maW5kKCBhdHRyID0+IGNhdGVnb3J5ID09PSBhdHRyLm5hbWUgKS5jb2xvclxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXRoOiBnb29nbGUubWFwcy5TeW1ib2xQYXRoLkNJUkNMRSxcbiAgICAgICAgICAgIHN0cm9rZUNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgIGZpbGxDb2xvcjogY29sb3IsXG4gICAgICAgICAgICBmaWxsT3BhY2l0eTogMSxcbiAgICAgICAgICAgIHNjYWxlOiA0XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5pdE1hcCgpIHtcbiAgICAgICAgY29uc3QgbWFwT3B0cyA9IHtcbiAgICAgICAgICAgIGNlbnRlcjogeyBsYXQ6IDM5Ljc1ODk0OCwgbG5nOiAtODQuMTkxNjA3IH0sXG4gICAgICAgICAgICB6b29tOiAxMCxcbiAgICAgICAgICAgIG1hcFR5cGVDb250cm9sOiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKCB0aGlzLmVscy5tYXAsIG1hcE9wdHMgKVxuXG4gICAgICAgIHRoaXMubWFya2VycyA9IHsgfVxuICAgICAgICB0aGlzLmljb25zID0geyB9XG5cbiAgICAgICAgdGhpcy5jcmVhdGVEZWxpdmVyeVJhbmdlKClcblxuICAgICAgICB0aGlzLm1hcC5jb250cm9sc1tnb29nbGUubWFwcy5Db250cm9sUG9zaXRpb24uVE9QX0xFRlRdLnB1c2goIHRoaXMuZWxzLmxlZ2VuZCApXG5cbiAgICAgICAgdGhpcy5mZXRjaEFuZFJlbmRlcigpXG4gICAgfSxcblxuICAgIGluc2VydExpc3RMb2NhdGlvbnMoIGRhdGEsIGVsICkge1xuICAgICAgICBkYXRhLmZvckVhY2goIGRhdHVtID0+XG4gICAgICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXMubG9jYXRpb24oIGRhdHVtICksXG4gICAgICAgICAgICAgICAgaW5zZXJ0aW9uOiB7IGVsIH1cbiAgICAgICAgICAgIH0gKVxuICAgICAgICApXG4gICAgfSxcblxuICAgIG9uTGVnZW5kQ2xpY2soIGUgKSB7XG4gICAgICAgIGlmKCBlLnRhcmdldC50YWdOYW1lICE9PSBcIklOUFVUXCIgKSByZXR1cm5cblxuICAgICAgICBjb25zdCBjYXRlZ29yeSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJyksXG4gICAgICAgICAgICBjaGVja2VkID0gZS50YXJnZXQuY2hlY2tlZFxuXG4gICAgICAgIGlmKCBjYXRlZ29yeSA9PT0gJ2RlbGl2ZXJ5UmFuZ2UnICkgcmV0dXJuIHRoaXMudG9nZ2xlRGVsaXZlcnlSYW5nZSggY2hlY2tlZCApXG5cbiAgICAgICAgdGhpcy50b2dnbGVNYXJrZXJDYXRlZ29yeSggY2F0ZWdvcnksIGNoZWNrZWQgKVxuXG4gICAgfSxcblxuICAgIG9uU2lnbnVwQnRuQ2xpY2soKSB7IHRoaXMuZW1pdCggJ25hdmlnYXRlJywgJ3NpZ24tdXAnICkgfSxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIGlmKCB3aW5kb3cuZ29vZ2xlICkgeyB0aGlzLmluaXRNYXAoKSB9IGVsc2UgeyB3aW5kb3cuaW5pdEdNYXAgPSB0aGlzLmluaXRNYXAgfVxuXG4gICAgICAgIHJldHVybiBDdXN0b21Db250ZW50LnBvc3RSZW5kZXIuY2FsbCh0aGlzKVxuICAgIH0sXG5cbiAgICB0ZW1wbGF0ZU9wdHMoKSB7IHJldHVybiB7IGNhdGVnb3JpZXM6IHRoaXMubW9kZWwuYXR0cmlidXRlcyB9IH0sXG5cbiAgICB0b2dnbGVEZWxpdmVyeVJhbmdlKCBjaGVja2VkICkge1xuICAgICAgICB0aGlzLmRlbGl2ZXJ5UmFuZ2Uuc2V0TWFwKCBjaGVja2VkID8gdGhpcy5tYXAgOiBudWxsIClcbiAgICB9LFxuXG4gICAgdG9nZ2xlTWFya2VyQ2F0ZWdvcnkoIGNhdGVnb3J5LCBjaGVja2VkICkge1xuICAgICAgICB0aGlzLm1hcmtlcnNbIGNhdGVnb3J5IF0uZm9yRWFjaCggbWFya2VyID0+IG1hcmtlci5zZXRNYXAoIGNoZWNrZWQgPyB0aGlzLm1hcCA6IG51bGwgKSApXG4gICAgfSxcblxufSApIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgVmlld3M6IHtcblxuICAgICAgICBsb2dpbkZvcm0oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhhbmRsZVN1Ym1pc3Npb25FcnJvciggZXJyICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVtaXQoICdsb2dpbkVycm9yJywgZXJyIClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5FcnJvciggZXJyIClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN1Ym1pdEVuZCgpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtb2RlbDogT2JqZWN0LmNyZWF0ZSggdGhpcy5Nb2RlbCApLmNvbnN0cnVjdG9yKCB7IH0sIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogcmVxdWlyZSgnLi4vLi4vLi4vbW9kZWxzL0xvZ2luJykuYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2U6ICdhdXRoJ1xuICAgICAgICAgICAgICAgIH0gKSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZU9wdHMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nOiAnU2lnbiBJbicsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsQnRuQ2xpY2soKSB7IHRoaXMuZW1pdCgnY2FuY2VsJykgfSxcbiAgICAgICAgICAgICAgICB0b2FzdFN1Y2Nlc3M6ICdZb3UgYXJlIHNpZ25lZCBpbiEnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZvcmdvdFBhc3N3b3JkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogT2JqZWN0LmNyZWF0ZSggdGhpcy5Nb2RlbCApLmNvbnN0cnVjdG9yKCB7IH0sIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogWyByZXF1aXJlKCcuLi8uLi8uLi9tb2RlbHMvRW1haWwnKSBdLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTogJ3Jlc2V0LXBhc3N3b3JkJ1xuICAgICAgICAgICAgICAgIH0gKSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZU9wdHMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nOiAnUmVzZXQgUGFzc3dvcmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXB0OiAnUGxlYXNlIGVudGVyIHlvdXIgZW1haWwgYWRkcmVzcydcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DYW5jZWxCdG5DbGljaygpIHsgdGhpcy5lbWl0KCdjYW5jZWwnKSB9XG4gICAgICAgICAgICB9IFxuICAgICAgICB9XG5cbiAgICB9LFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgIGZvcmdvdFBhc3N3b3JkOiAnY2xpY2snLFxuXG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICBsb2dpbkZvcm06IFtcbiAgICAgICAgICAgICAgICBbICdwb3N0ZWQnLCBmdW5jdGlvbiggZGF0YSApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyLnNldCggZGF0YSApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdCggXCJzdWNjZXNzXCIsIGRhdGEgKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZSgpLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICAgICAgICAgICAgICB9IF0sXG4gICAgICAgICAgICAgICAgWyAnbG9naW5FcnJvcicsIGZ1bmN0aW9uKCBlcnIgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxzLmVycm9yTWVzc2FnZS50ZXh0Q29udGVudCA9IGVyclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNsaWRlSW4oIHRoaXMuZWxzLmVycm9yTWVzc2FnZSwgJ3JpZ2h0JyApXG4gICAgICAgICAgICAgICAgfSBdLFxuICAgICAgICAgICAgICAgIFsgJ2NhbmNlbCcsIGZ1bmN0aW9uKCkgeyB0aGlzLmRlbGV0ZSgpLnRoZW4oICgpID0+IHRoaXMuZW1pdCgnbG9naW5DYW5jZWxsZWQnKSApLmNhdGNoKCB0aGlzLkVycm9yICkgfSBdXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZm9yZ290UGFzc3dvcmQ6IFtcbiAgICAgICAgICAgICAgICBbICdwb3N0ZWQnLCBmdW5jdGlvbiggZGF0YSApIHsgdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ3N1Y2Nlc3MnLCBkYXRhLm1lc3NhZ2UgKSB9IF0sXG4gICAgICAgICAgICAgICAgWyAnY2FuY2VsJywgZnVuY3Rpb24oKSB7IHRoaXMudmlld3MuZm9yZ290UGFzc3dvcmQuaGlkZSgpLnRoZW4oICgpID0+IHRoaXMuc2hvd0VsKCB0aGlzLmVscy5sb2dpbldyYXBwZXIgKSApLmNhdGNoKCB0aGlzLkVycm9yICkgfSBdXG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb25Gb3Jnb3RQYXNzd29yZENsaWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaWRlRWwoIHRoaXMuZWxzLmxvZ2luV3JhcHBlciApXG4gICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLnZpZXdzLmZvcmdvdFBhc3N3b3JkLnNob3coKSApXG4gICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgfVxuXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHtcblxuICAgIEN1c3RvbWVyOiByZXF1aXJlKCcuLi9tb2RlbHMvQ3VzdG9tZXInKSxcbiAgICBEZWxpdmVyeTogcmVxdWlyZSgnLi4vbW9kZWxzL0RlbGl2ZXJ5JyksXG5cbiAgICBwYXRjaE1lbWJlclNoYXJlKCkge1xuICAgICAgICBjb25zdCB3ZWVrUGF0Y2ggPSB0aGlzLnZpZXdzLndlZWtPcHRpb25zLmdldFBhdGNoRGF0YSgpXG5cbiAgICAgICAgbGV0IHdlZWtEZXRhaWwgPSBgYCxcbiAgICAgICAgICAgIGVtYWlsVG8gPSBbIHRoaXMuc2VsZWN0ZWRDdXN0b21lci5wZXJzb24uZGF0YS5lbWFpbCBdXG5cbiAgICAgICAgaWYoIHRoaXMuc2VsZWN0ZWRDdXN0b21lci5wZXJzb24uZGF0YS5zZWNvbmRhcnlFbWFpbCApIGVtYWlsVG8ucHVzaCggdGhpcy5zZWxlY3RlZEN1c3RvbWVyLnBlcnNvbi5kYXRhLnNlY29uZGFyeUVtYWlsIClcblxuICAgICAgICBpZiggd2Vla1BhdGNoLmFkZGVkRGF0ZXMubGVuZ3RoIHx8IHdlZWtQYXRjaC5yZW1vdmVkRGF0ZXMubGVuZ3RoICkgeyB3ZWVrRGV0YWlsICs9IGAgKCBgIH1cblxuICAgICAgICBpZiggd2Vla1BhdGNoLmFkZGVkRGF0ZXMubGVuZ3RoICkge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB3ZWVrUGF0Y2guYWRkZWREYXRlcy5tYXAoIGRhdGUgPT4gZGF0ZS5zbGljZSg1KSApLmpvaW4oJywnKVxuICAgICAgICAgICAgd2Vla0RldGFpbCArPSBgQWRkZWQgV2Vla3M6ICR7ZGVzY3JpcHRpb259YFxuICAgICAgICAgICAgaWYoIHdlZWtQYXRjaC5yZW1vdmVkRGF0ZXMubGVuZ3RoICkgeyB3ZWVrRGV0YWlsICs9IGAsIGAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiggd2Vla1BhdGNoLnJlbW92ZWREYXRlcy5sZW5ndGggKSB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IHdlZWtQYXRjaC5yZW1vdmVkRGF0ZXMubWFwKCBkYXRlID0+IGRhdGUuc2xpY2UoNSkgKS5qb2luKCcsJylcbiAgICAgICAgICAgIHdlZWtEZXRhaWwgKz0gYFJlbW92ZWQgV2Vla3M6ICR7ZGVzY3JpcHRpb259YFxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiggd2Vla1BhdGNoLmFkZGVkRGF0ZXMubGVuZ3RoIHx8IHdlZWtQYXRjaC5yZW1vdmVkRGF0ZXMubGVuZ3RoICkgeyB3ZWVrRGV0YWlsICs9IGAgKSBgIH1cblxuICAgICAgICB0aGlzLlhocigge1xuICAgICAgICAgICAgaWQ6IHRoaXMubWVtYmVyU2hhcmVJZCxcbiAgICAgICAgICAgIG1ldGhvZDogJ3BhdGNoJyxcbiAgICAgICAgICAgIHJlc291cmNlOiAnbWVtYmVyLW9yZGVyJyxcbiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KCB7XG4gICAgICAgICAgICAgICAgYWRqdXN0bWVudDogdGhpcy52aWV3cy5zaGFyZVBhdGNoLmdldFBhdGNoRGF0YSgpLFxuICAgICAgICAgICAgICAgIG1lbWJlclNoYXJlSWQ6IHRoaXMubWVtYmVyU2hhcmVJZCxcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIucGVyc29uLmRhdGEubmFtZSxcbiAgICAgICAgICAgICAgICBvcmRlck9wdGlvbnM6IHRoaXMudmlld3Mub3JkZXJPcHRpb25zLmdldFBhdGNoRGF0YSgpLFxuICAgICAgICAgICAgICAgIHByZXZpb3VzQmFsYW5jZTogdGhpcy52aWV3cy5zaGFyZVBhdGNoLmJhbGFuY2UsXG4gICAgICAgICAgICAgICAgc2hhcmVMYWJlbDogdGhpcy5zZWxlY3RlZFNoYXJlLmxhYmVsLFxuICAgICAgICAgICAgICAgIHdlZWtPcHRpb25zOiB3ZWVrUGF0Y2guYWxsUmVtb3ZlZCxcbiAgICAgICAgICAgICAgICB3ZWVrRGV0YWlsLFxuICAgICAgICAgICAgICAgIHRvOiBlbWFpbFRvXG4gICAgICAgICAgICB9IClcbiAgICAgICAgfSApXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLlRvYXN0LnNob3dNZXNzYWdlKCAnc3VjY2VzcycsICdPcmRlciBVcGRhdGVkJyApXG4gICAgICAgICAgICB0aGlzLnZpZXdzLnNlYXNvbnMuc2VsZWN0KCB0aGlzLm1lbWJlclNoYXJlSWQgKVxuICAgICAgICB9IClcbiAgICAgICAgLmNhdGNoKCBlID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCBlLnN0YWNrIHx8IGUgKVxuICAgICAgICAgICAgdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ2Vycm9yJywgJ1VwZGF0ZSBGYWlsZWQnIClcbiAgICAgICAgfSApXG4gICAgfSxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG5cbiAgICAgICAgdGhpcy52aWV3cy5tZW1iZXJUeXBlYWhlYWQuZm9jdXMoKVxuXG4gICAgICAgIHRoaXMudmlld3MubWVtYmVyVHlwZWFoZWFkLm9uKCAnY3VzdG9tZXJTZWxlY3RlZCcsIGN1c3RvbWVyID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDdXN0b21lciA9IGN1c3RvbWVyXG4gICAgICAgICAgICB0aGlzLnZpZXdzLmN1c3RvbWVySW5mby5yZXNldCggY3VzdG9tZXIgKVxuICAgICAgICAgICAgdGhpcy52aWV3cy5zZWFzb25zLnVwZGF0ZSggY3VzdG9tZXIgKVxuICAgICAgICAgICAgdGhpcy52aWV3cy5vcmRlck9wdGlvbnMuaGlkZSgpXG4gICAgICAgICAgICB0aGlzLnZpZXdzLndlZWtPcHRpb25zLmhpZGUoKVxuICAgICAgICAgICAgdGhpcy52aWV3cy50cmFuc2FjdGlvbnMuaGlkZSgpXG4gICAgICAgICAgICB0aGlzLnZpZXdzLnNoYXJlUGF0Y2gucmVzZXQoKVxuICAgICAgICB9IClcblxuICAgICAgICB0aGlzLnZpZXdzLnNlYXNvbnMub24oICdzZWxlY3RlZCcsIGRhdGEgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3cy5zaGFyZVBhdGNoLnJlc2V0KClcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRTaGFyZSA9IGRhdGEuc2hhcmVcbiAgICAgICAgICAgIHRoaXMubWVtYmVyU2hhcmVJZCA9IHRoaXMuc2VsZWN0ZWRTaGFyZS5tZW1iZXJzaGFyZWlkXG5cbiAgICAgICAgICAgIHRoaXMuRGVsaXZlcnkuZ2V0KCB7XG4gICAgICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgbWVtYmVyc2hhcmVpZDogZGF0YS5zaGFyZS5tZW1iZXJzaGFyZWlkLFxuICAgICAgICAgICAgICAgICAgICBkZWxpdmVyeW9wdGlvbmlkOiB7IG9wZXJhdGlvbjogJ2pvaW4nLCB2YWx1ZTogeyB0YWJsZTogJ2RlbGl2ZXJ5b3B0aW9uJywgY29sdW1uOiAnaWQnIH0gfSxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBkcm9wb2ZmaWQ6IHsgb3BlcmF0aW9uOiAnbGVmdEpvaW4nLCB2YWx1ZTogeyB0YWJsZTogJ2dyb3VwZHJvcG9mZicsIGNvbHVtbjogJ2lkJyB9IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IClcbiAgICAgICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy9UT0RPOklmIG5vIGRlbGl2ZXJ5LCBUb2FzdCwgb3Igc29tZSBVSVxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oIGRhdGEsIHsgZGVsaXZlcnk6IHRoaXMuRGVsaXZlcnkgfSApXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cy5vcmRlck9wdGlvbnMudXBkYXRlKCBkYXRhICkudGhlbiggKCkgPT4gdGhpcy52aWV3cy5zaGFyZVBhdGNoLnNldE9yaWdpbmFsV2Vla2x5UHJpY2UoIHRoaXMudmlld3Mub3JkZXJPcHRpb25zLm9yaWdpbmFsV2Vla2x5UHJpY2UgKSApLmNhdGNoKHRoaXMuRXJyb3IpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cy53ZWVrT3B0aW9ucy51cGRhdGUoIGRhdGEgKS50aGVuKCAoKSA9PiB0aGlzLnZpZXdzLnNoYXJlUGF0Y2guc2V0V2Vla3NBZmZlY3RlZCggdGhpcy52aWV3cy53ZWVrT3B0aW9ucy5nZXRXZWVrc0FmZmVjdGVkKCkgKSApLmNhdGNoKHRoaXMuRXJyb3IpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3cy50cmFuc2FjdGlvbnMudXBkYXRlKCBkYXRhICkudGhlbiggKCkgPT4gdGhpcy52aWV3cy5zaGFyZVBhdGNoLmJhbGFuY2UgPSB0aGlzLnZpZXdzLnRyYW5zYWN0aW9ucy5tb2RlbC5nZXRCYWxhbmNlKCkgKS5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgICAgICAgICB9IClcbiAgICAgICAgfSApXG5cbiAgICAgICAgdGhpcy52aWV3cy5vcmRlck9wdGlvbnMub24oICdkZWxpdmVyeUNoYW5nZWQnLCBkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMudmlld3Muc2hhcmVQYXRjaC5zZXRXZWVrc0FmZmVjdGVkKCB0aGlzLnZpZXdzLndlZWtPcHRpb25zLmdldFdlZWtzQWZmZWN0ZWQoKSApXG4gICAgICAgICAgICB0aGlzLnZpZXdzLnNoYXJlUGF0Y2gub25XZWVrc1Jlc2V0KClcbiAgICAgICAgICAgIHRoaXMudmlld3Mud2Vla09wdGlvbnMudXBkYXRlRGVsaXZlcnkoIGRhdGEgKVxuICAgICAgICB9IClcblxuICAgICAgICB0aGlzLnZpZXdzLm9yZGVyT3B0aW9ucy5vbiggJ3Jlc2V0JywgbW9kZWwgPT4ge1xuICAgICAgICAgICAgdGhpcy52aWV3cy53ZWVrT3B0aW9ucy51cGRhdGUoIG1vZGVsIClcbiAgICAgICAgICAgIHRoaXMudmlld3Muc2hhcmVQYXRjaC5vbk9wdGlvbnNSZXNldCgpXG4gICAgICAgIH0gKVxuICAgICAgICBcbiAgICAgICAgdGhpcy52aWV3cy53ZWVrT3B0aW9ucy5vbiggJ3Jlc2V0JywgbW9kZWwgPT4gdGhpcy52aWV3cy5zaGFyZVBhdGNoLm9uV2Vla3NSZXNldCgpIClcblxuICAgICAgICB0aGlzLnZpZXdzLm9yZGVyT3B0aW9ucy5vbiggJ2FkanVzdG1lbnQnLCBkYXRhID0+IHRoaXMudmlld3Muc2hhcmVQYXRjaC5vbk9wdGlvbnNVcGRhdGUoIGRhdGEgKSApXG4gICAgICAgIHRoaXMudmlld3Mud2Vla09wdGlvbnMub24oICdhZGp1c3RtZW50JywgZGF0YSA9PiB0aGlzLnZpZXdzLnNoYXJlUGF0Y2gub25XZWVrVXBkYXRlKCBkYXRhICkgKVxuXG4gICAgICAgIHRoaXMudmlld3Muc2hhcmVQYXRjaC5vbiggJ3BhdGNoTWVtYmVyU2hhcmUnLCAoKSA9PiB0aGlzLnBhdGNoTWVtYmVyU2hhcmUoKSApXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgcmVxdWlyZXNMb2dpbjogdHJ1ZSxcbiAgICBcbiAgICByZXF1aXJlc1JvbGU6ICdhZG1pbicgICAgXG5cbn0gKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgQXV0b0NvbXBsZXRlOiByZXF1aXJlKCcuLi9BdXRvQ29tcGxldGUnKSxcblxuICAgIEN1c3RvbWVyOiByZXF1aXJlKCcuLi9tb2RlbHMvQ3VzdG9tZXInKSxcblxuICAgIGZvY3VzKCkgeyB0aGlzLmVscy5jdXN0b21lcklucHV0LmZvY3VzKCkgfSxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIG5ldyB0aGlzLkF1dG9Db21wbGV0ZSgge1xuICAgICAgICAgICAgZGVsYXk6IDUwMCxcbiAgICAgICAgICAgIHNlbGVjdG9yOiB0aGlzLmVscy5jdXN0b21lcklucHV0LFxuICAgICAgICAgICAgbWluQ2hhcnM6IDMsXG4gICAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgICBzb3VyY2U6ICggdGVybSwgc3VnZ2VzdCApID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaCggJ25hbWUnLCB0ZXJtLnRyaW0oKSwgc3VnZ2VzdCApXG4gICAgICAgICAgICAgICAgLnRoZW4oIGZvdW5kID0+IGZvdW5kID8gUHJvbWlzZS5yZXNvbHZlKHRydWUpIDogdGhpcy5zZWFyY2goICdlbWFpbCcsIHRlcm0sIHN1Z2dlc3QgKSApXG4gICAgICAgICAgICAgICAgLnRoZW4oIGZvdW5kID0+IGZvdW5kID8gUHJvbWlzZS5yZXNvbHZlKHRydWUpIDogdGhpcy5zZWFyY2goICdzZWNvbmRhcnlFbWFpbCcsIHRlcm0sIHN1Z2dlc3QgKSApXG4gICAgICAgICAgICAgICAgLnRoZW4oIGZvdW5kID0+IGZvdW5kID8gUHJvbWlzZS5yZXNvbHZlKHRydWUpIDogc3VnZ2VzdChbXSkgKVxuICAgICAgICAgICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25TZWxlY3Q6ICggZSwgdGVybSwgaXRlbSApID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ3VzdG9tZXIgPSB0aGlzLkN1c3RvbWVyLmRhdGEuZmluZCggZGF0dW0gPT4gZGF0dW0ucGVyc29uLmRhdGFbIHRoaXMuYXR0ciBdID09PSB0ZXJtIClcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoICdjdXN0b21lclNlbGVjdGVkJywgdGhpcy5zZWxlY3RlZEN1c3RvbWVyIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICBzZWFyY2goIGF0dHIsIHRlcm0sIHN1Z2dlc3QgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkN1c3RvbWVyLmdldCggeyBxdWVyeTogeyBbYXR0cl06IHsgb3BlcmF0aW9uOiAnfionLCB2YWx1ZTogdGVybSB9LCAnaWQnOiB7IG9wZXJhdGlvbjogJ2pvaW4nLCB2YWx1ZTogeyB0YWJsZTogJ21lbWJlcicsIGNvbHVtbjogJ3BlcnNvbmlkJyB9IH0gfSB9IClcbiAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgIGlmKCAhIHRoaXMuQ3VzdG9tZXIuZGF0YS5sZW5ndGggKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCBmYWxzZSApXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuYXR0ciA9IGF0dHIgICAgIFxuICAgICAgICAgICAgc3VnZ2VzdCggdGhpcy5DdXN0b21lci5kYXRhLm1hcCggZGF0dW0gPT4gZGF0dW0ucGVyc29uLmRhdGFbIGF0dHIgXSApIClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoIHRydWUgKVxuICAgICAgICB9IClcbiAgICB9XG59IClcbiIsInZhciBNeVZpZXcgPSBmdW5jdGlvbiggZGF0YSApIHsgcmV0dXJuIE9iamVjdC5hc3NpZ24oIHRoaXMsIGRhdGEgKS5pbml0aWFsaXplKCkgfVxuXG5PYmplY3QuYXNzaWduKCBNeVZpZXcucHJvdG90eXBlLCByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXIucHJvdG90eXBlLCB7XG5cbiAgICBDb2xsZWN0aW9uOiByZXF1aXJlKCdiYWNrYm9uZScpLkNvbGxlY3Rpb24sXG4gICAgXG4gICAgRXJyb3I6IHJlcXVpcmUoJy4uL015RXJyb3InKSxcblxuICAgIE1vZGVsOiByZXF1aXJlKCdiYWNrYm9uZScpLk1vZGVsLFxuXG4gICAgXzogcmVxdWlyZSgndW5kZXJzY29yZScpLFxuXG4gICAgJDogcmVxdWlyZSgnanF1ZXJ5JyksXG5cbiAgICBYaHI6IHJlcXVpcmUoJy4uL1hocicpLFxuXG4gICAgZGVsZWdhdGVFdmVudHMoIGtleSwgZWwgKSB7XG4gICAgICAgIHZhciB0eXBlO1xuXG4gICAgICAgIGlmKCAhIHRoaXMuZXZlbnRzWyBrZXkgXSApIHJldHVyblxuXG4gICAgICAgIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoIHRoaXMuZXZlbnRzW2tleV0gKTtcblxuICAgICAgICBpZiggdHlwZSA9PT0gJ1tvYmplY3QgT2JqZWN0XScgKSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRFdmVudCgga2V5LCB0aGlzLmV2ZW50c1trZXldLCBlbCApO1xuICAgICAgICB9IGVsc2UgaWYoIHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XScgKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1trZXldLmZvckVhY2goIHNpbmdsZUV2ZW50ID0+IHRoaXMuYmluZEV2ZW50KCBrZXksIHNpbmdsZUV2ZW50LCBlbCApIClcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBkZWxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiggdGhpcy50ZW1wbGF0ZURhdGEgJiYgdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyICkge1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLnJlbW92ZSgpXG4gICAgICAgICAgICB0aGlzLmVtaXQoXCJkZWxldGVkXCIpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9LFxuXG4gICAgZmFkZUluKCBlbCApIHtcbiAgICAgICAgY29uc3Qgb25GYWRlRW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnYW5pbWF0ZS1pbicpXG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCAnYW5pbWF0aW9uZW5kJywgb25GYWRlRW5kIClcbiAgICAgICAgfVxuXG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoICdhbmltYXRpb25lbmQnLCBvbkZhZGVFbmQgKVxuICAgICAgICBpZiggZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdmZC1oaWRkZW4nKSApIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZkLWhpZGRlbicpXG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtaW4nKVxuICAgIH0sXG5cbiAgICBmYWRlT3V0KCBlbCApIHtcbiAgICAgICAgY29uc3Qgb25GYWRlRW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnZmQtaGlkZGVuJylcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FuaW1hdGUtb3V0JylcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoICdhbmltYXRpb25lbmQnLCBvbkZhZGVFbmQgKVxuICAgICAgICB9XG5cbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lciggJ2FuaW1hdGlvbmVuZCcsIG9uRmFkZUVuZCApXG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUtb3V0JylcbiAgICB9LFxuXG4gICAgZm9ybWF0OiB7XG4gICAgICAgIGNhcGl0YWxpemVGaXJzdExldHRlcjogc3RyaW5nID0+IHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKVxuICAgIH0sXG5cbiAgICBnZXRGb3JtRGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZm9ybURhdGEgPSB7IH1cblxuICAgICAgICBPYmplY3Qua2V5cyggdGhpcy50ZW1wbGF0ZURhdGEgKS5mb3JFYWNoKCBrZXkgPT4ge1xuICAgICAgICAgICAgdmFyICRlbCA9IHRoaXMudGVtcGxhdGVEYXRhW2tleV0sIHZhbCA9ICRlbC52YWwoKVxuICAgICAgICAgICAgaWYoIC9JTlBVVHxURVhUQVJFQXxTRUxFQ1QvLnRlc3QoICRlbC5wcm9wKCd0YWdOYW1lJykgKSAmJiB2YWwgKSB0aGlzLmZvcm1EYXRhW2tleV0gPSB2YWxcbiAgICAgICAgfSApXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybURhdGFcbiAgICB9LFxuXG4gICAgZ2V0Um91dGVyOiBmdW5jdGlvbigpIHsgcmV0dXJuIHJlcXVpcmUoJy4uL3JvdXRlcicpIH0sXG5cbiAgICBnZXRUZW1wbGF0ZU9wdGlvbnM6ICgpID0+ICh7fSksXG5cbiAgICBoaWRlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoICggcmVzb2x2ZSwgcmVqZWN0ICkgPT4ge1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLmhpZGUoKVxuICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICBpZiggISB0aGlzLmNvbnRhaW5lciApIHRoaXMuY29udGFpbmVyID0gdGhpcy4kKCcjY29udGVudCcpXG4gICAgICAgIFxuICAgICAgICB0aGlzLnJvdXRlciA9IHRoaXMuZ2V0Um91dGVyKClcblxuICAgICAgICB0aGlzLm1vZGFsVmlldyA9IHJlcXVpcmUoJy4vbW9kYWwnKVxuXG4gICAgICAgIHRoaXMuJCh3aW5kb3cpLnJlc2l6ZSggdGhpcy5fLnRocm90dGxlKCAoKSA9PiB0aGlzLnNpemUoKSwgNTAwICkgKVxuXG4gICAgICAgIGlmKCB0aGlzLnJlcXVpcmVzTG9naW4gJiYgISB0aGlzLnVzZXIuaWQgKSB7XG4gICAgICAgICAgICB0aGlzLkxvZ2luID0gdGhpcy5mYWN0b3J5LmNyZWF0ZSggJ2xvZ2luJywgeyBpbnNlcnRpb246IHsgZWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb250ZW50JykgfSB9IClcbiAgICAgICAgICAgIC5vbiggXCJzdWNjZXNzXCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdXRlci5vblVzZXIoIHRoaXMudXNlciApXG5cbiAgICAgICAgICAgICAgICBpZiggdGhpcy5yZXF1aXJlc1JvbGUgJiYgKCAhIHRoaXMuXyggdGhpcy51c2VyLmdldCgncm9sZXMnKSApLmNvbnRhaW5zKCB0aGlzLnJlcXVpcmVzUm9sZSApICkgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGVydCgnWW91IGRvIG5vdCBoYXZlIGFjY2VzcycpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKVxuICAgICAgICAgICAgfSApXG4gICAgICAgICAgICAub24oICdsb2dpbkNhbmNlbGxlZCcsICgpID0+IHRoaXMucm91dGVyLm5hdmlnYXRlKCcvJykgKVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICB9IGVsc2UgaWYoIHRoaXMudXNlci5pZCAmJiB0aGlzLnJlcXVpcmVzUm9sZSApIHtcbiAgICAgICAgICAgIGlmKCAoICEgdGhpcy5fKCB0aGlzLnVzZXIuZ2V0KCdyb2xlcycpICkuY29udGFpbnMoIHRoaXMucmVxdWlyZXNSb2xlICkgKSApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWxlcnQoJ1lvdSBkbyBub3QgaGF2ZSBhY2Nlc3MnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKClcbiAgICB9LFxuXG4gICAgaXNIaWRkZW46IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLmNzcygnZGlzcGxheScpID09PSAnbm9uZScgfSxcbiAgICBcbiAgICBtb21lbnQ6IHJlcXVpcmUoJ21vbWVudCcpLFxuXG4gICAgb25OYXZpZ2F0aW9uKCBwYXRoICkgeyByZXR1cm4gdGhpcy5zaG93KCkgfSxcblxuICAgIHBvc3RSZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnJlbmRlclN1YnZpZXdzKClcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgUTogcmVxdWlyZSgncScpLFxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHtcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlKCB0aGlzLmdldFRlbXBsYXRlT3B0aW9ucygpICksXG4gICAgICAgICAgICBpbnNlcnRpb246IHsgJGVsOiB0aGlzLmluc2VydGlvbkVsIHx8IHRoaXMuY29udGFpbmVyLCBtZXRob2Q6IHRoaXMuaW5zZXJ0aW9uTWV0aG9kIH0gfSApXG5cbiAgICAgICAgdGhpcy5zaXplKClcblxuICAgICAgICB0aGlzLnBvc3RSZW5kZXIoKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIHJlbmRlclN1YnZpZXdzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoIHRoaXMuc3Vidmlld3MgfHwgWyBdICkuZm9yRWFjaCgga2V5ID0+IFxuICAgICAgICAgICAgdGhpcy5zdWJ2aWV3c1sga2V5IF0uZm9yRWFjaCggc3Vidmlld01ldGEgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXNbIHN1YnZpZXdNZXRhLm5hbWUgXSA9IG5ldyBzdWJ2aWV3TWV0YS52aWV3KCB7IGNvbnRhaW5lcjogdGhpcy50ZW1wbGF0ZURhdGFbIGtleSBdIH0gKSB9ICkgKVxuICAgIH0sXG5cbiAgICBzaG93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLnNob3coKVxuICAgICAgICB0aGlzLnNpemUoKVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgc2xpZGVJbiggZWwsIGRpcmVjdGlvbiApIHtcbiAgICAgICAgY29uc3Qgb25TbGlkZUVuZCA9ICgpID0+IHtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoYHNsaWRlLWluLSR7ZGlyZWN0aW9ufWApXG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCAnYW5pbWF0aW9uZW5kJywgb25TbGlkZUVuZCApXG4gICAgICAgIH1cblxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCAnYW5pbWF0aW9uZW5kJywgb25TbGlkZUVuZCApXG4gICAgICAgIGlmKCBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZkLWhpZGRlbicpICkgZWwuY2xhc3NMaXN0LnJlbW92ZSgnZmQtaGlkZGVuJylcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChgc2xpZGUtaW4tJHtkaXJlY3Rpb259YClcbiAgICB9LFxuXG4gICAgc2xpZGVPdXQoIGVsLCBkaXJlY3Rpb24gKSB7XG4gICAgICAgIGNvbnN0IG9uU2xpZGVFbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdmZC1oaWRkZW4nKVxuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShgc2xpZGUtb3V0LSR7ZGlyZWN0aW9ufWApXG4gICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCAnYW5pbWF0aW9uZW5kJywgb25TbGlkZUVuZCApXG4gICAgICAgIH1cblxuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCAnYW5pbWF0aW9uZW5kJywgb25TbGlkZUVuZCApXG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoYHNsaWRlLW91dC0ke2RpcmVjdGlvbn1gKVxuICAgIH0sXG5cbiAgICBzbHVycEVsOiBmdW5jdGlvbiggZWwgKSB7XG5cbiAgICAgICAgdmFyIGtleSA9IGVsLmF0dHIoJ2RhdGEtanMnKTtcblxuICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YVsga2V5IF0gPSAoIHRoaXMudGVtcGxhdGVEYXRhLmhhc093blByb3BlcnR5KGtleSkgKVxuICAgICAgICAgICAgPyB0aGlzLnRlbXBsYXRlRGF0YVsga2V5IF0uYWRkKCBlbCApXG4gICAgICAgICAgICA6IGVsO1xuXG4gICAgICAgIGVsLnJlbW92ZUF0dHIoJ2RhdGEtanMnKTtcblxuICAgICAgICBpZiggdGhpcy5ldmVudHNbIGtleSBdICkgdGhpcy5kZWxlZ2F0ZUV2ZW50cygga2V5LCBlbCApXG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHNsdXJwVGVtcGxhdGU6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG4gICAgICAgIHZhciAkaHRtbCA9IHRoaXMuJCggb3B0aW9ucy50ZW1wbGF0ZSApLFxuICAgICAgICAgICAgc2VsZWN0b3IgPSAnW2RhdGEtanNdJztcblxuICAgICAgICBpZiggdGhpcy50ZW1wbGF0ZURhdGEgPT09IHVuZGVmaW5lZCApIHRoaXMudGVtcGxhdGVEYXRhID0geyB9O1xuXG4gICAgICAgICRodG1sLmVhY2goICggaW5kZXgsIGVsICkgPT4ge1xuICAgICAgICAgICAgdmFyICRlbCA9IHRoaXMuJChlbCk7XG4gICAgICAgICAgICBpZiggJGVsLmlzKCBzZWxlY3RvciApICkgdGhpcy5zbHVycEVsKCAkZWwgKVxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJGh0bWwuZ2V0KCkuZm9yRWFjaCggKCBlbCApID0+IHsgdGhpcy4kKCBlbCApLmZpbmQoIHNlbGVjdG9yICkuZWFjaCggKCBpLCBlbFRvQmVTbHVycGVkICkgPT4gdGhpcy5zbHVycEVsKCB0aGlzLiQoZWxUb0JlU2x1cnBlZCkgKSApIH0gKVxuICAgICAgIFxuICAgICAgICBpZiggb3B0aW9ucyAmJiBvcHRpb25zLmluc2VydGlvbiApIG9wdGlvbnMuaW5zZXJ0aW9uLiRlbFsgKCBvcHRpb25zLmluc2VydGlvbi5tZXRob2QgKSA/IG9wdGlvbnMuaW5zZXJ0aW9uLm1ldGhvZCA6ICdhcHBlbmQnIF0oICRodG1sIClcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIFxuICAgIGJpbmRFdmVudDogZnVuY3Rpb24oIGVsZW1lbnRLZXksIGV2ZW50RGF0YSwgZWwgKSB7XG4gICAgICAgIHZhciBlbGVtZW50cyA9ICggZWwgKSA/IGVsIDogdGhpcy50ZW1wbGF0ZURhdGFbIGVsZW1lbnRLZXkgXTtcblxuICAgICAgICBlbGVtZW50cy5vbiggZXZlbnREYXRhLmV2ZW50IHx8ICdjbGljaycsIGV2ZW50RGF0YS5zZWxlY3RvciwgZXZlbnREYXRhLm1ldGEsIHRoaXNbIGV2ZW50RGF0YS5tZXRob2QgXS5iaW5kKHRoaXMpIClcbiAgICB9LFxuXG4gICAgZXZlbnRzOiB7fSxcblxuICAgIGlzTW91c2VPbkVsOiBmdW5jdGlvbiggZXZlbnQsIGVsICkge1xuXG4gICAgICAgIHZhciBlbE9mZnNldCA9IGVsLm9mZnNldCgpLFxuICAgICAgICAgICAgZWxIZWlnaHQgPSBlbC5vdXRlckhlaWdodCggdHJ1ZSApLFxuICAgICAgICAgICAgZWxXaWR0aCA9IGVsLm91dGVyV2lkdGgoIHRydWUgKTtcblxuICAgICAgICBpZiggKCBldmVudC5wYWdlWCA8IGVsT2Zmc2V0LmxlZnQgKSB8fFxuICAgICAgICAgICAgKCBldmVudC5wYWdlWCA+ICggZWxPZmZzZXQubGVmdCArIGVsV2lkdGggKSApIHx8XG4gICAgICAgICAgICAoIGV2ZW50LnBhZ2VZIDwgZWxPZmZzZXQudG9wICkgfHxcbiAgICAgICAgICAgICggZXZlbnQucGFnZVkgPiAoIGVsT2Zmc2V0LnRvcCArIGVsSGVpZ2h0ICkgKSApIHtcblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIHJlcXVpcmVzTG9naW46IHRydWUsXG4gICAgXG4gICAgc2l6ZTogKCkgPT4geyB0aGlzIH0sXG5cbiAgICB1c2VyOiByZXF1aXJlKCcuLi9tb2RlbHMvVXNlcicpLFxuXG4gICAgdXRpbDogcmVxdWlyZSgndXRpbCcpXG5cbn0gKVxuXG5tb2R1bGUuZXhwb3J0cyA9IE15Vmlld1xuIiwiY29uc3QgTW9kZWwgPSByZXF1aXJlKCcuLi9tb2RlbHMvX19wcm90b19fJylcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgRGVsaXZlcnlPcHRpb25zOiBPYmplY3QuY3JlYXRlKCBNb2RlbCwgeyByZXNvdXJjZTogeyB2YWx1ZTogJ2RlbGl2ZXJ5b3B0aW9uJyB9IH0gKSxcbiAgICBHcm91cERyb3BvZmZzOiBPYmplY3QuY3JlYXRlKCBNb2RlbCwgeyByZXNvdXJjZTogeyB2YWx1ZTogJ2dyb3VwZHJvcG9mZicgfSB9ICksXG4gICAgTWVtYmVyU2VsZWN0aW9uOiByZXF1aXJlKCcuLi9tb2RlbHMvTWVtYmVyU2VsZWN0aW9uJyksXG4gICAgTWVtYmVyU2hhcmVPcHRpb246IE9iamVjdC5jcmVhdGUoIE1vZGVsLCB7IHJlc291cmNlOiB7IHZhbHVlOiAnbWVtYmVyc2hhcmVvcHRpb24nIH0gfSApLFxuICAgIE9yZGVyT3B0aW9uOiByZXF1aXJlKCcuLi9tb2RlbHMvT3JkZXJPcHRpb24nKSxcbiAgICBTaGFyZU9wdGlvbk9wdGlvbjogcmVxdWlyZSgnLi4vbW9kZWxzL1NoYXJlT3B0aW9uT3B0aW9uJyksXG5cbiAgICBjYWxjdWxhdGVXZWVrbHlQcmljZSgpIHtcbiAgICAgICAgbGV0IG9wdGlvblByaWNlID0gdGhpcy5NZW1iZXJTZWxlY3Rpb24uZGF0YS5yZWR1Y2UoICggc3VtLCBzZWxlY3Rpb24gKSA9PiBzdW0gKyBNb2RlbC5tb25leVRvUmVhbCggc2VsZWN0aW9uLnByaWNlICksIDAgKVxuICAgICAgICByZXR1cm4gb3B0aW9uUHJpY2UgKyBNb2RlbC5tb25leVRvUmVhbCggdGhpcy5tb2RlbC5kZWxpdmVyeS5kYXRhWzBdLmRlbGl2ZXJ5b3B0aW9uLnByaWNlIClcbiAgICB9LFxuXG4gICAgY2FsY3VsYXRlUHJpY2VBZGp1c3RtZW50KCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoIHRoaXMuZWRpdGVkRmllbGRzICkucmVkdWNlKCAoIGFjYywga2V5ICkgPT4ge1xuICAgICAgICAgICAgaWYoICEgdGhpcy5lZGl0ZWRGaWVsZHNbIGtleSBdLm5ld1ZhbHVlIHx8IGtleSA9PT0gJ2dyb3VwT3B0aW9uJyApIHJldHVybiBhY2NcblxuICAgICAgICAgICAgbGV0IG9sZFByaWNlLCBuZXdQcmljZSwgZGlmZlxuXG4gICAgICAgICAgICBpZigga2V5ID09PSAnZGVsaXZlcnlPcHRpb24nICkge1xuICAgICAgICAgICAgICAgIG9sZFByaWNlID0gdGhpcy5EZWxpdmVyeU9wdGlvbnMuZGF0YS5maW5kKCBvcHRpb24gPT4gb3B0aW9uLm5hbWUgPT09IHRoaXMuZWRpdGVkRmllbGRzWyBrZXkgXS5vbGRWYWx1ZSApLnByaWNlXG4gICAgICAgICAgICAgICAgbmV3UHJpY2UgPSB0aGlzLkRlbGl2ZXJ5T3B0aW9ucy5kYXRhLmZpbmQoIG9wdGlvbiA9PiBvcHRpb24ubmFtZSA9PT0gdGhpcy5lZGl0ZWRGaWVsZHNbIGtleSBdLm5ld1ZhbHVlICkucHJpY2VcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2hhcmVPcHRpb25JZCA9IHRoaXMuT3JkZXJPcHRpb24uZGF0YS5maW5kKCBvcHRpb24gPT4gb3B0aW9uLmtleSA9PT0ga2V5ICkuaWRcblxuICAgICAgICAgICAgICAgIG9sZFByaWNlID0gdGhpcy5TaGFyZU9wdGlvbk9wdGlvbi5kYXRhLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbiA9PiBvcHRpb24ubmFtZSA9PT0gdGhpcy5lZGl0ZWRGaWVsZHNbIGtleSBdLm9sZFZhbHVlICYmIG9wdGlvbi5zaGFyZW9wdGlvbmlkID09PSBzaGFyZU9wdGlvbklkXG4gICAgICAgICAgICAgICAgKS5wcmljZVxuXG4gICAgICAgICAgICAgICAgbmV3UHJpY2UgPSB0aGlzLlNoYXJlT3B0aW9uT3B0aW9uLmRhdGEuZmluZChcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uID0+IG9wdGlvbi5uYW1lID09PSB0aGlzLmVkaXRlZEZpZWxkc1sga2V5IF0ubmV3VmFsdWUgJiYgb3B0aW9uLnNoYXJlb3B0aW9uaWQgPT09IHNoYXJlT3B0aW9uSWRcbiAgICAgICAgICAgICAgICApLnByaWNlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpZmYgPSBNb2RlbC5tb25leVRvUmVhbCggbmV3UHJpY2UgKSAtIE1vZGVsLm1vbmV5VG9SZWFsKCBvbGRQcmljZSApXG5cbiAgICAgICAgICAgIHJldHVybiBhY2MgKyBkaWZmXG5cbiAgICAgICAgfSwgMCApXG4gICAgfSxcblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmVscy5jaGFuZ2VzLmlubmVySFRNTCA9ICcnXG4gICAgICAgIHRoaXMuZWxzLm9wdGlvbnMuaW5uZXJIVE1MID0gJydcblxuICAgICAgICB0aGlzLmVscy5yZXNldEJ0bi5jbGFzc0xpc3QuYWRkKCdmZC1oaWRkZW4nKVxuICAgICAgICB0aGlzLmVscy5lZGl0U3VtbWFyeS5jbGFzc0xpc3QuYWRkKCdmZC1oaWRkZW4nKVxuXG4gICAgICAgIHRoaXMuZWxzID0ge1xuICAgICAgICAgICAgZWRpdFN1bW1hcnk6IHRoaXMuZWxzLmVkaXRTdW1tYXJ5LFxuICAgICAgICAgICAgY2hhbmdlczogdGhpcy5lbHMuY2hhbmdlcyxcbiAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5lbHMuY29udGFpbmVyLFxuICAgICAgICAgICAgc2Vhc29uTGFiZWw6IHRoaXMuZWxzLnNlYXNvbkxhYmVsLFxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5lbHMub3B0aW9ucyxcbiAgICAgICAgICAgIHJlc2V0QnRuOiB0aGlzLmVscy5yZXNldEJ0bixcbiAgICAgICAgICAgIG5ld1dlZWtseVByaWNlOiB0aGlzLmVscy5uZXdXZWVrbHlQcmljZSxcbiAgICAgICAgICAgIG9yaWdpbmFsV2Vla2x5UHJpY2U6IHRoaXMuZWxzLm9yaWdpbmFsV2Vla2x5UHJpY2VcbiAgICAgICAgfVxuXG4gICAgfSxcblxuICAgIGV2ZW50czoge1xuICAgICAgICBvcHRpb25zOiAnY2hhbmdlJyxcbiAgICAgICAgcmVzZXRCdG46ICdjbGljaydcbiAgICB9LFxuXG4gICAgZ2V0QWRqdXN0bWVudERlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSggdGhpcy5lbHMub3B0aW9ucy5xdWVyeVNlbGVjdG9yQWxsKCdsaS5lZGl0ZWQnKSApLm1hcCggZWwgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmllbGROYW1lID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKSxcbiAgICAgICAgICAgICAgICAgIGZpZWxkTGFiZWwgPSB0aGlzLmNhcGl0YWxpemVGaXJzdExldHRlciggZmllbGROYW1lICksXG4gICAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IHRoaXMuZWRpdGVkRmllbGRzWyBmaWVsZE5hbWUgXS5vbGRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZWRpdGVkRmllbGRzWyBmaWVsZE5hbWUgXS5vbGRWYWx1ZS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgIDogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSB0aGlzLmVkaXRlZEZpZWxkc1sgZmllbGROYW1lIF0ubmV3VmFsdWUudG9TdHJpbmcoKVxuXG4gICAgICAgICAgICByZXR1cm4gYCR7ZmllbGRMYWJlbH06ICR7b2xkVmFsdWV9IHRvICR7bmV3VmFsdWV9YFxuICAgICAgICB9ICkuam9pbignXFxuXFx0JylcbiAgICB9LFxuXG4gICAgZ2V0RGVsaXZlcnlEYXRhKCApIHtcblxuICAgICAgICBjb25zdCBwYXRjaElkID0gdGhpcy5tb2RlbC5kZWxpdmVyeS5kYXRhWzBdLm1lbWJlcnNoYXJlZGVsaXZlcnkuaWQsXG4gICAgICAgICAgICAgIG5ld0RlbGl2ZXJ5SWQgPSB0aGlzLkRlbGl2ZXJ5T3B0aW9ucy5kYXRhLmZpbmQoIG9wdGlvbiA9PiBvcHRpb24ubmFtZSA9PT0gdGhpcy5lZGl0ZWRGaWVsZHMuZGVsaXZlcnlPcHRpb24ubmV3VmFsdWUgKS5pZCxcbiAgICAgICAgICAgICAgZHJvcG9mZklkID0gKCB0aGlzLmVkaXRlZEZpZWxkcy5kZWxpdmVyeU9wdGlvbi5uZXdWYWx1ZSA9PT0gJ2dyb3VwJyApXG4gICAgICAgICAgICAgICAgPyB0aGlzLkdyb3VwRHJvcG9mZnMuZGF0YS5maW5kKCBvcHRpb24gPT4gb3B0aW9uLm5hbWUgPT09IHRoaXMuZWRpdGVkRmllbGRzLmdyb3VwT3B0aW9uLm5ld1ZhbHVlICkuaWRcbiAgICAgICAgICAgICAgICA6IG51bGxcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHBhdGNoSWQsXG4gICAgICAgICAgICBkZWxpdmVyeW9wdGlvbmlkOiBuZXdEZWxpdmVyeUlkLFxuICAgICAgICAgICAgZ3JvdXBkcm9wb2ZmaWQ6IGRyb3BvZmZJZFxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldFNoYXJlT3B0aW9uRGF0YSgga2V5ICkge1xuICAgICAgICBjb25zdCBzaGFyZU9wdGlvbklkID0gdGhpcy5PcmRlck9wdGlvbi5kYXRhLmZpbmQoIG9wdGlvbiA9PiBvcHRpb24ua2V5ID09PSBrZXkgKS5pZCxcbiAgICAgICAgICAgIG1lbWJlclNoYXJlSWQgPSB0aGlzLm1vZGVsLnNoYXJlLm1lbWJlcnNoYXJlaWRcblxuICAgICAgICBjb25zdCBzaGFyZU9wdGlvbk9wdGlvbklkID0gdGhpcy5TaGFyZU9wdGlvbk9wdGlvbi5kYXRhLmZpbmQoXG4gICAgICAgICAgICBvcHRpb24gPT4gb3B0aW9uLm5hbWUgPT09IHRoaXMuZWRpdGVkRmllbGRzWyBrZXkgXS5uZXdWYWx1ZSAmJiBvcHRpb24uc2hhcmVvcHRpb25pZCA9PT0gc2hhcmVPcHRpb25JZFxuICAgICAgICApLmlkXG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiB0aGlzLk1lbWJlclNlbGVjdGlvbi5kYXRhLmZpbmQoIG1lbWJlclNlbGVjdGlvbiA9PiBzaGFyZU9wdGlvbklkID09IG1lbWJlclNlbGVjdGlvbi5zaGFyZW9wdGlvbmlkICkubWVtYmVyc2hhcmVvcHRpb25pZCxcbiAgICAgICAgICAgIHNoYXJlb3B0aW9ub3B0aW9uaWQ6IHNoYXJlT3B0aW9uT3B0aW9uSWRcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRQYXRjaERhdGEoKSB7XG5cbiAgICAgICAgdmFyIHJ2ID0geyBtZW1iZXJzaGFyZWRlbGl2ZXJ5OlxuICAgICAgICAgICAgKCB0aGlzLmVkaXRlZEZpZWxkcy5kZWxpdmVyeU9wdGlvbi5uZXdWYWx1ZSB8fCB0aGlzLmVkaXRlZEZpZWxkcy5ncm91cE9wdGlvbi5uZXdWYWx1ZSApXG4gICAgICAgICAgICAgICAgPyB0aGlzLmdldERlbGl2ZXJ5RGF0YSgpXG4gICAgICAgICAgICAgICAgOiB7IH0sXG4gICAgICAgICAgICBtZW1iZXJzaGFyZW9wdGlvbjogWyBdXG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3Qua2V5cyggdGhpcy5lZGl0ZWRGaWVsZHMgKS5mb3JFYWNoKCBrZXkgPT4ge1xuICAgICAgICAgICAgaWYoICF0aGlzLmVkaXRlZEZpZWxkc1sga2V5IF0ubmV3VmFsdWUgfHwga2V5ID09PSAnZGVsaXZlcnlPcHRpb24nIHx8IGtleSA9PT0gJ2dyb3VwT3B0aW9uJyApIHJldHVyblxuXG4gICAgICAgICAgICBydi5tZW1iZXJzaGFyZW9wdGlvbi5wdXNoKCB0aGlzLmdldFNoYXJlT3B0aW9uRGF0YSgga2V5ICkgKVxuICAgICAgICB9IClcblxuICAgICAgICByZXR1cm4gcnZcbiAgICB9LFxuXG4gICAgb25PcHRpb25zQ2hhbmdlKCBlICkge1xuICAgICAgICBjb25zdCBsaXN0SXRlbUVsID0gZS50YXJnZXQuY2xvc2VzdCgnbGkuZWRpdGFibGUnKSxcbiAgICAgICAgICAgIHNoYXJlT3B0aW9uS2V5ID0gbGlzdEl0ZW1FbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpLFxuICAgICAgICAgICAgdmFsID0gZS50YXJnZXQudmFsdWVcblxuICAgICAgICBpZiggc2hhcmVPcHRpb25LZXkgPT09ICdkZWxpdmVyeU9wdGlvbicgJiYgdmFsICE9PSAnZ3JvdXAnICkgdGhpcy5lbWl0KCAnZGVsaXZlcnlDaGFuZ2VkJywgeyBkZWxpdmVyeU9wdGlvbjogdmFsIH0gKVxuICAgICAgICBpZiggc2hhcmVPcHRpb25LZXkgPT09ICdncm91cE9wdGlvbicgJiYgdmFsICE9PSAnbm9uZScgKSB0aGlzLmVtaXQoICdkZWxpdmVyeUNoYW5nZWQnLCB7IGRlbGl2ZXJ5T3B0aW9uOiAnZ3JvdXAnLCBncm91cE9wdGlvbjogdmFsIH0gKVxuXG4gICAgICAgIGlmKCBzaGFyZU9wdGlvbktleSA9PT0gJ2RlbGl2ZXJ5T3B0aW9uJyApIHtcbiAgICAgICAgICAgIGlmKCB2YWwgIT09ICdncm91cCcgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbHMuZ3JvdXBPcHRpb24uc2VsZWN0ZWRJbmRleCA9IDBcbiAgICAgICAgICAgICAgICB0aGlzLmVscy5ncm91cE9wdGlvbi5kaXNhYmxlZCA9IHRydWVcbiAgICAgICAgICAgICAgICB0aGlzLmVscy5ncm91cE9wdGlvbi5jbG9zZXN0KCdsaScpLmNsYXNzTGlzdC5yZW1vdmUoJ2VkaXRlZCcpXG4gICAgICAgICAgICAgICAgdGhpcy5lZGl0ZWRGaWVsZHMuZ3JvdXBPcHRpb24ubmV3VmFsdWUgPSB1bmRlZmluZWRcbiAgICAgICAgICAgIH0gZWxzZSB7IHRoaXMuZWxzLmdyb3VwT3B0aW9uLmRpc2FibGVkID0gZmFsc2UgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoIHRoaXMuZWRpdGVkRmllbGRzWyBzaGFyZU9wdGlvbktleSBdLm9sZFZhbHVlID09PSB2YWwgKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRlZEZpZWxkc1sgc2hhcmVPcHRpb25LZXkgXS5uZXdWYWx1ZSA9IHVuZGVmaW5lZFxuICAgICAgICAgICAgbGlzdEl0ZW1FbC5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0ZWQnKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0VkaXRTdW1tYXJ5KClcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWRpdGVkRmllbGRzWyBzaGFyZU9wdGlvbktleSBdLm5ld1ZhbHVlID0gdmFsXG4gICAgICAgIGxpc3RJdGVtRWwuY2xhc3NMaXN0LmFkZCgnZWRpdGVkJylcblxuICAgICAgICB0aGlzLmVscy5yZXNldEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdmZC1oaWRkZW4nKVxuICAgICAgICBcbiAgICAgICAgdGhpcy5zaG93RWRpdFN1bW1hcnkoKVxuICAgICAgICBcbiAgICB9LFxuXG4gICAgb25SZXNldEJ0bkNsaWNrKCkge1xuICAgICAgICB0aGlzLmVscy5yZXNldEJ0bi5jbGFzc0xpc3QuYWRkKCdmZC1oaWRkZW4nKVxuICAgICAgICB0aGlzLmVscy5lZGl0U3VtbWFyeS5jbGFzc0xpc3QuYWRkKCdmZC1oaWRkZW4nKVxuICAgICAgICB0aGlzLnVwZGF0ZSggdGhpcy5tb2RlbCApXG4gICAgICAgIHRoaXMuZW1pdCggJ3Jlc2V0JywgdGhpcy5tb2RlbCApXG4gICAgfSxcblxuICAgIHJlbmRlckRlbGl2ZXJ5T3B0aW9ucygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gT2JqZWN0LmFzc2lnbigge30sIHRoaXMubW9kZWwuZGVsaXZlcnkuZGF0YVswXSApXG5cbiAgICAgICAgdGhpcy5zbHVycFRlbXBsYXRlKCB7IHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlc1sgdGhpcy5vcHRpb25UZW1wbGF0ZSBdKCB7IG5hbWU6ICdEZWxpdmVyeSBPcHRpb24nLCBpZDogJ2RlbGl2ZXJ5T3B0aW9uJyB9ICksIGluc2VydGlvbjogeyBlbDogdGhpcy5lbHMub3B0aW9ucyB9IH0gKVxuICAgICAgICAgICBcbiAgICAgICAgdGhpcy5zbHVycFRlbXBsYXRlKCB7IHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlc1sgdGhpcy5vcHRpb25UZW1wbGF0ZSBdKCB7IG5hbWU6ICdHcm91cCBPcHRpb24nLCBpZDogJ2dyb3VwT3B0aW9uJyB9ICksIGluc2VydGlvbjogeyBlbDogdGhpcy5lbHMub3B0aW9ucyB9IH0gKVxuICAgICAgICAgICAgXG4gICAgICAgIGlmKCB0aGlzLm9wdGlvblRlbXBsYXRlID09PSAnZWRpdGFibGVPcHRpb24nICkge1xuXG4gICAgICAgICAgICB0aGlzLkRlbGl2ZXJ5T3B0aW9ucy5kYXRhLmZvckVhY2goIG9wdGlvbiA9PlxuICAgICAgICAgICAgICAgIHRoaXMuc2x1cnBUZW1wbGF0ZSggeyB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXMuc2VsZWN0T3B0aW9uKCBvcHRpb24gKSwgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmVscy5kZWxpdmVyeU9wdGlvbiB9IH0gKVxuICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICB0aGlzLmVscy5kZWxpdmVyeU9wdGlvbi5xdWVyeVNlbGVjdG9yKGBvcHRpb25bdmFsdWU9JHtDU1MuZXNjYXBlKCBvcHRpb24uZGVsaXZlcnlvcHRpb24ubmFtZSApfWApLnNlbGVjdGVkID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5lZGl0ZWRGaWVsZHMuZGVsaXZlcnlPcHRpb24gPSB7IH1cbiAgICAgICAgICAgIHRoaXMuZWRpdGVkRmllbGRzLmRlbGl2ZXJ5T3B0aW9uLm9sZFZhbHVlID0gdGhpcy5lbHMuZGVsaXZlcnlPcHRpb24udmFsdWVcblxuICAgICAgICAgICAgdGhpcy5Hcm91cERyb3BvZmZzLmRhdGEudW5zaGlmdCggeyBuYW1lOiAnbm9uZScsIGxhYmVsOiAnTm9uZScgfSApXG4gICAgICAgICAgICB0aGlzLkdyb3VwRHJvcG9mZnMuZGF0YS5mb3JFYWNoKCBvcHRpb24gPT5cbiAgICAgICAgICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHsgdGVtcGxhdGU6IHRoaXMudGVtcGxhdGVzLnNlbGVjdE9wdGlvbiggb3B0aW9uICksIGluc2VydGlvbjogeyBlbDogdGhpcy5lbHMuZ3JvdXBPcHRpb24gfSB9IClcbiAgICAgICAgICAgIClcblxuICAgICAgICAgICAgaWYoICEgb3B0aW9uLmdyb3VwZHJvcG9mZi5pZCApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVscy5ncm91cE9wdGlvbi5zZWxlY3RlZEluZGV4ID0gMFxuICAgICAgICAgICAgICAgIHRoaXMuZWxzLmdyb3VwT3B0aW9uLmRpc2FibGVkID0gdHJ1ZVxuICAgICAgICAgICAgfSBlbHNlIHRoaXMuZWxzLmdyb3VwT3B0aW9uLnF1ZXJ5U2VsZWN0b3IoYG9wdGlvblt2YWx1ZT0ke0NTUy5lc2NhcGUoIG9wdGlvbi5ncm91cGRyb3BvZmYubmFtZSApfWApLnNlbGVjdGVkID0gdHJ1ZVxuXG4gICAgICAgICAgICB0aGlzLmVkaXRlZEZpZWxkcy5ncm91cE9wdGlvbiA9IHsgfVxuICAgICAgICAgICAgdGhpcy5lZGl0ZWRGaWVsZHMuZ3JvdXBPcHRpb24ub2xkVmFsdWUgPSB0aGlzLmVscy5ncm91cE9wdGlvbi5kaXNhYmxlZCA/IHVuZGVmaW5lZCA6IHRoaXMuZWxzLmdyb3VwT3B0aW9uLnZhbHVlXG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWxzLmRlbGl2ZXJ5T3B0aW9uLnRleHRDb250ZW50ID0gb3B0aW9uLmRlbGl2ZXJ5b3B0aW9uLmxhYmVsXG4gICAgICAgICAgICB0aGlzLmVscy5ncm91cE9wdGlvbi50ZXh0Q29udGVudCA9IG9wdGlvbi5ncm91cGRyb3BvZmYubGFiZWwgfHwgJ04vQSdcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIHJlbmRlclNoYXJlT3B0aW9ucygpIHtcbiAgICAgICAgdGhpcy5PcmRlck9wdGlvbi5kYXRhLmZvckVhY2goIHNoYXJlT3B0aW9uID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2x1cnBUZW1wbGF0ZSggeyB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXNbIHRoaXMub3B0aW9uVGVtcGxhdGUgXSggc2hhcmVPcHRpb24gKSwgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmVscy5vcHRpb25zIH0gfSApXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKCB0aGlzLmVkaXRhYmxlICkge1xuICAgICAgICAgICAgICAgIHRoaXMuU2hhcmVPcHRpb25PcHRpb24uZGF0YS5mb3JFYWNoKCBvcHRpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiggb3B0aW9uLnNoYXJlb3B0aW9uaWQgPT09IHNoYXJlT3B0aW9uLmlkICkgdGhpcy5zbHVycFRlbXBsYXRlKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXMuc2VsZWN0T3B0aW9uKCBvcHRpb24gKSwgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmVsc1sgc2hhcmVPcHRpb24uaWQgXSB9XG4gICAgICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgfSAgICAgICAgICAgIFxuICAgICAgICB9IClcblxuICAgICAgICB0aGlzLk1lbWJlclNlbGVjdGlvbi5kYXRhLmZvckVhY2goIHNlbGVjdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiggdGhpcy5lZGl0YWJsZSApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSB0aGlzLk9yZGVyT3B0aW9uLmRhdGEuZmluZCggc2hhcmVPcHRpb24gPT4gc2hhcmVPcHRpb24uaWQgPT09IHNlbGVjdGlvbi5zaGFyZW9wdGlvbmlkICkua2V5XG4gICAgICAgICAgICAgICAgdGhpcy5lbHNbIHNlbGVjdGlvbi5zaGFyZW9wdGlvbmlkIF0ucXVlcnlTZWxlY3Rvcihgb3B0aW9uW3ZhbHVlPSR7Q1NTLmVzY2FwZSggc2VsZWN0aW9uLm5hbWUgKX1gKS5zZWxlY3RlZCA9IHRydWVcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEZpZWxkc1sga2V5IF0gPSB7IH1cbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRlZEZpZWxkc1sga2V5IF0ub2xkVmFsdWUgPSB0aGlzLmVsc1sgc2VsZWN0aW9uLnNoYXJlb3B0aW9uaWQgXS52YWx1ZVxuICAgICAgICAgICAgfSBlbHNlIHsgdGhpcy5lbHNbIHNlbGVjdGlvbi5zaGFyZW9wdGlvbmlkIF0udGV4dENvbnRlbnQgPSBzZWxlY3Rpb24ubGFiZWwgfVxuICAgICAgICB9IClcblxuICAgIH0sXG5cbiAgICBzaG93RWRpdFN1bW1hcnkoKSB7XG4gICAgICAgIGNvbnN0IHByaWNlQWRqdXN0bWVudCA9IHRoaXMuY2FsY3VsYXRlUHJpY2VBZGp1c3RtZW50KCksXG4gICAgICAgICAgICBlZGl0cyA9IHRoaXMuZWxzLm9wdGlvbnMucXVlcnlTZWxlY3RvckFsbCgnbGkuZWRpdGVkJylcblxuICAgICAgICB0aGlzLmVscy5jaGFuZ2VzLmlubmVySFRNTCA9ICcnXG5cbiAgICAgICAgaWYoIGVkaXRzLmxlbmd0aCA9PT0gMCApIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCggJ3Jlc2V0JywgdGhpcy5tb2RlbCApXG4gICAgICAgICAgICB0aGlzLmVscy5yZXNldEJ0bi5jbGFzc0xpc3QuYWRkKCdmZC1oaWRkZW4nKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2xpZGVPdXQoIHRoaXMuZWxzLmVkaXRTdW1tYXJ5LCAncmlnaHQnIClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZWRpdHMuZm9yRWFjaCggZWwgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmllbGROYW1lID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKSxcbiAgICAgICAgICAgICAgICAgIGZpZWxkTGFiZWwgPSB0aGlzLmNhcGl0YWxpemVGaXJzdExldHRlciggZmllbGROYW1lICksXG4gICAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IHRoaXMuZWRpdGVkRmllbGRzWyBmaWVsZE5hbWUgXS5vbGRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZWRpdGVkRmllbGRzWyBmaWVsZE5hbWUgXS5vbGRWYWx1ZS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgIDogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgbmV3VmFsdWUgPSB0aGlzLmVkaXRlZEZpZWxkc1sgZmllbGROYW1lIF0ubmV3VmFsdWUudG9TdHJpbmcoKVxuXG4gICAgICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHsgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmVscy5jaGFuZ2VzIH0sIHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlcy5maWVsZEVkaXQoIHsgbGFiZWw6IGZpZWxkTGFiZWwsIG9sZFZhbHVlLCBuZXdWYWx1ZSB9ICkgfSApXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMuZWxzLm9yaWdpbmFsV2Vla2x5UHJpY2UudGV4dENvbnRlbnQgPSB0aGlzLkN1cnJlbmN5LmZvcm1hdCggdGhpcy5vcmlnaW5hbFdlZWtseVByaWNlIClcbiAgICAgICAgdGhpcy5lbHMubmV3V2Vla2x5UHJpY2UudGV4dENvbnRlbnQgPSB0aGlzLkN1cnJlbmN5LmZvcm1hdCggdGhpcy5vcmlnaW5hbFdlZWtseVByaWNlICsgcHJpY2VBZGp1c3RtZW50IClcblxuICAgICAgICB0aGlzLmVtaXQoICdhZGp1c3RtZW50JywgeyBkZXNjcmlwdGlvbjogdGhpcy5nZXRBZGp1c3RtZW50RGVzY3JpcHRpb24oKSwgb3JpZ2luYWxXZWVrbHlQcmljZTogdGhpcy5vcmlnaW5hbFdlZWtseVByaWNlLCBwcmljZUFkanVzdG1lbnQgfSApXG4gICAgXG4gICAgICAgIGlmKCAhdGhpcy5pc0hpZGRlbiggdGhpcy5lbHMuZWRpdFN1bW1hcnkgKSAmJiBlZGl0cy5sZW5ndGggKSByZXR1cm5cblxuICAgICAgICB0aGlzLnNsaWRlSW4oIHRoaXMuZWxzLmVkaXRTdW1tYXJ5LCAncmlnaHQnIClcbiAgICB9LFxuXG4gICAgdGVtcGxhdGVzOiB7XG4gICAgICAgIGZpZWxkRWRpdDogcmVxdWlyZSgnLi90ZW1wbGF0ZXMvRmllbGRFZGl0JyksXG4gICAgICAgIGFyY2hpdmVkT3B0aW9uOiBvcHRpb24gPT4gYDxsaT48ZGl2IGNsYXNzPVwiY2VsbFwiPiR7b3B0aW9uLm5hbWV9PC9kaXY+PGRpdiBjbGFzcz1cImNlbGxcIiBkYXRhLWpzPVwiJHtvcHRpb24uaWR9XCI+PC9kaXY+PC9saT5gLFxuICAgICAgICBlZGl0YWJsZU9wdGlvbjogb3B0aW9uID0+IGA8bGkgZGF0YS1uYW1lPVwiJHtvcHRpb24ua2V5IHx8IG9wdGlvbi5pZH1cIiBjbGFzcz1cImVkaXRhYmxlXCI+PHNwYW4+JHtvcHRpb24ubmFtZX08L3NwYW4+PHNlbGVjdCBkYXRhLWpzPVwiJHtvcHRpb24uaWR9XCI+PC9zZWxlY3Q+PC9saT5gLFxuICAgICAgICBzZWxlY3RPcHRpb246IG9wdGlvbiA9PiBgPG9wdGlvbiB2YWx1ZT1cIiR7b3B0aW9uLm5hbWV9XCI+JHtvcHRpb24ubGFiZWx9PC9vcHRpb24+YFxuICAgIH0sXG5cbiAgICB1cGRhdGUoIHsgY3VzdG9tZXIsIGRlbGl2ZXJ5LCBzaGFyZSB9ICkge1xuICAgICAgICB0aGlzLmNsZWFyKClcbiAgICAgICAgdGhpcy5lZGl0ZWRGaWVsZHMgPSB7IH1cblxuICAgICAgICB0aGlzLm1vZGVsID0gYXJndW1lbnRzWzBdXG5cbiAgICAgICAgdGhpcy5lZGl0YWJsZSA9ICggdGhpcy5Nb21lbnQoKSA8IHRoaXMuTW9tZW50KCBzaGFyZS5lbmRkYXRlICkgKVxuICAgICAgICB0aGlzLm9wdGlvblRlbXBsYXRlID0gdGhpcy5lZGl0YWJsZSA/ICdlZGl0YWJsZU9wdGlvbicgOiAnYXJjaGl2ZWRPcHRpb24nXG5cbiAgICAgICAgdGhpcy5lbHMuc2Vhc29uTGFiZWwudGV4dENvbnRlbnQgPSBzaGFyZS5sYWJlbFxuXG4gICAgICAgIHJldHVybiB0aGlzLk9yZGVyT3B0aW9uLmdldCggeyBxdWVyeTogeyBzaGFyZWlkOiBzaGFyZS5pZCwgc2hhcmVvcHRpb25pZDogeyBvcGVyYXRpb246ICdqb2luJywgdmFsdWU6IHsgdGFibGU6ICdzaGFyZW9wdGlvbicsIGNvbHVtbjogJ2lkJyB9IH0gfSB9IClcbiAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuU2hhcmVPcHRpb25PcHRpb24uZ2V0KCkgKVxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy5NZW1iZXJTZWxlY3Rpb24uZ2V0KCB7IHF1ZXJ5OiB7IG1lbWJlcnNoYXJlaWQ6IHNoYXJlLm1lbWJlcnNoYXJlaWQsIHNoYXJlb3B0aW9ub3B0aW9uaWQ6IHsgb3BlcmF0aW9uOiAnam9pbicsIHZhbHVlOiB7IHRhYmxlOiAnc2hhcmVvcHRpb25vcHRpb24nLCBjb2x1bW46ICdpZCcgfSB9IH0gfSApIClcbiAgICAgICAgLnRoZW4oICgpID0+IHRoaXMucmVuZGVyU2hhcmVPcHRpb25zKCkgKVxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy5EZWxpdmVyeU9wdGlvbnMuZ2V0KCkgKVxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy5Hcm91cERyb3BvZmZzLmdldCgpIClcbiAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyRGVsaXZlcnlPcHRpb25zKCkgXG4gICAgICAgICAgICB0aGlzLm9yaWdpbmFsV2Vla2x5UHJpY2UgPSB0aGlzLmNhbGN1bGF0ZVdlZWtseVByaWNlKClcbiAgICAgICAgICAgIHRoaXMuc2hvdygpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgfSApXG5cbiAgICB9XG5cbn0gKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgUGlrYWRheTogcmVxdWlyZSgncGlrYWRheScpLFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgIGRhdGVUeXBlU2VsZWN0OiAnY2hhbmdlJyxcbiAgICAgICAgZXhwb3J0QnRuOiAnY2xpY2snLFxuICAgICAgICB2aWV3QnRuOiAnY2xpY2snXG4gICAgfSxcblxuICAgIGNsZWFyVGFibGUoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQ2hpbGRyZW4oIHRoaXMuZWxzLmNvbHVtbnMgKVxuICAgICAgICB0aGlzLnJlbW92ZUNoaWxkcmVuKCB0aGlzLmVscy5yb3dzIClcbiAgICB9LFxuXG4gICAgZ2V0RGF0ZVF1ZXJpZXMoKSB7XG4gICAgICAgIGNvbnN0IGZyb20gPSB0aGlzLmRhdGVUeXBlID09PSAnc2Vhc29uJ1xuICAgICAgICAgICAgPyB0aGlzLk1vbWVudCggdGhpcy5TaGFyZXMuZGF0YS5maW5kKCBkYXR1bSA9PiBkYXR1bS5uYW1lID09PSB0aGlzLmVscy5zZWFzb24udmFsdWUgKS5zdGFydGRhdGUgKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxuICAgICAgICAgICAgOiB0aGlzLmRhdGVUeXBlID09PSAneWVhcidcbiAgICAgICAgICAgICAgICA/IGAke3RoaXMuZWxzWyB0aGlzLmRhdGVUeXBlIF0udmFsdWV9LTAxLTAxYFxuICAgICAgICAgICAgICAgIDogdGhpcy5lbHMuZnJvbS52YWx1ZVxuXG4gICAgICAgIGNvbnN0IHRvID0gdGhpcy5kYXRlVHlwZSA9PT0gJ3NlYXNvbidcbiAgICAgICAgICAgID8gdGhpcy5Nb21lbnQoIHRoaXMuU2hhcmVzLmRhdGEuZmluZCggZGF0dW0gPT4gZGF0dW0ubmFtZSA9PT0gdGhpcy5lbHMuc2Vhc29uLnZhbHVlICkuZW5kZGF0ZSApLmZvcm1hdCgnWVlZWS1NTS1ERCcpXG4gICAgICAgICAgICA6IHRoaXMuZGF0ZVR5cGUgPT09ICd5ZWFyJ1xuICAgICAgICAgICAgICAgID8gYCR7dGhpcy5lbHNbIHRoaXMuZGF0ZVR5cGUgXS52YWx1ZX0tMTItMzFgXG4gICAgICAgICAgICAgICAgOiB0aGlzLmVscy50by52YWx1ZVxuXG4gICAgICAgIHJldHVybiB7IGZyb20sIHRvIH1cbiAgICB9LFxuXG4gICAgZ2V0UmVwb3J0T3B0aW9ucygpIHtcbiAgICAgICAgdGhpcy5SZXBvcnRzLmRhdGEuZm9yRWFjaCggcmVwb3J0ID0+XG4gICAgICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYDxvcHRpb24gdmFsdWU9XCIke3JlcG9ydC5pZH1cIj4ke3JlcG9ydC5sYWJlbH08L29wdGlvbj5gLFxuICAgICAgICAgICAgICAgIGluc2VydGlvbjogeyBlbDogdGhpcy5lbHMucmVwb3J0IH1cbiAgICAgICAgICAgIH0gKVxuICAgICAgICApXG4gICAgfSxcblxuICAgIGdldFNlYXNvbk9wdGlvbnMoKSB7XG4gICAgICAgIHRoaXMuU2hhcmVzLmRhdGEuZm9yRWFjaCggc2hhcmUgPT5cbiAgICAgICAgICAgIHRoaXMuc2x1cnBUZW1wbGF0ZSgge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBgPG9wdGlvbiB2YWx1ZT1cIiR7c2hhcmUubmFtZX1cIj4ke3NoYXJlLmxhYmVsfTwvb3B0aW9uPmAsXG4gICAgICAgICAgICAgICAgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmVscy5zZWFzb24gfVxuICAgICAgICAgICAgfSApXG4gICAgICAgIClcbiAgICB9LFxuXG4gICAgZ2V0WWVhck9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLkZvcm1hdC5GaWxsUmFuZ2UoIGN1cnJlbnRZZWFyIC0gMTAsIGN1cnJlbnRZZWFyICkucmV2ZXJzZSgpXG5cbiAgICAgICAgcmFuZ2UuZm9yRWFjaCggeWVhciA9PlxuICAgICAgICAgICAgdGhpcy5zbHVycFRlbXBsYXRlKCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6IGA8b3B0aW9uIHZhbHVlPVwiJHt5ZWFyfVwiPiR7eWVhcn08L29wdGlvbj5gLFxuICAgICAgICAgICAgICAgIGluc2VydGlvbjogeyBlbDogdGhpcy5lbHMueWVhciB9XG4gICAgICAgICAgICB9IClcbiAgICAgICAgKVxuICAgIH0sXG5cbiAgICBoYW5kbGVDb2x1bW5zKCByb3dzICkge1xuICAgICAgICBjb25zdCBjb2x1bW5zID0gdGhpcy5lbHMuY29sdW1uc1xuXG4gICAgICAgIHRoaXMuY29sdW1ucyA9IE9iamVjdC5rZXlzKCByb3dzWzBdIClcblxuICAgICAgICB0aGlzLmNvbHVtbnMuZm9yRWFjaCggY29sdW1uID0+IHRoaXMuc2x1cnBUZW1wbGF0ZSggeyB0ZW1wbGF0ZTogYDxsaT4ke2NvbHVtbn08L2xpPmAsIGluc2VydGlvbjogeyBlbDogY29sdW1ucyB9IH0gKSApXG4gICAgfSxcblxuICAgIGhhbmRsZVJvd3MoIHJvd3MgKSB7XG4gICAgICAgIGNvbnN0IHJvd3NFbCA9IHRoaXMuZWxzLnJvd3NcblxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHJvd3MubWFwKCByb3cgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29sdW1ucyA9IHRoaXMuY29sdW1ucy5tYXAoIGNvbHVtbiA9PiBgPGxpPiR7cm93W2NvbHVtbl19PC9saT5gICkuam9pbignJylcbiAgICAgICAgICAgIHJldHVybiBgPG9sPiR7Y29sdW1uc308L29sPmBcbiAgICAgICAgfSApLmpvaW4oJycpXG5cbiAgICAgICAgdGhpcy5zbHVycFRlbXBsYXRlKCB7IHRlbXBsYXRlLCBpbnNlcnRpb246IHsgZWw6IHJvd3NFbCB9IH0gKVxuICAgIH0sXG5cbiAgICBub1Jlc3VsdHMoKSB7XG4gICAgICAgIHRoaXMuZWxzLmVtcHR5LmNsYXNzTGlzdC5yZW1vdmUoJ2ZkLWhpZGRlbicpXG4gICAgfSxcblxuICAgIG9uRGF0ZVR5cGVTZWxlY3RDaGFuZ2UoIGUgKSB7XG4gICAgICAgIHRoaXMuZGF0ZVR5cGUgPSBlLnRhcmdldC52YWx1ZVxuICAgICAgICB0aGlzLnRvZ2dsZURhdGVUeXBlcyggZS50YXJnZXQudmFsdWUgKVxuICAgIH0sXG5cbiAgICBvbkV4cG9ydEJ0bkNsaWNrKCkge1xuICAgICAgICBjb25zdCBxcyA9IE9iamVjdC5hc3NpZ24oIHRoaXMuZ2V0RGF0ZVF1ZXJpZXMoKSwgeyBpZDogdGhpcy5lbHMucmVwb3J0LnZhbHVlLCBleHBvcnQ6IHRydWUgfSApXG4gICAgICAgIHdpbmRvdy5vcGVuKCBgL3JlcG9ydD8keyB3aW5kb3cuZW5jb2RlVVJJQ29tcG9uZW50KCBKU09OLnN0cmluZ2lmeSggcXMgKSApIH1gIClcbiAgICB9LFxuICAgIFxuICAgIG9uVmlld0J0bkNsaWNrKCkge1xuICAgICAgICB0aGlzLlhociggeyBtZXRob2Q6ICdnZXQnLCByZXNvdXJjZTogJ3JlcG9ydCcsIHFzOiBKU09OLnN0cmluZ2lmeSggT2JqZWN0LmFzc2lnbiggdGhpcy5nZXREYXRlUXVlcmllcygpLCB7IGlkOiB0aGlzLmVscy5yZXBvcnQudmFsdWUgfSApICkgfSApXG4gICAgICAgIC50aGVuKCByZXN1bHQgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbGVhclRhYmxlKClcblxuICAgICAgICAgICAgaWYoIHJlc3VsdC5sZW5ndGggPT0gMCApIHJldHVybiB0aGlzLm5vUmVzdWx0cygpXG4gICAgICAgIFxuICAgICAgICAgICAgdGhpcy5lbHMuZW1wdHkuY2xhc3NMaXN0LmFkZCgnZmQtaGlkZGVuJylcblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVDb2x1bW5zKCByZXN1bHQgKVxuICAgICAgICAgICAgdGhpcy5oYW5kbGVSb3dzKCByZXN1bHQgKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIH0gKVxuICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgIH0sXG5cbiAgICBwb3N0UmVuZGVyKCkge1xuICAgICAgICB0aGlzLlJlcG9ydHMgPSBPYmplY3QuY3JlYXRlKCB0aGlzLk1vZGVsLCB7IHJlc291cmNlOiB7IHZhbHVlOiAncmVwb3J0JyB9IH0gKVxuICAgICAgICB0aGlzLlNoYXJlcyA9IE9iamVjdC5jcmVhdGUoIHRoaXMuTW9kZWwsIHsgcmVzb3VyY2U6IHsgdmFsdWU6ICdzaGFyZScgfSB9IClcblxuICAgICAgICBQcm9taXNlLmFsbCggWyB0aGlzLlJlcG9ydHMuZ2V0KCksIHRoaXMuU2hhcmVzLmdldCgpIF0gKVxuICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5nZXRSZXBvcnRPcHRpb25zKClcbiAgICAgICAgICAgIHRoaXMuZ2V0U2Vhc29uT3B0aW9ucygpXG4gICAgICAgICAgICB0aGlzLmdldFllYXJPcHRpb25zKClcbiAgICAgICAgfSApXG4gICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG5cbiAgICAgICAgbmV3IHRoaXMuUGlrYWRheSggeyBmaWVsZDogdGhpcy5lbHMuZnJvbSwgZm9ybWF0OiAnWVlZWS1NTS1ERCcgfSApXG4gICAgICAgIG5ldyB0aGlzLlBpa2FkYXkoIHsgZmllbGQ6IHRoaXMuZWxzLnRvLCBmb3JtYXQ6ICdZWVlZLU1NLUREJyB9IClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICByZW1vdmVDaGlsZHJlbiggZWwgKSB7XG4gICAgICAgIHdoaWxlKCBlbC5maXJzdENoaWxkICkgeyBlbC5yZW1vdmVDaGlsZCggZWwuZmlyc3RDaGlsZCApIH1cbiAgICB9LFxuXG4gICAgdG9nZ2xlRGF0ZVR5cGVzKCB0eXBlICkge1xuICAgICAgICB0aGlzLmVscy5jdXN0b20uY2xhc3NMaXN0LnRvZ2dsZSggJ2ZkLWhpZGRlbicsIHR5cGUgIT09ICdjdXN0b20nIClcbiAgICAgICAgdGhpcy5lbHMuc2Vhc29uLnBhcmVudE5vZGUuY2xhc3NMaXN0LnRvZ2dsZSggJ2ZkLWhpZGRlbicsIHR5cGUgIT09ICdzZWFzb24nIClcbiAgICAgICAgdGhpcy5lbHMueWVhci5wYXJlbnROb2RlLmNsYXNzTGlzdC50b2dnbGUoICdmZC1oaWRkZW4nLCB0eXBlICE9PSAneWVhcicgKVxuICAgIH1cbn0gKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgVmlld3M6IHtcblxuICAgICAgICByZXNldFBhc3N3b3JkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtb2RlbDogT2JqZWN0LmNyZWF0ZSggdGhpcy5Nb2RlbCApLmNvbnN0cnVjdG9yKCB7IH0sIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnLi4vLi4vLi4vbW9kZWxzL1Bhc3N3b3JkJyksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKCcuLi8uLi8uLi9tb2RlbHMvUmVzZXRQYXNzd29yZCcpXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlOiAncGVyc29uJ1xuICAgICAgICAgICAgICAgIH0gKSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZU9wdHMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nOiAnUmVzZXQgWW91ciBQYXNzd29yZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9tcHQ6ICdQbGVhc2UgZW50ZXIgYSBuZXcgcGFzc3dvcmQuJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWJtaXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCAhdGhpcy52YWxpZGF0ZSggdGhpcy5nZXRGb3JtVmFsdWVzKCkgKSB8fCAhdGhpcy5tb2RlbC52YWxpZGF0ZVJlcGVhdFBhc3N3b3JkKCkgKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCB0aGlzLm9uU3VibWl0RW5kKCkgKVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlhociggeyBtZXRob2Q6ICdwYXRjaCcsIHJlc291cmNlOiAncGVyc29uJywgZGF0YTogSlNPTi5zdHJpbmdpZnkoIHRoaXMubW9kZWwuZGF0YSApIH0gKVxuICAgICAgICAgICAgICAgICAgICAudGhlbiggcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5kYXRhID0geyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlRvYXN0LnNob3dNZXNzYWdlKCAnc3VjY2VzcycsIHJlc3BvbnNlLm1lc3NhZ2UgKVxuICAgICAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oICgpID0+IFByb21pc2UucmVzb2x2ZSggdGhpcy5lbWl0KCdwYXRjaGVkJykgKSApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9LFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgIHZpZXdzOiB7XG4gICAgICAgICAgICByZXNldFBhc3N3b3JkOiBbXG4gICAgICAgICAgICAgICAgWyAncGF0Y2hlZCcsIGZ1bmN0aW9uKCkgeyB0aGlzLmRlbGV0ZSgpLnRoZW4oICgpID0+IHRoaXMuZW1pdCggJ25hdmlnYXRlJywgJycgKSApLmNhdGNoKCB0aGlzLkVycm9yICkgfSBdXG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcG9zdFJlbmRlcigpIHtcbiAgICAgICAgdGhpcy52aWV3cy5yZXNldFBhc3N3b3JkLm1vZGVsLnNldCggJ3Rva2VuJywgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCcvJykucG9wKCkgKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxufSApIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgTWVtYmVyU2Vhc29uOiByZXF1aXJlKCcuLi9tb2RlbHMvTWVtYmVyU2Vhc29uJyksXG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5lbHMubGlzdC5pbm5lckhUTUwgPSAnJ1xuICAgICAgICB0aGlzLmVscy5iYWxhbmNlTm90aWNlLmNsYXNzTGlzdC5hZGQoJ2ZkLWhpZGRlbicpXG4gICAgfSxcblxuICAgIGV2ZW50czoge1xuICAgICAgICBsaXN0OiAnY2xpY2snLFxuICAgICAgICBwYXltZW50OiAnY2xpY2snXG4gICAgfSxcblxuICAgIGluc2VydFNoYXJlTGFiZWxzKCkge1xuICAgICAgICBjb25zdCBjb3VudFBlclNoYXJlID0geyB9XG5cbiAgICAgICAgdGhpcy5NZW1iZXJTZWFzb24uZGF0YS5mb3JFYWNoKCBzZWFzb24gPT4ge1xuICAgICAgICAgICAgY291bnRQZXJTaGFyZVsgc2Vhc29uLm5hbWUgXSA/ICsrY291bnRQZXJTaGFyZVsgc2Vhc29uLm5hbWUgXSA6IGNvdW50UGVyU2hhcmVbIHNlYXNvbi5uYW1lIF0gPSAxXG4gICAgICAgICAgICBpZiggY291bnRQZXJTaGFyZVsgc2Vhc29uLm5hbWUgXSA+IDEgKSBzZWFzb24uY291bnQgPSBjb3VudFBlclNoYXJlWyBzZWFzb24ubmFtZSBdXG5cbiAgICAgICAgICAgIHRoaXMuc2x1cnBUZW1wbGF0ZSggeyB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXMuU2hhcmVCb3goIHNlYXNvbiApLCBpbnNlcnRpb246IHsgZWw6IHRoaXMuZWxzLmxpc3QgfSB9IClcbiAgICAgICAgfSApXG4gICAgfSxcblxuICAgIG9uTGlzdENsaWNrKCBlICkge1xuICAgICAgICBpZiggISBlLnRhcmdldC5jbG9zZXN0KCdkaXYuc2hhcmUtbGFiZWwnKSApIHJldHVyblxuICAgICAgICAgICAgXG4gICAgICAgIGlmKCB0aGlzLmN1cnJlbnRTZWxlY3Rpb24gKSB0aGlzLmN1cnJlbnRTZWxlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgZWwgPSBlLnRhcmdldC5jbG9zZXN0KCdkaXYuc2hhcmUtbGFiZWwnKVxuXG4gICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGlvbiA9IGVsXG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoICdzZWxlY3RlZCcgKVxuICAgICAgICB0aGlzLmVtaXQoICdzZWxlY3RlZCcsIHsgY3VzdG9tZXI6IHRoaXMuY3VzdG9tZXIsIHNoYXJlOiB0aGlzLk1lbWJlclNlYXNvbi5kYXRhLmZpbmQoIHNlYXNvbiA9PiBzZWFzb24ubWVtYmVyc2hhcmVpZCA9PSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSApIH0gKVxuICAgIH0sXG5cbiAgICBvblBheW1lbnRDbGljaygpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdwYXlCYWxhbmNlJylcbiAgICB9LFxuXG4gICAgc2VsZWN0KCBtZW1iZXJTaGFyZUlkICkge1xuICAgICAgICB0aGlzLmVscy5saXN0LnF1ZXJ5U2VsZWN0b3IoYGRpdi5zaGFyZS1sYWJlbFtkYXRhLWlkPVwiJHttZW1iZXJTaGFyZUlkfVwiXWApLmNsaWNrKClcbiAgICB9LFxuXG4gICAgdGVtcGxhdGVPcHRzKCkgeyByZXR1cm4geyBpc0FkbWluOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoJy8nKS5pbmNsdWRlcygnYWRtaW4tcGx1cycpIH0gfSxcblxuICAgIHRlbXBsYXRlczoge1xuICAgICAgICBTaGFyZUJveDogcmVxdWlyZSgnLi90ZW1wbGF0ZXMvU2hhcmVCb3gnKVxuICAgIH0sXG5cbiAgICB1cGRhdGUoIGN1c3RvbWVyICkge1xuICAgICAgICB0aGlzLmN1c3RvbWVyID0gY3VzdG9tZXJcbiAgICAgIFxuICAgICAgICB0aGlzLmNsZWFyKClcbiAgICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy5NZW1iZXJTZWFzb24uZ2V0KCB7IHF1ZXJ5OiB7IG1lbWJlcmlkOiBjdXN0b21lci5tZW1iZXIuZGF0YS5pZCwgc2hhcmVpZDogeyBvcGVyYXRpb246ICdqb2luJywgdmFsdWU6IHsgdGFibGU6ICdzaGFyZScsIGNvbHVtbjogJ2lkJyB9IH0gfSB9IClcbiAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuaW5zZXJ0U2hhcmVMYWJlbHMoKSApXG4gICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLnNob3coKSApXG4gICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgfSxcblxuICAgIHVwZGF0ZUJhbGFuY2VOb3RpY2UoIGFtb3VudCApIHtcbiAgICAgICAgdGhpcy5lbHMuYmFsYW5jZU5vdGljZS5jbGFzc0xpc3QudG9nZ2xlKCAnZmQtaGlkZGVuJywgYW1vdW50IDw9IDAgKVxuICAgICAgICB0aGlzLmVscy5iYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdGhpcy5DdXJyZW5jeS5mb3JtYXQoIGFtb3VudCApXG4gICAgfVxuXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHtcbiAgICBnZXRUZW1wbGF0ZU9wdGlvbnMoKSB7IHJldHVybiB0aGlzLm1vZGVsLmF0dHJpYnV0ZXMgfSxcblxuICAgIHJlcXVpcmVzTG9naW46IGZhbHNlXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHtcblxuICAgIFZpZXdzOiB7XG4gICAgICAgIGJ1dHRvbkZsb3coKSB7XG4gICAgICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICAgICAgICBtb2RlbDogT2JqZWN0LmNyZWF0ZSggdGhpcy5Nb2RlbCApLmNvbnN0cnVjdG9yKCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IFsgeyBuYW1lOiAnc2F2ZScsIHRleHQ6ICdVcGRhdGUgU2hhcmUnLCBjbGFzczonc2F2ZS1idG4nLCBuZXh0U3RhdGU6ICdjb25maXJtJyB9IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY29uZmlybUJ0bicsIGNsYXNzOidzYXZlLWJ0bicsIHRleHQ6ICdBcmUgWW91IFN1cmU/JywgZW1pdDogdHJ1ZSwgbmV4dFN0YXRlOiAnc3RhcnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FuY2VsJywgY2xhc3M6J3Jlc2V0LWJ0bicsIG5leHRTdGF0ZTogJ3N0YXJ0JywgdGV4dDogJ0NhbmNlbCcgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZGlzcGxheVRvdGFsKCkge1xuICAgICAgICB0aGlzLnRvdGFsID0gMFxuXG4gICAgICAgIHRoaXMudG90YWwgKz0gdGhpcy53ZWVrc1JlbW92ZWRQcmljZVxuICAgICAgICB0aGlzLnRvdGFsICs9IHRoaXMud2Vla3NBZGRlZFByaWNlXG5cbiAgICAgICAgaWYoIHRoaXMud2Vla2x5UHJpY2VBZGp1c3RtZW50ICkgdGhpcy50b3RhbCArPSB0aGlzLm9wdGlvbnNBZGp1c3RtZW50XG4gICAgICAgIFxuICAgICAgICB0aGlzLmVscy5hZGp1c3RtZW50LnRleHRDb250ZW50ID0gYCR7dGhpcy50b3RhbCA8IDAgPyAnUHJpY2UgUmVkdWN0aW9uJyA6ICdOZXcgQ2hhcmdlcycgfTogJHt0aGlzLkN1cnJlbmN5LmZvcm1hdCggTWF0aC5hYnMoIHRoaXMudG90YWwgKSApfWBcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICBnZXRXaGl0ZXNwYWNlKCBjb3VudCApIHtcbiAgICAgICAgbGV0IHJ2ID0gXCJcIlxuXG4gICAgICAgIHdoaWxlKCBjb3VudCA+IDAgKSB7IHJ2ICs9IFwiIFwiOyBjb3VudC0tIH1cblxuICAgICAgICByZXR1cm4gcnZcbiAgICB9LFxuXG4gICAgZ2V0RGVzY3JpcHRpb24oKSB7XG4gICAgICAgIGNvbnN0IGxpbmVXaWR0aCA9IDEwMCxcbiAgICAgICAgICAgIGxpbmVzID0gW1xuICAgICAgICAgICAgICAgIFsgYFdlZWtzIFJlbW92ZWQ6ICR7dGhpcy5lbHMud2Vla3NSZW1vdmVkLnRleHRDb250ZW50fWAsIGBBZGp1c3RtZW50OiAke3RoaXMuQ3VycmVuY3kuZm9ybWF0KHRoaXMud2Vla3NSZW1vdmVkUHJpY2UpfWAgXSxcbiAgICAgICAgICAgICAgICBbIGBXZWVrcyBBZGRlZDogJHt0aGlzLmVscy53ZWVrc0FkZGVkLnRleHRDb250ZW50fWAsIGBBZGp1c3RtZW50OiAke3RoaXMuQ3VycmVuY3kuZm9ybWF0KHRoaXMud2Vla3NBZGRlZFByaWNlKX1gIF1cbiAgICAgICAgICAgIF1cblxuICAgICAgICByZXR1cm4gWyBgJHtsaW5lc1swXVswXX0ke3RoaXMuZ2V0V2hpdGVzcGFjZSggbGluZVdpZHRoIC0gbGluZXNbMF1bMF0ubGVuZ3RoIC0gbGluZXNbMF1bMV0ubGVuZ3RoICl9JHtsaW5lc1swXVsxXX1gLFxuICAgICAgICAgICAgICAgICBgJHtsaW5lc1sxXVswXX0ke3RoaXMuZ2V0V2hpdGVzcGFjZSggbGluZVdpZHRoIC0gbGluZXNbMV1bMF0ubGVuZ3RoIC0gbGluZXNbMV1bMV0ubGVuZ3RoICl9JHtsaW5lc1sxXVsxXX1gLFxuICAgICAgICAgICAgICAgIGBPcHRpb25zIFVwZGF0ZTogJHt0aGlzLm9wdGlvbnNEZXNjcmlwdGlvbn1gLFxuICAgICAgICAgICAgICAgIGBXZWVrbHkgcHJpY2UgYWRqdXN0bWVudDogJHt0aGlzLkN1cnJlbmN5LmZvcm1hdCh0aGlzLndlZWtseVByaWNlQWRqdXN0bWVudCl9YCxcbiAgICAgICAgICAgICAgICBgV2Vla3MgYWZmZWN0ZWQ6ICR7dGhpcy53ZWVrc0FmZmVjdGVkfWBcbiAgICAgICAgICAgIF0uam9pbignXFxuJylcbiAgICB9LFxuXG4gICAgZ2V0UGF0Y2hEYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHRoaXMudG90YWwsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5nZXREZXNjcmlwdGlvbigpLFxuICAgICAgICAgICAgc2VuZEVtYWlsOiB0aGlzLmVscy5zZW5kRW1haWwuY2hlY2tlZFxuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9uT3B0aW9uc1Jlc2V0KCkge1xuICAgICAgICB0aGlzLndlZWtseVByaWNlQWRqdXN0bWVudCA9IGZhbHNlXG4gICAgICAgIHRoaXMuZWxzLm9wdGlvbnMuY2xhc3NMaXN0LmFkZCgnZmQtaGlkZGVuJylcblxuICAgICAgICB0aGlzLmVscy53ZWVrbHlBZGp1c3RtZW50LnRleHRDb250ZW50ID0gdGhpcy5DdXJyZW5jeS5mb3JtYXQoIDAgKVxuICAgICAgICB0aGlzLmVscy5zaGFyZU9wdGlvbkRlc2NyaXB0aW9uLmlubmVySFRNTCA9ICcnXG5cbiAgICAgICAgdGhpcy5kaXNwbGF5VG90YWwoKVxuXG4gICAgICAgIGlmKCB0aGlzLmVscy53ZWVrc1JlbW92ZWQudGV4dENvbnRlbnQgPT0gMCAmJiB0aGlzLmVscy53ZWVrc0FkZGVkLnRleHRDb250ZW50ID09IDAgKSB0aGlzLmVscy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZmQtaGlkZGVuJylcbiAgICB9LFxuXG4gICAgb25XZWVrc1Jlc2V0KCkge1xuICAgICAgICB0aGlzLm9uV2Vla1VwZGF0ZSggeyBhZGRlZDogMCwgcmVtb3ZlZDogMCB9IClcbiAgICB9LFxuXG4gICAgb25PcHRpb25zVXBkYXRlKCB7IGRlc2NyaXB0aW9uLCBwcmljZUFkanVzdG1lbnQgfSApIHtcbiAgICAgICAgdGhpcy5vcHRpb25zRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvblxuXG4gICAgICAgIHRoaXMuZWxzLm9wdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSgnZmQtaGlkZGVuJylcblxuICAgICAgICB0aGlzLndlZWtseVByaWNlQWRqdXN0bWVudCA9IHByaWNlQWRqdXN0bWVudFxuICAgICAgICB0aGlzLmVscy53ZWVrbHlBZGp1c3RtZW50LnRleHRDb250ZW50ID0gdGhpcy5DdXJyZW5jeS5mb3JtYXQoIHByaWNlQWRqdXN0bWVudCApXG4gICAgICAgIHRoaXMuZWxzLnNoYXJlT3B0aW9uRGVzY3JpcHRpb24uaW5uZXJIVE1MID0gJydcblxuICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHtcbiAgICAgICAgICAgIGluc2VydGlvbjogeyBlbDogdGhpcy5lbHMuc2hhcmVPcHRpb25EZXNjcmlwdGlvbiB9LFxuICAgICAgICAgICAgdGVtcGxhdGU6IGRlc2NyaXB0aW9uLnNwbGl0KCdcXG5cXHQnKS5tYXAoIG9wdGlvbiA9PiBgPGxpPiR7b3B0aW9ufTwvbGk+YCApLmpvaW4oJycpXG4gICAgICAgIH0gKVxuICAgICAgICBcbiAgICAgICAgdGhpcy51cGRhdGVPcHRpb25zQWRqdXN0bWVudCgpXG5cbiAgICAgICAgdGhpcy5kaXNwbGF5VG90YWwoKS5zaG93KClcbiAgICB9LFxuXG4gICAgb25XZWVrVXBkYXRlKCB7IGFkZGVkLCByZW1vdmVkIH0gKSB7XG4gICAgICAgIHRoaXMud2Vla3NBZmZlY3RlZCA9IHRoaXMub3JpZ2luYWxXZWVrc0FmZmVjdGVkIC0gcmVtb3ZlZFxuICAgICAgICB0aGlzLmVscy53ZWVrc0FmZmVjdGVkLnRleHRDb250ZW50ID0gdGhpcy53ZWVrc0FmZmVjdGVkXG4gICAgICAgIFxuICAgICAgICB0aGlzLmVscy53ZWVrc1JlbW92ZWQudGV4dENvbnRlbnQgPSByZW1vdmVkXG4gICAgICAgIHRoaXMuZWxzLndlZWtzQWRkZWQudGV4dENvbnRlbnQgPSBhZGRlZFxuXG4gICAgICAgIHRoaXMud2Vla3NBZGRlZFByaWNlID0gYWRkZWQgKiAoIHRoaXMub3JpZ2luYWxXZWVrbHlQcmljZSArICggdGhpcy53ZWVrbHlQcmljZUFkanVzdG1lbnQgfHwgMCApIClcbiAgICAgICAgdGhpcy5lbHMud2Vla3NBZGRlZFByaWNlLnRleHRDb250ZW50ID0gdGhpcy5DdXJyZW5jeS5mb3JtYXQoIHRoaXMud2Vla3NBZGRlZFByaWNlIClcblxuICAgICAgICB0aGlzLndlZWtzUmVtb3ZlZFByaWNlID0gLTEgKiByZW1vdmVkICogdGhpcy5vcmlnaW5hbFdlZWtseVByaWNlXG4gICAgICAgIHRoaXMuZWxzLndlZWtzUmVtb3ZlZFByaWNlLnRleHRDb250ZW50ID0gdGhpcy5DdXJyZW5jeS5mb3JtYXQoIHRoaXMud2Vla3NSZW1vdmVkUHJpY2UgKVxuXG4gICAgICAgIGlmKCBhZGRlZCA9PSAwICYmIHJlbW92ZWQgPT0gMCAmJiAhdGhpcy53ZWVrbHlQcmljZUFkanVzdG1lbnQgKSByZXR1cm4gdGhpcy5lbHMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZkLWhpZGRlbicpXG4gICAgICAgIFxuICAgICAgICB0aGlzLnVwZGF0ZU9wdGlvbnNBZGp1c3RtZW50KClcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZGlzcGxheVRvdGFsKCkuc2hvdygpXG4gICAgfSxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc0Rlc2NyaXB0aW9uID0gYGBcbiAgICAgICAgdGhpcy5lbHMud2Vla3NBZGRlZC50ZXh0Q29udGVudCA9IDBcbiAgICAgICAgdGhpcy5lbHMud2Vla3NSZW1vdmVkLnRleHRDb250ZW50ID0gMFxuICAgICAgICB0aGlzLndlZWtzUmVtb3ZlZFByaWNlID0gMFxuICAgICAgICB0aGlzLndlZWtzQWRkZWRQcmljZSA9IDBcbiAgICAgICAgdGhpcy5lbHMud2Vla3NSZW1vdmVkUHJpY2UudGV4dENvbnRlbnQgPSB0aGlzLkN1cnJlbmN5LmZvcm1hdCggdGhpcy53ZWVrc1JlbW92ZWRQcmljZSApXG4gICAgICAgIHRoaXMuZWxzLndlZWtzQWRkZWRQcmljZS50ZXh0Q29udGVudCA9IHRoaXMuQ3VycmVuY3kuZm9ybWF0KCB0aGlzLndlZWtzQWRkZWRQcmljZSApXG5cbiAgICAgICAgdGhpcy52aWV3cy5idXR0b25GbG93Lm9uKCAnY29uZmlybUJ0bkNsaWNrZWQnLCAoKSA9PiB0aGlzLmVtaXQoICdwYXRjaE1lbWJlclNoYXJlJyApIClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5lbHMuc2VuZEVtYWlsLmNoZWNrZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLm9wdGlvbnNEZXNjcmlwdGlvbiA9IGBgXG4gICAgICAgIHRoaXMuZWxzLndlZWtzQWRkZWQudGV4dENvbnRlbnQgPSAwXG4gICAgICAgIHRoaXMuZWxzLndlZWtzUmVtb3ZlZC50ZXh0Q29udGVudCA9IDBcbiAgICAgICAgdGhpcy53ZWVrc1JlbW92ZWRQcmljZSA9IDBcbiAgICAgICAgdGhpcy5lbHMud2Vla3NSZW1vdmVkUHJpY2UudGV4dENvbnRlbnQgPSB0aGlzLkN1cnJlbmN5LmZvcm1hdCggdGhpcy53ZWVrc1JlbW92ZWRQcmljZSApXG4gICAgICAgIHRoaXMuZWxzLndlZWtseUFkanVzdG1lbnQudGV4dENvbnRlbnQgPSB0aGlzLkN1cnJlbmN5LmZvcm1hdCggMCApXG4gICAgICAgIHRoaXMud2Vla2x5UHJpY2VBZGp1c3RtZW50ID0gZmFsc2VcbiAgICAgICAgdGhpcy5lbHMuc2hhcmVPcHRpb25EZXNjcmlwdGlvbi5pbm5lckhUTUwgPSAnJ1xuICAgICAgICB0aGlzLmhpZGUoKVxuICAgIH0sXG5cbiAgICBzZXRPcmlnaW5hbFdlZWtseVByaWNlKCBwcmljZSApIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFdlZWtseVByaWNlID0gcHJpY2VcbiAgICB9LFxuXG4gICAgc2V0V2Vla3NBZmZlY3RlZCggeyBzZWxlY3RhYmxlLCBza2lwcGVkIH0gKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxXZWVrc0FmZmVjdGVkID0gc2VsZWN0YWJsZSAtIHNraXBwZWRcbiAgICAgICAgdGhpcy53ZWVrc0FmZmVjdGVkID0gdGhpcy5vcmlnaW5hbFdlZWtzQWZmZWN0ZWRcbiAgICAgICAgdGhpcy5lbHMud2Vla3NBZmZlY3RlZC50ZXh0Q29udGVudCA9IHRoaXMud2Vla3NBZmZlY3RlZFxuICAgIH0sXG5cbiAgICB0ZW1wbGF0ZU9wdHMoKSB7IHJldHVybiB7IGlzQWRtaW46IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgnLycpLmluY2x1ZGVzKCdhZG1pbi1wbHVzJykgfSB9LFxuXG4gICAgdXBkYXRlT3B0aW9uc0FkanVzdG1lbnQoKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc0FkanVzdG1lbnQgPSB0aGlzLndlZWtzQWZmZWN0ZWQgKiB0aGlzLndlZWtseVByaWNlQWRqdXN0bWVudFxuICAgICAgICB0aGlzLmVscy5vcHRpb25zQWRqdXN0bWVudC50ZXh0Q29udGVudCA9IHRoaXMuQ3VycmVuY3kuZm9ybWF0KCB0aGlzLm9wdGlvbnNBZGp1c3RtZW50IClcbiAgICB9XG5cbn0gKVxuIiwidmFyIE15VmlldyA9IHJlcXVpcmUoJy4vTXlWaWV3JyksXG4gICAgU2lnbnVwID0gZnVuY3Rpb24oKSB7IHJldHVybiBNeVZpZXcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIH1cblxuT2JqZWN0LmFzc2lnbiggU2lnbnVwLnByb3RvdHlwZSwgTXlWaWV3LnByb3RvdHlwZSwge1xuXG4gICAgZG9uZSgpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEubGVmdEJ0bi5oaWRlKClcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEucmlnaHRCdG4uaGlkZSgpXG4gICAgfSxcblxuICAgIGV2ZW50czoge1xuICAgICAgICAnbGVmdEJ0bic6IHsgbWV0aG9kOiAnZ29CYWNrJyB9LFxuICAgICAgICAncmlnaHRCdG4nOiB7IG1ldGhvZDogJ3ZhbGlkYXRlVmlldycgfSxcbiAgICB9LFxuICAgIFxuICAgIGdvQmFjaygpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEubGVmdEJ0bi5vZmYoKVxuXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzWyB0aGlzLnZpZXdzWyB0aGlzLmN1cnJlbnRJbmRleCBdLm5hbWUgXS5oaWRlKClcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNbIHRoaXMudmlld3NbIHRoaXMuY3VycmVudEluZGV4IF0ubmFtZSBdLnRlbXBsYXRlRGF0YS5jb250YWluZXIucmVtb3ZlQ2xhc3MoJ3NsaWRlLWluLWxlZnQnKS5yZW1vdmVDbGFzcygnc2xpZGUtaW4tcmlnaHQnKVxuXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4IC09IDFcblxuICAgICAgICB0aGlzLnN0YXRlLnNpZ251cC5pbmRleCA9IHRoaXMuY3VycmVudEluZGV4XG4gICAgICAgIHRoaXMuc2F2ZVN0YXRlKClcblxuICAgICAgICB0aGlzLnNob3dQcm9wZXJWaWV3KCB0cnVlIClcblxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCggKCkgPT4gdGhpcy5kZWxlZ2F0ZUV2ZW50cyggJ2xlZnRCdG4nLCB0aGlzLnRlbXBsYXRlRGF0YS5sZWZ0QnRuICksIDEwMDAgKVxuICAgIH0sXG5cbiAgICBub1NoYXJlcygpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEubGVmdEJ0bi5oaWRlKClcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEucmlnaHRCdG4uaGlkZSgpXG5cbiAgICAgICAgdGhpcy5pbnN0YW5jZXMuc2hhcmVzLnRlbXBsYXRlRGF0YS5oZWFkZXIudGV4dCgnVGhlcmUgYXJlIG5vIHNoYXJlcyBhdmFpbGFibGUgYXQgdGhpcyB0aW1lJylcbiAgICB9LFxuXG4gICAgb25OYXZpZ2F0aW9uKCBwYXRoICkge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2VzWyB0aGlzLnZpZXdzWyB0aGlzLmN1cnJlbnRJbmRleCBdLm5hbWUgXVxuICAgICAgICBpZiggaW5zdGFuY2Uub25TaWdudXBOYXZpZ2F0aW9uICkgaW5zdGFuY2Uub25TaWdudXBOYXZpZ2F0aW9uKClcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvdygpXG4gICAgfSxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuc2lnbnVwRGF0YSA9IHsgfVxuICAgICAgICB0aGlzLmluc3RhbmNlcyA9IHsgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnVzZXIuZ2V0KCdzdGF0ZScpXG4gICAgICAgIGlmKCAhdGhpcy5zdGF0ZSApIHRoaXMudXNlci5zZXQoICdzdGF0ZScsIHsgfSApXG5cbiAgICAgICAgaWYoIHRoaXMuc3RhdGUuc2lnbnVwICYmIE9iamVjdC5rZXlzKCB0aGlzLnN0YXRlLnNpZ251cCApLmxlbmd0aCApIHJldHVybiB0aGlzLnVwZGF0ZVN0YXRlKCB0aGlzLnN0YXRlLnNpZ251cCApXG5cbiAgICAgICAgaWYoICEgdGhpcy5jdXJyZW50SW5kZXggKSB0aGlzLmN1cnJlbnRJbmRleCA9IDBcbiAgICAgICAgdGhpcy5zdGF0ZS5zaWdudXAgPSB7IGluZGV4OiB0aGlzLmN1cnJlbnRJbmRleCwgc2hhcmVzOiBbIF0gfVxuXG4gICAgICAgIHRoaXMuc2hvd1Byb3BlclZpZXcoKVxuICAgIH0sXG5cbiAgICByZXF1aXJlc0xvZ2luOiBmYWxzZSxcblxuICAgIHNhdmVTdGF0ZSgpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMudXNlci5pc0xvZ2dlZEluKCkgPyB0aGlzLnVzZXIuYXR0cmlidXRlcyA6IHsgc3RhdGU6IHRoaXMuc3RhdGUgfVxuICAgICAgICB0aGlzLiQuYWpheCgge1xuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoIGRhdGEgKSxcbiAgICAgICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICAgICAgdXJsOiBcIi91c2VyXCIgfSApXG4gICAgICAgIC5mYWlsKCBlID0+IG5ldyB0aGlzLkVycm9yKGUpIClcbiAgICB9LFxuXG4gICAgc2VyaWFsaXplU2hhcmUoIHNoYXJlICkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHNoYXJlLmlkLFxuICAgICAgICAgICAgc2Vhc29uYWxBZGRPbnM6IHNoYXJlLmdldCgnc2Vhc29uYWxBZGRPbnMnKSxcbiAgICAgICAgICAgIHNlbGVjdGVkRGVsaXZlcnk6IHNoYXJlLmdldCgnc2VsZWN0ZWREZWxpdmVyeScpLFxuICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb25zOiBzaGFyZS5nZXQoJ3NlbGVjdGVkT3B0aW9ucycpLFxuICAgICAgICAgICAgc2tpcERheXM6IHNoYXJlLmdldCgnc2tpcERheXMnKVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNob3dOZXh0KCkge1xuICAgICAgICB0aGlzLmluc3RhbmNlc1sgdGhpcy52aWV3c1sgdGhpcy5jdXJyZW50SW5kZXggXS5uYW1lIF0uaGlkZSgpXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzWyB0aGlzLnZpZXdzWyB0aGlzLmN1cnJlbnRJbmRleCBdLm5hbWUgXS50ZW1wbGF0ZURhdGEuY29udGFpbmVyLnJlbW92ZUNsYXNzKCdzbGlkZS1pbi1sZWZ0JykucmVtb3ZlQ2xhc3MoJ3NsaWRlLWluLXJpZ2h0JylcblxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCArPSAxXG4gICAgICAgIFxuICAgICAgICB0aGlzLnN0YXRlLnNpZ251cC5pbmRleCA9IHRoaXMuY3VycmVudEluZGV4XG4gICAgICAgIHRoaXMuc3RhdGUuc2lnbnVwLnNoYXJlcyA9IHRoaXMuc2lnbnVwRGF0YS5zaGFyZXMubWFwKCBzaGFyZSA9PiB0aGlzLnNlcmlhbGl6ZVNoYXJlKCBzaGFyZSApIClcbiAgICAgICAgdGhpcy5zYXZlU3RhdGUoKVxuXG4gICAgICAgIHRoaXMuc2hvd1Byb3BlclZpZXcoKVxuICAgIH0sXG5cbiAgICBzaG93UHJvcGVyTmF2KCkge1xuICAgICAgICB2YXIgbGVmdCA9IHRoaXMudGVtcGxhdGVEYXRhLmxlZnRCdG4sIHJpZ2h0ID0gdGhpcy50ZW1wbGF0ZURhdGEucmlnaHRCdG5cblxuICAgICAgICBpZiggdGhpcy5jdXJyZW50SW5kZXggPiAwICkgdGhpcy50ZW1wbGF0ZURhdGEuaW50cm8udGV4dCgnQ29udGludWUgeW91ciBDU0Egc2lnbi11cCcpXG4gICAgICAgIGlmKCB0aGlzLmN1cnJlbnRJbmRleCA9PT0gNSApIHRoaXMudGVtcGxhdGVEYXRhLmludHJvLnRleHQoJ1JldmlldyB5b3VyIG9yZGVyIGFuZCBjaGVjayBvdXQnKVxuXG4gICAgICAgIGlmKCB0aGlzLmN1cnJlbnRJbmRleCA9PT0gMCApIHtcbiAgICAgICAgICAgIGxlZnQuaGlkZSgpXG4gICAgICAgICAgICBpZiggcmlnaHQuaXMoJzpoaWRkZW4nKSApIHJpZ2h0LnNob3coKVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoIHRoaXMuY3VycmVudEluZGV4ID09PSB0aGlzLnZpZXdzLmxlbmd0aCAtIDEgKSB7XG4gICAgICAgICAgICByaWdodC5oaWRlKClcbiAgICAgICAgICAgIGlmKCBsZWZ0LmlzKCc6aGlkZGVuJykgKSBsZWZ0LnNob3coKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYoIGxlZnQuaXMoJzpoaWRkZW4nKSApIGxlZnQuc2hvdygpXG4gICAgICAgICAgICBpZiggcmlnaHQuaXMoJzpoaWRkZW4nKSApIHJpZ2h0LnNob3coKVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNob3dQcm9wZXJWaWV3KCBiYWNrICkge1xuICAgICAgICB2YXIgY3VycmVudFZpZXdOYW1lID0gdGhpcy52aWV3c1sgdGhpcy5jdXJyZW50SW5kZXggXS5uYW1lLFxuICAgICAgICAgICAga2xhc3MgPSB0aGlzLnV0aWwuZm9ybWF0KCdzbGlkZS1pbi0lcycsICggYmFjayApID8gJ2xlZnQnIDogJ3JpZ2h0JyApXG5cbiAgICAgICAgdGhpcy5zaG93UHJvcGVyTmF2KClcbiAgICAgICAgXG4gICAgICAgIGlmKCB0aGlzLmluc3RhbmNlc1sgY3VycmVudFZpZXdOYW1lIF0gKSB7XG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc1sgY3VycmVudFZpZXdOYW1lIF0uc2hvdygpLnRlbXBsYXRlRGF0YS5jb250YWluZXIuYWRkQ2xhc3Moa2xhc3MpXG4gICAgICAgICAgICBpZiggdGhpcy5pbnN0YW5jZXNbIGN1cnJlbnRWaWV3TmFtZSBdLmdvQmFjayApIHRoaXMuZ29CYWNrKClcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLmluc3RhbmNlc1sgY3VycmVudFZpZXdOYW1lIF0gPVxuICAgICAgICAgICAgbmV3IHRoaXMudmlld3NbIHRoaXMuY3VycmVudEluZGV4IF0udmlldygge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy50ZW1wbGF0ZURhdGEud2Fsa3Rocm91Z2gsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyQ2xhc3M6IGtsYXNzLFxuICAgICAgICAgICAgICAgIGZhY3Rvcnk6IHRoaXMuZmFjdG9yeSxcbiAgICAgICAgICAgICAgICBzaWdudXBEYXRhOiB0aGlzLnNpZ251cERhdGEsXG4gICAgICAgICAgICB9IClcbiAgICAgICAgXG4gICAgICAgIGlmKCB0aGlzLmluc3RhbmNlc1sgY3VycmVudFZpZXdOYW1lIF0udGVtcGxhdGVEYXRhICkgdGhpcy5pbnN0YW5jZXNbIGN1cnJlbnRWaWV3TmFtZSBdLnRlbXBsYXRlRGF0YS5jb250YWluZXIuYWRkQ2xhc3Moa2xhc3MpXG5cbiAgICAgICAgaWYoIHRoaXMudmlld3NbIHRoaXMuY3VycmVudEluZGV4IF0ub24gKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdzWyB0aGlzLmN1cnJlbnRJbmRleCBdLm9uLmZvckVhY2goIGV2ZW50RGF0YSA9PlxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzWyBjdXJyZW50Vmlld05hbWUgXS5vbiggZXZlbnREYXRhLmV2ZW50LCAoKSA9PiB0aGlzWyBldmVudERhdGEubWV0aG9kIF0oKSApIClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCB0aGlzLmluc3RhbmNlc1sgY3VycmVudFZpZXdOYW1lIF0uZ29CYWNrICkgdGhpcy5nb0JhY2soKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4uL3RlbXBsYXRlcy9zaWdudXAnKSxcblxuICAgIHVwZGF0ZVN0YXRlKCBkYXRhICkge1xuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGRhdGEuaW5kZXhcblxuICAgICAgICB0aGlzLmluc3RhbmNlcy5zaGFyZXMgPSBuZXcgdGhpcy52aWV3c1swXS52aWV3KCB7XG4gICAgICAgICAgICBjb250YWluZXI6IHRoaXMudGVtcGxhdGVEYXRhLndhbGt0aHJvdWdoLFxuICAgICAgICAgICAgZmFjdG9yeTogdGhpcy5mYWN0b3J5LFxuICAgICAgICAgICAgc2Vzc2lvblNoYXJlczogZGF0YS5zaGFyZXMsXG4gICAgICAgICAgICBzaWdudXBEYXRhOiB0aGlzLnNpZ251cERhdGFcbiAgICAgICAgfSApLm9uKCAnaW5pdGlhbGl6ZWQnLCAoKSA9PiB0aGlzLnNob3dQcm9wZXJWaWV3KCkgKVxuICAgICAgICBcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMuc2hhcmVzLmhpZGUoKVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZVZpZXcoKSB7XG4gICAgICAgIHZhciB2aWV3ID0gdGhpcy5pbnN0YW5jZXNbIHRoaXMudmlld3NbIHRoaXMuY3VycmVudEluZGV4IF0ubmFtZSBdXG4gICAgICAgIFxuICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5yaWdodEJ0bi5vZmYoKVxuXG4gICAgICAgIHRoaXMuUS53aGVuKCB2aWV3LnZhbGlkYXRlKCkgKS50aGVuKCByZXN1bHQgPT4geyBpZiggcmVzdWx0ICkgdGhpcy5zaG93TmV4dCgpIH0gKVxuICAgICAgICAuZmFpbCggZSA9PiBuZXcgdGhpcy5FcnJvcihlKSApXG4gICAgICAgIC5kb25lKCAoKSA9PiB3aW5kb3cuc2V0VGltZW91dCggKCkgPT4gdGhpcy5kZWxlZ2F0ZUV2ZW50cyggJ3JpZ2h0QnRuJywgdGhpcy50ZW1wbGF0ZURhdGEucmlnaHRCdG4gKSwgMTAwMCApIClcbiAgICB9LFxuXG4gICAgdmlld3M6IFtcbiAgICAgICAgeyBuYW1lOiAnc2hhcmVzJywgdmlldzogcmVxdWlyZSgnLi9zaWdudXAvU2hhcmVzJyksIG9uOiBbIHsgZXZlbnQ6ICdub1NoYXJlcycsIG1ldGhvZDogJ25vU2hhcmVzJyB9IF0gfSxcbiAgICAgICAgeyBuYW1lOiAnbWVtYmVySW5mbycsIHZpZXc6IHJlcXVpcmUoJy4vc2lnbnVwL01lbWJlckluZm8nKSB9LFxuICAgICAgICB7IG5hbWU6ICdzaGFyZU9wdGlvbnMnLCB2aWV3OiByZXF1aXJlKCcuL3NpZ251cC9TaGFyZU9wdGlvbnMnKSB9LFxuICAgICAgICB7IG5hbWU6ICdkZWxpdmVyeScsIHZpZXc6IHJlcXVpcmUoJy4vc2lnbnVwL0RlbGl2ZXJ5JykgfSxcbiAgICAgICAgeyBuYW1lOiAnZGF0ZVNlbGVjdGlvbicsIHZpZXc6IHJlcXVpcmUoJy4vc2lnbnVwL0RhdGVTZWxlY3Rpb24nKSB9LFxuICAgICAgICB7IG5hbWU6ICdzdW1tYXJ5JywgdmlldzogcmVxdWlyZSgnLi9zaWdudXAvU3VtbWFyeScpLCBvbjogWyB7IGV2ZW50OiAnZG9uZScsIG1ldGhvZDogJ2RvbmUnIH0gXSB9XG4gICAgXVxuXG59IClcblxubW9kdWxlLmV4cG9ydHMgPSBTaWdudXBcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdjYW5jZWxCdG4nOiAnY2xpY2snLFxuICAgICAgICAnc3VibWl0QnRuJzogJ2NsaWNrJ1xuICAgIH0sXG5cbiAgICBoYW5kbGVTdWJtaXNzaW9uRXJyb3IoIGUgKSB7XG4gICAgICAgIHRoaXMuZW1pdCggJ3N1Ym1pc3Npb25FcnJvcicsIGUgKVxuICAgICAgICB0aGlzLlRvYXN0LnNob3dNZXNzYWdlKCAnZXJyb3InLCBlIHx8IHRoaXMudG9hc3RFcnJvciB8fCAnRXJyb3InIClcbiAgICAgICAgdGhpcy5FcnJvciggZSApXG4gICAgICAgIHRoaXMub25TdWJtaXRFbmQoKVxuICAgIH0sXG5cbiAgICBvbkNhbmNlbEJ0bkNsaWNrKCkge1xuICAgICAgICB0aGlzLmRlbGV0ZSgpLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICB9LFxuXG4gICAgb25TdWJtaXRCdG5DbGljaygpIHtcbiAgICAgICAgaWYoIHRoaXMuc3VibWl0dGluZyApIHJldHVyblxuICAgICAgICB0aGlzLm9uU3VibWl0U3RhcnQoKVxuICAgICAgICB0aGlzLnN1Ym1pdCgpXG4gICAgICAgIC50aGVuKCAoKSA9PiBQcm9taXNlLnJlc29sdmUoIHRoaXMub25TdWJtaXRFbmQoKSApIClcbiAgICAgICAgLmNhdGNoKCBlID0+IHRoaXMuaGFuZGxlU3VibWlzc2lvbkVycm9yKGUpIClcbiAgICB9LFxuXG4gICAgb25TdWJtaXRFbmQoKSB7XG4gICAgICAgIHRoaXMuc3VibWl0dGluZyA9IGZhbHNlXG4gICAgICAgIHRoaXMuZWxzLnN1Ym1pdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzdWJtaXR0aW5nJylcbiAgICB9LFxuICAgIFxuICAgIG9uU3VibWl0U3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc3VibWl0dGluZyA9IHRydWVcbiAgICAgICAgdGhpcy5lbHMuc3VibWl0QnRuLmNsYXNzTGlzdC5hZGQoJ3N1Ym1pdHRpbmcnKVxuICAgIH1cblxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlKCBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgSWNvbnM6IHtcbiAgICAgICAgZXJyb3I6IHJlcXVpcmUoJy4vdGVtcGxhdGVzL2xpYi9lcnJvcicpKCksXG4gICAgICAgIHN1Y2Nlc3M6IHJlcXVpcmUoJy4vdGVtcGxhdGVzL2xpYi9jaGVja21hcmsnKSgpXG4gICAgfSxcblxuICAgIGluc2VydGlvbjogeyBlbDogZG9jdW1lbnQuYm9keSB9LFxuXG4gICAgbmFtZTogJ1RvYXN0JyxcblxuICAgIHJlcXVpcmVzTG9naW46IGZhbHNlLFxuXG4gICAgc2hvd01lc3NhZ2UoIHR5cGUsIG1lc3NhZ2UgKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSggKCByZXNvbHZlLCByZWplY3QgKSAgPT4ge1xuICAgICAgICAgICAgaWYoIC9zaG93Ly50ZXN0KCB0aGlzLnN0YXR1cyApICkgcmV0dXJuIHJlc29sdmUoKVxuXG4gICAgICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHZlXG5cbiAgICAgICAgICAgIGlmKCB0eXBlICE9PSAnZXJyb3InICkgdGhpcy5lbHMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3N1Y2Nlc3MnKVxuXG4gICAgICAgICAgICB0aGlzLmVscy5tZXNzYWdlLnRleHRDb250ZW50ID0gbWVzc2FnZVxuICAgICAgICAgICAgdGhpcy5lbHMudGl0bGUudGV4dENvbnRlbnQgPSB0eXBlID09PSAnZXJyb3InID8gJ0Vycm9yJyA6ICdTdWNjZXNzJ1xuICAgICAgICAgICAgdGhpcy5zbHVycFRlbXBsYXRlKCB7IGluc2VydGlvbjogeyBlbDogdGhpcy5lbHMuaWNvbiB9LCB0ZW1wbGF0ZTogdHlwZSA9PT0gJ2Vycm9yJyA/IHRoaXMuSWNvbnMuZXJyb3IgOiB0aGlzLkljb25zLnN1Y2Nlc3MgfSApXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gJ3Nob3dpbmcnXG5cbiAgICAgICAgICAgIHRoaXMuc2hvdyggdHJ1ZSApXG4gICAgICAgICAgICAudGhlbiggKCkgPT4gdGhpcy5oaWRlKCB0cnVlICkgKVxuICAgICAgICAgICAgLnRoZW4oICgpID0+IHRoaXMudGVhcmRvd24oKSApXG4gICAgICAgICAgICAuY2F0Y2goIHJlamVjdCApXG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICB0ZWFyZG93bigpIHtcbiAgICAgICAgaWYoIHRoaXMuZWxzLmNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ3N1Y2Nlc3MnKSApIHRoaXMuZWxzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdzdWNjZXNzJylcbiAgICAgICAgdGhpcy5lbHMubWVzc2FnZS50ZXh0Q29udGVudCA9ICcnXG4gICAgICAgIHRoaXMuZWxzLm1lc3NhZ2UudGl0bGUgPSAnJ1xuICAgICAgICBpZiggdGhpcy5lbHMuaWNvbi5maXJzdENoaWxkICkgdGhpcy5lbHMuaWNvbi5yZW1vdmVDaGlsZCggdGhpcy5lbHMuaWNvbi5maXJzdENoaWxkIClcblxuICAgICAgICB0aGlzLnN0YXR1cyA9ICdoaWRkZW4nXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbigpXG4gICAgfSxcblxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL3RlbXBsYXRlcy9Ub2FzdCcpXG5cbn0gKSwgeyB9ICkuY29uc3RydWN0b3IoKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgcmVxdWlyZSgnLi9fX3Byb3RvX18nKSwge1xuXG4gICAgUGlrYWRheTogcmVxdWlyZSgncGlrYWRheScpLFxuICAgIFxuICAgIFRlbXBsYXRlczoge1xuICAgICAgICBUcmFuc2FjdGlvbjogcmVxdWlyZSgnLi90ZW1wbGF0ZXMvQ3NhVHJhbnNhY3Rpb24nKSxcbiAgICAgICAgRWRpdFRyYW5zYWN0aW9uOiByZXF1aXJlKCcuL3RlbXBsYXRlcy9FZGl0Q3NhVHJhbnNhY3Rpb24nKVxuICAgIH0sXG5cbiAgICBWaWV3czoge1xuICAgICAgICBlZGl0QnV0dG9ucygpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9kZWw6IE9iamVjdC5jcmVhdGUoIHRoaXMuTW9kZWwgKS5jb25zdHJ1Y3Rvcigge1xuICAgICAgICAgICAgICAgICAgICBoaWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnZWRpdCcsIHN2ZzogcmVxdWlyZSgnLi90ZW1wbGF0ZXMvbGliL2VkaXQnKSgpLCBlbWl0OiB0cnVlLCBuZXh0U3RhdGU6ICdvbkVkaXQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnZ2FyYmFnZScsIHN2ZzogcmVxdWlyZSgnLi90ZW1wbGF0ZXMvbGliL2dhcmJhZ2UnKSgpLCBuZXh0U3RhdGU6ICdvbkRlbGV0ZScsIGVtaXQ6IHRydWUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRGVsZXRlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY29uZmlybURlbGV0ZScsIGNsYXNzOiAnbGluaycsICd0ZXh0JzogJ0RlbGV0ZT8nLCBuZXh0U3RhdGU6ICdzdGFydCcsIGVtaXQ6ICd0cnVlJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2NhbmNlbERlbGV0ZScsIHN2ZzogcmVxdWlyZSgnLi90ZW1wbGF0ZXMvbGliL2V4JykoIHsgbmFtZTogJ2NhbmNlbERlbGV0ZScgfSApLCBuZXh0U3RhdGU6ICdzdGFydCcsIGVtaXQ6IHRydWUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRWRpdDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgbmFtZTogJ2NvbmZpcm1FZGl0JywgY2xhc3M6ICdsaW5rJywgJ3RleHQnOiAnRWRpdCcsIGVtaXQ6ICd0cnVlJywgbmV4dFN0YXRlOiAnc3RhcnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FuY2VsRWRpdCcsIHN2ZzogcmVxdWlyZSgnLi90ZW1wbGF0ZXMvbGliL2V4JykoIHsgbmFtZTogJ2NhbmNlbEVkaXQnIH0gKSwgbmV4dFN0YXRlOiAnc3RhcnQnLCBlbWl0OiB0cnVlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbWFpbEJ1dHRvbnMoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1vZGVsOiBPYmplY3QuY3JlYXRlKCB0aGlzLk1vZGVsICkuY29uc3RydWN0b3IoIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogWyB7IG5hbWU6ICdzZW5kRW1haWwnLCBjbGFzczogJ3NhdmUtYnRuJywgdGV4dDogJ1NlbmQgRW1haWwgUmVtaW5kZXInLCBuZXh0U3RhdGU6ICdjb25maXJtJyB9IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY29uZmlybUVtYWlsJywgY2xhc3M6ICdzYXZlLWJ0bicsIHRleHQ6ICdBcmUgeW91IFN1cmU/JywgZW1pdDogdHJ1ZSwgbmV4dFN0YXRlOiAnc3RhcnQnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiAnY2FuY2VsJywgbmV4dFN0YXRlOiAnc3RhcnQnLCBjbGFzczogJ3Jlc2V0LWJ0bicsIHRleHQ6ICdDYW5jZWwnIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhZGRUcmFuc2FjdGlvbjogZnVuY3Rpb24oKSB7IHJldHVybiB7IG1vZGVsOiB0aGlzLm1vZGVsIH0gfSxcbiAgICB9LFxuXG4gICAgYWRkVHJhbnNhY3Rpb24oKSB7XG4gICAgICAgIHRoaXMubW9kZWwucG9zdCggT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIHsgbWVtYmVyU2hhcmVJZDogdGhpcy5zaGFyZS5tZW1iZXJzaGFyZWlkIH0sXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmF0dHJpYnV0ZXMucmVkdWNlKCAoIG1lbW8sIGF0dHIgKSA9PiBPYmplY3QuYXNzaWduKCBtZW1vLCB7IFsgYXR0ciBdOiB0aGlzLmVsc1thdHRyXS52YWx1ZSB9ICksIHsgfSApXG4gICAgICAgICkgKVxuICAgICAgICAudGhlbiggcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbnNlcnRUcmFuc2FjdGlvbiggcmVzcG9uc2UuaWQgKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVCYWxhbmNlKClcbiAgICAgICAgICAgIHRoaXMuVG9hc3Quc2hvd01lc3NhZ2UoICdzdWNjZXNzJywgJ1RyYW5zYWN0aW9uIGFkZGVkIScgKVxuICAgICAgICB9IClcbiAgICAgICAgLmNhdGNoKCBlID0+IHsgdGhpcy5FcnJvcihlKTsgdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ2Vycm9yJywgJ0Vycm9yIGFkZGluZyB0cmFuc2FjdGlvbicgKSB9IClcbiAgICB9LFxuXG4gICAgY2xlYXIoKSB7IHRoaXMuZWxzLnRyYW5zYWN0aW9ucy5pbm5lckhUTUwgPSAnJyB9LFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgIGxpc3Q6ICdjbGljaycsXG4gICAgICAgIHRyYW5zYWN0aW9uOiBbICdtb3VzZWVudGVyJywgJ21vdXNlbGVhdmUnIF1cbiAgICB9LFxuXG4gICAgYXBwZW5kVHJhbnNhY3Rpb24oIHRyYW5zYWN0aW9uICkge1xuICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHtcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLlRlbXBsYXRlcy5UcmFuc2FjdGlvbihcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbixcbiAgICAgICAgICAgICAgICB7IGN1cnJlbmN5OiB0aGlzLkN1cnJlbmN5LmZvcm1hdCwgbW9tZW50OiB0aGlzLk1vbWVudCB9ICksXG4gICAgICAgICAgICBpbnNlcnRpb246IHsgZWw6IHRoaXMuZWxzLnRyYW5zYWN0aW9ucyB9XG4gICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgaW5zZXJ0VHJhbnNhY3Rpb24oIHRyYW5zYWN0aW9uSWQgKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5tb2RlbC5kYXRhLmZpbmRJbmRleCggZGF0dW0gPT4gZGF0dW0uaWQgPT0gdHJhbnNhY3Rpb25JZCApLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBBcnJheS5mcm9tKCB0aGlzLmVscy50cmFuc2FjdGlvbnMuY2hpbGRyZW4gKSxcbiAgICAgICAgICAgIGluc2VydGlvbiA9IGluZGV4ID09PSAwXG4gICAgICAgICAgICAgICAgPyB7IGVsOiBjaGlsZHJlblswXSwgbWV0aG9kOiAnaW5zZXJ0QmVmb3JlJyB9XG4gICAgICAgICAgICAgICAgOiB7IGVsOiBjaGlsZHJlblsgaW5kZXggLSAxIF0sIG1ldGhvZDogJ2FmdGVyJyB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHtcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLlRlbXBsYXRlcy5UcmFuc2FjdGlvbiggdGhpcy5tb2RlbC5kYXRhWyBpbmRleCBdLCB7IGN1cnJlbmN5OiB0aGlzLkN1cnJlbmN5LmZvcm1hdCwgbW9tZW50OiB0aGlzLk1vbWVudCB9ICksXG4gICAgICAgICAgICBpbnNlcnRpb25cbiAgICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBlZGl0VHJhbnNhY3Rpb24oIGUgKSB7XG4gICAgICAgIGNvbnN0IGVsID0gZS50YXJnZXQuY2xvc2VzdCgnbGknKSxcbiAgICAgICAgICAgIGlkID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykgXG5cbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKCBbXG4gICAgICAgICAgICB0aGlzLm1vZGVsLnBhdGNoKFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuYXR0cmlidXRlcy5yZWR1Y2UoICggbWVtbywgYXR0ciApID0+XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oIG1lbW8sIHsgWyBhdHRyIF06XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyID09PSAnY3JlYXRlZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuTW9tZW50KCB0aGlzLmVscy5lZGl0VHJhbnNhY3Rpb24ucXVlcnlTZWxlY3RvcihgW2RhdGEtYXR0cj1cImNyZWF0ZWRcIl1gKS52YWx1ZSwgJ01NTSBELCBZWVlZJyApLmZvcm1hdCgnWVlZWS1NTS1ERCcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmVscy5lZGl0VHJhbnNhY3Rpb24ucXVlcnlTZWxlY3RvcihgW2RhdGEtYXR0cj1cIiR7YXR0cn1cIl1gKS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9ICksXG4gICAgICAgICAgICAgICAgICAgIHsgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBlLmZkTmV4dFN0YXRlXG4gICAgICAgIF0gKVxuICAgICAgICAudGhlbiggZGF0dW0gPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFZGl0Um93KClcbiAgICAgICAgICAgIHRoaXMubW92ZU91dEVkaXRCdXR0b25zKClcbiAgICAgICAgICAgIGVsLnJlbW92ZSgpXG4gICAgICAgICAgICB0aGlzLmluc2VydFRyYW5zYWN0aW9uKGlkKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVCYWxhbmNlKClcbiAgICAgICAgICAgIHRoaXMuVG9hc3Quc2hvd01lc3NhZ2UoICdzdWNjZXNzJywgJ1RyYW5zYWN0aW9uIGVkaXRlZCEnIClcbiAgICAgICAgfSApXG4gICAgICAgIC5jYXRjaCggZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUVkaXRSb3coKVxuICAgICAgICAgICAgdGhpcy5FcnJvcihlKTtcbiAgICAgICAgICAgIHRoaXMuVG9hc3Quc2hvd01lc3NhZ2UoICdlcnJvcicsICdFcnJvciBlZGl0aW5nIHRyYW5zYWN0aW9uJyApXG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBkZWxldGVUcmFuc2FjdGlvbiggZSApIHtcbiAgICAgICAgY29uc3QgaWQgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpIFxuXG4gICAgICAgIFByb21pc2UuYWxsKCBbXG4gICAgICAgICAgICB0aGlzLm1vZGVsLmRlbGV0ZSggaWQgKSxcbiAgICAgICAgICAgIGUuZmROZXh0U3RhdGVcbiAgICAgICAgXSApXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1vdmVPdXRFZGl0QnV0dG9ucygpXG4gICAgICAgICAgICB0aGlzLmVscy50cmFuc2FjdGlvbnMucXVlcnlTZWxlY3RvcihgbGlbZGF0YS1pZD1cIiR7aWR9XCJdYCkucmVtb3ZlKClcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQmFsYW5jZSgpXG4gICAgICAgICAgICB0aGlzLlRvYXN0LnNob3dNZXNzYWdlKCAnc3VjY2VzcycsICdUcmFuc2FjdGlvbiBkZWxldGVkIScgKVxuICAgICAgICB9IClcbiAgICAgICAgLmNhdGNoKCBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuRXJyb3IoZSk7XG4gICAgICAgICAgICB0aGlzLlRvYXN0LnNob3dNZXNzYWdlKCAnZXJyb3InLCAnRXJyb3IgYWRkaW5nIHRyYW5zYWN0aW9uJyApXG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBtb2RlbDogcmVxdWlyZSgnLi4vbW9kZWxzL0NzYVRyYW5zYWN0aW9uJyksXG5cbiAgICBvbkFkZEJ0bkNsaWNrKCkge1xuICAgICAgICBpZiggdGhpcy5zdGF0ZSA9PT0gJ2NvbmZpcm1EZWxldGUnICkge1xuICAgICAgICAgICAgdGhpcy5tb2RlbC5kZWxldGUoIHRoaXMubWFya2VkRm9yRGVsZXRpb24gIClcbiAgICAgICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbHMudHJhbnNhY3Rpb25zLnF1ZXJ5U2VsZWN0b3IoYGxpW2RhdGEtaWQ9XCIke3RoaXMubWFya2VkRm9yRGVsZXRpb259XCJdYCkucmVtb3ZlKClcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUJhbGFuY2UoKVxuICAgICAgICAgICAgICAgIHRoaXMuVG9hc3Quc2hvd01lc3NhZ2UoICdzdWNjZXNzJywgJ1RyYW5zYWN0aW9uIGRlbGV0ZWQhJyApXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFN0YXRlKClcbiAgICAgICAgICAgIH0gKVxuICAgICAgICB9IGVsc2UgaWYoIHRoaXMuc3RhdGUgPT09ICdjb25maXJtaW5nJyApIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwucG9zdCggT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICB7IG1lbWJlclNoYXJlSWQ6IHRoaXMuc2hhcmUubWVtYmVyc2hhcmVpZCB9LFxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuYXR0cmlidXRlcy5yZWR1Y2UoICggbWVtbywgYXR0ciApID0+IE9iamVjdC5hc3NpZ24oIG1lbW8sIHsgWyBhdHRyIF06IHRoaXMuZWxzW2F0dHJdLnZhbHVlIH0gKSwgeyB9IClcbiAgICAgICAgICAgICkgKVxuICAgICAgICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmluc2VydFRyYW5zYWN0aW9uKCByZXNwb25zZS5pZCApXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCYWxhbmNlKClcbiAgICAgICAgICAgICAgICB0aGlzLlRvYXN0LnNob3dNZXNzYWdlKCAnc3VjY2VzcycsICdUcmFuc2FjdGlvbiBhZGRlZCEnIClcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0U3RhdGUoKVxuICAgICAgICAgICAgfSApXG4gICAgICAgICAgICAuY2F0Y2goIGUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuRXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ2Vycm9yJywgJ0Vycm9yIGFkZGluZyB0cmFuc2FjdGlvbicgKVxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRTdGF0ZSgpXG4gICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICB9IGVsc2UgaWYoIHRoaXMuc3RhdGUgPT09ICdhZGRpbmcnICkge1xuXG4gICAgICAgICAgICB0aGlzLmVscy5hZGRCdG4udGV4dENvbnRlbnQgPSAnQXJlIHlvdSBzdXJlPydcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnY29uZmlybWluZydcblxuICAgICAgICB9IGVsc2UgaWYoICF0aGlzLnN0YXRlICkge1xuICAgICAgICAgICAgdGhpcy5lbHMuY2FuY2VsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgICAgICAgICB0aGlzLmVscy5hZGRUcmFuc2FjdGlvblJvdy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ2FkZGluZydcbiAgICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgb25FeENsaWNrKCBlICkge1xuICAgICAgICBpZiggdGhpcy5tYXJrZWRGb3JEZWxldGlvbiApIHJldHVyblxuICAgICAgICBcbiAgICAgICAgY29uc3QgaXRlbSA9ICBlLnRhcmdldC5jbG9zZXN0KCdsaScpXG5cbiAgICAgICAgdGhpcy5tYXJrZWRGb3JEZWxldGlvbiA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLWlkJylcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdtYXJrZWQnKVxuICAgICAgIFxuICAgICAgICB0aGlzLmVscy5hZGRCdG4udGV4dENvbnRlbnQgPSAnQ29uZmlybSBEZWxldGUnIFxuICAgICAgICB0aGlzLmVscy5jYW5jZWxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICAgICAgdGhpcy5zdGF0ZSA9ICdjb25maXJtRGVsZXRlJ1xuICAgIH0sXG5cbiAgICBvbkxpc3RDbGljayggZSApIHtcbiAgICAgICAgaWYoIHRoaXMuY3VycmVudFNlbGVjdGlvbiApIHRoaXMuY3VycmVudFNlbGVjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpXG4gICAgICAgIFxuICAgICAgICBjb25zdCBlbCA9IGUudGFyZ2V0XG4gICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGlvbiA9IGVsXG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoICdzZWxlY3RlZCcgKVxuICAgICAgICB0aGlzLmVtaXQoICdzZWxlY3RlZCcsIHsgY3VzdG9tZXI6IHRoaXMuY3VzdG9tZXIsIHNoYXJlOiB0aGlzLk1lbWJlclNlYXNvbi5kYXRhLmZpbmQoIHNlYXNvbiA9PiBzZWFzb24uaWQgPT0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykgKSB9IClcbiAgICB9LFxuXG4gICAgb25UcmFuc2FjdGlvbk1vdXNlZW50ZXIoIGUgKSB7XG4gICAgICAgIGlmKCBlLnRhcmdldC50YWdOYW1lICE9PSBcIkxJXCIgKSByZXR1cm5cbiAgICAgICAgaWYoIHRoaXMudmlld3MuZWRpdEJ1dHRvbnMuc3RhdGUgIT09ICdzdGFydCcgKSByZXR1cm5cbiAgICAgICAgZS50YXJnZXQuY2hpbGRyZW5bMF0uYXBwZW5kQ2hpbGQoIHRoaXMudmlld3MuZWRpdEJ1dHRvbnMuZWxzLmNvbnRhaW5lciApXG4gICAgICAgIHRoaXMudmlld3MuZWRpdEJ1dHRvbnMuZWxzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdmZC1oaWRkZW4nKVxuICAgIH0sXG4gICAgXG4gICAgb25UcmFuc2FjdGlvbk1vdXNlbGVhdmUoIGUgKSB7XG4gICAgICAgIGlmKCBlLnRhcmdldC50YWdOYW1lICE9PSBcIkxJXCIgKSByZXR1cm5cbiAgICAgICAgaWYoIHRoaXMudmlld3MuZWRpdEJ1dHRvbnMuc3RhdGUgIT09ICdzdGFydCcgKSByZXR1cm5cbiAgICAgICAgdGhpcy5tb3ZlT3V0RWRpdEJ1dHRvbnMoKVxuICAgIH0sXG5cbiAgICBtb3ZlT3V0RWRpdEJ1dHRvbnMoKSB7XG4gICAgICAgIHRoaXMuZWxzLnRyYW5zYWN0aW9ucy5hZnRlciggdGhpcy52aWV3cy5lZGl0QnV0dG9ucy5lbHMuY29udGFpbmVyIClcbiAgICAgICAgdGhpcy52aWV3cy5lZGl0QnV0dG9ucy5lbHMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZkLWhpZGRlbicpXG4gICAgfSxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG5cbiAgICAgICAgdGhpcy52aWV3cy5lbWFpbEJ1dHRvbnMub24oICdjb25maXJtRW1haWxDbGlja2VkJywgZSA9PiB0aGlzLnNlbmRNYWlsKCkgKVxuXG4gICAgICAgIHRoaXMudmlld3MuZWRpdEJ1dHRvbnMub24oICdlZGl0Q2xpY2tlZCcsIGUgPT4gdGhpcy5jcmVhdGVFZGl0Um93KCBlICkgKVxuICAgICAgICB0aGlzLnZpZXdzLmVkaXRCdXR0b25zLm9uKCAnY2FuY2VsRWRpdENsaWNrZWQnLCBlID0+IHRoaXMucmVtb3ZlRWRpdFJvdyggZSApIClcbiAgICAgICAgdGhpcy52aWV3cy5lZGl0QnV0dG9ucy5vbiggJ2NvbmZpcm1FZGl0Q2xpY2tlZCcsIGUgPT4gdGhpcy5lZGl0VHJhbnNhY3Rpb24oIGUgKSApXG5cbiAgICAgICAgdGhpcy52aWV3cy5lZGl0QnV0dG9ucy5vbiggJ2dhcmJhZ2VDbGlja2VkJywgZSA9PiB0aGlzLnRvZ2dsZURlbGV0ZVN0eWxlKCBlLCB0cnVlICkgKVxuICAgICAgICB0aGlzLnZpZXdzLmVkaXRCdXR0b25zLm9uKCAnY2FuY2VsRGVsZXRlQ2xpY2tlZCcsIGUgPT4gdGhpcy50b2dnbGVEZWxldGVTdHlsZSggZSwgZmFsc2UgKSApXG4gICAgICAgIHRoaXMudmlld3MuZWRpdEJ1dHRvbnMub24oICdjb25maXJtRGVsZXRlQ2xpY2tlZCcsIGUgPT4gdGhpcy5kZWxldGVUcmFuc2FjdGlvbiggZSApIClcblxuICAgICAgICB0aGlzLm1vZGVsLm9uKCAnYWRkZWQnLCBkYXR1bSA9PiB0aGlzLm9uTW9kZWxBZGQoIGRhdHVtICkgKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIGNyZWF0ZUVkaXRSb3coIGUgKSB7XG4gICAgICAgIHRoaXMuZWRpdGVkUm93ID0gZS50YXJnZXQuY2xvc2VzdCgnbGknKVxuICAgICAgICB0aGlzLmVkaXRlZFJvdy5jbGFzc0xpc3QuYWRkKCdjb25maXJtaW5nLWVkaXQnKVxuXG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5tb2RlbC5kYXRhLmZpbmQoIGRhdHVtID0+IGRhdHVtLmlkID09IHRoaXMuZWRpdGVkUm93LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpIClcblxuICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHtcbiAgICAgICAgICAgIGluc2VydGlvbjogeyBlbDogdGhpcy5lZGl0ZWRSb3csIG1ldGhvZDogJ2FmdGVyJyB9LFxuICAgICAgICAgICAgdGVtcGxhdGU6IHRoaXMuVGVtcGxhdGVzLkVkaXRUcmFuc2FjdGlvbihcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmF0dHJpYnV0ZXMucmVkdWNlKCAoIG1lbW8sIGF0dHIgKSA9PlxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKCBtZW1vLCB7IFsgYXR0ciBdOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ciA9PT0gJ2NyZWF0ZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLk1vbWVudCggbW9kZWwuY3JlYXRlZCApLmZvcm1hdCgnTU1NIEQsIFlZWVknKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbW9kZWxbIGF0dHIgXVxuICAgICAgICAgICAgICAgICAgICB9ICksXG4gICAgICAgICAgICAgICAgICAgIHsgYWN0aW9uczogdGhpcy5tb2RlbC5hY3Rpb25zIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMuY3JlYXRlZCA9IG5ldyB0aGlzLlBpa2FkYXkoIHsgZmllbGQ6IHRoaXMuZWxzLmVkaXRUcmFuc2FjdGlvbi5xdWVyeVNlbGVjdG9yKGBpbnB1dFtkYXRhLWF0dHI9XCJjcmVhdGVkXCJdYCksIGZvcm1hdDogJ01NTSBELCBZWVlZJyB9IClcbiAgICB9LFxuXG4gICAgcmVtb3ZlRWRpdFJvdyggZSApIHtcbiAgICAgICAgdGhpcy5lZGl0ZWRSb3cuY2xhc3NMaXN0LnJlbW92ZSgnY29uZmlybWluZy1lZGl0JylcbiAgICAgICAgdGhpcy5lZGl0ZWRSb3cgPSB1bmRlZmluZWRcbiAgICAgICAgdGhpcy5lbHMuZWRpdFRyYW5zYWN0aW9uLnJlbW92ZSgpXG4gICAgICAgIGRlbGV0ZSB0aGlzLmVscy5lZGl0VHJhbnNhY3Rpb25cbiAgICB9LFxuXG4gICAgdG9nZ2xlRGVsZXRlU3R5bGUoIGUsIHZhbHVlICkge1xuICAgICAgICBlLnRhcmdldC5jbG9zZXN0KCdsaScpLmNsYXNzTGlzdC50b2dnbGUoICdjb25maXJtaW5nLWRlbGV0ZScsIHZhbHVlIClcbiAgICB9LFxuXG4gICAgb25DYW5jZWxBZGRUcmFuc2FjdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbHMuYWRkVHJhbnNhY3Rpb25Sb3cuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgICAgICAgdGhpcy5tb2RlbC5hdHRyaWJ1dGVzLmZvckVhY2goIGF0dHIgPT4gdGhpcy5lbHNbIGF0dHIgXS52YWx1ZSA9IGF0dHIgPT09ICdhY3Rpb24nID8gdGhpcy5tb2RlbC5hY3Rpb25zWzBdIDogJycgKVxuICAgIH0sXG5cbiAgICBvbk1vZGVsQWRkKCBkYXR1bSApIHtcbiAgICAgICAgdGhpcy5pbnNlcnRUcmFuc2FjdGlvbiggZGF0dW0uaWQgKVxuICAgICAgICB0aGlzLnVwZGF0ZUJhbGFuY2UoKVxuICAgIH0sXG5cbiAgICBzZW5kTWFpbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWGhyKCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgICAgICAgIHJlc291cmNlOiAnbWFpbCcsXG4gICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSgge1xuICAgICAgICAgICAgICAgIHRvOiB0aGlzLmN1c3RvbWVyLnBlcnNvbi5kYXRhLmVtYWlsLFxuICAgICAgICAgICAgICAgIHN1YmplY3Q6IGBQYXRjaHdvcmsgR2FyZGVucyAke3RoaXMuc2hhcmUubGFiZWx9IEJhbGFuY2VgLFxuICAgICAgICAgICAgICAgIGJvZHk6IGBBY2NvcmRpbmcgdG8gb3VyIHJlY29yZHMsIHlvdSBoYXZlIGFuIG91dHN0YW5kaW5nIGJhbGFuY2Ugb2YgJHt0aGlzLmVscy5iYWxhbmNlLnRleHRDb250ZW50fS5cXHJcXG5cXHJcXG5QbGVhc2Ugc2VuZCBwYXltZW50IGF0IHlvdXIgZWFybGllc3QgY29udmVuaWVuY2UgdG8gUGF0Y2h3b3JrIEdhcmRlbnMsIDkwNTcgVyBUaGlyZCBTdCwgRGF5dG9uIE9IIDQ1NDE3LlxcclxcblxcclxcbklmIHlvdSBiZWxpZXZlIHRoaXMgaXMgaW5jb3JyZWN0LCBwbGVhc2UgY29udGFjdCB1cyBieSBlbWFpbCBvciBwaG9uZSAoOTM3KSA4MzUtNTgwNy5cXHJcXG5cXHJcXG5UaGFuayBZb3UuYFxuICAgICAgICAgICAgfSApXG4gICAgICAgIH0gKVxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ3N1Y2Nlc3MnLCAnRW1haWwgc2VudC4nICkgKVxuICAgICAgICAuY2F0Y2goIGUgPT4geyB0aGlzLkVycm9yKGUpOyB0aGlzLlRvYXN0LnNob3dNZXNzYWdlKCAnZXJyb3InLCAnRXJyb3Igc2VuZGluZyBlbWFpbC4nICkgfSApXG4gICAgfSxcblxuICAgIHVwZGF0ZSggeyBjdXN0b21lciwgc2hhcmUgfSApIHtcbiAgICAgICAgdGhpcy5jdXN0b21lciA9IGN1c3RvbWVyXG4gICAgICAgIHRoaXMuc2hhcmUgPSBzaGFyZVxuICAgICAgXG4gICAgICAgIHRoaXMuY2xlYXIoKVxuICAgICAgICB0aGlzLnZpZXdzLmFkZFRyYW5zYWN0aW9uLnVwZGF0ZSggc2hhcmUubWVtYmVyc2hhcmVpZCApXG5cbiAgICAgICAgcmV0dXJuIHRoaXMubW9kZWwuZ2V0KCB7IHF1ZXJ5OiB7IG1lbWJlclNoYXJlSWQ6IHNoYXJlLm1lbWJlcnNoYXJlaWQgfSB9IClcbiAgICAgICAgLnRoZW4oICgpID0+IHRoaXMubW9kZWwuZGF0YS5mb3JFYWNoKCBjc2FUcmFuc2FjdGlvbiA9PiB0aGlzLmFwcGVuZFRyYW5zYWN0aW9uKCBjc2FUcmFuc2FjdGlvbiApICkgKVxuICAgICAgICAudGhlbiggKCkgPT4gdGhpcy51cGRhdGVCYWxhbmNlKCkuc2hvdygpIClcbiAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yICkgICAgICAgIFxuICAgIH0sXG5cbiAgICB1cGRhdGVCYWxhbmNlKCkge1xuICAgICAgICBjb25zdCBiYWxhbmNlID0gdGhpcy5tb2RlbC5nZXRCYWxhbmNlKClcbiAgICAgICAgdGhpcy5lbHMuYmFsYW5jZS50ZXh0Q29udGVudCA9IHRoaXMuQ3VycmVuY3kuZm9ybWF0KCBiYWxhbmNlIClcblxuICAgICAgICBpZiggYmFsYW5jZSA+IDAgKSB7IHRoaXMudmlld3MuZW1haWxCdXR0b25zLnNob3coKSB9XG4gICAgICAgIGVsc2UgeyB0aGlzLnZpZXdzLmVtYWlsQnV0dG9ucy5oaWRlKCkgfVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmFzc2lnbigge30sIHJlcXVpcmUoJy4vX19wcm90b19fJyksIHtcblxuICAgIEF1dG9Db21wbGV0ZTogcmVxdWlyZSgnLi9saWIvQXV0b0NvbXBsZXRlJyksXG5cbiAgICBSZXNvdXJjZXM6IHtcbiAgICAgICAgRG9jdW1lbnQ6IHtcbiAgICAgICAgICAgIE1vZGVsOiBPYmplY3QuYXNzaWduKCB7IH0sIHJlcXVpcmUoJy4uL21vZGVscy9Eb2N1bWVudCcpICksXG4gICAgICAgICAgICByZW5kZXJJdGVtOiAoIGl0ZW0sIHNlYXJjaCApID0+IGA8ZGl2IGNsYXNzPVwiYXV0b2NvbXBsZXRlLXN1Z2dlc3Rpb25cIiBkYXRhLXZhbD1cIiR7aXRlbS5sYWJlbCB8fCBpdGVtLm5hbWV9XCIgZGF0YS1pZD1cIiR7aXRlbS5pZH1cIj4ke2l0ZW0ubGFiZWwgfHwgaXRlbS5uYW1lfTwvZGl2PmAsXG4gICAgICAgICAgICBzZWFyY2goIHRlcm0sIHN1Z2dlc3QgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuWGhyKCB7IG1ldGhvZDogJ2dldCcsIHFzOiB0aGlzLmdldFFzKCB0ZXJtICksIHJlc291cmNlOiB0aGlzLlJlc291cmNlIH0gKVxuICAgICAgICAgICAgICAgIC50aGVuKCBkb2N1bWVudHMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiggISBBcnJheS5pc0FycmF5KCBkb2N1bWVudHMgKSApIGRvY3VtZW50cyA9IFsgZG9jdW1lbnRzIF1cbiAgICAgICAgICAgICAgICAgICAgaWYoIGRvY3VtZW50cy5sZW5ndGggPT09IDAgKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCBmYWxzZSApXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb3VyY2UuTW9kZWwuY29uc3RydWN0b3IoIGRvY3VtZW50cywgeyBzdG9yZUJ5OiBbICdpZCcgXSB9IClcbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdCggdGhpcy5yZXNvdXJjZS5Nb2RlbC5kYXRhIClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSggdHJ1ZSApXG4gICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY2xlYXIoIHN1cHByZXNzRW1pdCApIHtcbiAgICAgICAgdGhpcy5lbHMuaW5wdXQudmFsdWUgPSAnJ1xuICAgICAgICBpZiggIXN1cHByZXNzRW1pdCApIHRoaXMuZW1pdCgnY2xlYXJlZCcpXG4gICAgfSxcblxuICAgIGV2ZW50czoge1xuICAgICAgICBpbnB1dDogJ2lucHV0J1xuICAgIH0sXG4gICAgXG4gICAgZm9jdXMoKSB7IHRoaXMuZWxzLmlucHV0LmZvY3VzKCkgfSxcblxuICAgIGdldFNlbGVjdGVkSWQoKSB7XG4gICAgICAgIGlmKCAhdGhpcy5zZWxlY3RlZE1vZGVsICkgcmV0dXJuIHVuZGVmaW5lZFxuXG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkTW9kZWwuX2lkIHx8IHRoaXMuc2VsZWN0ZWRNb2RlbC5pZFxuICAgIH0sXG5cbiAgICBnZXRRcyggdGVybSApIHtcbiAgICAgICAgY29uc3QgYXR0ciA9IHRoaXMuUmVzb3VyY2UgPT09ICdkZWxpdmVyeXJvdXRlJyA/ICdsYWJlbCcgOiAnbmFtZSdcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KCBPYmplY3QuYXNzaWduKCB7fSwgeyBbIGF0dHIgXTogeyBvcGVyYXRpb246ICd+KicsIHZhbHVlOiB0ZXJtIH0gfSApIClcbiAgICB9LFxuXG4gICAgaW5pdEF1dG9Db21wbGV0ZSggaW5pdGlhbElkICkge1xuICAgICAgICBuZXcgdGhpcy5BdXRvQ29tcGxldGUoIHtcbiAgICAgICAgICAgIGRlbGF5OiA1MDAsXG4gICAgICAgICAgICBzZWxlY3RvcjogdGhpcy5lbHMuaW5wdXQsXG4gICAgICAgICAgICBtaW5DaGFyczogMSxcbiAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgIHJlbmRlckl0ZW06IHRoaXMucmVzb3VyY2UucmVuZGVySXRlbSxcbiAgICAgICAgICAgIHNvdXJjZTogKCB0ZXJtLCBzdWdnZXN0ICkgPT4ge1xuICAgICAgICAgICAgICAgIFJlZmxlY3QuYXBwbHkoIHRoaXMucmVzb3VyY2Uuc2VhcmNoLCB0aGlzLCBbIHRlcm0udHJpbSgpLCBzdWdnZXN0IF0gKVxuICAgICAgICAgICAgICAgIC50aGVuKCBmb3VuZCA9PiBmb3VuZCA/IFByb21pc2UucmVzb2x2ZSh0cnVlKSA6IHN1Z2dlc3QoW10pIClcbiAgICAgICAgICAgICAgICAuY2F0Y2goIHRoaXMuRXJyb3IgKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uU2VsZWN0OiAoIGUsIHRlcm0sIGl0ZW0gKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmUgPSB0aGlzLnJlc291cmNlLk1vZGVsLnN0b3JlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNb2RlbCA9ICggc3RvcmUuaWQgPyBzdG9yZS5pZCA6IHN0b3JlWydfaWQnXSApWyBpdGVtLmdldEF0dHJpYnV0ZSggJ2RhdGEtaWQnICkgXVxuICAgICAgICAgICAgICAgIHRoaXMuZW1pdCggJ2l0ZW1TZWxlY3RlZCcsIHRoaXMuc2VsZWN0ZWRNb2RlbCApXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKVxuXG4gICAgICAgIGlmKCBpbml0aWFsSWQgKSB7XG4gICAgICAgICAgICB0aGlzLlhociggeyBtZXRob2Q6ICdnZXQnLCByZXNvdXJjZTogdGhpcy5SZXNvdXJjZSwgaWQ6IGluaXRpYWxJZCB9IClcbiAgICAgICAgICAgIC50aGVuKCBkb2N1bWVudCA9PiB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQgPSBBcnJheS5pc0FycmF5KCBkb2N1bWVudCApID8gZG9jdW1lbnRbMF0gOiBkb2N1bWVudFxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRNb2RlbCA9IGRvY3VtZW50XG4gICAgICAgICAgICAgICAgdGhpcy5lbHMuaW5wdXQudmFsdWUgPSBkb2N1bWVudC5sYWJlbCB8fCBkb2N1bWVudC5uYW1lXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICB9IClcbiAgICAgICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgb25JbnB1dElucHV0KCkge1xuICAgICAgICBpZiggdGhpcy5lbHMuaW5wdXQudmFsdWUudHJpbSgpID09PSBcIlwiICkgdGhpcy5lbWl0KCdjbGVhcmVkJylcbiAgICB9LFxuXG4gICAgcG9zdFJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5SZXNvdXJjZSA9IHRoaXMuUmVzb3VyY2VcbiAgICAgICAgdGhpcy5UeXBlID0gdGhpcy5UeXBlXG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSB0aGlzLlJlc291cmNlc1sgdGhpcy5UeXBlIF1cbiAgICAgICBcbiAgICAgICAgaWYoIHRoaXMucmVzb3VyY2UgJiYgdGhpcy5SZXNvdXJjZSApIHRoaXMuaW5pdEF1dG9Db21wbGV0ZSgpXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICBzZXRSZXNvdXJjZSggcmVzb3VyY2UgKSB7XG4gICAgICAgIHRoaXMuUmVzb3VyY2UgPSByZXNvdXJjZVxuICAgICAgICB0aGlzLnJlc291cmNlID0gdGhpcy5SZXNvdXJjZXNbIHRoaXMuVHlwZSBdXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxufSApXG4iLCJtb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5hc3NpZ24oIHt9LCByZXF1aXJlKCcuL19fcHJvdG9fXycpLCB7XG5cbiAgICBwb3N0UmVuZGVyKCkge1xuICAgICAgICB0aGlzLlhocigge1xuICAgICAgICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgICAgICAgIHJlc291cmNlOiAndmVyaWZ5JyxcbiAgICAgICAgICAgIHFzOiBgeyBcInRva2VuXCI6IFwiJHt0aGlzLnBhdGhbMV19XCIgfWBcbiAgICAgICAgfSApXG4gICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLlRvYXN0LnNob3dNZXNzYWdlKCAnc3VjY2VzcycsICdFbWFpbCB2ZXJpZmllZCEgWW91IGFyZSBub3cgZnJlZSB0byBsb2cgaW4uJyApIClcbiAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuZGVsZXRlKCkudGhlbiggKCkgPT4gdGhpcy5lbWl0KCAnbmF2aWdhdGUnLCAnJyApICkuY2F0Y2goIHRoaXMuRXJyb3IgKSApXG4gICAgICAgIC5jYXRjaCggZSA9PiB7XG4gICAgICAgICAgICB0aGlzLkVycm9yKCBlIClcbiAgICAgICAgICAgIHRoaXMuVG9hc3Quc2hvd01lc3NhZ2UoICdlcnJvcicsIGBGYWlsZWQgdG8gdmVyaWZ5IGVtYWlsLiBQbGVhc2UgdHJ5IGFnYWluIG9yIGNvbnRhY3QgdXMuYCApXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG59ICkiLCJjb25zdCBTdXBlciA9IHJlcXVpcmUoJy4vX19wcm90b19fJylcblxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7fSwgU3VwZXIsIHtcblxuICAgIERlbGl2ZXJ5T3B0aW9uOiBPYmplY3QuY3JlYXRlKCBTdXBlci5Nb2RlbCwgeyByZXNvdXJjZTogeyB2YWx1ZTogJ2RlbGl2ZXJ5b3B0aW9uJyB9IH0gKSxcbiAgICBHcm91cERyb3BvZmZzOiBPYmplY3QuY3JlYXRlKCBTdXBlci5Nb2RlbCwgeyByZXNvdXJjZTogeyB2YWx1ZTogJ2dyb3VwZHJvcG9mZicgfSB9ICksXG4gICAgUm91dGU6IE9iamVjdC5jcmVhdGUoIFN1cGVyLk1vZGVsLCB7IHJlc291cmNlOiB7IHZhbHVlOiAnZGVsaXZlcnlyb3V0ZScgfSB9ICksXG4gICAgU2tpcFdlZWtzOiBPYmplY3QuY3JlYXRlKCBTdXBlci5Nb2RlbCwgeyByZXNvdXJjZTogeyB2YWx1ZTogJ21lbWJlcnNoYXJlc2tpcHdlZWsnIH0gfSApLFxuXG4gICAgU2hhcmU6IHJlcXVpcmUoJy4uL21vZGVscy9TaGFyZScpLFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgIGRhdGVzOiAnY2xpY2snLFxuICAgICAgICByZXNldEJ0bjogJ2NsaWNrJyxcbiAgICB9LFxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuZWxzLmRhdGVzLmlubmVySFRNTCA9ICcnXG4gICAgICAgIHRoaXMuZWxzLnJlc2V0QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgfSxcblxuICAgIGRldGVybWluZURhdGVzKCBkYXlPZldlZWsgKSB7XG4gICAgICAgIHRoaXMuZWxzLmRlbGl2ZXJ5RGF5LnRleHRDb250ZW50ID0gdGhpcy5Nb21lbnQoKS5pc29XZWVrZGF5KCBkYXlPZldlZWsgKS5mb3JtYXQoJ2RkZGQnKVxuICAgICAgICB0aGlzLmRhdGVzID0gWyBdXG5cbiAgICAgICAgaWYoICEgTnVtYmVyLmlzSW50ZWdlciggZGF5T2ZXZWVrICkgKSByZXR1cm4gdGhpc1xuXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuTW9tZW50KCksXG4gICAgICAgICAgICBuZXh0RGVsaXZlcnlDdXRvZmYgPSBub3csXG4gICAgICAgICAgICBlbmREYXRlID0gdGhpcy5Nb21lbnQoIHRoaXMubW9kZWwuc2hhcmUuZW5kZGF0ZSApXG4gICAgICAgICAgICBcbiAgICAgICAgbGV0IGRlbGl2ZXJ5RGF0ZSA9IHRoaXMuTW9tZW50KCB0aGlzLm1vZGVsLnNoYXJlLnN0YXJ0ZGF0ZSApLFxuICAgICAgICAgICAgc3RhcnREYXkgPSBkZWxpdmVyeURhdGUuZGF5KClcblxuICAgICAgICB3aGlsZSggc3RhcnREYXkgIT0gZGF5T2ZXZWVrICkge1xuICAgICAgICAgICAgZGVsaXZlcnlEYXRlLmFkZCggMSwgJ2RheXMnIClcbiAgICAgICAgICAgIHN0YXJ0RGF5ID0gdGhpcy5Nb21lbnQoIGRlbGl2ZXJ5RGF0ZSApLmRheSgpXG4gICAgICAgIH1cbiAgICAgICBcbiAgICAgICAgd2hpbGUoIGVuZERhdGUuZGlmZiggZGVsaXZlcnlEYXRlLCAnZGF5cycgKSA+PSAwICkge1xuICAgICAgICAgICAgY29uc3QgaXNTa2lwV2VlayA9IHRoaXMuU2tpcFdlZWtzLmRhdGEuZmluZCggd2VlayA9PiBcbiAgICAgICAgICAgICAgICB0aGlzLk1vbWVudCggd2Vlay5kYXRlICkud2VlaygpID09PSB0aGlzLk1vbWVudCggZGVsaXZlcnlEYXRlICkud2VlaygpICkgPyB0cnVlIDogZmFsc2VcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5kYXRlcy5wdXNoKCB7XG4gICAgICAgICAgICAgICAgZGF0ZTogdGhpcy5Nb21lbnQoIGRlbGl2ZXJ5RGF0ZSApLFxuICAgICAgICAgICAgICAgIHVuc2VsZWN0YWJsZTogQm9vbGVhbiggZGVsaXZlcnlEYXRlLmRpZmYoIG5leHREZWxpdmVyeUN1dG9mZiApIDwgMCApLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAhaXNTa2lwV2Vla1xuICAgICAgICAgICAgfSApXG5cbiAgICAgICAgICAgIGRlbGl2ZXJ5RGF0ZS5hZGQoIDcsICdkYXlzJyApXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIGdldFBhdGNoRGF0YSgpIHtcbiAgICAgICAgY29uc3QgYWRkZWREYXRlcyA9IFsgXSxcbiAgICAgICAgICAgICAgcmVtb3ZlZERhdGVzID0gWyBdXG5cbiAgICAgICAgT2JqZWN0LmtleXMoIHRoaXMuY2hhbmdlZERhdGVzICkuZm9yRWFjaCggZGF0ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlZGl0ZWRTdGF0dXMgPSB0aGlzLmNoYW5nZWREYXRlc1sgZGF0ZSBdLmVkaXRlZFN0YXR1c1xuXG4gICAgICAgICAgICBpZiggIWVkaXRlZFN0YXR1cyApIHJldHVyblxuXG4gICAgICAgICAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gdGhpcy5Nb21lbnQoIGRhdGUgKS5mb3JtYXQoXCJZWVlZLU1NLUREXCIpXG4gICAgICAgICAgICBpZiggZWRpdGVkU3RhdHVzID09PSAnc2VsZWN0ZWQnICkgYWRkZWREYXRlcy5wdXNoKCBmb3JtYXR0ZWREYXRlIClcbiAgICAgICAgICAgIGVsc2UgcmVtb3ZlZERhdGVzLnB1c2goIGZvcm1hdHRlZERhdGUgKVxuICAgICAgICB9IClcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkZWREYXRlcyxcbiAgICAgICAgICAgIHJlbW92ZWREYXRlcywgXG4gICAgICAgICAgICBhbGxSZW1vdmVkOiBBcnJheS5mcm9tKCB0aGlzLmVscy5kYXRlcy5xdWVyeVNlbGVjdG9yQWxsKCdsaTpub3QoLnNlbGVjdGVkKScpICkubWFwKCBlbCA9PiB0aGlzLk1vbWVudCggZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRhdGUnKSwgJ1lZWVlNTUREJyApLmZvcm1hdCgnWVlZWS1NTS1ERCcpIClcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRXZWVrc0FmZmVjdGVkKCkge1xuICAgICAgICBjb25zdCBzZWxlY3RhYmxlRGF0ZXMgPSB0aGlzLmRhdGVzLmZpbHRlciggZGF0ZSA9PiAhZGF0ZS51bnNlbGVjdGFibGUgKSBcbiAgICAgICAgcmV0dXJuIHsgc2VsZWN0YWJsZTogc2VsZWN0YWJsZURhdGVzLmxlbmd0aCwgc2tpcHBlZDogc2VsZWN0YWJsZURhdGVzLmZpbHRlciggZGF0ZSA9PiAhZGF0ZS5zZWxlY3RlZCApLmxlbmd0aCB9XG4gICAgfSxcblxuICAgIGdldERheU9mV2VlaygpIHtcbiAgICAgICAgY29uc3QgZGVsaXZlcnkgPSB0aGlzLm1vZGVsLmRlbGl2ZXJ5LmRhdGFbMF1cblxuICAgICAgICByZXR1cm4gZGVsaXZlcnkuZ3JvdXBkcm9wb2ZmLmlkXG4gICAgICAgICAgICA/IHRoaXMuWGhyKCB7IG1ldGhvZDogJ2dldCcsIHJlc291cmNlOiAnc2hhcmVncm91cGRyb3BvZmYnLCBxczogSlNPTi5zdHJpbmdpZnkoIHsgc2hhcmVpZDogdGhpcy5tb2RlbC5zaGFyZS5pZCwgZ3JvdXBkcm9wb2ZmaWQ6IGRlbGl2ZXJ5Lmdyb3VwZHJvcG9mZi5pZCB9ICkgfSApXG4gICAgICAgICAgICAgIC50aGVuKCByZXNwb25zZSA9PiBQcm9taXNlLnJlc29sdmUoIHJlc3BvbnNlWzBdLmRheW9md2VlayApIClcbiAgICAgICAgICAgIDogZGVsaXZlcnkuZGVsaXZlcnlvcHRpb24ubmFtZSA9PT0gJ2Zhcm0nXG4gICAgICAgICAgICAgICAgPyB0aGlzLlJvdXRlLmRhdGEuZmluZCggcm91dGUgPT4gcm91dGUubGFiZWwgPT0gJ2Zhcm0nICkuZGF5b2Z3ZWVrXG4gICAgICAgICAgICAgICAgOiB0aGlzLlhocigge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdnZXQnLFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZTogJ3ppcGNvZGVyb3V0ZScsXG4gICAgICAgICAgICAgICAgICAgIHFzOiBKU09OLnN0cmluZ2lmeSgge1xuICAgICAgICAgICAgICAgICAgICAgICAgemlwY29kZTogdGhpcy5tb2RlbC5jdXN0b21lci5tZW1iZXIuZGF0YS56aXBjb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVpZDogeyBvcGVyYXRpb246ICdqb2luJywgdmFsdWU6IHsgdGFibGU6ICdkZWxpdmVyeXJvdXRlJywgY29sdW1uOiAnaWQnIH0gfVxuICAgICAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgICAgICAgLnRoZW4oIHJlc3BvbnNlID0+IFByb21pc2UucmVzb2x2ZSggcmVzcG9uc2VbMF1bICdkZWxpdmVyeXJvdXRlLmRheW9md2VlaycgXSApIClcbiAgICB9LFxuXG4gICAgZ2V0VG90YWxEYXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxzLmRhdGVzLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpLnNlbGVjdGVkJykubGVuZ3RoXG4gICAgfSxcblxuICAgIG9uRGF0ZXNDbGljayggZSApIHtcbiAgICAgICAgY29uc3QgZWwgPSBlLnRhcmdldC5jbG9zZXN0KCdsaScpLFxuICAgICAgICAgICAgICBkYXRlID0gZWwuZ2V0QXR0cmlidXRlKCdkYXRhLWRhdGUnKVxuICAgICAgICBcbiAgICAgICAgaWYoIGVsLmNsYXNzTGlzdC5jb250YWlucygndW5zZWxlY3RhYmxlJykgKSByZXR1cm5cblxuICAgICAgICBsZXQgZWRpdGVkU3RhdHVzXG5cbiAgICAgICAgaWYoICEgdGhpcy5jaGFuZ2VkRGF0ZXNbIGRhdGUgXSApIHRoaXMuY2hhbmdlZERhdGVzWyBkYXRlIF0gPSB7IGluaXRpYWxTdGF0dXM6IGVsLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSA/ICdzZWxlY3RlZCcgOiAncmVtb3ZlZCcgfVxuXG4gICAgICAgIGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJylcbiAgICAgICAgZWRpdGVkU3RhdHVzID0gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpID8gJ3NlbGVjdGVkJyA6ICdyZW1vdmVkJ1xuXG4gICAgICAgIGlmKCBlZGl0ZWRTdGF0dXMgIT09IHRoaXMuY2hhbmdlZERhdGVzWyBkYXRlIF0uaW5pdGlhbFN0YXR1cyApIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZERhdGVzWyBkYXRlIF0uZWRpdGVkU3RhdHVzID0gZWRpdGVkU3RhdHVzXG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdlZGl0ZWQnKVxuICAgICAgICAgICAgdGhpcy5lbHMucmVzZXRCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZERhdGVzWyBkYXRlIF0uZWRpdGVkU3RhdHVzID0gdW5kZWZpbmVkXG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0ZWQnKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoICEgT2JqZWN0LmtleXMoIHRoaXMuY2hhbmdlZERhdGVzICkuZmluZCgga2V5ID0+IHRoaXMuY2hhbmdlZERhdGVzW2tleV0uZWRpdGVkU3RhdHVzICE9PSB1bmRlZmluZWQgKSApIHtcbiAgICAgICAgICAgIHRoaXMuZWxzLnJlc2V0QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgICAgICAgICB0aGlzLmVtaXQoICdyZXNldCcsIHRoaXMubW9kZWwgKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2xpZGVPdXQoIHRoaXMuZWxzLmVkaXRTdW1tYXJ5LCAncmlnaHQnIClcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hvd0VkaXRTdW1tYXJ5KClcbiAgICB9LFxuXG4gICAgb25SZXNldEJ0bkNsaWNrKCkge1xuICAgICAgICB0aGlzLmVscy5yZXNldEJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxuXG4gICAgICAgIE9iamVjdC5rZXlzKCB0aGlzLmNoYW5nZWREYXRlcyApLmZvckVhY2goIGtleSA9PiB7XG4gICAgICAgICAgICBpZiggdGhpcy5jaGFuZ2VkRGF0ZXNba2V5XS5lZGl0ZWRTdGF0dXMgKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWwgPSB0aGlzLmVscy5kYXRlcy5xdWVyeVNlbGVjdG9yKGBsaVtkYXRhLWRhdGU9JHtDU1MuZXNjYXBlKCBrZXkgKX1gKVxuICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC50b2dnbGUoJ3NlbGVjdGVkJylcbiAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0ZWQnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IClcblxuICAgICAgICB0aGlzLnVwZGF0ZSggdGhpcy5tb2RlbCApXG4gICAgICAgIHRoaXMuZW1pdCggJ3Jlc2V0JywgdGhpcy5tb2RlbCApXG4gICAgfSxcblxuICAgIHJlbmRlckRhdGVzKCkge1xuICAgICAgICB0aGlzLmRhdGVzLmZvckVhY2goIGRhdHVtID0+IHRoaXMuc2x1cnBUZW1wbGF0ZSggeyB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXMuZGF0ZSggZGF0dW0gKSwgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLmVscy5kYXRlcyB9IH0gKSApXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIHNob3dFZGl0U3VtbWFyeSgpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDAsXG4gICAgICAgICAgICBhZGRlZCA9IDAsXG4gICAgICAgICAgICByZW1vdmVkID0gMFxuXG4gICAgICAgIHRoaXMuZWxzLnNlbGVjdGVkRGF0ZXMuaW5uZXJIVE1MID0gJydcbiAgICAgICAgdGhpcy5lbHMucmVtb3ZlZERhdGVzLmlubmVySFRNTCA9ICcnXG5cbiAgICAgICAgT2JqZWN0LmtleXMoIHRoaXMuY2hhbmdlZERhdGVzICkuZm9yRWFjaCggZGF0ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlZGl0ZWRTdGF0dXMgPSB0aGlzLmNoYW5nZWREYXRlc1sgZGF0ZSBdLmVkaXRlZFN0YXR1c1xuXG4gICAgICAgICAgICBpZiggZWRpdGVkU3RhdHVzICkge1xuXG4gICAgICAgICAgICAgICAgZWRpdGVkU3RhdHVzID09PSAnc2VsZWN0ZWQnXG4gICAgICAgICAgICAgICAgICAgID8gYWRkZWQgKz0gMVxuICAgICAgICAgICAgICAgICAgICA6IHJlbW92ZWQgKz0gMVxuXG4gICAgICAgICAgICAgICAgdGhpcy5zbHVycFRlbXBsYXRlKCB7XG4gICAgICAgICAgICAgICAgICAgIGluc2VydGlvbjogeyBlbDogdGhpcy5lbHNbIGAke2VkaXRlZFN0YXR1c31EYXRlc2AgXSB9LFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXMuc3VtbWFyeUNvbHVtbiggeyB2YWx1ZTogdGhpcy5Nb21lbnQoIGRhdGUgKS5mb3JtYXQoXCJNTU0gRFwiKSB9IClcbiAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSApXG5cbiAgICAgICAgcmVzdWx0ID0gYWRkZWQgLSByZW1vdmVkXG4gICAgICAgIHRoaXMuZWxzLndlZWtDaGFuZ2UudGV4dENvbnRlbnQgPSByZXN1bHRcbiAgICAgICAgdGhpcy5lbHMud2Vla0NoYW5nZS5jbGFzc0xpc3QudG9nZ2xlKCAnaXMtbmVnYXRpdmUnLCBCb29sZWFuKCByZXN1bHQgPCAwICkgKVxuXG4gICAgICAgIGlmKCB0aGlzLmlzSGlkZGVuKCB0aGlzLmVscy5lZGl0U3VtbWFyeSApICkgdGhpcy5zbGlkZUluKCB0aGlzLmVscy5lZGl0U3VtbWFyeSwgJ3JpZ2h0JyApXG5cbiAgICAgICAgdGhpcy5lbWl0KCAnYWRqdXN0bWVudCcsIHsgYWRkZWQsIHJlbW92ZWQgfSApXG4gICAgfSxcblxuICAgIHRlbXBsYXRlczoge1xuICAgICAgICBkYXRlOiByZXF1aXJlKCcuL3RlbXBsYXRlcy9EZWxpdmVyeURhdGUnKSxcbiAgICAgICAgc3VtbWFyeUNvbHVtbjogZGF0ZSA9PiBgPGxpPiR7ZGF0ZS52YWx1ZX08L2xpPmBcbiAgICB9LFxuXG4gICAgdXBkYXRlKCB7IGN1c3RvbWVyLCBkZWxpdmVyeSwgc2hhcmUgfSApIHtcbiAgICAgICAgaWYoIHRoaXMudXBkYXRpbmcgKSByZXR1cm5cbiAgICAgICAgdGhpcy5lbHMuZWRpdFN1bW1hcnkuY2xhc3NMaXN0LmFkZCgnZmQtaGlkZGVuJylcblxuICAgICAgICB0aGlzLnVwZGF0aW5nID0gdHJ1ZVxuXG4gICAgICAgIHRoaXMubW9kZWwgPSBhcmd1bWVudHNbMF1cblxuICAgICAgICB0aGlzLmNoYW5nZWREYXRlcyA9IHsgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLlJvdXRlLmdldCgpXG4gICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLlNraXBXZWVrcy5nZXQoIHsgcXVlcnk6IHsgbWVtYmVyc2hhcmVpZDogc2hhcmUubWVtYmVyc2hhcmVpZCB9IH0gKSApXG4gICAgICAgIC50aGVuKCAoKSA9PiB0aGlzLmdldERheU9mV2VlaygpIClcbiAgICAgICAgLnRoZW4oIGRheU9mV2VlayA9PiB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKClcbiAgICAgICAgICAgIHRoaXMuZGV0ZXJtaW5lRGF0ZXMoIGRheU9mV2VlayApLnJlbmRlckRhdGVzKCkuc2hvdygpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCB0aGlzLnVwZGF0aW5nID0gZmFsc2UgKVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgdXBkYXRlRGVsaXZlcnkoIGRhdGEgKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsQ29weSA9IEpTT04ucGFyc2UoIEpTT04uc3RyaW5naWZ5KCB0aGlzLm1vZGVsICkgKSBcblxuICAgICAgICByZXR1cm4gdGhpcy5EZWxpdmVyeU9wdGlvbi5nZXQoIHsgcXVlcnk6IHsgbmFtZTogZGF0YS5kZWxpdmVyeU9wdGlvbiB9IH0gKVxuICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgaWYoIHRoaXMuRGVsaXZlcnlPcHRpb24uZGF0YS5sZW5ndGggKSBtb2RlbENvcHkuZGVsaXZlcnkuZGF0YVswXS5kZWxpdmVyeW9wdGlvbiA9IHRoaXMuRGVsaXZlcnlPcHRpb24uZGF0YVswXVxuXG4gICAgICAgICAgICBpZiggISBkYXRhLmdyb3VwT3B0aW9uICkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKCBtb2RlbENvcHkuZGVsaXZlcnkuZGF0YVswXS5ncm91cGRyb3BvZmYgKS5mb3JFYWNoKCBrZXkgPT5cbiAgICAgICAgICAgICAgICAgICAgbW9kZWxDb3B5LmRlbGl2ZXJ5LmRhdGFbMF0uZ3JvdXBkcm9wb2ZmWyBrZXkgXSA9IG51bGxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAoIGRhdGEuZ3JvdXBPcHRpb24gKVxuICAgICAgICAgICAgICAgID8gdGhpcy5Hcm91cERyb3BvZmZzLmdldCggeyBxdWVyeTogeyBuYW1lOiBkYXRhLmdyb3VwT3B0aW9uIH0gfSApXG4gICAgICAgICAgICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5Hcm91cERyb3BvZmZzLmRhdGEubGVuZ3RoICkgbW9kZWxDb3B5LmRlbGl2ZXJ5LmRhdGFbMF0uZ3JvdXBkcm9wb2ZmID0gdGhpcy5Hcm91cERyb3BvZmZzLmRhdGFbMF1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoIG1vZGVsQ29weSApXG4gICAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICA6IHRoaXMudXBkYXRlKCBtb2RlbENvcHkgKVxuICAgICAgICB9IClcbiAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yIClcbiAgICB9XG5cbn0gKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7IH0sIHJlcXVpcmUoJy4uLy4uLy4uL2xpYi9NeU9iamVjdCcpLnByb3RvdHlwZSwgcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyLnByb3RvdHlwZSwge1xuXG4gICAgQ3VycmVuY3k6IG5ldyBJbnRsLk51bWJlckZvcm1hdCggJ2VuLVVTJywge1xuICAgICAgc3R5bGU6ICdjdXJyZW5jeScsXG4gICAgICBjdXJyZW5jeTogJ1VTRCcsXG4gICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDJcbiAgICB9ICksXG5cbiAgICBFcnJvcjogcmVxdWlyZSgnLi4vLi4vLi4vbGliL015RXJyb3InKSxcblxuICAgIEZvcm1hdDogcmVxdWlyZSgnLi4vRm9ybWF0JyksXG5cbiAgICBNb2RlbDogcmVxdWlyZSgnLi4vbW9kZWxzL19fcHJvdG9fXycpLFxuXG4gICAgTW9tZW50OiByZXF1aXJlKCdtb21lbnQnKSxcblxuICAgIE9wdGltaXplZFJlc2l6ZTogcmVxdWlyZSgnLi9saWIvT3B0aW1pemVkUmVzaXplJyksXG5cbiAgICBVVUlEOiByZXF1aXJlKCd1dWlkLXY0JyksXG4gICAgXG4gICAgUDogKCBmdW4sIGFyZ3M9WyBdLCB0aGlzQXJnICkgPT5cbiAgICAgICAgbmV3IFByb21pc2UoICggcmVzb2x2ZSwgcmVqZWN0ICkgPT4gUmVmbGVjdC5hcHBseSggZnVuLCB0aGlzQXJnIHx8IHRoaXMsIGFyZ3MuY29uY2F0KCAoIGUsIC4uLmNhbGxiYWNrICkgPT4gZSA/IHJlamVjdChlKSA6IHJlc29sdmUoY2FsbGJhY2spICkgKSApLFxuXG4gICAgWGhyOiByZXF1aXJlKCcuLi9YaHInKSxcblxuICAgIGJpbmRFdmVudCgga2V5LCBldmVudCwgZWwgKSB7XG4gICAgICAgIHZhciBlbHMgPSBlbCA/IFsgZWwgXSA6IEFycmF5LmlzQXJyYXkoIHRoaXMuZWxzWyBrZXkgXSApID8gdGhpcy5lbHNbIGtleSBdIDogWyB0aGlzLmVsc1sga2V5IF0gXVxuICAgICAgICBlbHMuZm9yRWFjaCggZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lciggZXZlbnQgfHwgJ2NsaWNrJywgZSA9PiB0aGlzWyBgb24ke3RoaXMuY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKGtleSl9JHt0aGlzLmNhcGl0YWxpemVGaXJzdExldHRlcihldmVudCl9YCBdKCBlICkgKSApXG4gICAgfSxcblxuICAgIGNhcGl0YWxpemVGaXJzdExldHRlcjogc3RyaW5nID0+IHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKSxcblxuICAgIGNvbnN0cnVjdG9yKCBvcHRzPXt9ICkge1xuXG4gICAgICAgIGlmKCBvcHRzLmV2ZW50cyApIHsgT2JqZWN0LmFzc2lnbiggdGhpcy5ldmVudHMsIG9wdHMuZXZlbnRzICk7IGRlbGV0ZSBvcHRzLmV2ZW50czsgfVxuICAgICAgICBPYmplY3QuYXNzaWduKCB0aGlzLCBvcHRzIClcblxuICAgICAgICB0aGlzLnN1YnZpZXdFbGVtZW50cyA9IFsgXVxuXG4gICAgICAgIGlmKCB0aGlzLnJlcXVpcmVzTG9naW4gJiYgKCAhdGhpcy51c2VyLmlzTG9nZ2VkSW4oKSApICkgcmV0dXJuIHRoaXMuaGFuZGxlTG9naW4oKVxuICAgICAgICBpZiggdGhpcy51c2VyICYmICF0aGlzLmlzQWxsb3dlZCggdGhpcy51c2VyLmF0dHJpYnV0ZXMgKSApIHJldHVybiB0aGlzLnNjb290QXdheSgpXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZSgpLnJlbmRlcigpXG4gICAgfSxcblxuICAgIGRlbGVnYXRlRXZlbnRzKCBrZXksIGVsICkge1xuICAgICAgICB2YXIgdHlwZSA9IHR5cGVvZiB0aGlzLmV2ZW50c1trZXldXG5cbiAgICAgICAgaWYoIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7IHRoaXMuYmluZEV2ZW50KCBrZXksIHRoaXMuZXZlbnRzW2tleV0sIGVsICkgfVxuICAgICAgICBlbHNlIGlmKCBBcnJheS5pc0FycmF5KCB0aGlzLmV2ZW50c1trZXldICkgKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1sga2V5IF0uZm9yRWFjaCggZXZlbnRPYmogPT4gdGhpcy5iaW5kRXZlbnQoIGtleSwgZXZlbnRPYmogKSApXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJpbmRFdmVudCgga2V5LCB0aGlzLmV2ZW50c1trZXldLmV2ZW50IClcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBkZWxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpZGUoKVxuICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5lbHMuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHRoaXMuZWxzLmNvbnRhaW5lciApXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCB0aGlzLmVtaXQoJ2RlbGV0ZWQnKSApXG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBldmVudHM6IHt9LFxuXG4gICAgZmFkZUluSW1hZ2UoIGVsICkge1xuICAgICAgICBlbC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVtaXQoICdpbWdMb2FkZWQnLCBlbCApXG4gICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtc3JjJylcbiAgICAgICAgfVxuXG4gICAgICAgIGVsLnNldEF0dHJpYnV0ZSggJ3NyYycsIGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKSApXG4gICAgfSxcblxuICAgIGdldENvbnRhaW5lcigpIHsgcmV0dXJuIHRoaXMuZWxzLmNvbnRhaW5lciB9LFxuXG4gICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgaWYoICF0aGlzLm1vZGVsICkgdGhpcy5tb2RlbCA9IE9iamVjdC5jcmVhdGUoIHRoaXMuTW9kZWwsIHsgcmVzb3VyY2U6IHsgdmFsdWU6IHRoaXMubmFtZSB9IH0gKVxuXG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmdldCgpXG4gICAgfSxcblxuICAgIGdldFRlbXBsYXRlT3B0aW9ucygpIHtcbiAgICAgICAgY29uc3QgcnYgPSBPYmplY3QuYXNzaWduKCB0aGlzLnVzZXIgPyB7IHVzZXI6IHRoaXMudXNlci5kYXRhIH0gOiB7fSwgdGhpcy5Gb3JtYXQgKVxuXG4gICAgICAgIGlmKCB0aGlzLm1vZGVsICkge1xuICAgICAgICAgICAgcnYubW9kZWwgPSB0aGlzLm1vZGVsLmRhdGFcblxuICAgICAgICAgICAgaWYoIHRoaXMubW9kZWwubWV0YSApIHJ2Lm1ldGEgPSB0aGlzLm1vZGVsLm1ldGFcbiAgICAgICAgICAgIGlmKCB0aGlzLm1vZGVsLmF0dHJpYnV0ZXMgKSBydi5hdHRyaWJ1dGVzID0gdGhpcy5tb2RlbC5hdHRyaWJ1dGVzXG4gICAgICAgIH1cblxuICAgICAgICBpZiggdGhpcy50ZW1wbGF0ZU9wdHMgKSBydi5vcHRzID0gdHlwZW9mIHRoaXMudGVtcGxhdGVPcHRzID09PSAnZnVuY3Rpb24nID8gdGhpcy50ZW1wbGF0ZU9wdHMoKSA6IHRoaXMudGVtcGxhdGVPcHRzIHx8IHt9XG5cbiAgICAgICAgcmV0dXJuIHJ2XG4gICAgfSxcblxuICAgIGhhbmRsZUxvZ2luKCkge1xuICAgICAgICB0aGlzLmZhY3RvcnkuY3JlYXRlKCAnbG9naW4nLCB7IGluc2VydGlvbjogeyBlbDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbnRlbnQnKSB9IH0gKVxuICAgICAgICAub24oIFwic3VjY2Vzc1wiLCB1c2VyRGF0YSA9PiB7XG4gICAgICAgICAgICBpZiggIXRoaXMuaXNBbGxvd2VkKCB1c2VyRGF0YSApICkgcmV0dXJuIHRoaXMuc2Nvb3RBd2F5KClcblxuICAgICAgICAgICAgdGhpcy51c2VyLnNldCggdXNlckRhdGEgKVxuICAgICAgICAgICAgdGhpcy51c2VyLnRyaWdnZXIoJ2xvZ2dlZEluJylcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub25Mb2dpbigpXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIGhpZGUoIGlzU2xvdyApIHtcbiAgICAgICAgaWYoICF0aGlzLmVscyB8fCB0aGlzLmlzSGlkaW5nICkgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG5cbiAgICAgICAgdGhpcy5pc0hpZGluZyA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzLmhpZGVFbCggdGhpcy5lbHMuY29udGFpbmVyLCBpc1Nsb3cgKVxuICAgICAgICAudGhlbiggKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCB0aGlzLmlzSGlkaW5nID0gZmFsc2UgKSApXG4gICAgfSxcblxuICAgIGhpZGVTeW5jKCkgeyB0aGlzLmVscy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZmQtaGlkZGVuJyk7IHJldHVybiB0aGlzIH0sXG5cbiAgICBfaGlkZUVsKCBlbCwgcmVzb2x2ZSwgaGFzaCwgaXNTbG93ICkge1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCAnYW5pbWF0aW9uZW5kJywgdGhpc1sgaGFzaCBdIClcbiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnZmQtaGlkZGVuJylcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShgYW5pbWF0ZS1vdXQkeyBpc1Nsb3cgPyAnLXNsb3cnIDogJyd9YClcbiAgICAgICAgZGVsZXRlIHRoaXNbaGFzaF1cbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgfSxcblxuICAgIGhpZGVFbCggZWwsIGlzU2xvdyApIHtcbiAgICAgICAgaWYoIHRoaXMuaXNIaWRkZW4oIGVsICkgKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcblxuICAgICAgICBjb25zdCB1dWlkID0gdGhpcy5VVUlEKCksXG4gICAgICAgICAgICBoYXNoID0gYCR7dXVpZH1IaWRlYFxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICB0aGlzWyBoYXNoIF0gPSBlID0+IHRoaXMuX2hpZGVFbCggZWwsIHJlc29sdmUsIGhhc2gsIGlzU2xvdyApXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCAnYW5pbWF0aW9uZW5kJywgdGhpc1sgaGFzaCBdIClcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoYGFuaW1hdGUtb3V0JHsgaXNTbG93ID8gJy1zbG93JyA6ICcnfWApXG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBodG1sVG9GcmFnbWVudCggc3RyICkge1xuICAgICAgICBsZXQgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAvLyBtYWtlIHRoZSBwYXJlbnQgb2YgdGhlIGZpcnN0IGRpdiBpbiB0aGUgZG9jdW1lbnQgYmVjb21lcyB0aGUgY29udGV4dCBub2RlXG4gICAgICAgIHJhbmdlLnNlbGVjdE5vZGUoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXZcIikuaXRlbSgwKSlcbiAgICAgICAgcmV0dXJuIHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCggc3RyIClcbiAgICB9LFxuXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oIHRoaXMsIHsgZWxzOiB7IH0sIHNsdXJwOiB7IGF0dHI6ICdkYXRhLWpzJywgdmlldzogJ2RhdGEtdmlldycsIG5hbWU6ICdkYXRhLW5hbWUnLCBpbWc6ICdkYXRhLXNyYycsIGJnSW1nOiAnZGF0YS1iZycgfSwgdmlld3M6IHsgfSB9IClcbiAgICB9LFxuXG4gICAgaW5zZXJ0VG9Eb20oIGZyYWdtZW50LCBvcHRpb25zICkge1xuICAgICAgICBjb25zdCBpbnNlcnRpb24gPSB0eXBlb2Ygb3B0aW9ucy5pbnNlcnRpb24gPT09ICdmdW5jdGlvbicgPyBvcHRpb25zLmluc2VydGlvbigpIDogb3B0aW9ucy5pbnNlcnRpb247XG5cbiAgICAgICAgaW5zZXJ0aW9uLm1ldGhvZCA9PT0gJ2luc2VydEJlZm9yZSdcbiAgICAgICAgICAgID8gaW5zZXJ0aW9uLmVsLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBmcmFnbWVudCwgaW5zZXJ0aW9uLmVsIClcbiAgICAgICAgICAgIDogaW5zZXJ0aW9uLmVsWyBpbnNlcnRpb24ubWV0aG9kIHx8ICdhcHBlbmRDaGlsZCcgXSggZnJhZ21lbnQgKVxuICAgIH0sXG5cbiAgICBpc0FsbG93ZWQoIHVzZXIgKSB7XG4gICAgICAgIGlmKCAhdGhpcy5yZXF1aXJlc1JvbGUgKSByZXR1cm4gdHJ1ZVxuICAgICAgICByZXR1cm4gdGhpcy5yZXF1aXJlc1JvbGUgJiYgdXNlci5yb2xlcy5pbmNsdWRlcyggdGhpcy5yZXF1aXJlc1JvbGUgKVxuICAgIH0sXG4gICAgXG4gICAgaXNIaWRkZW4oIGVsICkgeyByZXR1cm4gZWwgPyBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZkLWhpZGRlbicpIDogdGhpcy5lbHMuY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygnZmQtaGlkZGVuJykgfSxcblxuICAgIGxvYWRCZ0ltYWdlKCBlbCApIHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKClcblxuICAgICAgICBpbWcub25sb2FkID0gKCkgPT4gZWwuY2xhc3NMaXN0LmFkZCgnYmctbG9hZGVkJylcbiAgICAgICAgaW1nLnNyYyA9IHRoaXMuRm9ybWF0LkltYWdlU3JjKCBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmcnKSApXG4gICAgfSxcblxuICAgIG9uTG9naW4oKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpLnJlbmRlcigpXG4gICAgfSxcblxuICAgIG9uTmF2aWdhdGlvbiggcGF0aCApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvdygpXG4gICAgfSxcblxuICAgIHNob3dOb0FjY2VzcygpIHtcbiAgICAgICAgYWxlcnQoXCJObyBwcml2aWxlZ2VzLCBzb25cIilcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgcG9zdFJlbmRlcigpIHsgcmV0dXJuIHRoaXMgfSxcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYoIHRoaXMuZGF0YSApIHRoaXMubW9kZWwgPSBPYmplY3QuY3JlYXRlKCB0aGlzLk1vZGVsLCB7IH0gKS5jb25zdHJ1Y3RvciggdGhpcy5kYXRhIClcblxuICAgICAgICB0aGlzLnNsdXJwVGVtcGxhdGUoIHtcbiAgICAgICAgICAgIGluc2VydGlvbjogdGhpcy5pbnNlcnRpb24gfHwgeyBlbDogZG9jdW1lbnQuYm9keSB9LFxuICAgICAgICAgICAgaXNWaWV3OiB0cnVlLFxuICAgICAgICAgICAgc3RvcmVGcmFnbWVudDogdGhpcy5zdG9yZUZyYWdtZW50LFxuICAgICAgICAgICAgdGVtcGxhdGU6IHRoaXMudGVtcGxhdGUoIHRoaXMuZ2V0VGVtcGxhdGVPcHRpb25zKCksIHsgTW9tZW50OiB0aGlzLk1vbWVudCB9IClcbiAgICAgICAgfSApXG5cbiAgICAgICAgdGhpcy5yZW5kZXJTdWJ2aWV3cygpXG5cbiAgICAgICAgaWYoIHRoaXMuc2l6ZSApIHsgdGhpcy5zaXplKCk7IHRoaXMuT3B0aW1pemVkUmVzaXplLmFkZCggdGhpcy5zaXplLmJpbmQodGhpcykgKSB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucG9zdFJlbmRlcigpXG4gICAgfSxcblxuICAgIHJlbmRlclN1YnZpZXdzKCkge1xuICAgICAgICB0aGlzLnN1YnZpZXdFbGVtZW50cy5mb3JFYWNoKCBvYmogPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IG9iai5uYW1lIHx8IG9iai52aWV3XG5cbiAgICAgICAgICAgIGxldCBvcHRzID0geyB9XG5cbiAgICAgICAgICAgIGlmKCB0aGlzLlZpZXdzICYmIHRoaXMuVmlld3NbIG9iai52aWV3IF0gKSBvcHRzID0gdHlwZW9mIHRoaXMuVmlld3NbIG9iai52aWV3IF0gPT09IFwib2JqZWN0XCIgPyB0aGlzLlZpZXdzWyBvYmoudmlldyBdIDogUmVmbGVjdC5hcHBseSggdGhpcy5WaWV3c1sgb2JqLnZpZXcgXSwgdGhpcywgWyBdIClcbiAgICAgICAgICAgIGlmKCB0aGlzLlZpZXdzICYmIHRoaXMuVmlld3NbIG5hbWUgXSApIG9wdHMgPSB0eXBlb2YgdGhpcy5WaWV3c1sgbmFtZSBdID09PSBcIm9iamVjdFwiID8gdGhpcy5WaWV3c1sgbmFtZSBdIDogUmVmbGVjdC5hcHBseSggdGhpcy5WaWV3c1sgbmFtZSBdLCB0aGlzLCBbIF0gKVxuXG4gICAgICAgICAgICB0aGlzLnZpZXdzWyBuYW1lIF0gPSB0aGlzLmZhY3RvcnkuY3JlYXRlKCBvYmoudmlldywgT2JqZWN0LmFzc2lnbiggeyBpbnNlcnRpb246IHsgZWw6IG9iai5lbCwgbWV0aG9kOiAnaW5zZXJ0QmVmb3JlJyB9IH0sIG9wdHMgKSApXG5cbiAgICAgICAgICAgIGlmKCB0aGlzLmV2ZW50cy52aWV3cyApIHtcbiAgICAgICAgICAgICAgICBpZiggdGhpcy5ldmVudHMudmlld3NbIG5hbWUgXSApIHRoaXMuZXZlbnRzLnZpZXdzWyBuYW1lIF0uZm9yRWFjaCggYXJyID0+IHRoaXMudmlld3NbIG5hbWUgXS5vbiggYXJyWzBdLCBldmVudERhdGEgPT4gUmVmbGVjdC5hcHBseSggYXJyWzFdLCB0aGlzLCBbIGV2ZW50RGF0YSBdICkgKSApXG4gICAgICAgICAgICAgICAgZWxzZSBpZiggdGhpcy5ldmVudHMudmlld3NbIG9iai52aWV3IF0gKSB0aGlzLmV2ZW50cy52aWV3c1sgb2JqLnZpZXcgXS5mb3JFYWNoKCBhcnIgPT4gdGhpcy52aWV3c1sgbmFtZSBdLm9uKCBhcnJbMF0sIGV2ZW50RGF0YSA9PiBSZWZsZWN0LmFwcGx5KCBhcnJbMV0sIHRoaXMsIFsgZXZlbnREYXRhIF0gKSApIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoIG9iai5lbC5jbGFzc0xpc3QuY29udGFpbnMoJ2ZkLWhpZGRlbicpICkgdGhpcy52aWV3c1tuYW1lXS5oaWRlU3luYygpXG4gICAgICAgICAgICBvYmouZWwucmVtb3ZlKClcbiAgICAgICAgfSApXG5cbiAgICAgICAgdGhpcy5zdWJ2aWV3RWxlbWVudHMgPSBbIF1cblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICByZXF1aXJlc0xvZ2luOiBmYWxzZSxcblxuICAgIHNjb290QXdheSgpIHtcbiAgICAgICAgdGhpcy5Ub2FzdC5zaG93TWVzc2FnZSggJ2Vycm9yJywgJ1lvdSBhcmUgbm90IGFsbG93ZWQgaGVyZS4gIFNvcnJ5LicpXG4gICAgICAgIC5jYXRjaCggZSA9PiB7IHRoaXMuRXJyb3IoIGUgKTsgdGhpcy5lbWl0KCAnbmF2aWdhdGUnLCBgL2AgKSB9IClcbiAgICAgICAgLnRoZW4oICgpID0+IHRoaXMuZW1pdCggJ25hdmlnYXRlJywgYC9gICkgKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIHNob3coIGlzU2xvdyApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0VsKCB0aGlzLmVscy5jb250YWluZXIsIGlzU2xvdyApXG4gICAgfSxcblxuICAgIHNob3dTeW5jKCkgeyB0aGlzLmVscy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnZmQtaGlkZGVuJyk7IHJldHVybiB0aGlzIH0sXG5cbiAgICBfc2hvd0VsKCBlbCwgcmVzb2x2ZSwgaGFzaCwgaXNTbG93ICkge1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCAnYW5pbWF0aW9uZW5kJywgdGhpc1toYXNoXSApXG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoYGFuaW1hdGUtaW4keyBpc1Nsb3cgPyAnLXNsb3cnIDogJyd9YClcbiAgICAgICAgZGVsZXRlIHRoaXNbIGhhc2ggXVxuICAgICAgICByZXNvbHZlKClcbiAgICB9LFxuXG4gICAgc2hvd0VsKCBlbCwgaXNTbG93ICkge1xuICAgICAgICBjb25zdCB1dWlkID0gdGhpcy5VVUlEKCksXG4gICAgICAgICAgICBoYXNoID0gYCR7dXVpZH1TaG93YFxuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSggcmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICB0aGlzWyBoYXNoIF0gPSBlID0+IHRoaXMuX3Nob3dFbCggZWwsIHJlc29sdmUsIGhhc2gsIGlzU2xvdyApXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCAnYW5pbWF0aW9uZW5kJywgdGhpc1sgaGFzaCBdIClcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZkLWhpZGRlbicpXG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGBhbmltYXRlLWluJHsgaXNTbG93ID8gJy1zbG93JyA6ICcnfWApXG4gICAgICAgIH0gKSAgICAgICAgXG4gICAgfSxcblxuICAgIHNsaWRlSW4oIGVsLCBkaXJlY3Rpb24gKSB7XG4gICAgICAgIGNvbnN0IG9uU2xpZGVFbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGBzbGlkZS1pbi0ke2RpcmVjdGlvbn1gKVxuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2FuaW1hdGlvbmVuZCcsIG9uU2xpZGVFbmQgKVxuICAgICAgICB9XG5cbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lciggJ2FuaW1hdGlvbmVuZCcsIG9uU2xpZGVFbmQgKVxuICAgICAgICBpZiggZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdmZC1oaWRkZW4nKSApIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZkLWhpZGRlbicpXG4gICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoYHNsaWRlLWluLSR7ZGlyZWN0aW9ufWApXG4gICAgfSxcblxuICAgIHNsaWRlT3V0KCBlbCwgZGlyZWN0aW9uICkge1xuICAgICAgICBjb25zdCBvblNsaWRlRW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnZmQtaGlkZGVuJylcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoYHNsaWRlLW91dC0ke2RpcmVjdGlvbn1gKVxuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2FuaW1hdGlvbmVuZCcsIG9uU2xpZGVFbmQgKVxuICAgICAgICB9XG5cbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lciggJ2FuaW1hdGlvbmVuZCcsIG9uU2xpZGVFbmQgKVxuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKGBzbGlkZS1vdXQtJHtkaXJlY3Rpb259YClcbiAgICB9LFxuXG4gICAgc2x1cnBFbCggZWwgKSB7XG4gICAgICAgIHZhciBrZXkgPSBlbC5nZXRBdHRyaWJ1dGUoIHRoaXMuc2x1cnAuYXR0ciApIHx8ICdjb250YWluZXInXG5cbiAgICAgICAgaWYoIGtleSA9PT0gJ2NvbnRhaW5lcicgKSBlbC5jbGFzc0xpc3QuYWRkKCB0aGlzLm5hbWUgKVxuXG4gICAgICAgIHRoaXMuZWxzWyBrZXkgXSA9IEFycmF5LmlzQXJyYXkoIHRoaXMuZWxzWyBrZXkgXSApXG4gICAgICAgICAgICA/IHRoaXMuZWxzWyBrZXkgXS5jb25jYXQoIGVsIClcbiAgICAgICAgICAgIDogKCB0aGlzLmVsc1sga2V5IF0gIT09IHVuZGVmaW5lZCApXG4gICAgICAgICAgICAgICAgPyBbIHRoaXMuZWxzWyBrZXkgXSwgZWwgXVxuICAgICAgICAgICAgICAgIDogZWxcblxuICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5zbHVycC5hdHRyKVxuXG4gICAgICAgIGlmKCB0aGlzLmV2ZW50c1sga2V5IF0gKSB0aGlzLmRlbGVnYXRlRXZlbnRzKCBrZXksIGVsIClcbiAgICB9LFxuXG4gICAgc2x1cnBUZW1wbGF0ZSggb3B0aW9ucyApIHtcbiAgICAgICAgdmFyIGZyYWdtZW50ID0gdGhpcy5odG1sVG9GcmFnbWVudCggb3B0aW9ucy50ZW1wbGF0ZSApLFxuICAgICAgICAgICAgc2VsZWN0b3IgPSBgWyR7dGhpcy5zbHVycC5hdHRyfV1gLFxuICAgICAgICAgICAgdmlld1NlbGVjdG9yID0gYFske3RoaXMuc2x1cnAudmlld31dYCxcbiAgICAgICAgICAgIGltZ1NlbGVjdG9yID0gYFske3RoaXMuc2x1cnAuaW1nfV1gLFxuICAgICAgICAgICAgYmdJbWdTZWxlY3RvciA9IGBbJHt0aGlzLnNsdXJwLmJnSW1nfV1gLFxuICAgICAgICAgICAgZmlyc3RFbCA9IGZyYWdtZW50LnF1ZXJ5U2VsZWN0b3IoJyonKVxuXG4gICAgICAgIGlmKCBvcHRpb25zLmlzVmlldyB8fCBmaXJzdEVsLmdldEF0dHJpYnV0ZSggdGhpcy5zbHVycC5hdHRyICkgKSB0aGlzLnNsdXJwRWwoIGZpcnN0RWwgKVxuXG4gICAgICAgIEFycmF5LmZyb20oIGZyYWdtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGAke3NlbGVjdG9yfSwgJHt2aWV3U2VsZWN0b3J9LCAke2ltZ1NlbGVjdG9yfSwgJHtiZ0ltZ1NlbGVjdG9yfWAgKSApLmZvckVhY2goIGVsID0+IHtcbiAgICAgICAgICAgIGlmKCBlbC5oYXNBdHRyaWJ1dGUoIHRoaXMuc2x1cnAuYXR0ciApICkgeyB0aGlzLnNsdXJwRWwoIGVsICkgfVxuICAgICAgICAgICAgZWxzZSBpZiggZWwuaGFzQXR0cmlidXRlKCB0aGlzLnNsdXJwLmltZyApICkgcmV0dXJuIHRoaXMuZmFkZUluSW1hZ2UoIGVsIClcbiAgICAgICAgICAgIGVsc2UgaWYoIGVsLmhhc0F0dHJpYnV0ZSggdGhpcy5zbHVycC5iZ0ltZyApICkgcmV0dXJuIHRoaXMubG9hZEJnSW1hZ2UoIGVsIClcbiAgICAgICAgICAgIGVsc2UgaWYoIGVsLmhhc0F0dHJpYnV0ZSggdGhpcy5zbHVycC52aWV3ICkgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJ2aWV3RWxlbWVudHMucHVzaCggeyBlbCwgdmlldzogZWwuZ2V0QXR0cmlidXRlKHRoaXMuc2x1cnAudmlldyksIG5hbWU6IGVsLmdldEF0dHJpYnV0ZSh0aGlzLnNsdXJwLm5hbWUpIH0gKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IClcbiAgIFxuICAgICAgICBpZiggb3B0aW9ucy5zdG9yZUZyYWdtZW50ICkgcmV0dXJuIE9iamVjdC5hc3NpZ24oIHRoaXMsIHsgZnJhZ21lbnQgfSApXG5cbiAgICAgICAgdGhpcy5pbnNlcnRUb0RvbSggZnJhZ21lbnQsIG9wdGlvbnMgKVxuXG4gICAgICAgIGlmKCBvcHRpb25zLnJlbmRlclN1YnZpZXdzICkgdGhpcy5yZW5kZXJTdWJ2aWV3cygpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG59IClcbiIsIm1vZHVsZS5leHBvcnRzID1cbihmdW5jdGlvbigpe1xuICAgIC8vIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIGF1dG9Db21wbGV0ZShvcHRpb25zKXtcbiAgICAgICAgaWYgKCFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKSByZXR1cm47XG5cbiAgICAgICAgLy8gaGVscGVyc1xuICAgICAgICBmdW5jdGlvbiBoYXNDbGFzcyhlbCwgY2xhc3NOYW1lKXsgcmV0dXJuIGVsLmNsYXNzTGlzdCA/IGVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpIDogbmV3IFJlZ0V4cCgnXFxcXGInKyBjbGFzc05hbWUrJ1xcXFxiJykudGVzdChlbC5jbGFzc05hbWUpOyB9XG5cbiAgICAgICAgZnVuY3Rpb24gYWRkRXZlbnQoZWwsIHR5cGUsIGhhbmRsZXIpe1xuICAgICAgICAgICAgaWYgKGVsLmF0dGFjaEV2ZW50KSBlbC5hdHRhY2hFdmVudCgnb24nK3R5cGUsIGhhbmRsZXIpOyBlbHNlIGVsLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlRXZlbnQoZWwsIHR5cGUsIGhhbmRsZXIpe1xuICAgICAgICAgICAgLy8gaWYgKGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIpIG5vdCB3b3JraW5nIGluIElFMTFcbiAgICAgICAgICAgIGlmIChlbC5kZXRhY2hFdmVudCkgZWwuZGV0YWNoRXZlbnQoJ29uJyt0eXBlLCBoYW5kbGVyKTsgZWxzZSBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGxpdmUoZWxDbGFzcywgZXZlbnQsIGNiLCBjb250ZXh0KXtcbiAgICAgICAgICAgIGFkZEV2ZW50KGNvbnRleHQgfHwgZG9jdW1lbnQsIGV2ZW50LCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICB2YXIgZm91bmQsIGVsID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xuICAgICAgICAgICAgICAgIHdoaWxlIChlbCAmJiAhKGZvdW5kID0gaGFzQ2xhc3MoZWwsIGVsQ2xhc3MpKSkgZWwgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZCkgY2IuY2FsbChlbCwgZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvID0ge1xuICAgICAgICAgICAgc2VsZWN0b3I6IDAsXG4gICAgICAgICAgICBzb3VyY2U6IDAsXG4gICAgICAgICAgICBtaW5DaGFyczogMyxcbiAgICAgICAgICAgIGRlbGF5OiAxNTAsXG4gICAgICAgICAgICBvZmZzZXRMZWZ0OiAwLFxuICAgICAgICAgICAgb2Zmc2V0VG9wOiAxLFxuICAgICAgICAgICAgY2FjaGU6IDEsXG4gICAgICAgICAgICBtZW51Q2xhc3M6ICcnLFxuICAgICAgICAgICAgcmVuZGVySXRlbTogZnVuY3Rpb24gKGl0ZW0sIHNlYXJjaCl7XG4gICAgICAgICAgICAgICAgLy8gZXNjYXBlIHNwZWNpYWwgY2hhcmFjdGVyc1xuICAgICAgICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csICdcXFxcJCYnKTtcbiAgICAgICAgICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKFwiKFwiICsgc2VhcmNoLnNwbGl0KCcgJykuam9pbignfCcpICsgXCIpXCIsIFwiZ2lcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwiYXV0b2NvbXBsZXRlLXN1Z2dlc3Rpb25cIiBkYXRhLXZhbD1cIicgKyBpdGVtICsgJ1wiPicgKyBpdGVtLnJlcGxhY2UocmUsIFwiPGI+JDE8L2I+XCIpICsgJzwvZGl2Pic7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25TZWxlY3Q6IGZ1bmN0aW9uKGUsIHRlcm0sIGl0ZW0pe31cbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvcHRpb25zKSB7IGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KGspKSBvW2tdID0gb3B0aW9uc1trXTsgfVxuXG4gICAgICAgIC8vIGluaXRcbiAgICAgICAgdmFyIGVsZW1zID0gdHlwZW9mIG8uc2VsZWN0b3IgPT0gJ29iamVjdCcgPyBbby5zZWxlY3Rvcl0gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG8uc2VsZWN0b3IpO1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8ZWxlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0aGF0ID0gZWxlbXNbaV07XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBzdWdnZXN0aW9ucyBjb250YWluZXIgXCJzY1wiXG4gICAgICAgICAgICB0aGF0LnNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB0aGF0LnNjLmNsYXNzTmFtZSA9ICdhdXRvY29tcGxldGUtc3VnZ2VzdGlvbnMgJytvLm1lbnVDbGFzcztcblxuICAgICAgICAgICAgdGhhdC5hdXRvY29tcGxldGVBdHRyID0gdGhhdC5nZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScpO1xuICAgICAgICAgICAgdGhhdC5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsICdvZmYnKTtcbiAgICAgICAgICAgIHRoYXQuY2FjaGUgPSB7fTtcbiAgICAgICAgICAgIHRoYXQubGFzdF92YWwgPSAnJztcblxuICAgICAgICAgICAgdGhhdC51cGRhdGVTQyA9IGZ1bmN0aW9uKHJlc2l6ZSwgbmV4dCl7XG4gICAgICAgICAgICAgICAgdmFyIHJlY3QgPSB0aGF0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHRoYXQuc2Muc3R5bGUubGVmdCA9IE1hdGgucm91bmQocmVjdC5sZWZ0ICsgKHdpbmRvdy5wYWdlWE9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCkgKyBvLm9mZnNldExlZnQpICsgJ3B4JztcbiAgICAgICAgICAgICAgICB0aGF0LnNjLnN0eWxlLnRvcCA9IE1hdGgucm91bmQocmVjdC5ib3R0b20gKyAod2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApICsgby5vZmZzZXRUb3ApICsgJ3B4JztcbiAgICAgICAgICAgICAgICB0aGF0LnNjLnN0eWxlLndpZHRoID0gTWF0aC5yb3VuZChyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0KSArICdweCc7IC8vIG91dGVyV2lkdGhcbiAgICAgICAgICAgICAgICBpZiAoIXJlc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnNjLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoYXQuc2MubWF4SGVpZ2h0KSB7IHRoYXQuc2MubWF4SGVpZ2h0ID0gcGFyc2VJbnQoKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlID8gZ2V0Q29tcHV0ZWRTdHlsZSh0aGF0LnNjLCBudWxsKSA6IHRoYXQuc2MuY3VycmVudFN0eWxlKS5tYXhIZWlnaHQpOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhhdC5zYy5zdWdnZXN0aW9uSGVpZ2h0KSB0aGF0LnNjLnN1Z2dlc3Rpb25IZWlnaHQgPSB0aGF0LnNjLnF1ZXJ5U2VsZWN0b3IoJy5hdXRvY29tcGxldGUtc3VnZ2VzdGlvbicpLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQuc2Muc3VnZ2VzdGlvbkhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbmV4dCkgdGhhdC5zYy5zY3JvbGxUb3AgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjclRvcCA9IHRoYXQuc2Muc2Nyb2xsVG9wLCBzZWxUb3AgPSBuZXh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIHRoYXQuc2MuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxUb3AgKyB0aGF0LnNjLnN1Z2dlc3Rpb25IZWlnaHQgLSB0aGF0LnNjLm1heEhlaWdodCA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc2Muc2Nyb2xsVG9wID0gc2VsVG9wICsgdGhhdC5zYy5zdWdnZXN0aW9uSGVpZ2h0ICsgc2NyVG9wIC0gdGhhdC5zYy5tYXhIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VsVG9wIDwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zYy5zY3JvbGxUb3AgPSBzZWxUb3AgKyBzY3JUb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkRXZlbnQod2luZG93LCAncmVzaXplJywgdGhhdC51cGRhdGVTQyk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoYXQuc2MpO1xuXG4gICAgICAgICAgICBsaXZlKCdhdXRvY29tcGxldGUtc3VnZ2VzdGlvbicsICdtb3VzZWxlYXZlJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgdmFyIHNlbCA9IHRoYXQuc2MucXVlcnlTZWxlY3RvcignLmF1dG9jb21wbGV0ZS1zdWdnZXN0aW9uLnNlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbCkgc2V0VGltZW91dChmdW5jdGlvbigpeyBzZWwuY2xhc3NOYW1lID0gc2VsLmNsYXNzTmFtZS5yZXBsYWNlKCdzZWxlY3RlZCcsICcnKTsgfSwgMjApO1xuICAgICAgICAgICAgfSwgdGhhdC5zYyk7XG5cbiAgICAgICAgICAgIGxpdmUoJ2F1dG9jb21wbGV0ZS1zdWdnZXN0aW9uJywgJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIHZhciBzZWwgPSB0aGF0LnNjLnF1ZXJ5U2VsZWN0b3IoJy5hdXRvY29tcGxldGUtc3VnZ2VzdGlvbi5zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIGlmIChzZWwpIHNlbC5jbGFzc05hbWUgPSBzZWwuY2xhc3NOYW1lLnJlcGxhY2UoJ3NlbGVjdGVkJywgJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lICs9ICcgc2VsZWN0ZWQnO1xuICAgICAgICAgICAgfSwgdGhhdC5zYyk7XG5cbiAgICAgICAgICAgIGxpdmUoJ2F1dG9jb21wbGV0ZS1zdWdnZXN0aW9uJywgJ21vdXNlZG93bicsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIGlmIChoYXNDbGFzcyh0aGlzLCAnYXV0b2NvbXBsZXRlLXN1Z2dlc3Rpb24nKSkgeyAvLyBlbHNlIG91dHNpZGUgY2xpY2tcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS12YWwnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC52YWx1ZSA9IHY7XG4gICAgICAgICAgICAgICAgICAgIG8ub25TZWxlY3QoZSwgdiwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2Muc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0aGF0LnNjKTtcblxuICAgICAgICAgICAgdGhhdC5ibHVySGFuZGxlciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdHJ5IHsgdmFyIG92ZXJfc2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXV0b2NvbXBsZXRlLXN1Z2dlc3Rpb25zOmhvdmVyJyk7IH0gY2F0Y2goZSl7IHZhciBvdmVyX3NiID0gMDsgfVxuICAgICAgICAgICAgICAgIGlmICghb3Zlcl9zYikge1xuICAgICAgICAgICAgICAgICAgICB0aGF0Lmxhc3RfdmFsID0gdGhhdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zYy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IHRoYXQuc2Muc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfSwgMzUwKTsgLy8gaGlkZSBzdWdnZXN0aW9ucyBvbiBmYXN0IGlucHV0XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGF0ICE9PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IHRoYXQuZm9jdXMoKTsgfSwgMjApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFkZEV2ZW50KHRoYXQsICdibHVyJywgdGhhdC5ibHVySGFuZGxlcik7XG5cbiAgICAgICAgICAgIHZhciBzdWdnZXN0ID0gZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IHRoYXQudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhhdC5jYWNoZVt2YWxdID0gZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggJiYgdmFsLmxlbmd0aCA+PSBvLm1pbkNoYXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDtpPGRhdGEubGVuZ3RoO2krKykgcyArPSBvLnJlbmRlckl0ZW0oZGF0YVtpXSwgdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5zYy5pbm5lckhUTUwgPSBzO1xuICAgICAgICAgICAgICAgICAgICB0aGF0LnVwZGF0ZVNDKDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2Muc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhhdC5rZXlkb3duSGFuZGxlciA9IGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSB3aW5kb3cuZXZlbnQgPyBlLmtleUNvZGUgOiBlLndoaWNoO1xuICAgICAgICAgICAgICAgIC8vIGRvd24gKDQwKSwgdXAgKDM4KVxuICAgICAgICAgICAgICAgIGlmICgoa2V5ID09IDQwIHx8IGtleSA9PSAzOCkgJiYgdGhhdC5zYy5pbm5lckhUTUwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHQsIHNlbCA9IHRoYXQuc2MucXVlcnlTZWxlY3RvcignLmF1dG9jb21wbGV0ZS1zdWdnZXN0aW9uLnNlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gKGtleSA9PSA0MCkgPyB0aGF0LnNjLnF1ZXJ5U2VsZWN0b3IoJy5hdXRvY29tcGxldGUtc3VnZ2VzdGlvbicpIDogdGhhdC5zYy5jaGlsZE5vZGVzW3RoYXQuc2MuY2hpbGROb2Rlcy5sZW5ndGggLSAxXTsgLy8gZmlyc3QgOiBsYXN0XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0LmNsYXNzTmFtZSArPSAnIHNlbGVjdGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQudmFsdWUgPSBuZXh0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWwnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSAoa2V5ID09IDQwKSA/IHNlbC5uZXh0U2libGluZyA6IHNlbC5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbC5jbGFzc05hbWUgPSBzZWwuY2xhc3NOYW1lLnJlcGxhY2UoJ3NlbGVjdGVkJywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQuY2xhc3NOYW1lICs9ICcgc2VsZWN0ZWQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQudmFsdWUgPSBuZXh0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyBzZWwuY2xhc3NOYW1lID0gc2VsLmNsYXNzTmFtZS5yZXBsYWNlKCdzZWxlY3RlZCcsICcnKTsgdGhhdC52YWx1ZSA9IHRoYXQubGFzdF92YWw7IG5leHQgPSAwOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhhdC51cGRhdGVTQygwLCBuZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBlc2NcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChrZXkgPT0gMjcpIHsgdGhhdC52YWx1ZSA9IHRoYXQubGFzdF92YWw7IHRoYXQuc2Muc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfVxuICAgICAgICAgICAgICAgIC8vIGVudGVyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09IDEzIHx8IGtleSA9PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWwgPSB0aGF0LnNjLnF1ZXJ5U2VsZWN0b3IoJy5hdXRvY29tcGxldGUtc3VnZ2VzdGlvbi5zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsICYmIHRoYXQuc2Muc3R5bGUuZGlzcGxheSAhPSAnbm9uZScpIHsgby5vblNlbGVjdChlLCBzZWwuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbCcpLCBzZWwpOyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IHRoYXQuc2Muc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfSwgMjApOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGFkZEV2ZW50KHRoYXQsICdrZXlkb3duJywgdGhhdC5rZXlkb3duSGFuZGxlcik7XG5cbiAgICAgICAgICAgIHRoYXQua2V5dXBIYW5kbGVyID0gZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHdpbmRvdy5ldmVudCA/IGUua2V5Q29kZSA6IGUud2hpY2g7XG4gICAgICAgICAgICAgICAgaWYgKCFrZXkgfHwgKGtleSA8IDM1IHx8IGtleSA+IDQwKSAmJiBrZXkgIT0gMTMgJiYga2V5ICE9IDI3KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSB0aGF0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsLmxlbmd0aCA+PSBvLm1pbkNoYXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsICE9IHRoYXQubGFzdF92YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0Lmxhc3RfdmFsID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGF0LnRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5jYWNoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsIGluIHRoYXQuY2FjaGUpIHsgc3VnZ2VzdCh0aGF0LmNhY2hlW3ZhbF0pOyByZXR1cm47IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm8gcmVxdWVzdHMgaWYgcHJldmlvdXMgc3VnZ2VzdGlvbnMgd2VyZSBlbXB0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTE7IGk8dmFsLmxlbmd0aC1vLm1pbkNoYXJzOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gdmFsLnNsaWNlKDAsIHZhbC5sZW5ndGgtaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydCBpbiB0aGF0LmNhY2hlICYmICF0aGF0LmNhY2hlW3BhcnRdLmxlbmd0aCkgeyBzdWdnZXN0KFtdKTsgcmV0dXJuOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgby5zb3VyY2UodmFsLCBzdWdnZXN0KSB9LCBvLmRlbGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQubGFzdF92YWwgPSB2YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnNjLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYWRkRXZlbnQodGhhdCwgJ2tleXVwJywgdGhhdC5rZXl1cEhhbmRsZXIpO1xuXG4gICAgICAgICAgICB0aGF0LmZvY3VzSGFuZGxlciA9IGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIHRoYXQubGFzdF92YWwgPSAnXFxuJztcbiAgICAgICAgICAgICAgICB0aGF0LmtleXVwSGFuZGxlcihlKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICghby5taW5DaGFycykgYWRkRXZlbnQodGhhdCwgJ2ZvY3VzJywgdGhhdC5mb2N1c0hhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHVibGljIGRlc3Ryb3kgbWV0aG9kXG4gICAgICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8ZWxlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IGVsZW1zW2ldO1xuICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScsIHRoYXQudXBkYXRlU0MpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KHRoYXQsICdibHVyJywgdGhhdC5ibHVySGFuZGxlcik7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQodGhhdCwgJ2ZvY3VzJywgdGhhdC5mb2N1c0hhbmRsZXIpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KHRoYXQsICdrZXlkb3duJywgdGhhdC5rZXlkb3duSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRXZlbnQodGhhdCwgJ2tleXVwJywgdGhhdC5rZXl1cEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIGlmICh0aGF0LmF1dG9jb21wbGV0ZUF0dHIpXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0QXR0cmlidXRlKCdhdXRvY29tcGxldGUnLCB0aGF0LmF1dG9jb21wbGV0ZUF0dHIpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5yZW1vdmVBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhhdC5zYyk7XG4gICAgICAgICAgICAgICAgdGhhdCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBhdXRvQ29tcGxldGU7XG59KSgpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlKCB7XG5cbiAgICBhZGQoY2FsbGJhY2spIHtcbiAgICAgICAgaWYoICF0aGlzLmNhbGxiYWNrcy5sZW5ndGggKSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpIClcbiAgICAgICAgdGhpcy5jYWxsYmFja3MucHVzaChjYWxsYmFjaylcbiAgICB9LFxuXG4gICAgb25SZXNpemUoKSB7XG4gICAgICAgaWYoIHRoaXMucnVubmluZyApIHJldHVyblxuXG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWVcbiAgICAgICAgXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgICAgID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggdGhpcy5ydW5DYWxsYmFja3MuYmluZCh0aGlzKSApXG4gICAgICAgICAgICA6IHNldFRpbWVvdXQoIHRoaXMucnVuQ2FsbGJhY2tzLCA2NilcbiAgICB9LFxuXG4gICAgcnVuQ2FsbGJhY2tzKCkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IHRoaXMuY2FsbGJhY2tzLmZpbHRlciggY2FsbGJhY2sgPT4gY2FsbGJhY2soKSApXG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlIFxuICAgIH1cblxufSwgeyBjYWxsYmFja3M6IHsgd3JpdGFibGU6IHRydWUsIHZhbHVlOiBbXSB9LCBydW5uaW5nOiB7IHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogZmFsc2UgfSB9IClcbiIsInZhciBNeVZpZXcgPSByZXF1aXJlKCcuL015VmlldycpLFxuICAgIE1vZGFsID0gZnVuY3Rpb24oKSB7IHJldHVybiBNeVZpZXcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIH1cblxuTXlWaWV3LnByb3RvdHlwZS5fLmV4dGVuZCggTW9kYWwucHJvdG90eXBlLCBNeVZpZXcucHJvdG90eXBlLCB7XG5cbiAgICBjaGVja0ZvckVudGVyKCBlICkgeyBpZiggZS5rZXlDb2RlID09PSAxMyApIHRoaXMuZW1pdENvbmZpcm1hdGlvbigpIH0sXG5cbiAgICBlbWl0Q29uZmlybWF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbWl0KCAnc3VibWl0JywgdGhpcy5nZXRGb3JtRGF0YSgpIClcbiAgICB9LFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdjb25maXJtQnRuJzogeyBldmVudDogJ2NsaWNrJywgc2VsZWN0b3I6ICcnLCBtZXRob2Q6ICdlbWl0Q29uZmlybWF0aW9uJyB9XG4gICAgfSxcblxuICAgIGhpZGU6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuICAgICAgICBcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEgPSB0aGlzLl8ucGljayggdGhpcy50ZW1wbGF0ZURhdGEsIHRoaXMudGVtcGxhdGVEYXRhS2V5cyApXG5cbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLm1vZGFsKCdoaWRlJylcblxuICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS50aXRsZS50ZXh0KCcnKVxuICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5oZWFkZXIuc2hvdygpXG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLmJvZHkucmVtb3ZlQ2xhc3MoJ2hpZGUnKS5lbXB0eSgpXG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLmZvb3Rlci5zaG93KClcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuY2FuY2VsQnRuLnNob3coKS50ZXh0KCdDYW5jZWwnKVxuICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5jbG9zZUJ0bi5zaG93KClcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuY29uZmlybUJ0bi5zaG93KCkudGV4dCgnU2F2ZScpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgcG9zdFJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuJChkb2N1bWVudCkub24oICdrZXl1cCcsIHRoaXMuY2hlY2tGb3JFbnRlci5iaW5kKHRoaXMpIClcblxuICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5jb250YWluZXIub24oICdoaWRkZW4uYnMubW9kYWwnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoIHsgcmVzZXQ6IHRydWUgfSApXG4gICAgICAgICAgICB0aGlzLmVtaXQoICdoaWRkZW4nIClcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCAnc3VibWl0JyApXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLmNvbnRhaW5lci5vbiggJ3Nob3duLmJzLm1vZGFsJywgKCkgPT4geyBcbiAgICAgICAgICAgIHZhciBmaXJzdElucHV0ID0gdGhpcy4kKCcubW9kYWwtYm9keSBpbnB1dDpmaXJzdCcpXG4gICAgICAgICAgICB0aGlzLmVtaXQoICdzaG93bicgKVxuICAgICAgICAgICAgaWYoIGZpcnN0SW5wdXQubGVuZ3RoICYmICghIC9kYXRlLy50ZXN0KCBmaXJzdElucHV0LmF0dHIoJ2lkJykgKSApICkgZmlyc3RJbnB1dC5mb2N1cygpXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICByZXF1aXJlc0xvZ2luOiBmYWxzZSxcblxuICAgIHNob3coIG9wdGlvbnMgKSB7XG5cbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGFLZXlzID0gT2JqZWN0LmtleXMoIHRoaXMudGVtcGxhdGVEYXRhIClcblxuICAgICAgICB2YXIgYnNPcHRzID0geyBzaG93OiB0cnVlIH1cblxuICAgICAgICBpZiggb3B0aW9ucy50aXRsZSApIHtcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLnRpdGxlLnRleHQoIG9wdGlvbnMudGl0bGUgKVxuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuaGVhZGVyLnNob3coKVxuICAgICAgICB9IGVsc2UgeyB0aGlzLnRlbXBsYXRlRGF0YS5oZWFkZXIuaGlkZSgpIH1cblxuICAgICAgICBpZiggb3B0aW9ucy5ib2R5ICkge1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuYm9keS5yZW1vdmVDbGFzcygnaGlkZScpXG4gICAgICAgICAgICBvcHRpb25zLmJvZHkuY2hhckF0KDApID09PSAnPCdcbiAgICAgICAgICAgICAgICA/IHRoaXMuc2x1cnBUZW1wbGF0ZSggeyB0ZW1wbGF0ZTogb3B0aW9ucy5ib2R5LCBpbnNlcnRpb246IHsgJGVsOiB0aGlzLnRlbXBsYXRlRGF0YS5ib2R5LCBtZXRob2Q6ICdhcHBlbmQnIH0gfSApXG4gICAgICAgICAgICAgICAgOiB0aGlzLnRlbXBsYXRlRGF0YS5ib2R5Lmh0bWwoIG9wdGlvbnMuYm9keSApXG4gICAgICAgIH0gZWxzZSBpZiggIW9wdGlvbnMuYm9keSAmJiB0aGlzLnRlbXBsYXRlRGF0YS5ib2R5LmNoaWxkcmVuKCkubGVuZ3RoID09PSAwICkgeyB0aGlzLnRlbXBsYXRlRGF0YS5ib2R5LmFkZENsYXNzKCdoaWRlJykgfVxuXG4gICAgICAgIGlmKCBvcHRpb25zLmhpZGVGb290ZXIgKSB0aGlzLnRlbXBsYXRlRGF0YS5mb290ZXIuaGlkZSgpIFxuXG4gICAgICAgIGlmKCBvcHRpb25zLmNvbmZpcm1UZXh0ICkgdGhpcy50ZW1wbGF0ZURhdGEuY29uZmlybUJ0bi50ZXh0KCBvcHRpb25zLmNvbmZpcm1UZXh0IClcblxuICAgICAgICBpZiggb3B0aW9ucy5oaWRlQ2FuY2VsQnRuICkgdGhpcy50ZW1wbGF0ZURhdGEuY2FuY2VsQnRuLmhpZGUoKVxuICAgICAgICBpZiggb3B0aW9ucy5jYW5jZWxUZXh0ICkgdGhpcy50ZW1wbGF0ZURhdGEuY2FuY2VsQnRuLnRleHQoIG9wdGlvbnMuY2FuY2VsVGV4dCApXG5cbiAgICAgICAgaWYoIG9wdGlvbnMuc3RhdGljICkge1xuICAgICAgICAgICAgYnNPcHRzLmJhY2tkcm9wID0gJ3N0YXRpYydcbiAgICAgICAgICAgIGJzT3B0cy5rZXlib2FyZCA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5jbG9zZUJ0bi5oaWRlKClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLm1vZGFsKCBic09wdHMgKVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL3RlbXBsYXRlcy9Nb2RhbCcpLFxuXG4gICAgdXBkYXRlQ29udGVudDogZnVuY3Rpb24oIHVwZGF0ZXMgKSB7XG4gICAgICAgIHRoaXMuXy51cGRhdGVzLmVhY2goICggdmFsdWUsIGtleSApID0+IHRoaXMudGVtcGxhdGVEYXRhWyBrZXkgXS5odG1sKCB2YWx1ZSApIClcbiAgICB9XG5cbn0gKTtcblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgTW9kYWwoIHsgY29udGFpbmVyOiBNeVZpZXcucHJvdG90eXBlLiQoJ2JvZHknKSB9IClcbiIsInZhciBMaXN0ID0gcmVxdWlyZSgnLi4vdXRpbC9MaXN0JyksXG4gICAgRGF0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gTGlzdC5hcHBseSggdGhpcywgYXJndW1lbnRzICkgfVxuXG5PYmplY3QuYXNzaWduKCBEYXRlU2VsZWN0aW9uLnByb3RvdHlwZSwgTGlzdC5wcm90b3R5cGUsIHtcblxuICAgIEl0ZW1WaWV3OiByZXF1aXJlKCcuL1BpY2t1cERhdGVzJyksXG5cbiAgICBjb2xsZWN0aW9uOiB7IGNvbXBhcmF0b3I6ICdzdGFydEVwb2NoJyB9LFxuXG4gICAgZ2V0SXRlbVZpZXdPcHRpb25zKCkgeyByZXR1cm4geyBjb250YWluZXI6IHRoaXMudGVtcGxhdGVEYXRhLnNoYXJlcyB9IH0sXG4gICAgXG4gICAgaXRlbU1vZGVscygpIHsgcmV0dXJuIHRoaXMuc2lnbnVwRGF0YS5zaGFyZXMubW9kZWxzIH0sXG5cbiAgICBwb3N0UmVuZGVyKCkge1xuXG4gICAgICAgIExpc3QucHJvdG90eXBlLnBvc3RSZW5kZXIuY2FsbCh0aGlzKVxuXG4gICAgICAgIHRoaXMuc2lnbnVwRGF0YS5zaGFyZXMub24oICdhZGQnLCBzaGFyZSA9PiB0aGlzLml0ZW1zLmFkZCggc2hhcmUgKSApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAub24oICdyZW1vdmUnLCBzaGFyZSA9PiB0aGlzLml0ZW1zLnJlbW92ZSggc2hhcmUgKSApXG5cbiAgICAgICAgdGhpcy5wcmVWYWxpZGF0ZSgpXG4gICAgfSxcblxuICAgIHByZVZhbGlkYXRlKCkge1xuICAgICAgICB0aGlzLmdvQmFjayA9IGZhbHNlXG5cbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKCBzaGFyZSA9PiB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWREZWxpdmVyeSA9IHNoYXJlLmdldCgnc2VsZWN0ZWREZWxpdmVyeScpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmKCAhTnVtYmVyLmlzSW50ZWdlcihzZWxlY3RlZERlbGl2ZXJ5LmRheW9md2VlaykgfHwgIXNlbGVjdGVkRGVsaXZlcnkuc3RhcnR0aW1lIHx8ICFzZWxlY3RlZERlbGl2ZXJ5LnN0YXJ0dGltZSApIHtcbiAgICAgICAgICAgICAgICBzaGFyZS5zZXQoIHsgc2VsZWN0ZWREZWxpdmVyeTogeyB9IH0gKVxuICAgICAgICAgICAgICAgIHRoaXMuZ29CYWNrID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgcmVxdWlyZXNMb2dpbjogZmFsc2UsXG5cbiAgICBzZWxlY3Rpb246IHRydWUsXG5cbiAgICBzaG93KCkge1xuICAgICAgICBMaXN0LnByb3RvdHlwZS5zaG93LmNhbGwodGhpcylcblxuICAgICAgICB0aGlzLnByZVZhbGlkYXRlKClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi4vLi4vdGVtcGxhdGVzL3NpZ251cC9kYXRlU2VsZWN0aW9uJyksXG5cbiAgICB2YWxpZGF0ZSgpIHtcbiAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZSxcbiAgICAgICAgICAgIGVycm9yVmlld3MgPSBbIF0sXG4gICAgICAgICAgICB0YXJnZXRFcnJvclZpZXcgPSBudWxsXG5cbiAgICAgICAgT2JqZWN0LmtleXMoIHRoaXMuaXRlbVZpZXdzICkuZm9yRWFjaCggaWQgPT4ge1xuICAgICAgICAgICAgaWYoICEgdGhpcy5pdGVtVmlld3NbaWRdLnZhbGlkICkge1xuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2VcbiAgICAgICAgICAgICAgICBlcnJvclZpZXdzLnB1c2goIHRoaXMuaXRlbVZpZXdzW2lkXS50ZW1wbGF0ZURhdGEuY29udGFpbmVyIClcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1WaWV3c1tpZF0udGVtcGxhdGVEYXRhLmNvbnRhaW5lci5hZGRDbGFzcygnaGFzLWVycm9yJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSApXG4gICAgICAgIFxuICAgICAgICBpZiggZXJyb3JWaWV3cy5sZW5ndGggKSB7XG4gICAgICAgICAgICB0YXJnZXRFcnJvclZpZXcgPSBlcnJvclZpZXdzLnNsaWNlKC0xKVswXVxuICAgICAgICAgICAgdGhpcy4kKCdodG1sLCBib2R5JykuYW5pbWF0ZSgge1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0RXJyb3JWaWV3Lm9mZnNldCgpLnRvcFxuICAgICAgICAgICAgfSwgNTAwIClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCB2YWxpZCApIHtcbiAgICAgICAgICAgIC8vLnJlamVjdCggZGVsaXZlcnlEYXkgPT4gZGVsaXZlcnlEYXkuZ2V0KCd1bnNlbGVjdGFibGUnKSApXG5cbiAgICAgICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaCggaXRlbSA9PiBpdGVtLnNldCggJ3NraXBEYXlzJyxcbiAgICAgICAgICAgICAgICB0aGlzLl8oIGl0ZW0uZ2V0KCdkZWxpdmVyeURhdGVzJylcbiAgICAgICAgICAgICAgICAgICAgLnJlamVjdCggZGVsaXZlcnlEYXkgPT4gKCB0aGlzLml0ZW1WaWV3c1sgaXRlbS5pZCBdLnNlbGVjdGVkSXRlbXNbIGRlbGl2ZXJ5RGF5LmlkIF0gKSA/IHRydWUgOiBmYWxzZSApIClcbiAgICAgICAgICAgICAgICAgICAgLm1hcCggZGVsaXZlcnlEYXkgPT4gZGVsaXZlcnlEYXkuaWQgKVxuICAgICAgICAgICAgKSApXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsaWRcbiAgICB9XG5cbn0gKVxuXG5tb2R1bGUuZXhwb3J0cyA9IERhdGVTZWxlY3Rpb25cbiIsInZhciBMaXN0ID0gcmVxdWlyZSgnLi4vdXRpbC9MaXN0JyksXG4gICAgRGVsaXZlcnkgPSBmdW5jdGlvbigpIHsgcmV0dXJuIExpc3QuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIH1cblxuT2JqZWN0LmFzc2lnbiggRGVsaXZlcnkucHJvdG90eXBlLCBMaXN0LnByb3RvdHlwZSwge1xuXG4gICAgSXRlbVZpZXc6IHJlcXVpcmUoJy4vRGVsaXZlcnlPcHRpb25zJyksXG5cbiAgICBNb2RlbHM6IHtcbiAgICAgICAgRGVsaXZlcnlSb3V0ZTogcmVxdWlyZSgnLi4vLi4vbW9kZWxzL0RlbGl2ZXJ5Um91dGUnKSxcbiAgICB9LFxuXG4gICAgY29sbGVjdGlvbjogeyBjb21wYXJhdG9yOiAnc3RhcnRFcG9jaCcgfSxcblxuICAgIGdldEl0ZW1WaWV3T3B0aW9ucygpIHsgcmV0dXJuIHsgY29udGFpbmVyOiB0aGlzLnRlbXBsYXRlRGF0YS5zaGFyZXMsIHNpZ251cERhdGE6IHRoaXMuc2lnbnVwRGF0YSB9IH0sXG4gICAgXG4gICAgaXRlbU1vZGVscygpIHsgcmV0dXJuIHRoaXMuc2lnbnVwRGF0YS5zaGFyZXMubW9kZWxzIH0sXG5cbiAgICBwb3N0UmVuZGVyKCkge1xuICAgICAgICBMaXN0LnByb3RvdHlwZS5wb3N0UmVuZGVyLmNhbGwodGhpcylcblxuICAgICAgICB0aGlzLnNpZ251cERhdGEuc2hhcmVzXG4gICAgICAgICAgICAub24oICdhZGQnLCBzaGFyZSA9PiB0aGlzLml0ZW1zLmFkZCggc2hhcmUgKSApXG4gICAgICAgICAgICAub24oICdyZW1vdmUnLCBzaGFyZSA9PiB0aGlzLml0ZW1zLnJlbW92ZSggc2hhcmUgKSApXG4gICAgfSxcblxuICAgIHJlcXVpcmVzTG9naW46IGZhbHNlLFxuXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9zaWdudXAvZGVsaXZlcnknKSxcblxuICAgIHRlbXBsYXRlczoge1xuICAgICAgICB2ZXJpZnlBZGRyZXNzOiByZXF1aXJlKCcuLi8uLi90ZW1wbGF0ZXMvc2lnbnVwL3ZlcmlmeUFkZHJlc3MnKVxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZSgpIHtcbiAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZSxcbiAgICAgICAgICAgIGVycm9yVmlld3MgPSBbIF0sXG4gICAgICAgICAgICB0YXJnZXRFcnJvclZpZXcgPSBudWxsLFxuICAgICAgICAgICAgaG9tZURlbGl2ZXJ5U2VsZWN0ZWQgPSBmYWxzZSxcbiAgICAgICAgICAgIGFkZHJlc3NNb2RlbCA9IHRoaXMudXNlci5nZXQoJ2FkZHJlc3NNb2RlbCcpLFxuICAgICAgICAgICAgcG9zdGFsQ29kZSA9ICAoIGFkZHJlc3NNb2RlbCAmJiBhZGRyZXNzTW9kZWwucG9zdGFsQ29kZSApID8gYWRkcmVzc01vZGVsLnBvc3RhbENvZGUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkZWZlcnJlZCA9IHRoaXMuUS5kZWZlcigpXG4gICAgICAgXG4gICAgICAgIE9iamVjdC5rZXlzKCB0aGlzLml0ZW1WaWV3cyApLmZvckVhY2goIGlkID0+IHtcbiAgICAgICAgICAgIGlmKCAhIHRoaXMuaXRlbVZpZXdzW2lkXS52YWxpZCApIHtcbiAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgZXJyb3JWaWV3cy5wdXNoKCB0aGlzLml0ZW1WaWV3c1tpZF0udGVtcGxhdGVEYXRhLmNvbnRhaW5lciApXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtVmlld3NbaWRdLnRlbXBsYXRlRGF0YS5jb250YWluZXIuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKVxuICAgICAgICAgICBcbiAgICAgICAgaWYoICEgdmFsaWQgKSByZXR1cm4gZmFsc2UgXG5cbiAgICAgICAgT2JqZWN0LmtleXMoIHRoaXMuaXRlbVZpZXdzICkuZm9yRWFjaCggaWQgPT4ge1xuICAgICAgICAgICAgdGhpcy5pdGVtcy5nZXQoIGlkICkuc2V0KCAnc2VsZWN0ZWREZWxpdmVyeScsIE9iamVjdC5hc3NpZ24oIHt9LCB0aGlzLml0ZW1WaWV3c1tpZF0uc2VsZWN0ZWREZWxpdmVyeSApIClcbiAgICAgICAgICAgIGlmKCB0aGlzLml0ZW1WaWV3c1tpZF0uc2VsZWN0ZWREZWxpdmVyeS5pc0hvbWUgKSBob21lRGVsaXZlcnlTZWxlY3RlZCA9IHRydWVcbiAgICAgICAgfSApXG4gICAgICAgIFxuICAgICAgICBpZiggZXJyb3JWaWV3cy5sZW5ndGggKSB7XG4gICAgICAgICAgICB0YXJnZXRFcnJvclZpZXcgPSBlcnJvclZpZXdzLnNsaWNlKC0xKVswXVxuICAgICAgICAgICAgdGhpcy4kKCdodG1sLCBib2R5JykuYW5pbWF0ZSgge1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogdGFyZ2V0RXJyb3JWaWV3Lm9mZnNldCgpLnRvcFxuICAgICAgICAgICAgfSwgNTAwIClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCAhIHZhbGlkICkgcmV0dXJuIGZhbHNlXG4gICAgICAgIFxuICAgICAgICBpZiggaG9tZURlbGl2ZXJ5U2VsZWN0ZWQgJiYgdGhpcy51c2VyLmdldCgnY3VzdG9tQWRkcmVzcycpICkge1xuICAgICAgICAgICAgdGhpcy5tb2RhbFZpZXcuc2hvdygge1xuICAgICAgICAgICAgICAgIGJvZHk6IHRoaXMudGVtcGxhdGVzLnZlcmlmeUFkZHJlc3MoIHsgYWRkcmVzczogdGhpcy51c2VyLmdldCgnYWRkcmVzcycpLCB6aXBDb2RlOiBwb3N0YWxDb2RlIH0gKSxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1ZlcmlmeSBBZHJlc3MnIH0gKVxuICAgICAgICAgICAgLm9uKCAnaGlkZGVuJywgKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoIHRoaXMuaXRlbVZpZXdzICkuZm9yRWFjaCggaWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWREZWxpdmVyeSA9IHRoaXMuaXRlbXMuZ2V0KCBpZCApLmdldCggJ3NlbGVjdGVkRGVsaXZlcnknIClcbiAgICAgICAgICAgICAgICAgICAgaWYoICFzZWxlY3RlZERlbGl2ZXJ5LmRheW9md2VlayB8fCAhc2VsZWN0ZWREZWxpdmVyeS5zdGFydHRpbWUgfHwgIXNlbGVjdGVkRGVsaXZlcnkuZW5kdGltZSApIGRlZmVycmVkLnJlamVjdCgpXG4gICAgICAgICAgICAgICAgfSApXG5cbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKClcbiAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgLm9uKCAnc3VibWl0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciB6aXBSb3V0ZSA9IG5ldyAoIHRoaXMuTW9kZWwuZXh0ZW5kKCB7IHBhcnNlOiByZXNwb25zZSA9PiByZXNwb25zZVswXSwgdXJsUm9vdDogXCIvemlwY29kZXJvdXRlXCIgfSApICkoKSxcbiAgICAgICAgICAgICAgICAgICAgaG9tZURlbGl2ZXJ5Um91dGUgPSBuZXcgdGhpcy5Nb2RlbHMuRGVsaXZlcnlSb3V0ZSgpLFxuICAgICAgICAgICAgICAgICAgICB1c2VyQXR0cmlidXRlc1xuXG4gICAgICAgICAgICAgICAgdGhpcy4kKCcjemlwQ29kZUZvcm1Hcm91cCcpLnJlbW92ZUNsYXNzKCdoYXMtZXJyb3InKVxuICAgICAgICAgICAgICAgIHRoaXMuJCgnI3ppcENvZGVIZWxwQmxvY2snKS5hZGRDbGFzcygnaGlkZScpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYoICEgdGhpcy4kKCcjdmVyaWZpZWRaaXBDb2RlJykudmFsKCkubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiQoJyN6aXBDb2RlRm9ybUdyb3VwJykuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJCgnI3ppcENvZGVIZWxwQmxvY2snKS5yZW1vdmVDbGFzcygnaGlkZScpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuUSggemlwUm91dGUuZmV0Y2goIHsgZGF0YTogeyB6aXBjb2RlOiB0aGlzLiQoJyN2ZXJpZmllZFppcENvZGUnKS52YWwoKSB9IH0gKSApXG4gICAgICAgICAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIE9iamVjdC5rZXlzKCB6aXBSb3V0ZS5hdHRyaWJ1dGVzICkubGVuZ3RoID09PSAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kKCcjemlwQ29kZUZvcm1Hcm91cCcpLmFkZENsYXNzKCdoYXMtZXJyb3InKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kKCcjemlwQ29kZUhlbHBCbG9jaycpLnJlbW92ZUNsYXNzKCdoaWRlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB9ICAgIFxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlEoIGhvbWVEZWxpdmVyeVJvdXRlLnNldCggeyBpZDogemlwUm91dGUuZ2V0KCdyb3V0ZWlkJykgfSApLmZldGNoKCkgKVxuICAgICAgICAgICAgICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoIHRoaXMuaXRlbVZpZXdzICkuZm9yRWFjaCggaWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZERlbGl2ZXJ5ID0gT2JqZWN0LmFzc2lnbigge30sIHRoaXMuaXRlbVZpZXdzW2lkXS5zZWxlY3RlZERlbGl2ZXJ5LCBob21lRGVsaXZlcnlSb3V0ZS5waWNrKCBbICdkYXlvZndlZWsnLCAnc3RhcnR0aW1lJywgJ2VuZHRpbWUnIF0gKSApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMuaXRlbVZpZXdzW2lkXS5zZWxlY3RlZERlbGl2ZXJ5LmlzSG9tZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtcy5nZXQoIGlkICkuc2V0KCAnc2VsZWN0ZWREZWxpdmVyeScsIHNlbGVjdGVkRGVsaXZlcnkgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1WaWV3c1tpZF0uc2VsZWN0ZWREZWxpdmVyeSA9IHNlbGVjdGVkRGVsaXZlcnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtVmlld3NbaWRdLnNob3dGZWVkYmFjayggdGhpcy5pdGVtVmlld3NbaWRdLmZlZWRiYWNrLmhvbWUoIHNlbGVjdGVkRGVsaXZlcnkgKSApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJBdHRyaWJ1dGVzID0gT2JqZWN0LmFzc2lnbigge30sIHRoaXMudXNlci5hdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogdGhpcy4kKCcjdmVyaWZpZWRBZGRyZXNzJykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzc01vZGVsOiBPYmplY3QuYXNzaWduKCB0aGlzLnVzZXIuZ2V0KCdhZGRyZXNzTW9kZWwnKSB8fCB7fSAsIHsgcG9zdGFsQ29kZTogdGhpcy4kKCcjdmVyaWZpZWRaaXBDb2RlJykudmFsKCksIHR5cGVzOiBbIFwic3RyZWV0X2FkZHJlc3NcIiBdICB9ICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tQWRkcmVzczogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5RKCB0aGlzLiQuYWpheCggeyBkYXRhOiBKU09OLnN0cmluZ2lmeSggdXNlckF0dHJpYnV0ZXMgKSwgbWV0aG9kOiBcIlBBVENIXCIsIHVybDogXCIvdXNlclwiIH0gKSApXG4gICAgICAgICAgICAgICAgICAgIH0gKS50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXIuc2V0KCB1c2VyQXR0cmlidXRlcywgeyBzaWxlbnQ6IHRydWUgfSApXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGFsVmlldy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLm1vZGFsKCdoaWRlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICAgICAgLmZhaWwoIGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlLnN0YWNrIHx8IGUpO1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZSlcbiAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICAuZG9uZSgpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9IClcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxufSApXG5cbm1vZHVsZS5leHBvcnRzID0gRGVsaXZlcnlcbiIsInZhciBMaXN0SXRlbSA9IHJlcXVpcmUoJy4uL3V0aWwvTGlzdEl0ZW0nKSxcbiAgICBEZWxpdmVyeU9wdGlvbiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gTGlzdEl0ZW0uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIH1cblxuT2JqZWN0LmFzc2lnbiggRGVsaXZlcnlPcHRpb24ucHJvdG90eXBlLCBMaXN0SXRlbS5wcm90b3R5cGUsIHtcblxuICAgIHJlcXVpcmVzTG9naW46IGZhbHNlLFxuXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9zaWdudXAvZGVsaXZlcnlPcHRpb24nKVxuXG59IClcblxubW9kdWxlLmV4cG9ydHMgPSBEZWxpdmVyeU9wdGlvblxuIiwidmFyIExpc3QgPSByZXF1aXJlKCcuLi91dGlsL0xpc3QnKSxcbiAgICBEZWxpdmVyeU9wdGlvbnMgPSBmdW5jdGlvbigpIHsgcmV0dXJuIExpc3QuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIH1cblxuT2JqZWN0LmFzc2lnbiggRGVsaXZlcnlPcHRpb25zLnByb3RvdHlwZSwgTGlzdC5wcm90b3R5cGUsIHtcblxuICAgIEl0ZW1WaWV3OiByZXF1aXJlKCcuL0RlbGl2ZXJ5T3B0aW9uJyksXG5cbiAgICBNb2RlbHM6IHtcbiAgICAgICAgRGVsaXZlcnlSb3V0ZTogcmVxdWlyZSgnLi4vLi4vbW9kZWxzL0RlbGl2ZXJ5Um91dGUnKSxcbiAgICB9LFxuXG4gICAgVmlld3M6IHtcbiAgICAgICAgRHJvcG9mZnM6IHJlcXVpcmUoJy4vRHJvcG9mZnMnKVxuICAgIH0sXG5cbiAgICBmYXJtRmVlZGJhY2soIG1vZGVsICkge1xuICAgICAgICB0aGlzLmZhcm1QaWNrdXAgPSBuZXcgKCB0aGlzLk1vZGVscy5EZWxpdmVyeVJvdXRlLmV4dGVuZCggeyBwYXJzZTogcmVzcG9uc2UgPT4gdGhpcy5Nb2RlbHMuRGVsaXZlcnlSb3V0ZS5wcm90b3R5cGUucGFyc2UoIHJlc3BvbnNlWzBdICkgfSApICkoKVxuICAgICAgICB0aGlzLmZhcm1QaWNrdXAuZmV0Y2goIHsgZGF0YTogeyBsYWJlbDogJ2Zhcm0nIH0gfSApLmRvbmUoICgpID0+IHtcbiAgICAgICAgICAgIGlmKCBPYmplY3Qua2V5cyggdGhpcy5mYXJtUGlja3VwLmF0dHJpYnV0ZXMgKS5sZW5ndGggPT09IDAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0ZlZWRiYWNrKCB0aGlzLmZlZWRiYWNrLm5vRmFybVJvdXRlKCkgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnNob3dGZWVkYmFjayggdGhpcy5mZWVkYmFjay5mYXJtKCB0aGlzLmZhcm1QaWNrdXAuYXR0cmlidXRlcyApIClcblxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERlbGl2ZXJ5ID0gT2JqZWN0LmFzc2lnbigge30sIHsgZGVsaXZlcnlvcHRpb25pZDogbW9kZWwuaWQgfSwgdGhpcy5mYXJtUGlja3VwLnBpY2soIFsgJ2RheW9md2VlaycsICdzdGFydHRpbWUnLCAnZW5kdGltZScgXSApIClcblxuICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWVcbiAgICAgICAgfSApXG4gICAgfSxcbiAgICBcbiAgICBmZWVkYmFjazoge1xuICAgICAgICBob21lOiByZXF1aXJlKCcuLi8uLi90ZW1wbGF0ZXMvc2lnbnVwL2hvbWVEZWxpdmVyeUZlZWRiYWNrJyksXG4gICAgICAgIGZhcm06IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9zaWdudXAvZmFybVBpY2t1cEZlZWRiYWNrJyksXG4gICAgICAgIGdyb3VwOiBmdW5jdGlvbigpIHsgcmV0dXJuIFwiUGxlYXNlIHNlbGVjdCBhIGRyb3BvZmYgbG9jYXRpb24gYmVsb3cuXCIgfSxcbiAgICAgICAgaW52YWxpZFppcDogZnVuY3Rpb24oIHppcGNvZGUgKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51dGlsLmZvcm1hdCggJ1Bvc3RhbCBDb2RlIG9mICVzIGlzIG5vdCBpbiBvdXIgZGVsaXZlcnkgYXJlYS4gIFBsZWFzZSBjb250YWN0IHVzIHRvIGRpc2N1c3Mgb3B0aW9ucy4nLCB6aXBjb2RlIClcbiAgICAgICAgfSxcbiAgICAgICAgbm9GYXJtUm91dGU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gXCJUaGVyZSBpcyBjdXJyZW50bHkgYW4gZXJyb3Igd2l0aCBPbi1GYXJtIFBpY2t1cCBzZWxlY3Rpb24uXCIgfVxuICAgIH0sXG5cbiAgICBnZXRJdGVtVmlld09wdGlvbnMoKSB7IHJldHVybiB7IGNvbnRhaW5lcjogdGhpcy50ZW1wbGF0ZURhdGEub3B0aW9ucyB9IH0sXG5cbiAgICBnZXRUZW1wbGF0ZU9wdGlvbnMoKSB7IHJldHVybiB0aGlzLm1vZGVsLmF0dHJpYnV0ZXMgfSxcblxuICAgIGdyb3VwRmVlZGJhY2soIGRlbGl2ZXJ5T3B0aW9uICkge1xuICAgICAgICBpZiggdGhpcy5kcm9wb2ZmVmlldyApIHtcbiAgICAgICAgICAgIGlmKCAhT2JqZWN0LmtleXMoIHRoaXMuZHJvcG9mZlZpZXcuc2VsZWN0ZWRJdGVtcyApLmxlbmd0aCApIHRoaXMuc2hvd0ZlZWRiYWNrKCB0aGlzLmZlZWRiYWNrLmdyb3VwKCkgKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2xpZGVJbiggdGhpcy5kcm9wb2ZmVmlldy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLmdldCgwKSwgJ3JpZ2h0JyApXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdyb3VwRHJvcG9mZlByb21pc2UudGhlbiggKCkgPT4ge1xuXG4gICAgICAgICAgICBpZiggIXRoaXMuc2VsZWN0ZWREZWxpdmVyeSB8fCAoIHRoaXMuc2VsZWN0ZWREZWxpdmVyeSAmJiAhdGhpcy5zZWxlY3RlZERlbGl2ZXJ5Lmdyb3VwZHJvcG9mZmlkICkgKSB0aGlzLnNob3dGZWVkYmFjayggdGhpcy5mZWVkYmFjay5ncm91cCgpIClcblxuICAgICAgICAgICAgdGhpcy5kcm9wb2ZmVmlldyA9IG5ldyB0aGlzLlZpZXdzLkRyb3BvZmZzKCB7IGNvbnRhaW5lcjogdGhpcy50ZW1wbGF0ZURhdGEuZHJvcG9mZnMgfSApXG4gICAgICAgICAgICAgICAgLm9uKCAnaXRlbVVuc2VsZWN0ZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJvcG9mZlZpZXcuaXRlbVZpZXdzLmZvckVhY2goIHZpZXcgPT4gdGhpcy5mYWRlSW4oIHZpZXcudGVtcGxhdGVEYXRhLmNvbnRhaW5lci5nZXQoMCkgKSApXG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RmVlZGJhY2soIHRoaXMuZmVlZGJhY2suZ3JvdXAoKSApXG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlIFxuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgICAgIC5vbiggJ2l0ZW1TZWxlY3RlZCcsIG1vZGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkSWQgPSBtb2RlbC5pZFxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlbC5nZXQoJ2dyb3VwZHJvcG9mZnMnKS5mb3JFYWNoKCBkcm9wb2ZmTW9kZWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGRyb3BvZmZNb2RlbC5pZCAhPT0gc2VsZWN0ZWRJZCApIHRoaXMuZmFkZU91dCggdGhpcy5kcm9wb2ZmVmlldy5pdGVtVmlld3NbIGRyb3BvZmZNb2RlbC5pZCBdLnRlbXBsYXRlRGF0YS5jb250YWluZXIuZ2V0KDApIClcbiAgICAgICAgICAgICAgICAgICAgfSApXG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERlbGl2ZXJ5ID0gT2JqZWN0LmFzc2lnbigge30sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGRlbGl2ZXJ5b3B0aW9uaWQ6IGRlbGl2ZXJ5T3B0aW9uLmlkLCBncm91cGRyb3BvZmZpZDogbW9kZWwuaWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLnBpY2soIFsgJ2RheW9md2VlaycsICdzdGFydHRpbWUnLCAnZW5kdGltZScgXSApXG4gICAgICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5mZWVkYmFjay5lbXB0eSgpXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZVxuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgICAgIC5vbiggJ2l0ZW1BZGRlZCcsIG1vZGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkRGVsaXZlcnkgPSB0aGlzLm1vZGVsLmdldCgnc2VsZWN0ZWREZWxpdmVyeScpXG4gICAgICAgICAgICAgICAgICAgIGlmKCBzZWxlY3RlZERlbGl2ZXJ5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyggdGhpcy5kcm9wb2ZmVmlldy5pdGVtVmlld3MgKS5sZW5ndGggPT0gdGhpcy5kcm9wb2ZmVmlldy5pdGVtcy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJvcG9mZlZpZXcuaXRlbVZpZXdzWyBzZWxlY3RlZERlbGl2ZXJ5Lmdyb3VwZHJvcG9mZmlkIF0gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJvcG9mZlZpZXcuc2VsZWN0SXRlbSggdGhpcy5kcm9wb2ZmVmlldy5pdGVtcy5nZXQoIHNlbGVjdGVkRGVsaXZlcnkuZ3JvdXBkcm9wb2ZmaWQgKSApXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IClcblxuICAgICAgICAgICAgdGhpcy5kcm9wb2ZmVmlldy5pdGVtcy5yZXNldCggdGhpcy5tb2RlbC5nZXQoJ2dyb3VwZHJvcG9mZnMnKS5tb2RlbHMgKVxuXG4gICAgICAgICAgICBpZiggdGhpcy5tb2RlbC5nZXQoJ2dyb3VwZHJvcG9mZnMnKS5sZW5ndGggPT09IDAgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wb2ZmVmlldy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLnRleHQoXCJObyBhdmFpbGFibGUgZ3JvdXAgZHJvcG9mZiBsb2NhdGlvbnMsIHBsZWFzZSBzZWxlY3QgYW5vdGhlciBvcHRpb25cIilcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zbGlkZUluKCB0aGlzLmRyb3BvZmZWaWV3LnRlbXBsYXRlRGF0YS5jb250YWluZXIuZ2V0KDApLCAncmlnaHQnIClcblxuICAgICAgICB9IClcbiAgICAgICAgLmZhaWwoIGUgPT4gY29uc29sZS5sb2coIGUuc3RhY2sgfHwgZSApIClcbiAgICAgICAgLmRvbmUoKVxuICAgIH0sXG5cbiAgICBob21lRmVlZGJhY2soIGRlbGl2ZXJ5T3B0aW9uICkge1xuICAgICAgICB2YXIgYWRkcmVzc01vZGVsID0gdGhpcy51c2VyLmdldCgnYWRkcmVzc01vZGVsJyksXG4gICAgICAgICAgICB1c2VyUG9zdGFsQ29kZSA9ICggYWRkcmVzc01vZGVsICkgPyBhZGRyZXNzTW9kZWwucG9zdGFsQ29kZSA6IHVuZGVmaW5lZFxuXG4gICAgICAgIGlmKCAhdXNlclBvc3RhbENvZGUgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd0ZlZWRiYWNrKCc8ZGl2PkJlY2F1c2Ugd2UgY291bGQgbm90IGxvb2t1cCB5b3VyIGFkZHJlc3MsIHdlIGFyZSBjdXJyZW50bHkgdW5hYmxlIHRvIHByb3ZpZGUgYSBkZWxpdmVyeSBkYXkgZm9yIHRoZSB3ZWVrIG9yIHRpbWUuICBXZSB3aWxsIHRha2UgY2FyZSBvZiB0aGlzIGluIHRoZSBuZXh0IHN0ZXAgYnkgaGF2aW5nIHlvdSB2ZXJpZnkgeW91ciBhZGRyZXNzLjwvZGl2PicpXG5cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREZWxpdmVyeSA9IHsgZGVsaXZlcnlvcHRpb25pZDogZGVsaXZlcnlPcHRpb24uaWQsIGlzSG9tZTogdHJ1ZSB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbGlkID0gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy56aXBSb3V0ZSA9IG5ldyAoIHRoaXMuTW9kZWwuZXh0ZW5kKCB7IHBhcnNlOiByZXNwb25zZSA9PiByZXNwb25zZVswXSwgdXJsUm9vdDogXCIvemlwY29kZXJvdXRlXCIgfSApICkoKVxuICAgICAgICB0aGlzLmhvbWVEZWxpdmVyeVJvdXRlID0gbmV3IHRoaXMuTW9kZWxzLkRlbGl2ZXJ5Um91dGUoKVxuXG4gICAgICAgIHRoaXMuemlwUm91dGVcbiAgICAgICAgICAgIC5mZXRjaCggeyBkYXRhOiB7IHppcGNvZGU6IHVzZXJQb3N0YWxDb2RlIH0gfSApXG4gICAgICAgICAgICAuZmFpbCggZSA9PiBjb25zb2xlLmxvZyggZS5zdGFjayB8fCBlICkgKVxuICAgICAgICAgICAgLmRvbmUoICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiggT2JqZWN0LmtleXMoIHRoaXMuemlwUm91dGUuYXR0cmlidXRlcyApLmxlbmd0aCA9PT0gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3dGZWVkYmFjayggdGhpcy5mZWVkYmFjay5pbnZhbGlkWmlwLmNhbGwoIHRoaXMsIHVzZXJQb3N0YWxDb2RlICkgKVxuICAgICAgICAgICAgICAgIH0gICAgXG4gICAgICAgICAgICAgICAgdGhpcy5ob21lRGVsaXZlcnlSb3V0ZS5zZXQoIHsgaWQ6IHRoaXMuemlwUm91dGUuZ2V0KCdyb3V0ZWlkJykgfSApXG4gICAgICAgICAgICAgICAgLmZldGNoKClcbiAgICAgICAgICAgICAgICAuZmFpbCggZSA9PiBjb25zb2xlLmxvZyggZS5zdGFjayB8fCBlICkgKVxuICAgICAgICAgICAgICAgIC5kb25lKCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0ZlZWRiYWNrKCB0aGlzLmZlZWRiYWNrLmhvbWUoIHRoaXMuaG9tZURlbGl2ZXJ5Um91dGUuYXR0cmlidXRlcyApIClcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREZWxpdmVyeSA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGRlbGl2ZXJ5b3B0aW9uaWQ6IGRlbGl2ZXJ5T3B0aW9uLmlkLCBpc0hvbWU6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG9tZURlbGl2ZXJ5Um91dGUucGljayggWyAnZGF5b2Z3ZWVrJywgJ3N0YXJ0dGltZScsICdlbmR0aW1lJyBdIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWVcbiAgICAgICAgICAgICAgICB9IClcbiAgICAgICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBwb3N0UmVuZGVyKCkge1xuICAgICAgICBcbiAgICAgICAgdmFyIHNoYXJlID0gdGhpcy5tb2RlbFxuXG4gICAgICAgIHRoaXMuc2VsZWN0aW9uID0gJ3NpbmdsZSdcblxuICAgICAgICBMaXN0LnByb3RvdHlwZS5wb3N0UmVuZGVyLmNhbGwoIHRoaXMgKVxuXG4gICAgICAgIHRoaXMub24oICdpdGVtQWRkZWQnLCBtb2RlbCA9PiB7XG4gICAgICAgICAgICB2YXIgcHJpY2UgPSBwYXJzZUZsb2F0KCBtb2RlbC5nZXQoJ3ByaWNlJykucmVwbGFjZSgvXFwkfCwvZywgXCJcIikgKSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZERlbGl2ZXJ5ID0gdGhpcy5tb2RlbC5nZXQoJ3NlbGVjdGVkRGVsaXZlcnknKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiggcHJpY2UgPT0gMCApIHRoaXMuaXRlbVZpZXdzWyBtb2RlbC5pZCBdLnRlbXBsYXRlRGF0YS5kZWxpdmVyeVByaWNlLnRleHQoIFwiTm8gY2hhcmdlXCIgKVxuICAgICAgICAgICAgZWxzZSBpZiggcHJpY2UgPCAwICkgdGhpcy5pdGVtVmlld3NbIG1vZGVsLmlkIF0udGVtcGxhdGVEYXRhLmRlbGl2ZXJ5UHJpY2UudGV4dCggdGhpcy51dGlsLmZvcm1hdCgnU2F2ZSAlcyBwZXIgd2VlaycsIG1vZGVsLmdldCgncHJpY2UnKS5yZXBsYWNlKCctJywnJykgKSApXG5cbiAgICAgICAgICAgIGlmKCBzZWxlY3RlZERlbGl2ZXJ5ICYmIHNlbGVjdGVkRGVsaXZlcnkuZGVsaXZlcnlvcHRpb25pZCA9PSBtb2RlbC5pZCApIHRoaXMuc2VsZWN0SXRlbSggbW9kZWwgKVxuICAgICAgICB9IClcblxuICAgICAgICBzaGFyZS5nZXREZWxpdmVyeU9wdGlvbnMoKVxuICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgdmFyIGRlbGl2ZXJ5T3B0aW9ucyA9IHNoYXJlLmdldCgnZGVsaXZlcnlvcHRpb25zJylcblxuICAgICAgICAgICAgdGhpcy5pdGVtcy5yZXNldCggZGVsaXZlcnlPcHRpb25zLm1vZGVscyApXG5cbiAgICAgICAgICAgIGlmKCBkZWxpdmVyeU9wdGlvbnMubGVuZ3RoID09PSAwICkgdGhpcy50ZW1wbGF0ZURhdGEub3B0aW9ucy50ZXh0KCdUaGlzIHNoYXJlIGRvZXMgbm90IGhhdmUgZGVsaXZlcnkgb3B0aW9ucyBhc3NvY2lhdGVkIHdpdGggaXQuICBQbGVhc2UgY29udGFjdCBQYXRjaHdvcmsgYW5kIHNpZ24gdXAgZm9yIHRoaXMgcGFydGljdWxhciBzaGFyZSBhdCBhIGxhdGVyIGRhdGUuJylcbiAgICAgICAgfSApXG4gICAgICAgIC5mYWlsKCBlID0+IGNvbnNvbGUubG9nKCBlLnN0YWNrIHx8IGUgKSApXG4gICAgICAgIC5kb25lKClcblxuICAgICAgICB0aGlzLm9uKCAnaXRlbVNlbGVjdGVkJywgbW9kZWwgPT4ge1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLnJlbW92ZUNsYXNzKCdoYXMtZXJyb3InKVxuICAgICAgICAgICAgaWYoIHRoaXMuZHJvcG9mZlZpZXcgJiYgbW9kZWwuZ2V0KCduYW1lJykgIT09ICdncm91cCcgKSB7IHRoaXMuZHJvcG9mZlZpZXcuZGVsZXRlKCk7IHRoaXMuZHJvcG9mZlZpZXcgPSB1bmRlZmluZWQgfVxuICAgICAgICAgICAgdGhpc1sgdGhpcy51dGlsLmZvcm1hdCgnJXNGZWVkYmFjaycsIG1vZGVsLmdldCgnbmFtZScpICkgXSggbW9kZWwgKSAgICAgICAgXG4gICAgICAgIH0gKVxuICAgICAgICAub24oICdpdGVtVW5zZWxlY3RlZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZVxuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuZmVlZGJhY2suZW1wdHkoKVxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERlbGl2ZXJ5ID0gbnVsbFxuICAgICAgICAgICAgaWYoIHRoaXMuZHJvcG9mZlZpZXcgKSB0aGlzLnNsaWRlT3V0KCB0aGlzLmRyb3BvZmZWaWV3LnRlbXBsYXRlRGF0YS5jb250YWluZXIuZ2V0KDApLCAncmlnaHQnIClcbiAgICAgICAgfSApXG5cbiAgICAgICAgdGhpcy5ncm91cERyb3BvZmZQcm9taXNlID0gc2hhcmUuZ2V0R3JvdXBEcm9wb2ZmcygpXG5cbiAgICAgICAgdGhpcy51c2VyLm9uKCAnY2hhbmdlOmFkZHJlc3MnLCAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRJZHMgPSBPYmplY3Qua2V5cyggdGhpcy5zZWxlY3RlZEl0ZW1zIClcblxuICAgICAgICAgICAgaWYoIHNlbGVjdGVkSWRzLmxlbmd0aCA9PT0gMCApIHJldHVyblxuXG4gICAgICAgICAgICB0aGlzLnVuc2VsZWN0SXRlbSggdGhpcy5pdGVtcy5nZXQoIHNlbGVjdGVkSWRzWzBdICkgKVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgcmVxdWlyZXNMb2dpbjogZmFsc2UsXG5cbiAgICBzaG93RmVlZGJhY2soIGh0bWwgKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLmZlZWRiYWNrLmh0bWwoIGh0bWwgKS5zaG93KClcbiAgICB9LFxuXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9zaWdudXAvZGVsaXZlcnlPcHRpb25zJylcbn0gKVxuXG5tb2R1bGUuZXhwb3J0cyA9IERlbGl2ZXJ5T3B0aW9uc1xuIiwidmFyIEl0ZW0gPSByZXF1aXJlKCcuLi91dGlsL0xpc3RJdGVtJyksXG4gICAgRHJvcG9mZiA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gSXRlbS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgfVxuXG5PYmplY3QuYXNzaWduKCBEcm9wb2ZmLnByb3RvdHlwZSwgSXRlbS5wcm90b3R5cGUsIHtcblxuICAgIHJlcXVpcmVzTG9naW46IGZhbHNlLFxuXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9zaWdudXAvZHJvcG9mZicpXG5cbn0gKVxuXG5tb2R1bGUuZXhwb3J0cyA9IERyb3BvZmZcbiIsInZhciBMaXN0ID0gcmVxdWlyZSgnLi4vdXRpbC9MaXN0JyksXG4gICAgRHJvcG9mZnMgPSBmdW5jdGlvbigpIHsgcmV0dXJuIExpc3QuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIH1cblxuT2JqZWN0LmFzc2lnbiggRHJvcG9mZnMucHJvdG90eXBlLCBMaXN0LnByb3RvdHlwZSwge1xuXG4gICAgSXRlbVZpZXc6IHJlcXVpcmUoJy4vRHJvcG9mZicpLFxuXG4gICAgcmVxdWlyZXNMb2dpbjogZmFsc2UsXG5cbiAgICBzZWxlY3Rpb246ICdzaW5nbGUnLFxuXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9zaWdudXAvZHJvcG9mZnMnKSxcblxufSApXG5cbm1vZHVsZS5leHBvcnRzID0gRHJvcG9mZnNcbiIsInZhciBWaWV3ID0gcmVxdWlyZSgnLi4vTXlWaWV3JyksXG4gICAgRm9ybSA9IHJlcXVpcmUoJy4uL3V0aWwvRm9ybScpLnByb3RvdHlwZSxcbiAgICBNZW1iZXJJbmZvID0gZnVuY3Rpb24oKSB7IHJldHVybiBWaWV3LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSB9XG5cbk9iamVjdC5hc3NpZ24oIE1lbWJlckluZm8ucHJvdG90eXBlLCBWaWV3LnByb3RvdHlwZSwge1xuXG4gICAgQ3VzdG9tZXI6IHJlcXVpcmUoJy4uLy4uL21vZGVscy9DdXN0b21lcicpLFxuICAgIE1lbWJlckZvb2RPbWlzc2lvbjogcmVxdWlyZSgnLi4vLi4vbW9kZWxzL01lbWJlckZvb2RPbWlzc2lvbicpLFxuXG4gICAgYWRkcmVzc1NlbGVjdGVkKCkge1xuICAgICAgICB2YXIgcGxhY2UgPSB0aGlzLmFkZHJlc3NBdXRvQ29tcGxldGUuZ2V0UGxhY2UoKVxuXG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLmFkZHJlc3MudmFsKCBwbGFjZS5mb3JtYXR0ZWRfYWRkcmVzcyApIFxuICAgICAgICB0aGlzLnNob3dWYWxpZCggdGhpcy50ZW1wbGF0ZURhdGEuYWRkcmVzcyApXG5cbiAgICAgICAgdGhpcy51c2VyLnNldCgge1xuICAgICAgICAgICAgYWRkcmVzczogcGxhY2UuZm9ybWF0dGVkX2FkZHJlc3MsXG4gICAgICAgICAgICBhZGRyZXNzTW9kZWw6IHtcbiAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiB0aGlzLl8oIHBsYWNlLmFkZHJlc3NfY29tcG9uZW50cyApLmZpbmQoIGNvbXBvbmVudCA9PiBjb21wb25lbnQudHlwZXNbMF0gPT09IFwicG9zdGFsX2NvZGVcIiApLnNob3J0X25hbWUsXG4gICAgICAgICAgICAgICAgdHlwZXM6IHBsYWNlLnR5cGVzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBjaGVja0ZvckFjY291bnQoIHZhbGlkICkge1xuICAgICAgICBjb25zdCBlbWFpbCA9IHRoaXMudGVtcGxhdGVEYXRhLmVtYWlsLnZhbCgpXG4gICAgICAgIGlmKCAhZW1haWwgKSByZXR1cm4gdGhpcy5RKClcblxuICAgICAgICByZXR1cm4gdGhpcy5RKCB0aGlzLiQuYWpheCgge1xuICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoIHsgZW1haWw6IHRoaXMuJC50cmltKCBlbWFpbCApIH0gKSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogXCIvY2hlY2stZW1haWxcIlxuICAgICAgICB9ICkgKVxuICAgICAgICAudGhlbiggcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYoIHJlc3BvbnNlLmhhc0FjY291bnQgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuZXhpc3RpbmdBY2NvdW50Tm90aWNlLnJlbW92ZUNsYXNzKCdmZC1oaWRkZW4nKVxuICAgICAgICAgICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLmNvbnRhaW5lci5nZXQoMCkuc2Nyb2xsSW50b1ZpZXcoIHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0gKVxuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2VcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuUSgpXG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBlbWFpbFJlZ2V4OiBGb3JtLmVtYWlsUmVnZXgsXG5cbiAgICBldmVudHM6IHsgXG4gICAgICAgICdpbmZvQnRuJzogeyBtZXRob2Q6ICdzaG93SW5mb01vZGFsJyB9XG4gICAgfSxcblxuICAgIGZpZWxkczogWyB7XG4gICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgbGFiZWw6ICdOYW1lJyxcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICBlcnJvcjogXCJOYW1lIGlzIGEgcmVxdWlyZWQgZmllbGQuXCIsXG4gICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbiggdmFsICkgeyByZXR1cm4gdGhpcy4kLnRyaW0odmFsKSAhPT0gJycgfVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ2VtYWlsJyxcbiAgICAgICAgbGFiZWw6ICdFbWFpbCcsXG4gICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgZXJyb3I6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcy5cIixcbiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uKCB2YWwgKSB7IHJldHVybiB0aGlzLmVtYWlsUmVnZXgudGVzdCh2YWwpIH1cbiAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdwaG9uZW51bWJlcicsXG4gICAgICAgIGxhYmVsOiAnUGhvbmUgTnVtYmVyJyxcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICBlcnJvcjogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBwaG9uZSBudW1iZXIuXCIsXG4gICAgICAgIHZhbGlkYXRlOiB2YWwgPT4gdmFsLmxlbmd0aCA+IDgsXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnYWRkcmVzcycsXG4gICAgICAgIGxhYmVsOiAnQWRkcmVzcyAxJyxcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICBlcnJvcjogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBhZGRyZXNzLlwiLFxuICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24odmFsKSB7IHJldHVybiB0aGlzLnZhbGlkYXRlQWRkcmVzcyggdmFsICkgfVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ2V4dHJhYWRkcmVzcycsXG4gICAgICAgIGxhYmVsOiAnQWRkcmVzcyAyJyxcbiAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICB2YWxpZGF0ZTogKCkgPT4gdHJ1ZVxuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ3Bhc3N3b3JkJyxcbiAgICAgICAgbGFiZWw6ICdQYXNzd29yZCcsXG4gICAgICAgIHR5cGU6ICdwYXNzd29yZCcsXG4gICAgICAgIGVycm9yOiBcIlBhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3Qgc2l4IGNoYXJhY3RlcnMuXCIsXG4gICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbih2YWwpIHsgcmV0dXJuIHRoaXMudXNlci5pc0FkbWluKCkgfHwgdGhpcy51c2VyLmlzTG9nZ2VkSW4oKSB8fCB2YWwubGVuZ3RoID4gNSB9XG4gICAgfSwge1xuICAgICAgICBuYW1lOiAncmVwZWF0cGFzc3dvcmQnLFxuICAgICAgICBsYWJlbDogJ1JlcGVhdCBQYXNzd29yZCcsXG4gICAgICAgIHR5cGU6ICdwYXNzd29yZCcsXG4gICAgICAgIGVycm9yOiBcIlBhc3N3b3JkcyBtdXN0IG1hdGNoLlwiLFxuICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24oIHZhbCApIHsgcmV0dXJuIHRoaXMudXNlci5pc0FkbWluKCkgfHwgdGhpcy51c2VyLmlzTG9nZ2VkSW4oKSB8fCAoIHZhbCA9PT0gdGhpcy50ZW1wbGF0ZURhdGEucGFzc3dvcmQudmFsKCkgKSB9XG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnb21pc3Npb24nLFxuICAgICAgICBsYWJlbDogJ09wdC1vdXQgVmVnZXRhYmxlJyxcbiAgICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICAgIGluZm86IHRydWUsXG4gICAgICAgIHZhbGlkYXRlOiAoKSA9PiB0cnVlXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnaGVhcmQnLFxuICAgICAgICBsYWJlbDogJ0hvdyB5b3UgaGVhcmQgYWJvdXQgdXMnLFxuICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgIHZhbGlkYXRlOiAoKSA9PiB0cnVlXG4gICAgfSBdLFxuXG4gICAgZ2VvbG9jYXRlKCkge1xuICAgICAgICBpZiggbmF2aWdhdG9yLmdlb2xvY2F0aW9uICkge1xuICAgICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbiggcG9zaXRpb24gPT5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRyZXNzQXV0b0NvbXBsZXRlLnNldEJvdW5kcyhcbiAgICAgICAgICAgICAgICAgICAgbmV3IGdvb2dsZS5tYXBzLkNpcmNsZSgge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBwb3NpdGlvbi5jb29yZHMubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBwb3NpdGlvbi5jb29yZHMuYWNjdXJhY3kgfSApXG4gICAgICAgICAgICAgICAgICAgIC5nZXRCb3VuZHMoKSApXG5cbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBnZXRUZW1wbGF0ZU9wdGlvbnMoKSB7IHJldHVybiB7IGZpZWxkczogdGhpcy5maWVsZHMgfSB9LFxuXG4gICAgaW5pdEF1dG9jb21wbGV0ZSgpIHtcbiAgICAgICAgdGhpcy5hZGRyZXNzQXV0b0NvbXBsZXRlID0gbmV3IGdvb2dsZS5tYXBzLnBsYWNlcy5BdXRvY29tcGxldGUoIHRoaXMudGVtcGxhdGVEYXRhLmFkZHJlc3MuZ2V0KDApLCB7IHR5cGVzOiBbJ2FkZHJlc3MnXSB9IClcblxuICAgICAgICB0aGlzLmFkZHJlc3NBdXRvQ29tcGxldGUuYWRkTGlzdGVuZXIoICdwbGFjZV9jaGFuZ2VkJywgdGhpcy5hZGRyZXNzU2VsZWN0ZWQuYmluZCh0aGlzKSApXG4gICAgfSxcblxuICAgIG9uU2lnbnVwTmF2aWdhdGlvbigpIHtcbiAgICAgICAgdGhpcy5maWVsZHMuZmlsdGVyKCBmaWVsZCA9PiBmaWVsZC5uYW1lICE9PSAnb21pc3Npb24nICkuZm9yRWFjaCggZmllbGQgPT4gdGhpcy5yZW1vdmVFcnJvciggdGhpcy50ZW1wbGF0ZURhdGFbIGZpZWxkLm5hbWUgXSApIClcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuZXhpc3RpbmdBY2NvdW50Tm90aWNlLmFkZENsYXNzKCdmZC1oaWRkZW4nKVxuICAgICAgICB0aGlzLnBvcHVsYXRlRmllbGRzKClcbiAgICB9LFxuXG4gICAgcG9wdWxhdGVGaWVsZHMoKSB7XG4gICAgICAgIGlmKCB0aGlzLnVzZXIuaXNMb2dnZWRJbigpICkge1xuICAgICAgICAgICAgdGhpcy5DdXN0b21lci5nZXQoIHsgcXVlcnk6IHsgZW1haWw6IHRoaXMudXNlci5nZXQoJ2VtYWlsJyksICdpZCc6IHsgb3BlcmF0aW9uOiAnam9pbicsIHZhbHVlOiB7IHRhYmxlOiAnbWVtYmVyJywgY29sdW1uOiAncGVyc29uaWQnIH0gfSB9IH0gKVxuICAgICAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21lciA9IHRoaXMuQ3VzdG9tZXIuZGF0YVswXVxuXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoIGN1c3RvbWVyLnBlcnNvbi5kYXRhICkuZm9yRWFjaCgga2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMuZmllbGRzLmZpbmQoIGZpZWxkID0+IGZpZWxkLm5hbWUgPT09IGtleSApICYmICF0aGlzLnVzZXIuZ2V0KCBrZXkgKSApIHRoaXMudGVtcGxhdGVEYXRhWyBrZXkgXS52YWwoIGN1c3RvbWVyLnBlcnNvbi5kYXRhWyBrZXkgXSApXG4gICAgICAgICAgICAgICAgfSApXG5cbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyggY3VzdG9tZXIubWVtYmVyLmRhdGEgKS5mb3JFYWNoKCBrZXkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5maWVsZHMuZmluZCggZmllbGQgPT4gZmllbGQubmFtZSA9PT0ga2V5ICkgJiYgIXRoaXMudXNlci5nZXQoIGtleSApICkgdGhpcy50ZW1wbGF0ZURhdGFbIGtleSBdLnZhbCggY3VzdG9tZXIubWVtYmVyLmRhdGFbIGtleSBdIClcbiAgICAgICAgICAgICAgICB9IClcblxuICAgICAgICAgICAgICAgIHRoaXMubWVtYmVyQWRkcmVzcyA9IGN1c3RvbWVyLm1lbWJlci5kYXRhLmFkZHJlc3NcbiAgICAgICAgICAgICAgICB0aGlzLm1lbWJlclppcGNvZGUgPSBjdXN0b21lci5tZW1iZXIuZGF0YS56aXBjb2RlXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRGb29kT21pc3Npb24oIGN1c3RvbWVyICkuY2F0Y2goIGUgPT4geyBjb25zb2xlLmxvZyggJ2Vycm9yJywgJ0Vycm9yIHJldHJpZXZpbmcgRm9vZCBPbWlzc2lvbiBEYXRhJyApOyB0aGlzLkVycm9yIH0gKVxuICAgICAgICAgICAgfSApXG4gICAgICAgIH0gZWxzZSB0aGlzLkN1c3RvbWVyLmRhdGEgPSB7IH1cblxuICAgICAgICB0aGlzLmZpZWxkcy5mb3JFYWNoKCBmaWVsZCA9PiB7XG4gICAgICAgICAgICBpZiggdGhpcy51c2VyLmhhcyggZmllbGQubmFtZSApICkge1xuICAgICAgICAgICAgICAgIHRoaXMudGVtcGxhdGVEYXRhWyBmaWVsZC5uYW1lIF0udmFsKCB0aGlzLnVzZXIuZ2V0KCBmaWVsZC5uYW1lICkgKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IClcblxuICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5lbWFpbC5nZXQoMCkuY2xvc2VzdCgnLmZvcm0tZ3JvdXAnKS5jbGFzc0xpc3QudG9nZ2xlKCAnZmQtaGlkZGVuJywgdGhpcy51c2VyLmlzTG9nZ2VkSW4oKSApXG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLnBhc3N3b3JkLmdldCgwKS5jbG9zZXN0KCcuZm9ybS1ncm91cCcpLmNsYXNzTGlzdC50b2dnbGUoICdmZC1oaWRkZW4nLCB0aGlzLnVzZXIuaXNMb2dnZWRJbigpIClcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEucmVwZWF0cGFzc3dvcmQuZ2V0KDApLmNsb3Nlc3QoJy5mb3JtLWdyb3VwJykuY2xhc3NMaXN0LnRvZ2dsZSggJ2ZkLWhpZGRlbicsIHRoaXMudXNlci5pc0xvZ2dlZEluKCkgKVxuICAgIH0sXG5cbiAgICBzZXRGb29kT21pc3Npb24oIGN1c3RvbWVyICkge1xuICAgICAgICByZXR1cm4gdGhpcy5NZW1iZXJGb29kT21pc3Npb24uZ2V0KCB7IHF1ZXJ5OiB7IG1lbWJlcmlkOiBjdXN0b21lci5tZW1iZXIuZGF0YS5pZCB9IH0gKVxuICAgICAgICAudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgaWYoIHRoaXMuTWVtYmVyRm9vZE9taXNzaW9uLmRhdGEubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdHVtID0gdGhpcy5NZW1iZXJGb29kT21pc3Npb24uZGF0YVswXSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLkZvb2RPbWlzc2lvbi5Gb29kcy5kYXRhLmZpbmRJbmRleCggZm9vZCA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgKCBmb29kLnByb2R1Y2VpZCA9PSBkYXR1bS5wcm9kdWNlaWQgJiYgZm9vZC5wcm9kdWNlaWQgIT09IG51bGwgKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKCBmb29kLnByb2R1Y2VmYW1pbHlpZCA9PSBkYXR1bS5wcm9kdWNlZmFtaWx5aWQgJiYgZGF0dW0ucHJvZHVjZWlkID09PSBudWxsICkgKVxuXG4gICAgICAgICAgICAgICAgaWYoIGluZGV4ICE9PSAtMSApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9vZERhdHVtID0gdGhpcy5Gb29kT21pc3Npb24uRm9vZHMuZGF0YVsgaW5kZXggXVxuICAgICAgICAgICAgICAgICAgICBkYXR1bS5uYW1lID0gZm9vZERhdHVtLm5hbWVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Gb29kT21pc3Npb24ubXMuc2V0U2VsZWN0aW9uKCBbIE9iamVjdC5hc3NpZ24oIHt9LCBmb29kRGF0dW0sIHsgaWQ6IGluZGV4IH0gKSBdIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuRm9vZE9taXNzaW9uLmNsZWFyKClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIH0gKVxuICAgIH0sXG5cbiAgICBwb3N0UmVuZGVyKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgaWYoIHRoaXMudXNlci5pc0FkbWluKCkgKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdzID0geyBtZW1iZXJUeXBlYWhlYWQ6IHRoaXMuZmFjdG9yeS5jcmVhdGUoICdtZW1iZXJUeXBlYWhlYWQnLCBPYmplY3QuYXNzaWduKCB7IGluc2VydGlvbjogeyBlbDogdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLmdldCgwKS5maXJzdENoaWxkLCBtZXRob2Q6ICdpbnNlcnRCZWZvcmUnIH0gfSApICkgfVxuICAgICAgICAgICAgdGhpcy52aWV3cy5tZW1iZXJUeXBlYWhlYWQuZm9jdXMoKVxuXG4gICAgICAgICAgICB0aGlzLnZpZXdzLm1lbWJlclR5cGVhaGVhZC5vbiggJ2N1c3RvbWVyU2VsZWN0ZWQnLCBjdXN0b21lciA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEN1c3RvbWVyID0gY3VzdG9tZXJcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5uYW1lLnZhbCggY3VzdG9tZXIucGVyc29uLmRhdGEubmFtZSApXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuZW1haWwudmFsKFxuICAgICAgICAgICAgICAgICAgICBjdXN0b21lci5wZXJzb24uZGF0YS5zZWNvbmRhcnlFbWFpbFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBbIGN1c3RvbWVyLnBlcnNvbi5kYXRhLmVtYWlsLCBjdXN0b21lci5wZXJzb24uZGF0YS5zZWNvbmRhcnlFbWFpbCBdLmpvaW4oJywgJylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY3VzdG9tZXIucGVyc29uLmRhdGEuZW1haWxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEucGhvbmVudW1iZXIudmFsKCBjdXN0b21lci5tZW1iZXIuZGF0YS5waG9uZW51bWJlciApXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuYWRkcmVzcy52YWwoIGN1c3RvbWVyLm1lbWJlci5kYXRhLmFkZHJlc3MgKVxuICAgICAgICAgICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLmV4dHJhYWRkcmVzcy52YWwoIGN1c3RvbWVyLm1lbWJlci5kYXRhLmV4dHJhYWRkcmVzcyApXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuaGVhcmQudmFsKCBjdXN0b21lci5tZW1iZXIuZGF0YS5oZWFyZCApXG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldEZvb2RPbWlzc2lvbiggY3VzdG9tZXIgKVxuICAgICAgICAgICAgICAgIC5jYXRjaCggZSA9PiB7IHRoaXMuVG9hc3Quc2hvd01lc3NhZ2UoICdlcnJvcicsICdFcnJvciByZXRyaWV2aW5nIEZvb2QgT21pc3Npb24gRGF0YScgKTsgdGhpcy5FcnJvciB9IClcbiAgICAgICAgICAgIH0gKTtcbiAgICAgICAgfVxuXG4gICAgICAgICggd2luZG93Lmdvb2dsZSAmJiB3aW5kb3cuZ29vZ2xlLm1hcHMgKSBcbiAgICAgICAgICAgID8gdGhpcy5pbml0QXV0b2NvbXBsZXRlKClcbiAgICAgICAgICAgIDogd2luZG93LmluaXRHTWFwID0gKCkgPT4gdGhpcy5pbml0QXV0b2NvbXBsZXRlKClcblxuICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5hZGRyZXNzLmF0dHIoICdwbGFjZWhvbGRlcicsICcnIClcbiAgICAgICAgXG4gICAgICAgIHRoaXMuRm9vZE9taXNzaW9uID0gdGhpcy5mYWN0b3J5LmNyZWF0ZSggJ2Zvb2RPbWlzc2lvbicsIHsgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLnRlbXBsYXRlRGF0YS5vbWlzc2lvbi5nZXQoMCksIG1ldGhvZDogJ2FmdGVyJyB9IH0gKVxuXG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLm9taXNzaW9uLnJlbW92ZSgpXG5cbiAgICAgICAgdGhpcy5Gb29kT21pc3Npb24uaW5pdGlhbGl6ZUZvb2RPbWlzc2lvbigpXG4gICAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5vbWlzc2lvbiA9IHRoaXMuRm9vZE9taXNzaW9uLmdldE1hZ2ljU3VnZ2VzdCgpXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMucG9wdWxhdGVGaWVsZHMoKVxuICAgICAgICBcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLmZpbmQoJ2Zvcm0gaW5wdXQnKVxuICAgICAgICAub24oICdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJGVsID0gc2VsZi4kKHRoaXMpLFxuICAgICAgICAgICAgICAgIGZpZWxkID0gc2VsZi5fKCBzZWxmLmZpZWxkcyApLmZpbmQoIGZ1bmN0aW9uKCBmaWVsZCApIHsgcmV0dXJuIGZpZWxkLm5hbWUgPT09ICRlbC5hdHRyKCdpZCcpIH0gKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiggZmllbGQubmFtZSA9PT0gJ2FkZHJlc3MnICkge1xuICAgICAgICAgICAgICAgIGlmKCBzZWxmLnRlbXBsYXRlRGF0YS5hZGRyZXNzLnZhbCgpID09PSAnJyApIHNlbGYuc2hvd0Vycm9yKCAkZWwsIGZpZWxkLmVycm9yIClcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgc2VsZi5RLmZjYWxsKCBmaWVsZC52YWxpZGF0ZS5iaW5kKCBzZWxmLCAkZWwudmFsKCkgKSApLnRoZW4oIHZhbGlkID0+IHtcbiAgICAgICAgICAgICAgICBpZiggdmFsaWQgKSB7IHNlbGYuc2hvd1ZhbGlkKCAkZWwgKSB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IHNlbGYuc2hvd0Vycm9yKCAkZWwsIGZpZWxkLmVycm9yICkgfVxuICAgICAgICAgICAgfSApXG4gICAgICAgIH0gKVxuICAgICAgICAub24oICdmb2N1cycsIGZ1bmN0aW9uKCkgeyBzZWxmLnJlbW92ZUVycm9yKCBzZWxmLiQodGhpcykgKSB9IClcblxuICAgICAgICB0aGlzLmZpZWxkcy5mb3JFYWNoKCBmaWVsZCA9PiB0aGlzLnJlbW92ZUVycm9yKCB0aGlzLnRlbXBsYXRlRGF0YVsgZmllbGQubmFtZSBdICkgKVxuXG4gICAgfSxcblxuICAgIHJlbW92ZUVycm9yKCAkZWwgKSB7XG4gICAgICAgICRlbC5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnaGFzLWVycm9yJylcbiAgICAgICAgJGVsLm5leHQoKS5yZW1vdmVDbGFzcygnaGlkZScpLnJlbW92ZUNsYXNzKCdnbHlwaGljb24tcmVtb3ZlJylcbiAgICAgICAgJGVsLnNpYmxpbmdzKCcuaGVscC1ibG9jaycpLnJlbW92ZSgpXG4gICAgfSxcblxuICAgIHJlcXVpcmVzTG9naW46IGZhbHNlLFxuXG4gICAgc2hvd0Vycm9yKCAkZWwsIGVycm9yICkge1xuICAgICAgICB2YXIgZm9ybUdyb3VwID0gJGVsLnBhcmVudCgpLnBhcmVudCgpXG5cbiAgICAgICAgaWYoIGZvcm1Hcm91cC5oYXNDbGFzcyggJ2hhcy1lcnJvcicgKSApIHJldHVyblxuXG4gICAgICAgIGZvcm1Hcm91cC5yZW1vdmVDbGFzcygnaGFzLXN1Y2Nlc3MnKS5hZGRDbGFzcygnaGFzLWZlZWRiYWNrIGhhcy1lcnJvcicpXG4gICAgICAgICRlbC5uZXh0KCkucmVtb3ZlQ2xhc3MoJ2hpZGUnKS5yZW1vdmVDbGFzcygnZ2x5cGhpY29uLW9rJykuYWRkQ2xhc3MoJ2dseXBoaWNvbi1yZW1vdmUnKVxuICAgICAgICAgICAuYWZ0ZXIoIEZvcm0udGVtcGxhdGVzLmZpZWxkRXJyb3IoIHsgZXJyb3I6IGVycm9yIH0gKSApXG4gICAgfSxcblxuICAgIHNob3dJbmZvTW9kYWwoKSB7XG4gICAgICAgIHRoaXMuWGhyKCB7IG1ldGhvZDogJ2dldCcsIHJlc291cmNlOiAnY3NhY3VzdG9taXphdGlvbicgfSApXG4gICAgICAgIC50aGVuKCBkYXRhID0+XG4gICAgICAgICAgICB0aGlzLm1vZGFsVmlldy5zaG93KCB7XG4gICAgICAgICAgICAgICAgYm9keTogdGhpcy50ZW1wbGF0ZXMuY3NhQ3VzdG9taXphdGlvbiggZGF0YVswXSApLFxuICAgICAgICAgICAgICAgIGhpZGVGb290ZXI6IHRydWVcbiAgICAgICAgICAgIH0gKVxuICAgICAgICApXG4gICAgICAgIC5jYXRjaCggZSA9PiBuZXcgdGhpcy5FcnJvcihlKSApXG4gICAgfSxcblxuICAgIHNob3dWYWxpZCggJGVsICkge1xuICAgICAgICAkZWwucGFyZW50KCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2hhcy1lcnJvcicpLmFkZENsYXNzKCdoYXMtZmVlZGJhY2sgaGFzLXN1Y2Nlc3MnKVxuICAgICAgICAkZWwubmV4dCgpLnJlbW92ZUNsYXNzKCdoaWRlJykucmVtb3ZlQ2xhc3MoJ2dseXBoaWNvbi1yZW1vdmUnKS5hZGRDbGFzcygnZ2x5cGhpY29uLW9rJylcbiAgICAgICAgJGVsLnNpYmxpbmdzKCcuaGVscC1ibG9jaycpLnJlbW92ZSgpXG4gICAgfSxcblxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuLi90ZW1wbGF0ZXMvTWVtYmVySW5mbycpLFxuXG4gICAgdGVtcGxhdGVzOiB7XG4gICAgICAgIGNzYUN1c3RvbWl6YXRpb246IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9jc2FDdXN0b21pemF0aW9uJylcbiAgICB9LFxuXG4gICAgdmFsaWRhdGUoKSB7XG4gICAgICAgIHZhciB2YWxpZCA9IHRydWVcblxuICAgICAgICBpZiggdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLmZpbmQoJ2hhcy1lcnJvcicpLmxlbmd0aCApIHJldHVybiBmYWxzZVxuXG4gICAgICAgIHJldHVybiB0aGlzLlEuYWxsKCB0aGlzLmZpZWxkcy5tYXAoIGZpZWxkID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlEud2hlbiggZmllbGQudmFsaWRhdGUuY2FsbCh0aGlzLCB0aGlzLnRlbXBsYXRlRGF0YVsgZmllbGQubmFtZSBdLnZhbCgpICkgKVxuICAgICAgICAgICAgLnRoZW4oIHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgaWYoIHJlc3VsdCA9PT0gZmFsc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RXJyb3IoIHRoaXMudGVtcGxhdGVEYXRhWyBmaWVsZC5uYW1lIF0sIGZpZWxkLmVycm9yIClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXIuc2V0KCBmaWVsZC5uYW1lLCB0aGlzLnRlbXBsYXRlRGF0YVsgZmllbGQubmFtZSBdLnZhbCgpIClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IClcbiAgICAgICAgfSApIClcbiAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgIGlmKCB2YWxpZCAmJiAoIXRoaXMudXNlci5pc0FkbWluKCkpICkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlEoIHRoaXMuJC5hamF4KCB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KCB0aGlzLnVzZXIuYXR0cmlidXRlcyApLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi91c2VyXCIgfSApIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSApXG4gICAgICAgIC50aGVuKCAoKSA9PiAoIHRoaXMudXNlci5pc0xvZ2dlZEluKCkgPyB0aGlzLlEoKSA6IHRoaXMuY2hlY2tGb3JBY2NvdW50KCB2YWxpZCApICkgKVxuICAgICAgICAudGhlbiggKCkgPT4gdmFsaWQgKVxuICAgICAgICAuZmFpbCggZSA9PiB7IGNvbnNvbGUubG9nKCBlLnN0YWNrIHx8IGUgKTsgcmV0dXJuIGZhbHNlIH0gKVxuICAgIH0sXG4gICAgXG4gICAgdmFsaWRhdGVBZGRyZXNzKCBhZGRyZXNzICkge1xuICAgICAgICB2YXIgYWRkcmVzc01vZGVsLCBjdXN0b21BZGRyZXNzXG5cbiAgICAgICAgaWYoIHRoaXMuJC50cmltKCBhZGRyZXNzICkubGVuZ3RoID09PSAwICkgcmV0dXJuIGZhbHNlXG5cbiAgICAgICAgYWRkcmVzc01vZGVsID0gdGhpcy51c2VyLmdldCgnYWRkcmVzc01vZGVsJylcbiAgICAgICAgY3VzdG9tQWRkcmVzcyA9ICggYWRkcmVzcyAhPT0gdGhpcy51c2VyLmdldCgnYWRkcmVzcycpIHx8ICFhZGRyZXNzTW9kZWwgfHwgKCAhIHRoaXMuXyggYWRkcmVzc01vZGVsLnR5cGVzICkuY29udGFpbnMoIFwic3RyZWV0X2FkZHJlc3NcIiApICkgKSA/IHRydWUgOiBmYWxzZVxuXG4gICAgICAgIGlmKCBhZGRyZXNzID09PSB0aGlzLm1lbWJlckFkZHJlc3MgKSB7XG4gICAgICAgICAgICBjdXN0b21BZGRyZXNzID0gZmFsc2VcbiAgICAgICAgICAgIHRoaXMudXNlci5zZXQoICdhZGRyZXNzTW9kZWwnLCBPYmplY3QuYXNzaWduKCB0aGlzLnVzZXIuZ2V0KCdhZGRyZXNzTW9kZWwnKSB8fCB7fSAsIHsgcG9zdGFsQ29kZTogdGhpcy5tZW1iZXJaaXBjb2RlLCB0eXBlczogWyBcInN0cmVldF9hZGRyZXNzXCIgXSAgfSApIClcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXNlci5zZXQoIHsgY3VzdG9tQWRkcmVzczogY3VzdG9tQWRkcmVzcyB9IClcblxuICAgICAgICBpZiggY3VzdG9tQWRkcmVzcyApIHRoaXMudXNlci5zZXQoIHsgYWRkcmVzc01vZGVsOiB7IH0gfSApXG4gXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfSxcblxufSApXG5cbm1vZHVsZS5leHBvcnRzID0gTWVtYmVySW5mb1xuIiwidmFyIExpc3RJdGVtID0gcmVxdWlyZSgnLi4vdXRpbC9MaXN0SXRlbScpLFxuICAgIFBheW1lbnRPcHRpb24gPSBmdW5jdGlvbigpIHsgcmV0dXJuIExpc3RJdGVtLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSB9XG5cbk9iamVjdC5hc3NpZ24oIFBheW1lbnRPcHRpb24ucHJvdG90eXBlLCBMaXN0SXRlbS5wcm90b3R5cGUsIHtcblxuICAgIHJlcXVpcmVzTG9naW46IGZhbHNlLFxuXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9zaWdudXAvcGF5bWVudE9wdGlvbicpXG5cbn0gKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBheW1lbnRPcHRpb25cbiIsInZhciBMaXN0ID0gcmVxdWlyZSgnLi4vdXRpbC9MaXN0JyksXG4gICAgUGF5bWVudE9wdGlvbnMgPSBmdW5jdGlvbigpIHsgcmV0dXJuIExpc3QuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIH1cblxuT2JqZWN0LmFzc2lnbiggUGF5bWVudE9wdGlvbnMucHJvdG90eXBlLCBMaXN0LnByb3RvdHlwZSwge1xuXG4gICAgSXRlbVZpZXc6IHJlcXVpcmUoJy4vUGF5bWVudE9wdGlvbicpLFxuXG4gICAgaXRlbU1vZGVsczogW1xuICAgICAgICB7IGlkOiAxLCBuYW1lOiAnY2FzaCcsIGxhYmVsOiAnQ2FzaCBvciBDaGVjaycsIG5vdGU6ICdNYWlsIHBheW1lbnQgdG8gUGF0Y2h3b3JrJyB9LFxuICAgICAgICB7IGlkOiAyLCBuYW1lOiAnY2FyZCcsIGxhYmVsOiAnQ3JlZGl0IENhcmQnLCBub3RlOiAnUGF5IG9ubGluZS4nIH1cbiAgICBdLFxuXG4gICAgcmVxdWlyZXNMb2dpbjogZmFsc2UsXG5cbiAgICBzZWxlY3Rpb246ICdzaW5nbGUnLFxuXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9zaWdudXAvcGF5bWVudE9wdGlvbnMnKVxufSApXG5cbm1vZHVsZS5leHBvcnRzID0gUGF5bWVudE9wdGlvbnNcbiIsInZhciBMaXN0SXRlbSA9IHJlcXVpcmUoJy4uL3V0aWwvTGlzdEl0ZW0nKSxcbiAgICBQaWNrdXBEYXRlID0gZnVuY3Rpb24oKSB7IHJldHVybiBMaXN0SXRlbS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgfVxuXG5PYmplY3QuYXNzaWduKCBQaWNrdXBEYXRlLnByb3RvdHlwZSwgTGlzdEl0ZW0ucHJvdG90eXBlLCB7XG5cbiAgICByZXF1aXJlc0xvZ2luOiBmYWxzZSxcblxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuLi8uLi90ZW1wbGF0ZXMvc2lnbnVwL3BpY2t1cERhdGUnKVxuXG59IClcblxubW9kdWxlLmV4cG9ydHMgPSBQaWNrdXBEYXRlXG4iLCJ2YXIgTGlzdCA9IHJlcXVpcmUoJy4uL3V0aWwvTGlzdCcpLFxuICAgIFBpY2t1cERhdGVzID0gZnVuY3Rpb24oKSB7IHJldHVybiBMaXN0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSB9XG5cbk9iamVjdC5hc3NpZ24oIFBpY2t1cERhdGVzLnByb3RvdHlwZSwgTGlzdC5wcm90b3R5cGUsIHtcblxuICAgIEl0ZW1WaWV3OiByZXF1aXJlKCcuL1BpY2t1cERhdGUnKSxcblxuICAgIGdldEl0ZW1WaWV3T3B0aW9ucygpIHsgcmV0dXJuIHsgY29udGFpbmVyOiB0aGlzLnRlbXBsYXRlRGF0YS5kYXRlcyB9IH0sXG5cbiAgICBnZXRUZW1wbGF0ZU9wdGlvbnMoKSB7IHJldHVybiB0aGlzLm1vZGVsLmF0dHJpYnV0ZXMgfSxcblxuICAgIGl0ZW1Nb2RlbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vZGVsLmdldERlbGl2ZXJ5RGF0ZXMoKS5tb2RlbHNcbiAgICB9LFxuXG4gICAgcG9zdFJlbmRlcigpIHtcbiAgICAgICAgdGhpcy52YWxpZCA9IHRydWVcblxuICAgICAgICB0aGlzLm9uKCAnaXRlbVNlbGVjdGVkJywgbW9kZWwgPT4ge1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLnJlbW92ZUNsYXNzKCdoYXMtZXJyb3InKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVTaGFyZSgpXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMub24oICdpdGVtVW5zZWxlY3RlZCcsIG1vZGVsID0+IHRoaXMudXBkYXRlU2hhcmUoKSApXG5cbiAgICAgICAgdGhpcy5vbiggJ2l0ZW1BZGRlZCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmKCB0aGlzLm1vZGVsLmhhcygnc2tpcERheXMnKSAmJlxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZ2V0KCdza2lwRGF5cycpLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKCB0aGlzLml0ZW1WaWV3cyApLmxlbmd0aCA9PSB0aGlzLml0ZW1zLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuc2V0KCB7IHNraXBEYXlzOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmdldCgnc2tpcERheXMnKS5maWx0ZXIoIHNraXBEYXlJZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5pdGVtcy5nZXQoIHNraXBEYXlJZCApICkgeyB0aGlzLnVuc2VsZWN0SXRlbSggdGhpcy5pdGVtcy5nZXQoIHNraXBEYXlJZCApICk7IHJldHVybiB0cnVlIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKVxuICAgICAgICBcbiAgICAgICAgdGhpcy5tb2RlbC5vbiggJ2NoYW5nZTpzZWxlY3RlZERlbGl2ZXJ5JywgKCkgPT4gdGhpcy5pdGVtcy5yZXNldCggdGhpcy5pdGVtTW9kZWxzKCkgKSApXG5cblxuICAgICAgICBMaXN0LnByb3RvdHlwZS5wb3N0UmVuZGVyLmNhbGwoIHRoaXMgKVxuICAgIH0sXG5cbiAgICByZXF1aXJlc0xvZ2luOiBmYWxzZSxcblxuICAgIHNlbGVjdGVkOiB0cnVlLFxuXG4gICAgc2VsZWN0aW9uOiAnbXVsdGlTaW1wbGUnLFxuXG4gICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4uLy4uL3RlbXBsYXRlcy9zaWdudXAvcGlja3VwRGF0ZXMnKSxcblxuICAgIHVwZGF0ZVNoYXJlKCkge1xuICAgICAgICB0aGlzLnZhbGlkID0gKCBPYmplY3Qua2V5cyggdGhpcy5zZWxlY3RlZEl0ZW1zICkubGVuZ3RoID09PSAwICkgPyBmYWxzZSA6IHRydWVcbiAgICB9XG5cbn0gKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBpY2t1cERhdGVzXG4iLCJ2YXIgTGlzdEl0ZW0gPSByZXF1aXJlKCcuLi91dGlsL0xpc3RJdGVtJyksXG4gICAgU2hhcmUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIExpc3RJdGVtLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSB9XG5cbk9iamVjdC5hc3NpZ24oIFNoYXJlLnByb3RvdHlwZSwgTGlzdEl0ZW0ucHJvdG90eXBlLCB7XG5cbiAgICBwb3N0UmVuZGVyKCkge1xuICAgICAgICBMaXN0SXRlbS5wcm90b3R5cGUucG9zdFJlbmRlci5jYWxsKHRoaXMpXG5cbiAgICAgICAgdGhpcy5mYWN0b3J5LmNyZWF0ZSggJ3NoYXJlQm94JywgeyBpbnNlcnRpb246IHsgZWw6IHRoaXMudGVtcGxhdGVEYXRhLnNoYXJlQm94LmdldCgwKSB9LCBtb2RlbDogdGhpcy5tb2RlbCB9IClcblxuICAgICAgICBpZiggIXRoaXMudXNlci5pc0FkbWluKCkgJiYgKCAvc3ByaW5nL2kudGVzdCggdGhpcy5tb2RlbC5nZXQoJ25hbWUnKSApIHx8IC9zcHJpbmcvaS50ZXN0KCB0aGlzLm1vZGVsLmdldCgnbGFiZWwnKSApICkgKSB7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5jb250YWluZXIuYWRkQ2xhc3MoJ2luYWN0aXZlJykub2ZmKCdjbGljaycpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICByZXF1aXJlc0xvZ2luOiBmYWxzZSxcblxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuLi8uLi90ZW1wbGF0ZXMvc2lnbnVwL3NoYXJlJylcblxufSApXG5cbm1vZHVsZS5leHBvcnRzID0gU2hhcmVcbiIsInZhciBWaWV3ID0gcmVxdWlyZSgnLi4vTXlWaWV3JyksXG4gICAgU2hhcmVPcHRpb24gPSBmdW5jdGlvbigpIHsgcmV0dXJuIFZpZXcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIH1cblxuT2JqZWN0LmFzc2lnbiggU2hhcmVPcHRpb24ucHJvdG90eXBlLCBWaWV3LnByb3RvdHlwZSwge1xuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdvcHRpb25JY29uJzogeyBtZXRob2Q6ICdzaG93T3B0aW9uSW5mbycgfVxuICAgIH0sXG4gIFxuICAgIGdldFRlbXBsYXRlT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oIHsgfSwgdGhpcy5tb2RlbC5hdHRyaWJ1dGVzLCB7IG9wdGlvbnM6IHRoaXMubW9kZWwuZ2V0KCdvcHRpb25zJykubWFwKCBtb2RlbCA9PiBtb2RlbC5hdHRyaWJ1dGVzICkgfSApXG4gICAgfSxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlVG90YWwoKVxuXG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLmlucHV0Lm9uKCAnY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUb3RhbCgpXG4gICAgICAgICAgICB0aGlzLmVtaXQoICdjaGFuZ2VkJywgdGhpcy50ZW1wbGF0ZURhdGEuaW5wdXQudmFsKCkgKVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgcmVxdWlyZXNMb2dpbjogZmFsc2UsXG5cbiAgICBzaG93T3B0aW9uSW5mbygpIHtcbiAgICAgICAgdGhpcy5tb2RhbFZpZXcuc2hvdygge1xuICAgICAgICAgICAgdGl0bGU6IHRoaXMubW9kZWwuZ2V0KCduYW1lJyksXG4gICAgICAgICAgICBib2R5OiB0aGlzLm1vZGVsLmdldCgnZGVzY3JpcHRpb24nKSxcbiAgICAgICAgICAgIGhpZGVGb290ZXI6IHRydWVcbiAgICAgICAgfSApXG4gICAgfSxcblxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuLi8uLi90ZW1wbGF0ZXMvc2lnbnVwL3NoYXJlT3B0aW9uJyksXG5cbiAgICB1cGRhdGVUb3RhbCgpIHtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEudG90YWwudGV4dChcbiAgICAgICAgICAgIHRoaXMudXRpbC5mb3JtYXQoICckJXMgcGVyIHdlZWsnLFxuICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoIHRoaXMubW9kZWwuZ2V0KCdvcHRpb25zJykuYXQoIHRoaXMudGVtcGxhdGVEYXRhLmlucHV0LmdldCgwKS5zZWxlY3RlZEluZGV4ICkuZ2V0KCdwcmljZScpLnJlcGxhY2UoL1xcJHwsL2csIFwiXCIpICkudG9GaXhlZCgyKSApIClcbiAgICB9XG5cbn0gKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNoYXJlT3B0aW9uXG4iLCJ2YXIgTGlzdCA9IHJlcXVpcmUoJy4uL3V0aWwvTGlzdCcpLFxuICAgIFNoYXJlT3B0aW9ucyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gTGlzdC5hcHBseSggdGhpcywgYXJndW1lbnRzICkgfVxuXG5PYmplY3QuYXNzaWduKCBTaGFyZU9wdGlvbnMucHJvdG90eXBlLCBMaXN0LnByb3RvdHlwZSwge1xuXG4gICAgSXRlbVZpZXc6IHJlcXVpcmUoJy4vU2luZ2xlU2hhcmVPcHRpb25zJyksXG5cbiAgICBjb2xsZWN0aW9uOiB7IGNvbXBhcmF0b3I6ICdzdGFydEVwb2NoJyB9LFxuXG4gICAgZXZlbnRzOiB7XG4gICAgfSxcblxuICAgIGdldEl0ZW1WaWV3T3B0aW9ucygpIHsgcmV0dXJuIHsgY29udGFpbmVyOiB0aGlzLnRlbXBsYXRlRGF0YS5zaGFyZXMsIHNpZ251cERhdGE6IHRoaXMuc2lnbnVwRGF0YSwgZmFjdG9yeTogdGhpcy5mYWN0b3J5IH0gfSxcblxuICAgIGl0ZW1Nb2RlbHMoKSB7IHJldHVybiB0aGlzLnNpZ251cERhdGEuc2hhcmVzLm1vZGVscyB9LFxuXG4gICAgcG9zdFJlbmRlcigpIHtcbiAgICAgICAgTGlzdC5wcm90b3R5cGUucG9zdFJlbmRlci5jYWxsKHRoaXMpXG5cbiAgICAgICAgdGhpcy5zaWdudXBEYXRhLnNoYXJlcy5vbiggJ2FkZCcsIHNoYXJlID0+IHRoaXMuaXRlbXMuYWRkKCBzaGFyZSApIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbiggJ3JlbW92ZScsIHNoYXJlID0+IHRoaXMuaXRlbXMucmVtb3ZlKCBzaGFyZSApIClcbiAgICB9LFxuXG4gICAgcmVxdWlyZXNMb2dpbjogZmFsc2UsXG5cbiAgICBzZWxlY3Rpb246IHRydWUsXG5cbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi4vLi4vdGVtcGxhdGVzL3NpZ251cC9zaGFyZU9wdGlvbnMnKSxcblxuICAgIHZhbGlkYXRlKCkge1xuICAgICAgICB0aGlzLnNpZ251cERhdGEuc2hhcmVzLmZvckVhY2goIHNoYXJlID0+IHtcbiAgICAgICAgICAgIHNoYXJlLnNldCggJ3NlbGVjdGVkT3B0aW9ucycsIHNoYXJlLmdldCggJ3NoYXJlb3B0aW9ucycgKS5tYXAoIHNoYXJlT3B0aW9uID0+ICgge1xuICAgICAgICAgICAgICAgIHNoYXJlb3B0aW9uaWQ6IHNoYXJlT3B0aW9uLmlkLFxuICAgICAgICAgICAgICAgIHNoYXJlb3B0aW9ub3B0aW9uaWQ6IHRoaXMuaXRlbVZpZXdzWyBzaGFyZS5pZCBdLml0ZW1WaWV3c1sgc2hhcmVPcHRpb24uaWQgXS50ZW1wbGF0ZURhdGEuaW5wdXQudmFsKClcbiAgICAgICAgICAgIH0gKSApIClcblxuICAgICAgICAgICAgc2hhcmUuc2V0KCAnc2Vhc29uYWxBZGRPbnMnLCB0aGlzLml0ZW1WaWV3c1sgc2hhcmUuaWQgXS5zZWFzb25hbEFkZE9ucy5tYXAoIGFkZG9uID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLml0ZW1WaWV3c1sgc2hhcmUuaWQgXS5TZWFzb25hbEFkZE9uT3B0aW9uLmRhdGEuZmluZCggb3B0aW9uID0+XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi5pZCA9PSB0aGlzLml0ZW1WaWV3c1sgc2hhcmUuaWQgXS50ZW1wbGF0ZURhdGFbIGFkZG9uLm5hbWUgXS52YWwoKSAmJiBvcHRpb24uc2Vhc29uYWxBZGRPbklkID09PSBhZGRvbi5pZFxuICAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGFkZG9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBhZGRvbi5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgc2Vhc29uYWxBZGRPbklkOiBhZGRvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgc2Vhc29uYWxBZGRPbk9wdGlvbklkOiB0aGlzLml0ZW1WaWV3c1sgc2hhcmUuaWQgXS50ZW1wbGF0ZURhdGFbIGFkZG9uLm5hbWUgXS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgcHJpY2U6IG9wdGlvbi5wcmljZSxcbiAgICAgICAgICAgICAgICAgICAgdW5pdDogb3B0aW9uLnVuaXQsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT3B0aW9uTGFiZWw6IG9wdGlvbi5sYWJlbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKSApXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG59IClcblxubW9kdWxlLmV4cG9ydHMgPSBTaGFyZU9wdGlvbnNcbiIsInZhciBMaXN0ID0gcmVxdWlyZSgnLi4vdXRpbC9MaXN0JyksXG4gICAgU2hhcmVTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHsgcmV0dXJuIExpc3QuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIH1cblxuT2JqZWN0LmFzc2lnbiggU2hhcmVTZWxlY3Rpb24ucHJvdG90eXBlLCBMaXN0LnByb3RvdHlwZSwge1xuXG4gICAgSXRlbVZpZXc6IHJlcXVpcmUoJy4vU2hhcmUnKSxcblxuICAgIE1vZGVsczoge1xuICAgICAgICBEZWxpdmVyeURhdGU6IHJlcXVpcmUoJy4uLy4uL21vZGVscy9EZWxpdmVyeURhdGUnKSxcbiAgICAgICAgU2hhcmU6IHJlcXVpcmUoJy4uLy4uL21vZGVscy9TaGFyZScpXG4gICAgfSxcblxuICAgIGNvbGxlY3Rpb246IHsgY29tcGFyYXRvcjogJ3N0YXJ0RXBvY2gnLCBtb2RlbDogcmVxdWlyZSgnLi4vLi4vbW9kZWxzL1NoYXJlJyksIHVybDogXCIvc2hhcmVcIiB9LFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgIGNzYUluZm9CdG46IHsgbWV0aG9kOiAnc2hvd0NTQUluZm9QYWdlSW5OZXdUYWInIH1cbiAgICB9LFxuXG4gICAgZmV0Y2g6IHsgZGF0YToge1xuICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICBlbmRkYXRlOiBKU09OLnN0cmluZ2lmeSggeyBvcGVyYXRpb246ICc+JywgdmFsdWU6IHJlcXVpcmUoJ21vbWVudCcpKCkuYWRkKCAyLCAnd2Vla3MnICkuZm9ybWF0KCdZWVlZLU1NLUREJykgfSApLFxuICAgICAgICBzaWdudXBjdXRvZmY6IEpTT04uc3RyaW5naWZ5KCB7IG9wZXJhdGlvbjogJz4nLCB2YWx1ZTogcmVxdWlyZSgnbW9tZW50JykoKS5mb3JtYXQoJ1lZWVktTU0tREQnKSB9IClcbiAgICB9IH0sXG5cbiAgICBnZXRJdGVtVmlld09wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7IGNvbnRhaW5lcjogdGhpcy50ZW1wbGF0ZURhdGEuc2hhcmVzLCBmYWN0b3J5OiB0aGlzLmZhY3RvcnkgfVxuICAgIH0sXG5cbiAgICBpc1NlYXNvbiggc2Vhc29uLCBtb2RlbCApIHtcbiAgICAgICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKCBzZWFzb24sICdpJyApXG5cbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oIHJlLnRlc3QoIG1vZGVsLmdldCgnbmFtZScpICkgfHwgcmUudGVzdCggbW9kZWwuZ2V0KCdsYWJlbCcpICkgKVxuICAgIH0sXG5cbiAgICBwb3N0UmVuZGVyKCkge1xuICAgICAgICBMaXN0LnByb3RvdHlwZS5wb3N0UmVuZGVyLmNhbGwodGhpcylcblxuICAgICAgICB0aGlzLm9uKCAnaXRlbVNlbGVjdGVkJywgbW9kZWwgPT4ge1xuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLnJlbW92ZUNsYXNzKCdoYXMtZXJyb3InKVxuICAgICAgICAgICAgaWYoICF0aGlzLnVzZXIuaXNBZG1pbigpICYmIHRoaXMuaXNTZWFzb24oICdzdW1tZXInLCBtb2RlbCApICkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaCggc2hhcmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcy5pc1NlYXNvbiggJ3NwcmluZycsIHNoYXJlICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1WaWV3c1tzaGFyZS5pZF0udGVtcGxhdGVEYXRhLmNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnaW5hY3RpdmUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbiggJ2NsaWNrJywgKCkgPT4gdGhpcy5pdGVtVmlld3Nbc2hhcmUuaWRdLmVtaXQoICdjbGlja2VkJywgdGhpcy5pdGVtVmlld3Nbc2hhcmUuaWRdLm1vZGVsICkgKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMub24oICdpdGVtVW5zZWxlY3RlZCcsIG1vZGVsID0+IHtcbiAgICAgICAgICAgIGlmKCAhdGhpcy51c2VyLmlzQWRtaW4oKSAmJiB0aGlzLmlzU2Vhc29uKCAnc3VtbWVyJywgbW9kZWwgKSApIHtcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goIHNoYXJlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIHRoaXMuaXNTZWFzb24oICdzcHJpbmcnLCBzaGFyZSApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtVmlld3Nbc2hhcmUuaWRdLnRlbXBsYXRlRGF0YS5jb250YWluZXIuYWRkQ2xhc3MoJ2luYWN0aXZlJykub2ZmKCdjbGljaycpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc2VsZWN0SXRlbSggc2hhcmUgKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMuc2lnbnVwRGF0YS5zaGFyZXMgPSBuZXcgKCB0aGlzLkNvbGxlY3Rpb24uZXh0ZW5kKCB7IGNvbXBhcmF0b3I6ICdzdGFydEVwb2NoJyB9ICkgKSgpXG5cbiAgICAgICAgdGhpcy5pdGVtcy5vbiggJ3Jlc2V0JywgKCkgPT4geyBpZiggdGhpcy5pdGVtcy5sZW5ndGggPT09IDAgKSByZXR1cm4gdGhpcy5lbWl0KCdub1NoYXJlcycpIH0gKVxuXG4gICAgICAgIHRoaXMub24oICdpbml0aWFsaXplZCcsICgpID0+XG4gICAgICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goIGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25TaGFyZSA9IHRoaXMuc2Vzc2lvblNoYXJlcy5maW5kKCBzaGFyZSA9PiBzaGFyZS5pZCA9PT0gaXRlbS5pZCApXG4gICAgICAgICAgICAgICAgaWYoIHNlc3Npb25TaGFyZSApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKCBpdGVtIClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWdudXBEYXRhLnNoYXJlcy5hZGQoIGl0ZW0gKVxuICAgICAgICAgICAgICAgICAgICBpZiggc2Vzc2lvblNoYXJlLnNlYXNvbmFsQWRkT25zICkgaXRlbS5zZXQoICdzZWFzb25hbEFkZE9ucycsIHNlc3Npb25TaGFyZS5zZWFzb25hbEFkZE9ucyApXG4gICAgICAgICAgICAgICAgICAgIGlmKCBzZXNzaW9uU2hhcmUuc2VsZWN0ZWRPcHRpb25zICkgaXRlbS5zZXQoICdzZWxlY3RlZE9wdGlvbnMnLCBzZXNzaW9uU2hhcmUuc2VsZWN0ZWRPcHRpb25zICkgXG4gICAgICAgICAgICAgICAgICAgIGlmKCBzZXNzaW9uU2hhcmUuc2VsZWN0ZWREZWxpdmVyeSApIGl0ZW0uc2V0KCAnc2VsZWN0ZWREZWxpdmVyeScsIHNlc3Npb25TaGFyZS5zZWxlY3RlZERlbGl2ZXJ5ICkgXG4gICAgICAgICAgICAgICAgICAgIGlmKCBzZXNzaW9uU2hhcmUuc2tpcERheXMgKSB7IGl0ZW0uc2V0KCAnc2tpcERheXMnLCBzZXNzaW9uU2hhcmUuc2tpcERheXMgKSB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSApXG4gICAgICAgIClcblxuICAgICAgICBpZiggdGhpcy5zZXNzaW9uU2hhcmVzICkge1xuICAgICAgICAgICAgdGhpcy5vbiggJ2l0ZW1BZGRlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiggT2JqZWN0LmtleXMoIHRoaXMuaXRlbVZpZXdzICkubGVuZ3RoID09PSB0aGlzLml0ZW1zLmxlbmd0aCApIHRoaXMuZW1pdCgnaW5pdGlhbGl6ZWQnKVxuICAgICAgICAgICAgfSApXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVxdWlyZXNMb2dpbjogZmFsc2UsXG5cbiAgICBzZWxlY3Rpb246IHRydWUsXG5cbiAgICBzaG93Q1NBSW5mb1BhZ2VJbk5ld1RhYigpIHsgd2luZG93Lm9wZW4oJy9jc2EjaG93LWRvLWkta25vdycpIH0sXG5cbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi4vLi4vdGVtcGxhdGVzL3NpZ251cC9zaGFyZXMnKSxcblxuICAgIHZhbGlkYXRlKCkge1xuICAgICAgICB2YXIgcHJldlNoYXJlSWRzID0gdGhpcy5zaWdudXBEYXRhLnNoYXJlcy5tYXAoIHNoYXJlID0+IHNoYXJlLmlkICksXG4gICAgICAgICAgICBzZWxlY3RlZFNoYXJlSWRzID0gT2JqZWN0LmtleXMoIHRoaXMuc2VsZWN0ZWRJdGVtcyApLm1hcCggaWQgPT4gcGFyc2VJbnQoaWQpIClcblxuICAgICAgICBpZiggc2VsZWN0ZWRTaGFyZUlkcy5sZW5ndGggPT09IDAgKSB7IHRoaXMudGVtcGxhdGVEYXRhLmNvbnRhaW5lci5hZGRDbGFzcygnaGFzLWVycm9yJyk7IHJldHVybiBmYWxzZSB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLl8oIHByZXZTaGFyZUlkcyApLmRpZmZlcmVuY2UoIHNlbGVjdGVkU2hhcmVJZHMgKS5mb3JFYWNoKCBpZCA9PiB7XG4gICAgICAgICAgICB2YXIgc2hhcmUgPSB0aGlzLml0ZW1zLmdldChpZClcbiAgICAgICAgICAgIHNoYXJlLnVuc2V0KCdzZWxlY3RlZE9wdGlvbnMnKVxuICAgICAgICAgICAgc2hhcmUudW5zZXQoJ3NlbGVjdGVkRGVsaXZlcnknKVxuICAgICAgICAgICAgc2hhcmUudW5zZXQoJ3NraXBEYXlzJylcbiAgICAgICAgICAgIHRoaXMuc2lnbnVwRGF0YS5zaGFyZXMucmVtb3ZlKCBzaGFyZSApXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMuXyggc2VsZWN0ZWRTaGFyZUlkcyApLmRpZmZlcmVuY2UoIHByZXZTaGFyZUlkcyApLmZvckVhY2goIGlkID0+IHRoaXMuc2lnbnVwRGF0YS5zaGFyZXMuYWRkKCB0aGlzLml0ZW1zLmdldChpZCkgKSApXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxufSApXG5cbm1vZHVsZS5leHBvcnRzID0gU2hhcmVTZWxlY3Rpb25cbiIsInZhciBMaXN0ID0gcmVxdWlyZSgnLi4vdXRpbC9MaXN0JyksXG4gICAgU2luZ2xlU2hhcmVPcHRpb25zID0gZnVuY3Rpb24oKSB7IHJldHVybiBMaXN0LmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSB9XG5cbk9iamVjdC5hc3NpZ24oIFNpbmdsZVNoYXJlT3B0aW9ucy5wcm90b3R5cGUsIExpc3QucHJvdG90eXBlLCB7XG5cbiAgICBTZWFzb25hbEFkZE9uOiBPYmplY3QuY3JlYXRlKCByZXF1aXJlKCcuLi8uLi9tb2RlbHMvX19wcm90b19fJyksIHsgcmVzb3VyY2U6IHsgdmFsdWU6ICdzZWFzb25hbEFkZE9uJyB9IH0gKSxcbiAgICBTZWFzb25hbEFkZE9uT3B0aW9uOiBPYmplY3QuY3JlYXRlKCByZXF1aXJlKCcuLi8uLi9tb2RlbHMvX19wcm90b19fJyksIHsgcmVzb3VyY2U6IHsgdmFsdWU6ICdzZWFzb25hbEFkZE9uT3B0aW9uJyB9IH0gKSxcblxuICAgIEl0ZW1WaWV3OiByZXF1aXJlKCcuL1NoYXJlT3B0aW9uJyksXG5cbiAgICBnZXRJdGVtVmlld09wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb250YWluZXI6IHRoaXMudGVtcGxhdGVEYXRhLm9wdGlvbnMsXG4gICAgICAgICAgICBzaGFyZTogdGhpcy5tb2RlbFxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldFRlbXBsYXRlT3B0aW9ucygpIHsgcmV0dXJuIHRoaXMubW9kZWwuYXR0cmlidXRlcyB9LFxuXG4gICAgaW5zZXJ0U2Vhc29uYWxPcHRpb25zKCkge1xuICAgICAgICBQcm9taXNlLmFsbCggWyB0aGlzLlNlYXNvbmFsQWRkT24uZ2V0KCksIHRoaXMuU2Vhc29uYWxBZGRPbk9wdGlvbi5nZXQoKSBdIClcbiAgICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2Vhc29uYWxBZGRPbnMgPSB0aGlzLlNlYXNvbmFsQWRkT24uZGF0YS5maWx0ZXIoIGFkZG9uID0+IGFkZG9uLnNoYXJlaWQgPT09IHRoaXMubW9kZWwuaWQgKVxuXG4gICAgICAgICAgICBpZiggIXRoaXMuc2Vhc29uYWxBZGRPbnMubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLnNlYXNvbmFsQ29udGFpbmVyLmdldCgwKS5jbGFzc0xpc3QuYWRkKCdmZC1oaWRkZW4nKVxuICAgICAgICAgICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLnNlYXNvbmFsVG90YWwuZ2V0KDApLnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnZmQtaGlkZGVuJylcbiAgICAgICAgICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS53ZWVrbHlIZWFkZXIuZ2V0KDApLmNsYXNzTGlzdC5hZGQoJ2ZkLWhpZGRlbicpXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLmdldCgwKS5jaGlsZHJlblswXS5jbGFzc0xpc3QuYWRkKCdob3Jpem9udGFsJylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZWFzb25hbEFkZE9ucy5mb3JFYWNoKCBhZGRvbiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuU2Vhc29uYWxBZGRPbk9wdGlvbi5kYXRhLmZpbHRlciggb3B0aW9uID0+IG9wdGlvbi5zZWFzb25hbEFkZE9uSWQgPT09IGFkZG9uLmlkIClcblxuICAgICAgICAgICAgICAgIHRoaXMuc2x1cnBUZW1wbGF0ZSgge1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRpb246IHsgJGVsOiB0aGlzLnRlbXBsYXRlRGF0YS5zZWFzb25hbE9wdGlvbnMgfSxcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IHRoaXMuVGVtcGxhdGVzLlNlYXNvbmFsQWRkT24oIHsgbmFtZTogYWRkb24ubmFtZSwgbGFiZWw6IGFkZG9uLmxhYmVsLCBvcHRpb25zIH0gKVxuICAgICAgICAgICAgICAgIH0gKVxuXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGFbIGFkZG9uLm5hbWUgXS5vbiggJ2NoYW5nZScsICgpID0+IHRoaXMudXBkYXRlU2Vhc29uYWxUb3RhbCgpIClcbiAgICAgICAgICAgIH0gKVxuXG4gICAgICAgICAgICBpZiggdGhpcy5tb2RlbC5nZXQoJ3NlYXNvbmFsQWRkT25zJykgJiYgdGhpcy5tb2RlbC5nZXQoJ3NlYXNvbmFsQWRkT25zJykubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuZ2V0KCdzZWFzb25hbEFkZE9ucycpLmZvckVhY2goIHNlbGVjdGVkQWRkb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YVsgc2VsZWN0ZWRBZGRvbi5uYW1lIF0udmFsKCBzZWxlY3RlZEFkZG9uLnNlYXNvbmFsQWRkT25PcHRpb25JZCApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2Vhc29uYWxUb3RhbCgpXG4gICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKVxuICAgICAgICAuY2F0Y2goIGUgPT4gY29uc29sZS5sb2coIGUuc3RhY2sgfHwgZSApIClcbiAgICB9LFxuXG4gICAgcG9zdFJlbmRlcigpIHtcbiAgICAgICAgXG4gICAgICAgIHZhciBzaGFyZSA9IHRoaXMubW9kZWxcbiAgICAgICAgXG4gICAgICAgIExpc3QucHJvdG90eXBlLnBvc3RSZW5kZXIuY2FsbCggdGhpcyApXG5cbiAgICAgICAgdGhpcy5pbnNlcnRTZWFzb25hbE9wdGlvbnMoKVxuXG4gICAgICAgIHRoaXMub24oICdpdGVtQWRkZWQnLCBzaGFyZU9wdGlvbiA9PiB7XG4gICAgICAgICAgICB0aGlzLml0ZW1WaWV3c1sgc2hhcmVPcHRpb24uaWQgXS5vbiggJ2NoYW5nZWQnLCAoKSA9PiB0aGlzLnVwZGF0ZVRvdGFsKCkgKVxuXG4gICAgICAgICAgICBpZiggc2hhcmUuZ2V0KCdzZWxlY3RlZE9wdGlvbnMnKSApIHtcbiAgICAgICAgICAgICAgICBzaGFyZS5nZXQoJ3NlbGVjdGVkT3B0aW9ucycpLmZvckVhY2goIHNlbGVjdGVkT3B0aW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIHNlbGVjdGVkT3B0aW9uLnNoYXJlb3B0aW9uaWQgPT0gc2hhcmVPcHRpb24uaWQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1WaWV3c1sgc2hhcmVPcHRpb24uaWQgXS50ZW1wbGF0ZURhdGEuaW5wdXQudmFsKCBzZWxlY3RlZE9wdGlvbi5zaGFyZW9wdGlvbm9wdGlvbmlkIClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiggT2JqZWN0LmtleXMoIHRoaXMuaXRlbVZpZXdzICkubGVuZ3RoID09IHRoaXMuaXRlbXMubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKCB0aGlzLml0ZW1WaWV3cyApLmZvckVhY2goIGtleSA9PiB0aGlzLml0ZW1WaWV3c1sga2V5IF0udXBkYXRlVG90YWwoKSApXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUb3RhbCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMuZmFjdG9yeS5jcmVhdGUoICdzaGFyZUJveCcsIHsgaW5zZXJ0aW9uOiB7IGVsOiB0aGlzLnRlbXBsYXRlRGF0YS5zaGFyZUJveC5nZXQoMCkgfSwgbW9kZWw6IHNoYXJlIH0gKVxuXG4gICAgICAgIC8vVE9ETzogV3JpdGUgVUkgd2hlbiBubyBvcHRpb25zIGV4aXN0LlxuICAgICAgICB0aGlzLm1vZGVsLmdldFNoYXJlT3B0aW9ucygpXG4gICAgICAgICAgICAudGhlbiggKCkgPT4gc2hhcmUuZ2V0KCdzaGFyZW9wdGlvbnMnKS5mb3JFYWNoKCBzaGFyZW9wdGlvbiA9PiB0aGlzLml0ZW1zLmFkZCggc2hhcmVvcHRpb24gKSApIClcbiAgICAgICAgICAgIC5mYWlsKCBlID0+IGNvbnNvbGUubG9nKCBlLnN0YWNrIHx8IGUgKSApXG5cbiAgICB9LFxuXG4gICAgcmVxdWlyZXNMb2dpbjogZmFsc2UsXG5cbiAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi4vLi4vdGVtcGxhdGVzL3NpZ251cC9zaW5nbGVTaGFyZU9wdGlvbnMnKSxcblxuICAgIFRlbXBsYXRlczoge1xuICAgICAgICBTZWFzb25hbEFkZE9uOiByZXF1aXJlKCcuLi90ZW1wbGF0ZXMvU2Vhc29uYWxBZGRPbicpXG4gICAgfSxcblxuICAgIHVwZGF0ZVNlYXNvbmFsVG90YWwoKSB7XG4gICAgICAgIGxldCBzZWFzb25hbFRvdGFsID0gMFxuXG4gICAgICAgIHRoaXMuc2Vhc29uYWxBZGRPbnMuZm9yRWFjaCggYWRkb24gPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSB0aGlzLlNlYXNvbmFsQWRkT25PcHRpb24uZGF0YS5maW5kKCBvcHRpb24gPT4gb3B0aW9uLmlkID09IHRoaXMudGVtcGxhdGVEYXRhWyBhZGRvbi5uYW1lIF0udmFsKCkgJiYgb3B0aW9uLnNlYXNvbmFsQWRkT25JZCA9PT0gYWRkb24uaWQgKSxcbiAgICAgICAgICAgICAgICBvcHRpb25QcmljZSA9IHBhcnNlRmxvYXQoIHNlbGVjdGVkT3B0aW9uLnByaWNlLnJlcGxhY2UoL1xcJHwsL2csIFwiXCIpIClcblxuICAgICAgICAgICAgc2Vhc29uYWxUb3RhbCArPSBvcHRpb25QcmljZVxuICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGFbIGAke2FkZG9uLm5hbWV9VG90YWxgIF0udGV4dCggYCQke29wdGlvblByaWNlLnRvRml4ZWQoMil9IGZvciB0aGUgc2Vhc29uYCApXG4gICAgICAgIH0gKVxuXG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLnNlYXNvbmFsVG90YWwudGV4dCggYCQke3NlYXNvbmFsVG90YWwudG9GaXhlZCgyKX0gZm9yIHRoZSBzZWFzb25gKVxuICAgIH0sXG5cbiAgICB1cGRhdGVUb3RhbCgpIHtcbiAgICAgICAgdmFyIHRvdGFsID1cbiAgICAgICAgICAgIHRoaXMuaXRlbXMubWFwKCBzaGFyZU9wdGlvbiA9PlxuICAgICAgICAgICAgICAgIHBhcnNlRmxvYXQoIHNoYXJlT3B0aW9uLmdldCgnb3B0aW9ucycpLmdldCggdGhpcy5pdGVtVmlld3NbIHNoYXJlT3B0aW9uLmlkIF0udGVtcGxhdGVEYXRhLmlucHV0LnZhbCgpICkuZ2V0KCdwcmljZScpLnJlcGxhY2UoL1xcJHwsL2csIFwiXCIpICkgKVxuICAgICAgICAgICAgLnJlZHVjZSggKCBhLCBiICkgPT4gYSArIGIgKS50b0ZpeGVkKDIpIFxuXG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLndlZWtseVRvdGFsLnRleHQoIHRoaXMudXRpbC5mb3JtYXQoICckJXMgcGVyIHdlZWsnLCB0b3RhbCApIClcbiAgICB9XG5cbn0gKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNpbmdsZVNoYXJlT3B0aW9uc1xuIiwidmFyIFZpZXcgPSByZXF1aXJlKCcuLi9NeVZpZXcnKSxcbiAgICBGb3JtID0gcmVxdWlyZSgnLi4vdXRpbC9Gb3JtJykucHJvdG90eXBlLFxuICAgIFN1bW1hcnkgPSBmdW5jdGlvbigpIHsgXG4gICAgICAgIFxuICAgICAgICB3aW5kb3cuc3Bpbm5lciA9IHRoaXMuc3Bpbm5lciA9IG5ldyB0aGlzLlNwaW5uZXIoIHtcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICBsaW5lczogNyxcbiAgICAgICAgICAgIGxlbmd0aDogMixcbiAgICAgICAgICAgIHJhZGl1czogMTQsXG4gICAgICAgICAgICBzY2FsZTogMC41XG4gICAgICAgIH0gKSBcblxuICAgICAgICByZXR1cm4gVmlldy5hcHBseSggdGhpcywgYXJndW1lbnRzIClcbiAgICB9XG5cbk9iamVjdC5hc3NpZ24oIFN1bW1hcnkucHJvdG90eXBlLCBWaWV3LnByb3RvdHlwZSwge1xuXG4gICAgRGF5T2ZXZWVrTWFwOiByZXF1aXJlKCcuLi8uLi9tb2RlbHMvRGVsaXZlcnlSb3V0ZScpLnByb3RvdHlwZS5kYXlPZldlZWtNYXAsXG5cbiAgICBDb250YWN0SW5mbzogcmVxdWlyZSgnLi4vLi4vbW9kZWxzL0NvbnRhY3RJbmZvJyksXG5cbiAgICBTcGlubmVyOiByZXF1aXJlKCcuLi8uLi9wbHVnaW5zL3NwaW5uZXIuanMnKSxcblxuICAgIGJ1aWxkUmVxdWVzdCgpIHtcbiAgICAgICAgY29uc3QgYWRkcmVzc01vZGVsID0gdGhpcy51c2VyLmdldCgnYWRkcmVzc01vZGVsJylcblxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoIHtcbiAgICAgICAgICAgIG1lbWJlcjogT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXIucGljayggWyAnbmFtZScsICdlbWFpbCcsICdwaG9uZW51bWJlcicsICdwYXNzd29yZCcsICdyZXBlYXRwYXNzd29yZCcsICdhZGRyZXNzJywgJ2V4dHJhYWRkcmVzcycsICdoZWFyZCcsICdvbWlzc2lvbicgXSApLFxuICAgICAgICAgICAgICAgIHsgemlwY29kZTogKCBhZGRyZXNzTW9kZWwgJiYgYWRkcmVzc01vZGVsLnBvc3RhbENvZGUgKSA/IGFkZHJlc3NNb2RlbC5wb3N0YWxDb2RlIDogJycgfSApLFxuICAgICAgICAgICAgcGF5bWVudDogKCB0aGlzLnBheW1lbnRTZWxlY3RlZCA9PT0gJ2NhcmQnICkgPyB0aGlzLmdldEZvcm1EYXRhKCkgOiB7fSxcbiAgICAgICAgICAgIHNoYXJlczogdGhpcy5idWlsZFNoYXJlcygpLFxuICAgICAgICAgICAgdG90YWw6ICggdGhpcy5mZWUgKSA/IHRoaXMuZ3JhbmRUb3RhbFBsdXNGZWUgOiB0aGlzLmdyYW5kVG90YWwsXG4gICAgICAgICAgICBpc0FkbWluOiB0aGlzLnVzZXIuaXNBZG1pbigpLFxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgYnVpbGRTaGFyZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpZ251cERhdGEuc2hhcmVzLm1hcCggc2hhcmUgPT4ge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkV2Vla3MgPSBzaGFyZS5nZXQoJ3NlbGVjdGVkRGF0ZXMnKS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgc2tpcERheXMgPSBzaGFyZS5nZXQoJ3NraXBEYXlzJyksXG4gICAgICAgICAgICAgICAgc2tpcERheXNUb3RhbCA9ICggc2tpcERheXMgKSA/IHNraXBEYXlzLmxlbmd0aCA6IDBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogc2hhcmUuaWQsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXRpbC5mb3JtYXQoJ0Zyb20gJXMgdG8gJXMgeW91IHdpbGwgYmUgcmVjZWl2aW5nIGZyZXNoIGZvb2QgZm9yICVkIG91dCBvZiAlZCB3ZWVrcy4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmUuZ2V0KCdodW1hblN0YXJ0ZGF0ZScpLCBzaGFyZS5nZXQoJ2h1bWFuRW5kZGF0ZScpLCBzZWxlY3RlZFdlZWtzLCBzZWxlY3RlZFdlZWtzICsgc2tpcERheXNUb3RhbCksXG4gICAgICAgICAgICAgICAgbGFiZWw6IHNoYXJlLmdldCgnbGFiZWwnKSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBzaGFyZS5nZXQoJ3NlbGVjdGVkT3B0aW9ucycpLFxuICAgICAgICAgICAgICAgIHNlYXNvbmFsQWRkT25zOiBzaGFyZS5nZXQoJ3NlYXNvbmFsQWRkT25zJyksXG4gICAgICAgICAgICAgICAgZGVsaXZlcnk6IHRoaXMuXyggc2hhcmUuZ2V0KCdzZWxlY3RlZERlbGl2ZXJ5JykgKS5waWNrKCBbICdkZWxpdmVyeW9wdGlvbmlkJywgJ2dyb3VwZHJvcG9mZmlkJywgJ2Rlc2NyaXB0aW9uJyBdICksXG4gICAgICAgICAgICAgICAgc2tpcERheXM6ICggc2tpcERheXMgKSA/IHNraXBEYXlzLm1hcCggc2tpcERheUlkID0+IHNoYXJlLmdldCgnZGVsaXZlcnlEYXRlcycpLmdldChza2lwRGF5SWQpLmdldCgnZGF0ZScpICkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdG90YWw6IHNoYXJlLmdldCgndG90YWwnKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgY2FyZFBheW1lbnRTZWxlY3RlZCgpIHtcbiAgICAgICAgdGhpcy5zaWdudXBIYW5kbGVyID0gKCkgPT4geyBpZiggdGhpcy52YWxpZGF0ZUNhcmRJbmZvKCkgKSB0aGlzLnNpZ251cCgpIH1cblxuICAgICAgICB0aGlzLmZlZSA9IGZhbHNlXG4gICAgICAgIHRoaXMucGF5bWVudFNlbGVjdGVkID0gJ2NhcmQnXG4gICAgICAgIHRoaXMudXBkYXRlR3JhbmRUb3RhbCgpXG5cbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEucGF5bWVudEZvcm0ucmVtb3ZlQ2xhc3MoJ2hpZGUnKVxuXG4gICAgICAgIHRoaXMuZW5hYmxlU2lnbnVwQnRuKClcbiAgICB9LFxuXG4gICAgY2FzaFBheW1lbnRTZWxlY3RlZCgpIHtcbiAgICAgICAgdGhpcy5zaWdudXBIYW5kbGVyID0gKCkgPT4gdGhpcy5zaWdudXAoKVxuXG4gICAgICAgIHRoaXMuZmVlID0gZmFsc2VcbiAgICAgICAgdGhpcy5wYXltZW50U2VsZWN0ZWQgPSAnY2FzaCdcblxuICAgICAgICB0aGlzLmVuYWJsZVNpZ251cEJ0bigpXG4gICAgfSxcblxuICAgIGRpc2FibGVTaWdudXBCdG4oKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLnNpZ251cEJ0blxuICAgICAgICAgICAgLmFkZENsYXNzKCdkaXNhYmxlZCcpXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2J0bi1zdWNjZXNzJylcbiAgICAgICAgICAgIC5vZmYoICdjbGljaycgKVxuICAgIH0sXG5cbiAgICBlbmFibGVTaWdudXBCdG4oKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLnNpZ251cEJ0blxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2J0bi1zdWNjZXNzJylcbiAgICAgICAgICAgIC5vZmYoICdjbGljaycgKVxuICAgICAgICAgICAgLm9uZSggJ2NsaWNrJywgdGhpcy5zaWdudXBIYW5kbGVyIClcbiAgICB9LFxuXG4gICAgZXZlbnRzOiB7XG4gICAgICAgICdwYXltZW50Rm9ybSc6IFtcbiAgICAgICAgICAgIHsgZXZlbnQ6ICdibHVyJywgJ3NlbGVjdG9yJzogJ2lucHV0JywgbWV0aG9kOiAnb25JbnB1dEJsdXInIH0sXG4gICAgICAgICAgICB7IGV2ZW50OiAnZm9jdXMnLCAnc2VsZWN0b3InOiAnaW5wdXQnLCBtZXRob2Q6ICdvbklucHV0Rm9jdXMnIH1cbiAgICAgICAgXVxuICAgIH0sXG5cbiAgICBmaWVsZHM6IHtcbiAgICAgICAgbnVtYmVyOiB7XG4gICAgICAgICAgICBlcnJvcjogXCJFbnRlciBhIGNhcmQgbnVtYmVyXCIsXG4gICAgICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24oIHZhbCApIHsgcmV0dXJuIHRoaXMuJC50cmltKHZhbCkubGVuZ3RoID4gMCB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZXhwX21vbnRoXCI6IHtcbiAgICAgICAgICAgIGVycm9yOiAnRW50ZXIgdGhlIG1vbnRoIGluIFwiTU1cIiBmb3JtYXQnLFxuICAgICAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uKCB2YWwgKSB7IHJldHVybiB2YWwubGVuZ3RoID09PSAyIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJleHBfeWVhclwiOiB7XG4gICAgICAgICAgICBlcnJvcjogJ0VudGVyIHRoZSB5ZWFyIGluIFwiWVlZWVwiIGZvcm1hdCcsXG4gICAgICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24oIHZhbCApIHsgcmV0dXJuIHZhbC5sZW5ndGggPT09IDQgfVxuICAgICAgICB9LFxuICAgICAgICBjdmM6IHtcbiAgICAgICAgICAgIGVycm9yOiBcIkVudGVyIGEgY3ZjIG51bWJlclwiLFxuICAgICAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uKCB2YWwgKSB7IHJldHVybiB0aGlzLiQudHJpbSh2YWwpLmxlbmd0aCA+IDAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldFRlbXBsYXRlT3B0aW9ucygpIHtcbiAgICAgICAgdmFyIHNwYWNlVHdvVGFiID0gXCJcXHJcXG5cXHRcXHRcIlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udGFpbmVyQ2xhc3M6IHRoaXMuY29udGFpbmVyQ2xhc3MsXG4gICAgICAgICAgICBzaGFyZXM6IHRoaXMuc2lnbnVwRGF0YS5zaGFyZXMubWFwKCBzaGFyZSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkRGVsaXZlcnkgPSBzaGFyZS5nZXQoJ2RlbGl2ZXJ5b3B0aW9ucycpLmdldCggc2hhcmUuZ2V0KCdzZWxlY3RlZERlbGl2ZXJ5JykuZGVsaXZlcnlvcHRpb25pZCApLFxuICAgICAgICAgICAgICAgICAgICBncm91cERyb3BvZmYgPSAoIHNoYXJlLmdldCgnc2VsZWN0ZWREZWxpdmVyeScpLmdyb3VwZHJvcG9mZmlkIClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gc2hhcmUuZ2V0KCdncm91cGRyb3BvZmZzJykuZ2V0KHNoYXJlLmdldCgnc2VsZWN0ZWREZWxpdmVyeScpLmdyb3VwZHJvcG9mZmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgdGltZXMgPSAoIGdyb3VwRHJvcG9mZiApXG4gICAgICAgICAgICAgICAgICAgID8gZ3JvdXBEcm9wb2ZmLnBpY2soIFsgJ3N0YXJ0dGltZScsICdlbmR0aW1lJyBdIClcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl8oIHNoYXJlLmdldCgnc2VsZWN0ZWREZWxpdmVyeScpICkucGljayggWyAnc3RhcnR0aW1lJywgJ2VuZHRpbWUnIF0gKSxcbiAgICAgICAgICAgICAgICBzaGFyZU9wdGlvbldlZWtseVRvdGFsID0gc2hhcmUuZ2V0KCdzZWxlY3RlZE9wdGlvbnMnKVxuICAgICAgICAgICAgICAgICAgICAubWFwKCBzZWxlY3RlZE9wdGlvbiA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdCggc2hhcmUuZ2V0KCdzaGFyZW9wdGlvbnMnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KCBzZWxlY3RlZE9wdGlvbi5zaGFyZW9wdGlvbmlkIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldCggJ29wdGlvbnMnIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldCggc2VsZWN0ZWRPcHRpb24uc2hhcmVvcHRpb25vcHRpb25pZCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoJ3ByaWNlJykucmVwbGFjZSgvXFwkfCwvZywgXCJcIikgKSApXG4gICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoICggYSwgYiApID0+IGEgKyBiICksXG4gICAgICAgICAgICAgICAgd2Vla2x5VG90YWwgPSAgc2hhcmVPcHRpb25XZWVrbHlUb3RhbCArIHBhcnNlRmxvYXQoIHNlbGVjdGVkRGVsaXZlcnkuZ2V0KCdwcmljZScpLnJlcGxhY2UoL1xcJHwsL2csXCJcIikgKSxcbiAgICAgICAgICAgICAgICBzZWFzb25hbEFkZE9uVG90YWwgPSBzaGFyZS5nZXQoICdzZWFzb25hbEFkZE9ucycgKS5tYXAoIGFkZG9uID0+XG4gICAgICAgICAgICAgICAgICAgcGFyc2VGbG9hdCggYWRkb24ucHJpY2UucmVwbGFjZSgvXFwkfCwvZywgXCJcIikgKSApLnJlZHVjZSggKCBhLCBiICkgPT4gYSArIGIsIDAgKSxcbiAgICAgICAgICAgICAgICBhZGRyZXNzID0gKCBzZWxlY3RlZERlbGl2ZXJ5LmdldCgnbmFtZScpID09PSAnaG9tZScgKVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMudXNlci5nZXQoJ2FkZHJlc3MnKVxuICAgICAgICAgICAgICAgICAgICA6ICggZ3JvdXBEcm9wb2ZmIClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZ3JvdXBEcm9wb2ZmLmdldCgnYWRkcmVzcycpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuQ29udGFjdEluZm8uZGF0YS5mYXJtcGlja3VwXG5cbiAgICAgICAgICAgICAgICBzaGFyZS5zZXQoIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREZWxpdmVyeTogT2JqZWN0LmFzc2lnbiggc2hhcmUuZ2V0KCdzZWxlY3RlZERlbGl2ZXJ5JyksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXRpbC5mb3JtYXQoJ0RlbGl2ZXJ5OiVzTWV0aG9kOiAlcyVzRGF5L1RpbWU6ICVzcyAlcy0lcyVzUGxhY2U6ICVzJXNDb3N0OiAlcyBwZXIgd2VlaycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNlVHdvVGFiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERlbGl2ZXJ5LmdldCgnbGFiZWwnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhY2VUd29UYWIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlLmRheU9mV2Vla01hcFsgc2hhcmUuZ2V0KCdzZWxlY3RlZERlbGl2ZXJ5JykuZGF5b2Z3ZWVrIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzLnN0YXJ0dGltZSwgdGltZXMuZW5kdGltZSwgc3BhY2VUd29UYWIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MsIHNwYWNlVHdvVGFiLCBzZWxlY3RlZERlbGl2ZXJ5LmdldCgncHJpY2UnKSApIH0gKSxcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6ICggd2Vla2x5VG90YWwgKiBzaGFyZS5nZXQoJ3NlbGVjdGVkRGF0ZXMnKS5sZW5ndGggKSArIHNlYXNvbmFsQWRkT25Ub3RhbFxuICAgICAgICAgICAgICAgIH0gKVxuXG4gICAgICAgICAgICAgICAgc2hhcmUuc2V0KCAnc2VsZWN0ZWRPcHRpb25zJywgc2hhcmUuZ2V0KCAnc2VsZWN0ZWRPcHRpb25zJyApLm1hcCggc2VsZWN0ZWRPcHRpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVPcHRpb24gPSBzaGFyZS5nZXQoJ3NoYXJlb3B0aW9ucycpLmdldCggc2VsZWN0ZWRPcHRpb24uc2hhcmVvcHRpb25pZCApLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVPcHRpb25PcHRpb24gPSBzaGFyZU9wdGlvbi5nZXQoJ29wdGlvbnMnKS5nZXQoIHNlbGVjdGVkT3B0aW9uLnNoYXJlb3B0aW9ub3B0aW9uaWQgKVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKCBzZWxlY3RlZE9wdGlvbiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMudXRpbC5mb3JtYXQoICclczogJXMgJXMgLS0gJXMgcGVyIHdlZWsnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlT3B0aW9uLmdldCgnbmFtZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlT3B0aW9uT3B0aW9uLmdldCgnbGFiZWwnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZU9wdGlvbk9wdGlvbi5nZXQoJ3VuaXQnKSB8fCBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlT3B0aW9uT3B0aW9uLmdldCgncHJpY2UnKSApXG4gICAgICAgICAgICAgICAgICAgIH0gKVxuICAgICAgICAgICAgICAgIH0gKSApXG5cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzaGFyZUJveDogdGhpcy50ZW1wbGF0ZXMuU2hhcmVCb3goIHNoYXJlLmF0dHJpYnV0ZXMgKSxcbiAgICAgICAgICAgICAgICAgICAgc2Vhc29uYWxBZGRPbnM6IHNoYXJlLmdldCgnc2Vhc29uYWxBZGRPbnMnKSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPcHRpb25zOiBzaGFyZS5nZXQoJ3NlbGVjdGVkT3B0aW9ucycpLm1hcCggc2VsZWN0ZWRPcHRpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoYXJlT3B0aW9uID0gc2hhcmUuZ2V0KCdzaGFyZW9wdGlvbnMnKS5nZXQoIHNlbGVjdGVkT3B0aW9uLnNoYXJlb3B0aW9uaWQgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZU9wdGlvbk9wdGlvbiA9IHNoYXJlT3B0aW9uLmdldCgnb3B0aW9ucycpLmdldCggc2VsZWN0ZWRPcHRpb24uc2hhcmVvcHRpb25vcHRpb25pZCApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uTmFtZTogc2hhcmVPcHRpb24uZ2V0KCduYW1lJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IHNoYXJlT3B0aW9uT3B0aW9uLmdldCgncHJpY2UnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9wdGlvbkxhYmVsOiBzaGFyZU9wdGlvbk9wdGlvbi5nZXQoJ2xhYmVsJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdDogc2hhcmVPcHRpb25PcHRpb24uZ2V0KCd1bml0JylcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSApLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERlbGl2ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxpdmVyeVR5cGU6IHNlbGVjdGVkRGVsaXZlcnkuZ2V0KCdsYWJlbCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2Vla2x5Q29zdDogc2VsZWN0ZWREZWxpdmVyeS5nZXQoJ3ByaWNlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cGRyb3BvZmY6ICggZ3JvdXBEcm9wb2ZmICkgPyBncm91cERyb3BvZmYuZ2V0KCdsYWJlbCcpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogKCBncm91cERyb3BvZmYgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZ3JvdXBEcm9wb2ZmLmdldCgnc3RyZWV0JykgKyAnLCAnICsgZ3JvdXBEcm9wb2ZmLmdldCgnY2l0eVN0YXRlWmlwJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICggc2VsZWN0ZWREZWxpdmVyeS5nZXQoJ25hbWUnKSA9PT0gJ2Zhcm0nIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLkNvbnRhY3RJbmZvLmRhdGEuZmFybXBpY2t1cFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMudXNlci5nZXQoJ2FkZHJlc3MnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheU9mV2VlazogdGhpcy5EYXlPZldlZWtNYXBbIHNoYXJlLmdldCgnc2VsZWN0ZWREZWxpdmVyeScpLmRheW9md2VlayBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnR0aW1lOiB0aW1lcy5zdGFydHRpbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmR0aW1lOiB0aW1lcy5lbmR0aW1lXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHdlZWtseVByaWNlOiB0aGlzLnV0aWwuZm9ybWF0KCAnJCVzJywgd2Vla2x5VG90YWwudG9GaXhlZCgyKSApLFxuICAgICAgICAgICAgICAgICAgICBzZWFzb25hbE9wdGlvbnNUb3RhbDogYCQke3NlYXNvbmFsQWRkT25Ub3RhbC50b0ZpeGVkKDIpfWAsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGF0ZXM6IHNoYXJlLmdldCgnc2VsZWN0ZWREYXRlcycpLm1hcCggZGF0ZSA9PiB0aGlzLnRlbXBsYXRlcy5QaWNrdXBEYXRlKCBPYmplY3QuYXNzaWduKCB7IHNlbGVjdGVkOiB0cnVlIH0sIGRhdGUuYXR0cmlidXRlcyApICkgKSxcbiAgICAgICAgICAgICAgICAgICAgd2Vla3NTZWxlY3RlZDogc2hhcmUuZ2V0KCdzZWxlY3RlZERhdGVzJykubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBza2lwRGF5czogKCBzaGFyZS5oYXMoJ3NraXBEYXlzJykgKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzaGFyZS5nZXQoJ3NraXBEYXlzJykubWFwKCBza2lwRGF5SWQgPT4gdGhpcy50ZW1wbGF0ZXMuUGlja3VwRGF0ZSggc2hhcmUuZ2V0KCdkZWxpdmVyeURhdGVzJykuZ2V0KHNraXBEYXlJZCkuYXR0cmlidXRlcyApICkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0aGlzLnV0aWwuZm9ybWF0KCAnJCVzJywgc2hhcmUuZ2V0KCd0b3RhbCcpLnRvRml4ZWQoMikgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gKSBcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBvbklucHV0Qmx1ciggZSApIHtcbiAgICAgICAgdmFyICRlbCA9IHRoaXMuJCggZS5jdXJyZW50VGFyZ2V0ICksXG4gICAgICAgICAgICBmaWVsZCA9IHRoaXMuZmllbGRzWyAkZWwuYXR0cignaWQnKSBdLFxuICAgICAgICAgICAgcmVzdWx0XG5cbiAgICAgICAgcmVzdWx0ID0gZmllbGQudmFsaWRhdGUuY2FsbCggdGhpcywgJGVsLnZhbCgpIClcblxuICAgICAgICBpZiggcmVzdWx0ICkge1xuICAgICAgICAgICAgJGVsLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdoYXMtZXJyb3InKS5hZGRDbGFzcygnaGFzLWZlZWRiYWNrIGhhcy1zdWNjZXNzJylcbiAgICAgICAgICAgICRlbC5uZXh0KCkucmVtb3ZlQ2xhc3MoJ2hpZGUnKS5yZW1vdmVDbGFzcygnZ2x5cGhpY29uLXJlbW92ZScpLmFkZENsYXNzKCdnbHlwaGljb24tb2snKVxuICAgICAgICAgICAgJGVsLnNpYmxpbmdzKCcuaGVscC1ibG9jaycpLnJlbW92ZSgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNob3dFcnJvciggJGVsLCBmaWVsZC5lcnJvciApXG4gICAgICAgICAgICAvLyB0aGlzLmRpc2FibGVTaWdudXBCdG4oKVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIG9uSW5wdXRGb2N1cyggZSApIHtcbiAgICAgICAgdmFyICRlbCA9IHRoaXMuJCggZS5jdXJyZW50VGFyZ2V0IClcbiAgICAgICAgaWYoICRlbC5uZXh0KCkuaGFzQ2xhc3MoJ2dseXBoaWNvbi1yZW1vdmUnKSApIHRoaXMucmVtb3ZlRXJyb3IoIHRoaXMuJCggZS5jdXJyZW50VGFyZ2V0ICkgKVxuICAgICAgICAvLyBpZiggdGhpcy50ZW1wbGF0ZURhdGEucGF5bWVudEZvcm0uZmluZCgnLmhhcy1lcnJvcicpLmxlbmd0aCA9PT0gMCApIHRoaXMuZW5hYmxlU2lnbnVwQnRuKClcbiAgICB9LFxuXG4gICAgcGF5bWVudFVuc2VsZWN0ZWQoKSB7XG5cbiAgICAgICAgdGhpcy5mZWUgPSBmYWxzZVxuICAgICAgICB0aGlzLnNlbGVjdGVkUGF5bWVudCA9IHVuZGVmaW5lZFxuICAgICAgICB0aGlzLnVwZGF0ZUdyYW5kVG90YWwoKVxuXG4gICAgICAgIC8vIHRoaXMuZGlzYWJsZVNpZ251cEJ0bigpXG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLnBheW1lbnRGb3JtLmFkZENsYXNzKCdoaWRlJylcbiAgICB9LFxuXG4gICAgcG9zdFJlbmRlcigpIHtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZmVlID0gZmFsc2VcbiAgICAgICAgdGhpcy5zZWxlY3RlZFBheW1lbnQgPSB1bmRlZmluZWRcbiAgICAgICAgXG4gICAgICAgIFZpZXcucHJvdG90eXBlLnBvc3RSZW5kZXIuY2FsbCh0aGlzKVxuXG4gICAgICAgIHRoaXMucGF5bWVudE9wdGlvbnNcbiAgICAgICAgICAgIC5vbiggJ2l0ZW1TZWxlY3RlZCcsIG1vZGVsID0+IHRoaXNbIHRoaXMudXRpbC5mb3JtYXQoICclc1BheW1lbnRTZWxlY3RlZCcsIG1vZGVsLmdldCgnbmFtZScpICkgXSgpIClcbiAgICAgICAgICAgIC5vbiggJ2l0ZW1VbnNlbGVjdGVkJywgbW9kZWwgPT4gdGhpcy5wYXltZW50VW5zZWxlY3RlZCgpIClcblxuICAgICAgICB0aGlzLmdyYW5kVG90YWwgPSB0aGlzLnNpZ251cERhdGEuc2hhcmVzLm1hcCggc2hhcmUgPT4gc2hhcmUuZ2V0KCd0b3RhbCcpICkucmVkdWNlKCAoIGEsIGIgKSA9PiBhICsgYiApXG4gICAgICAgIHRoaXMuZ3JhbmRUb3RhbFBsdXNGZWUgPSAoIHRoaXMuZ3JhbmRUb3RhbCArIHRoaXMuZ3JhbmRUb3RhbCAqIC4wMyApXG5cbiAgICAgICAgdGhpcy51cGRhdGVHcmFuZFRvdGFsKClcbiAgICB9LFxuXG4gICAgcmVxdWlyZXNMb2dpbjogZmFsc2UsXG5cbiAgICByZW1vdmVFcnJvciggJGVsICkge1xuICAgICAgICBpZiggJGVsLnNpYmxpbmdzKCcuaGVscC1ibG9jaycpLmxlbmd0aCA9PT0gMSApICRlbC5wYXJlbnQoKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnaGFzLWVycm9yJylcbiAgICAgICAgJGVsLm5leHQoKS5yZW1vdmVDbGFzcygnaGlkZScpLnJlbW92ZUNsYXNzKCdnbHlwaGljb24tcmVtb3ZlJylcbiAgICAgICAgJGVsLnNpYmxpbmdzKCB0aGlzLnV0aWwuZm9ybWF0KCAnLmhlbHAtYmxvY2suJXMnLCAkZWwuYXR0cignaWQnKSApICkucmVtb3ZlKClcbiAgICB9LFxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgZGF0YVByb21pc2VzID0gWyBdXG5cbiAgICAgICAgZGF0YVByb21pc2VzLnB1c2goIHRoaXMuQ29udGFjdEluZm8uZ2V0KCkgKVxuXG4gICAgICAgIHRoaXMuc2lnbnVwRGF0YS5zaGFyZXMuZm9yRWFjaCggc2hhcmUgPT4ge1xuICAgICAgICAgICAgaWYoICEgc2hhcmUuaGFzKCdzaGFyZW9wdGlvbnMnKSApIGRhdGFQcm9taXNlcy5wdXNoKCBzaGFyZS5nZXRTaGFyZU9wdGlvbnMoKSApXG4gICAgICAgICAgICBpZiggISBzaGFyZS5oYXMoJ2RlbGl2ZXJ5b3B0aW9ucycpICkgZGF0YVByb21pc2VzLnB1c2goIHNoYXJlLmdldERlbGl2ZXJ5T3B0aW9ucygpIClcbiAgICAgICAgICAgIGlmKCAhIHNoYXJlLmhhcygnZ3JvdXBkcm9wb2ZmcycpICkgZGF0YVByb21pc2VzLnB1c2goIHNoYXJlLmdldEdyb3VwRHJvcG9mZnMoKSApXG4gICAgICAgICAgICBpZiggISBzaGFyZS5oYXMoJ2RlbGl2ZXJ5RGF0ZXMnKSApIGRhdGFQcm9taXNlcy5wdXNoKCBzaGFyZS5nZXREZWxpdmVyeURhdGVzKCkgKVxuICAgICAgICAgfSApXG5cbiAgICAgICAgdGhpcy5RLmFsbCggZGF0YVByb21pc2VzICkudGhlbiggKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaWdudXBEYXRhLnNoYXJlcy5mb3JFYWNoKCBzaGFyZSA9PiBzaGFyZS5nZXRTZWxlY3RlZERhdGVzKCkgKVxuICAgICAgICAgICAgVmlldy5wcm90b3R5cGUucmVuZGVyLmNhbGwodGhpcylcbiAgICAgICAgfSApXG4gICAgICAgIC5mYWlsKCBlID0+IG5ldyB0aGlzLkVycm9yKGUpIClcbiAgICAgICAgLmRvbmUoKVxuICAgIH0sXG5cbiAgICBzaG93KCkge1xuICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5jb250YWluZXIuZW1wdHkoKS5yZW1vdmUoKVxuICAgICAgICB0aGlzLnJlbmRlcigpXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIHNob3dFcnJvciggJGVsLCBlcnJvciApIHtcbiAgICAgICAgdmFyIGZvcm1Hcm91cCA9ICRlbC5wYXJlbnQoKS5wYXJlbnQoKVxuXG4gICAgICAgIGlmKCAkZWwubmV4dCgpLmhhc0NsYXNzKCAnZ2x5cGhpY29uLXJlbW92ZScgKSApIHJldHVyblxuICAgICAgICBcbiAgICAgICAgZm9ybUdyb3VwLnJlbW92ZUNsYXNzKCdoYXMtc3VjY2VzcycpLmFkZENsYXNzKCdoYXMtZmVlZGJhY2sgaGFzLWVycm9yJylcbiAgICAgICAgJGVsLm5leHQoKS5yZW1vdmVDbGFzcygnaGlkZScpLnJlbW92ZUNsYXNzKCdnbHlwaGljb24tb2snKS5hZGRDbGFzcygnZ2x5cGhpY29uLXJlbW92ZScpXG4gICAgICAgICAgIC5wYXJlbnQoKS5hcHBlbmQoIEZvcm0udGVtcGxhdGVzLmZpZWxkRXJyb3IoIHsgZXJyb3I6IGVycm9yLCBuYW1lOiAkZWwuYXR0cignaWQnKSB9ICkgKVxuICAgIH0sXG5cbiAgICBzaG93RXJyb3JNb2RhbCggb3B0cyApIHtcbiAgICAgICAgdGhpcy5tb2RhbFZpZXcuc2hvdygge1xuICAgICAgICAgICAgdGl0bGU6ICdIbW1tJyxcbiAgICAgICAgICAgIGJvZHk6ICggb3B0cyAmJiBvcHRzLmVycm9yIClcbiAgICAgICAgICAgICAgICA/IG9wdHMuZXJyb3JcbiAgICAgICAgICAgICAgICA6ICdUaGVyZSB3YXMgYSBwcm9ibGVtLiAgUGxlYXNlIGNvbnRhY3QgdXMgYXQgZWF0LnBhdGNod29ya2dhcmRlbnNAZ21haWwuY29tLiAgV2UgYXBvbG9naXplIGZvciB0aGUgaW5jb252ZW5pZW5jZScsXG4gICAgICAgICAgICBoaWRlQ2FuY2VsQnRuOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlybVRleHQ6ICdPa2F5JyB9IClcbiAgICAgICAgLm9uKCAnc3VibWl0JywgKCkgPT4gdGhpcy5tb2RhbFZpZXcuaGlkZSgpIClcbiAgICB9LFxuICAgIFxuICAgIHNob3dTdWNjZXNzTW9kYWwoKSB7XG4gICAgICAgIHRoaXMubW9kYWxWaWV3LnNob3coIHtcbiAgICAgICAgICAgIHRpdGxlOiAnR3JlYXQgU3VjY2VzcycsXG4gICAgICAgICAgICBib2R5OiB0aGlzLnV0aWwuZm9ybWF0KCAnVGhhbmtzIGZvciBzaWduaW5nIHVwLiAgV2UgbG9vayBmb3J3YXJkIHRvIHNoYXJpbmcgdGhlIHNlYXNvbiB3aXRoIHlvdS4gJXMnLFxuICAgICAgICAgICAgICAgICggT2JqZWN0LmtleXMoIHRoaXMuZ2V0Rm9ybURhdGEoKSApLmxlbmd0aCApID8gICdZb3Ugc2hvdWxkIGZpbmQgYSByZWNlaXB0IGluIHlvdXIgZW1haWwgaW5ib3gnIDogJycgKSxcbiAgICAgICAgICAgIGhpZGVDYW5jZWxCdG46IHRydWUsXG4gICAgICAgICAgICBjb25maXJtVGV4dDogJ09rYXknIH0gKVxuICAgICAgICAub24oICdzdWJtaXQnLCAoKSA9PiB3aW5kb3cubG9jYXRpb24gPSAnLycgKVxuICAgICAgICAub24oICdoaWRkZW4nLCAoKSA9PiB3aW5kb3cubG9jYXRpb24gPSAnLycgKVxuICAgIH0sXG5cbiAgICBzaWdudXAoKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVEYXRhLnNpZ251cEJ0blxuICAgICAgICAgICAgLm9mZignY2xpY2snKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdoYXMtc3Bpbm5lcicpXG4gICAgICAgICAgICAuYXBwZW5kKCB0aGlzLnNwaW5uZXIuc3BpbigpLmVsIClcblxuICAgICAgICB0aGlzLiQuYWpheCgge1xuICAgICAgICAgICAgZGF0YTogdGhpcy5idWlsZFJlcXVlc3QoKSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogXCIvc2lnbnVwXCIgfSApXG4gICAgICAgIC5kb25lKCByZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiggcmVzcG9uc2UuZXJyb3IgKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93RXJyb3JNb2RhbCggeyBlcnJvcjogcmVzcG9uc2UuZXJyb3IgfSApXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuc2lnbnVwQnRuXG4gICAgICAgICAgICAgICAgICAgIC5vZmYoJ2NsaWNrJylcbiAgICAgICAgICAgICAgICAgICAgLm9uZSggJ2NsaWNrJywgdGhpcy5zaWdudXBIYW5kbGVyIClcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoJ0JlY29tZSBhIE1lbWJlciEnKSAgIFxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdkb25lJylcbiAgICAgICAgICAgIHRoaXMucGF5bWVudE9wdGlvbnMucmVtb3ZlQWxsTGlzdGVuZXJzKCAnaXRlbVNlbGVjdGVkJyApLnJlbW92ZUFsbExpc3RlbmVycyggJ2l0ZW1VbnNlbGVjdGVkJyApXG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5zaWdudXBCdG4udGV4dCgnVGhhbmsgeW91JylcbiAgICAgICAgICAgIHRoaXMudXNlci5zZXQoICdzdGF0ZScsIHsgfSApXG5cbiAgICAgICAgICAgIGlmKCAhdGhpcy51c2VyLmlzTG9nZ2VkSW4oKSApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXIuc2V0KCB0aGlzLnVzZXIuZGVmYXVsdHMoKSApXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gYHBhdGNod29ya2p3dD07IGRvbWFpbj0ke3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX07IHBhdGg9LzsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVDtgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuc2hvd1N1Y2Nlc3NNb2RhbCgpXG4gICAgICAgIH0gKVxuICAgICAgICAuZmFpbCggKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaG93RXJyb3JNb2RhbCgpXG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5zaWdudXBCdG5cbiAgICAgICAgICAgICAgICAub2ZmKCdjbGljaycpXG4gICAgICAgICAgICAgICAgLm9uZSggJ2NsaWNrJywgdGhpcy5zaWdudXBIYW5kbGVyIClcbiAgICAgICAgICAgICAgICAudGV4dCgnQmVjb21lIGEgTWVtYmVyIScpXG4gICAgICAgIH0gKVxuICAgICAgICAuYWx3YXlzKCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNwaW5uZXIuc3RvcCgpXG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YS5zaWdudXBCdG4ucmVtb3ZlQ2xhc3MoJ2hhcy1zcGlubmVyJylcbiAgICAgICB9IClcbiAgICB9LFxuXG4gICAgc3Vidmlld3M6IHtcbiAgICAgICAgcGF5bWVudE9wdGlvbnM6IFtcbiAgICAgICAgICAgIHsgbmFtZTogJ3BheW1lbnRPcHRpb25zJywgdmlldzogcmVxdWlyZSgnLi9QYXltZW50T3B0aW9ucycpIH0sXG4gICAgICAgIF0sXG4gICAgfSxcblxuICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuLi8uLi90ZW1wbGF0ZXMvc2lnbnVwL3N1bW1hcnknKSxcblxuICAgIHRlbXBsYXRlczoge1xuICAgICAgICBQaWNrdXBEYXRlOiByZXF1aXJlKCcuLi8uLi90ZW1wbGF0ZXMvc2lnbnVwL3BpY2t1cERhdGUnKSxcbiAgICAgICAgU2hhcmVCb3g6IHJlcXVpcmUoJy4uL3RlbXBsYXRlcy9TaGFyZUJveCcpXG4gICAgfSxcblxuICAgIHVwZGF0ZUdyYW5kVG90YWwoKSB7XG4gICAgICAgIHZhciB0b3RhbCA9ICggdGhpcy5mZWUgKSA/IHRoaXMuZ3JhbmRUb3RhbFBsdXNGZWUgOiB0aGlzLmdyYW5kVG90YWxcbiAgICAgICAgdGhpcy50ZW1wbGF0ZURhdGEuZ3JhbmRUb3RhbC50ZXh0KCAnR3JhbmQgVG90YWwgOiAgJyArICckJyArIHRvdGFsLnRvRml4ZWQoMikgKVxuXG4gICAgICAgIHRoaXMuJCgnLnBheW1lbnQtb3B0aW9uOmZpcnN0LWNoaWxkIC5tZXRob2QtdG90YWwnKS50ZXh0KCAnR3JhbmQgVG90YWwgOiAgJyArICckJyArIHRoaXMuZ3JhbmRUb3RhbC50b0ZpeGVkKDIpIClcbiAgICAgICAgdGhpcy4kKCcucGF5bWVudC1vcHRpb246bGFzdC1jaGlsZCAubWV0aG9kLXRvdGFsJykudGV4dCggJ0dyYW5kIFRvdGFsIDogICcgKyAnJCcgKyB0aGlzLmdyYW5kVG90YWwudG9GaXhlZCgyKSApXG4gICAgfSxcblxuICAgIHZhbGlkYXRlQ2FyZEluZm8oKSB7XG4gICAgICAgIHZhciB2YWxpZCA9IHRydWVcblxuICAgICAgICBPYmplY3Qua2V5cyggdGhpcy5maWVsZHMgKS5mb3JFYWNoKCBrZXkgPT4ge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuZmllbGRzWyBrZXkgXS52YWxpZGF0ZS5jYWxsKCB0aGlzLCB0aGlzLnRlbXBsYXRlRGF0YVtrZXldLnZhbCgpIClcblxuICAgICAgICAgICAgaWYoICEgcmVzdWx0ICkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Vycm9yKCB0aGlzLnRlbXBsYXRlRGF0YVtrZXldLCB0aGlzLmZpZWxkc1sga2V5IF0uZXJyb3IgKVxuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSApXG5cbiAgICAgICAgLy8gaWYoICEgdmFsaWQgKSB0aGlzLmRpc2FibGVTaWdudXBCdG4oKVxuXG4gICAgICAgIHJldHVybiB2YWxpZFxuICAgIH1cblxufSApXG5cbm1vZHVsZS5leHBvcnRzID0gU3VtbWFyeVxuIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGRpdj5cbiAgICA8aDE+RnJlc2ggZm9vZCBmcm9tIGZhcm1lcnMgeW91IGtub3chPC9oMT5cbiAgICA8c2VjdGlvbiBkYXRhLWpzPVwic2VjdGlvbk9uZVwiIGNsYXNzPVwic3RyaXBlZFwiPlxuICAgICAgICA8aDI+PC9oMj5cbiAgICA8L3NlY3Rpb24+XG4gICAgPHNlY3Rpb24gZGF0YS1qcz1cInNlY3Rpb25Ud29cIj5cbiAgICAgICAgPGgyPjwvaDI+XG4gICAgPC9zZWN0aW9uPlxuICAgIDxzZWN0aW9uIGRhdGEtanM9XCJzZWN0aW9uVGhyZWVcIiBjbGFzcz1cInN0cmlwZWRcIj5cbiAgICAgICAgPGgyPjwvaDI+XG4gICAgPC9zZWN0aW9uPlxuICAgIDxzZWN0aW9uIGRhdGEtanM9XCJzZWN0aW9uRm91clwiPlxuICAgICAgICA8aDI+PC9oMj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInN0YWZmXCIgZGF0YS1qcz1cInN0YWZmXCI+PC9kaXY+XG4gICAgPC9zZWN0aW9uPlxuPC9kaXY+YFxuIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGRpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZmQtaGlkZGVuIGJhY2stYnRuXCIgZGF0YS1qcz1cImJhY2tCdG5cIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLW1lbnUtbGVmdFwiPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4+QWNjb3VudCBPcHRpb25zPC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJhY2NvdW50LW5hdlwiIGRhdGEtanM9XCJhY2NvdW50TmF2XCI+XG4gICAgICAgIDxkaXYgZGF0YS1qcz1cImFjY291bnRJbmZvQnRuXCI+XG4gICAgICAgICAgICA8aDQ+QWNjb3VudCBJbmZvPC9oND5cbiAgICAgICAgICAgIDxkaXY+VmlldyBhbmQgZWRpdCB5b3VyIG5hbWUsIGVtYWlsLCBwaG9uZSBudW1iZXIsIGFuZCBhZGRyZXNzLjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBkYXRhLWpzPVwib3JkZXJzQnRuXCI+XG4gICAgICAgICAgICA8aDQ+WW91ciBPcmRlcnM8L2g0PlxuICAgICAgICAgICAgPGRpdj5WaWV3IHBhc3Qgb3JkZXJzIGFuZCBtYWtlIGNoYW5nZXMgdG8gY3VycmVudCBvcmRlciBvcHRpb25zLjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBkYXRhLWpzPVwicGF5bWVudEJ0blwiPlxuICAgICAgICAgICAgPGg0PlBheW1lbnQ8L2g0PlxuICAgICAgICAgICAgPGRpdj5NYWtlIGEgY3JlZGl0IGNhcmQgcGF5bWVudCBvbiBhbnkgcmVtYWluaW5nIGJhbGFuY2VzLjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZmQtaGlkZGVuXCIgZGF0YS1qcz1cImFjY291bnRJbmZvXCI+XG4gICAgICAgIDxkaXYgZGF0YS12aWV3PVwiZm9ybVwiIGRhdGEtbmFtZT1cInBlcnNvbmFsSW5mb1wiPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJmZC1oaWRkZW5cIiBkYXRhLWpzPVwib3JkZXJJbmZvXCI+XG4gICAgICAgIDxkaXYgZGF0YS12aWV3PVwic2Vhc29uc1wiPjwvZGl2PlxuICAgICAgICA8ZGl2IGRhdGEtdmlldz1cIm9yZGVyT3B0aW9uc1wiPjwvZGl2PlxuICAgICAgICA8ZGl2IGRhdGEtdmlldz1cIndlZWtPcHRpb25zXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgZGF0YS12aWV3PVwic2hhcmVQYXRjaFwiPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJmZC1oaWRkZW5cIiBkYXRhLXZpZXc9XCJhY2NvdW50UGF5bWVudHNcIj48L2Rpdj5cbjwvZGl2PmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT5cbmA8ZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWhlYWRpbmdcIj5cbiAgICAgICAgPGgzPk1ha2UgYSBQYXltZW50PC9oMz5cbiAgICAgICAgPHAgZGF0YS1qcz1cImJhbGFuY2VNZXNzYWdlXCI+U2VsZWN0IGEgc2hhcmUgdG8gdmlldyB5b3VyIGJhbGFuY2UgYW5kIG1ha2UgYSBjcmVkaXQgY2FyZCBwYXltZW50PC9wPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgZGF0YS12aWV3PVwic2Vhc29uc1wiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwYXltZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0b3RhbFwiIGRhdGEtanM9XCJ0b3RhbFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmQtaGlkZGVuXCIgZGF0YS1qcz1cImNjV3JhcHBlclwiPlxuICAgICAgICAgICAgPGRpdiBkYXRhLXZpZXc9XCJmb3JtXCIgZGF0YS1uYW1lPVwiY3JlZGl0Q2FyZFwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PmAiLCJtb2R1bGUuZXhwb3J0cyA9ICggcCwgeyBNb21lbnQgfSApID0+IHtcbiAgICBjb25zdCBhY3Rpb25zID0gcC5vcHRzLmFjdGlvbnMubWFwKCBhY3Rpb24gPT4gYDxvcHRpb24gdmFsdWU9XCIke2FjdGlvbn1cIj4ke2FjdGlvbn08L29wdGlvbj5gICkuam9pbignJylcbiAgICByZXR1cm4gYGAgK1xuYDxkaXY+XG4gICAgPGZvcm0gZGF0YS1qcz1cImZvcm1cIj5cbiAgICAgICAgPHNwYW4+PC9zcGFuPlxuICAgICAgICA8c2VsZWN0IGRhdGEtanM9XCJhY3Rpb25cIj4ke2FjdGlvbnN9PC9zZWxlY3Q+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGRhdGEtanM9XCJ2YWx1ZVwiIHBsYWNlaG9sZGVyPVwiJDAuMDBcIi8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGRhdGEtanM9XCJjaGVja051bWJlclwiLz5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgZGF0YS1qcz1cImNyZWF0ZWRcIiB2YWx1ZT1cIiR7TW9tZW50KCkuZm9ybWF0KCdNTU0gRCwgWVlZWScpfVwiIC8+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGRhdGEtanM9XCJkZXNjcmlwdGlvblwiIHBsYWNlaG9sZGVyPVwiZGVzY3JpcHRpb25cIi8+XG4gICAgPC9mb3JtPlxuICAgIDxkaXYgZGF0YS12aWV3PVwiYnV0dG9uRmxvd1wiPjwvZGl2PlxuPC9kaXY+YFxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPG5hdiBkYXRhLWpzPVwiY29udGFpbmVyXCIgY2xhc3M9XCJhZG1pbi1oZWFkZXJcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXggaGlkZGVuLXhzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGltZyBzcmM9XCIke3Aub3B0cy5sb2dvfVwiLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgZGF0YS1qcz1cInVzZXJQYW5lbFwiIGNsYXNzPVwicHVsbC1yaWdodCBoaWRlXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGRhdGEtanM9XCJzaWdub3V0QnRuXCIgY2xhc3M9XCJidG4gYnRuLWxpbmtcIj5TaWduIE91dDwvYnV0dG9uPlxuICAgICAgICAgICAgPHNwYW4gZGF0YS1qcz1cIm5hbWVcIj48L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBkYXRhLWpzPVwicHJvZmlsZUJ0blwiIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi11c2VyIGhpZGVcIj48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9uYXY+YFxuIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGRpdj5cbiAgICA8ZGl2IGRhdGEtanM9XCJuYXZcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwidmlld3NcIiBkYXRhLWpzPVwidmlld3NcIj48L2Rpdj5cbjwvZGl2PmBcbiIsIm1vZHVsZS5leHBvcnRzID0gcCA9PiB7XG4gICAgY29uc3QgZGlzYWJsZWQgPSBwLmRpc2FibGVkID8gJ2Rpc2FibGVkJzogJydcblxucmV0dXJuIGBgICtcbmA8c2VjdGlvbiBjbGFzcz1cIiR7cC5oaWRlID8gJ2ZkLWhpZGRlbicgOiAnJ31cIj5gICtcbk9iamVjdC5rZXlzKCBwLm1vZGVsLnN0YXRlcyApLm1hcCggc3RhdGVOYW1lID0+XG4gICAgYDxkaXYgZGF0YS1qcz1cIiR7c3RhdGVOYW1lfVwiIGNsYXNzPVwic3RhdGUgJHtzdGF0ZU5hbWV9ICR7c3RhdGVOYW1lID09PSAnc3RhcnQnID8gJycgOiAnZmQtaGlkZGVuJ31cIj5gICtcbiAgICBwLm1vZGVsLnN0YXRlc1sgc3RhdGVOYW1lIF0ubWFwKCBidXR0b24gPT5cbiAgICAgICAgYnV0dG9uLnN2Z1xuICAgICAgICAgICAgPyBidXR0b24uc3ZnXG4gICAgICAgICAgICA6IGA8YnV0dG9uIGNsYXNzPVwiJHtkaXNhYmxlZH0gJHtidXR0b24uY2xhc3MgfHwgJyd9IFwiZGF0YS1qcz1cIiR7YnV0dG9uLm5hbWV9XCI+JHtidXR0b24udGV4dH08L2J1dHRvbj5gXG4gICAgKS5qb2luKCcnKSArXG4gICAgYDwvZGl2PmBcbikuam9pbignJykgK1xuYDwvc2VjdGlvbj5gXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9ICggcCApID0+IGA8c2VjdGlvbj5cbiAgICA8ZGl2IGNsYXNzPVwibGVmdC1wYW5lbFwiIGRhdGEtanM9XCJsZWZ0UGFuZWxcIj5cbiAgICAgICAgPHNlY3Rpb24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibGlua1wiIGRhdGEtanM9XCJiYWNrQnRuXCI+JHtyZXF1aXJlKCcuL2xpYi9sZWZ0QXJyb3cnKSgpfTxzcGFuPkJhY2sgdG8gQWRtaW48L3NwYW4+PC9idXR0b24+XG4gICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgPHNlY3Rpb24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibGlua1wiIGRhdGEtanM9XCJyZXNvdXJjZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICAgIDxzZWN0aW9uPlxuICAgICAgICAgICAgPGRpdiBkYXRhLXZpZXc9XCJsaXN0XCIgZGF0YS1uYW1lPVwiY29sbGVjdGlvbnNcIj48L2Rpdj5cbiAgICAgICAgPC9zZWN0aW9uPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgZGF0YS1qcz1cIm1haW5QYW5lbFwiIGNsYXNzPVwibWFpbi1wYW5lbFwiPjwvZGl2PlxuPC9zZWN0aW9uPmBcbiIsIm1vZHVsZS5leHBvcnRzID0gcCA9PlxuYDxkaXY+XG4gICAgPGgxPkNvbnRhY3Q8L2gxPlxuICAgIDxzZWN0aW9uPlxuICAgICAgICA8aDIgZGF0YS1qcz1cImludHJvXCI+PC9oMj5cbiAgICAgICAgPGRpdiBkYXRhLWpzPVwiY29udGFjdEluZm9cIj48L2Rpdj5cbiAgICA8L3NlY3Rpb24+XG48L2Rpdj5gIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGRpdj5cbiAgICA8aDE+Q1NBIFByb2dyYW08L2gxPlxuICAgIDxzZWN0aW9uIGRhdGEtanM9XCJhYm91dENTQVwiIGNsYXNzPVwiYWJvdXQtY3NhXCI+XG4gICAgICAgIDxoMj48L2gyPlxuICAgIDwvc2VjdGlvbj5cbiAgICA8ZGl2IGNsYXNzPVwiaW1hZ2Utcm93XCIgZGF0YS1qcz1cImRpdmlkZXJJbWFnZXNPbmVcIj48L2Rpdj5cbiAgICA8c2VjdGlvbiBkYXRhLWpzPVwiY3NhRml0XCIgY2xhc3M9XCJjc2EtZml0XCI+XG4gICAgICAgIDxoMiBkYXRhLWpzPVwiaG93RG9JS25vd1wiPjwvaDI+XG4gICAgICAgIDxwPjwvcD5cbiAgICAgICAgPHVsIGRhdGEtanM9XCJjc2FGaXRTdGF0ZW1lbnRzXCI+PC91bD5cbiAgICA8L3NlY3Rpb24+XG4gICAgPHNlY3Rpb24gZGF0YS1qcz1cImNzYUNvbnRlbnRzXCIgY2xhc3M9XCJjc2EtY29udGVudHNcIj5cbiAgICAgICAgPGgyPjwvaDI+XG4gICAgICAgIDxwPjwvcD5cbiAgICAgICAgPGRpdiBkYXRhLWpzPVwic2hhcmVFeGFtcGxlc1wiIGNsYXNzPVwic2hhcmUtZXhhbXBsZXNcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBkYXRhLWpzPVwic2hhcmVEZXNjcmlwdGlvbnNcIiBjbGFzcz1cInNoYXJlLWRlc2NyaXB0aW9uc1wiPjwvZGl2PlxuICAgICAgICA8cCBkYXRhLWpzPVwic2hhcmVQcmlvcml0eVwiPjwvcD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJ1dHRvbi1yb3dcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4teWVsbG93XCIgZGF0YS1qcz1cInNpZ251cEJ0blwiIHR5cGU9XCJidXR0b25cIj5TaWduIFVwIE5vdyE8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9zZWN0aW9uPlxuICAgIDxkaXYgY2xhc3M9XCJpbWFnZS1yb3dcIiBkYXRhLWpzPVwiZGl2aWRlckltYWdlc1R3b1wiPjwvZGl2PlxuICAgIDxzZWN0aW9uIGRhdGEtanM9XCJjc2FEZWxpdmVyeVwiIGNsYXNzPVwiZGVsaXZlcnlcIj5cbiAgICAgICAgPGgyPjwvaDI+XG4gICAgICAgIDxwPjwvcD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRlbGl2ZXJ5LW1hdHJpeFwiIGRhdGEtanM9XCJkZWxpdmVyeU1hdHJpeFwiPjwvZGl2PlxuICAgIDwvc2VjdGlvbj5cbiAgICA8c2VjdGlvbiBkYXRhLWpzPVwiY3NhQ3VzdG9taXphdGlvblwiPlxuICAgICAgICA8aDI+PC9oMj5cbiAgICAgICAgPHA+PHA+XG4gICAgPC9zZWN0aW9uPlxuICAgIDxzZWN0aW9uIGRhdGEtanM9XCJhZGRPbnNcIj5cbiAgICAgICAgPGgyPjwvaDI+XG4gICAgICAgIDxwPjwvcD5cbiAgICAgICAgPGRpdiBkYXRhLWpzPVwiYWRkT25JdGVtc1wiIGNsYXNzPVwiYWRkLW9uc1wiPjwvZGl2PlxuICAgIDwvc2VjdGlvbj5cbiAgICA8c2VjdGlvbiBkYXRhLWpzPVwicGF5bWVudFwiPlxuICAgICAgICA8aDI+PC9oMj5cbiAgICAgICAgPHA+PC9wPlxuICAgICAgICA8cCBkYXRhLWpzPVwicGF5YWJsZVRvXCI+PC9wPlxuICAgICAgICA8ZGl2IGRhdGEtanM9XCJjb250YWN0XCIgY2xhc3M9XCJjb250YWN0XCI+PC9kaXY+XG4gICAgICAgIDxwIGRhdGEtanM9XCJlbWFpbFVzXCI+PC9wPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLXJvd1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi15ZWxsb3dcIiBkYXRhLWpzPVwic2lnbnVwQnRuXCIgdHlwZT1cImJ1dHRvblwiPlNpZ24gVXAgTm93ITwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L3NlY3Rpb24+XG48L2Rpdj5gIiwiY29uc3QgRm9ybWF0ID0gcmVxdWlyZSgnLi4vLi4vRm9ybWF0JylcblxubW9kdWxlLmV4cG9ydHMgPSBwID0+IHtcbiAgICBjb25zdCBwcmljZSA9IHAudW5pdCA/IGAke3AucHJpY2V9IHBlciAke3AudW5pdH1gIDogcC5wcmljZVxuXG5yZXR1cm4gYGAgK1xuYDxkaXYgY2xhc3M9XCJpdGVtLWRldGFpbFwiPlxuICAgIDxkaXY+XG4gICAgICAgIDxzcGFuPiR7cC5oZWFkaW5nfTwvc3Bhbj5cbiAgICAgICAgPHNwYW4+fDwvc3Bhbj5cbiAgICAgICAgPHNwYW4+JHtwcmljZX08L3NwYW4+XG4gICAgPC9kaXY+XG4gICAgPHA+JHtGb3JtYXQuUGFyc2VUZXh0TGlua3MoIHAuaW5mb3JtYXRpb24gfHwgcC5kZXNjcmlwdGlvbiApfTwvcD5cbjwvZGl2PmBcbn0iLCJtb2R1bGUuZXhwb3J0cyA9ICggcCwgZm9ybWF0ICkgPT4ge1xuICAgIGNvbnN0IG5lZ2F0aXZlQ2xhc3MgPSBwLmlzTmVnYXRpdmUgPyAnbmVnYXRpdmUnIDogJydcblxucmV0dXJuIGBgICtcbmA8bGkgZGF0YS1qcz1cInRyYW5zYWN0aW9uXCIgZGF0YS1pZD1cIiR7cC5pZH1cIj5cbiAgICA8c3BhbiBjbGFzcz1cImNlbGxcIj48L3NwYW4+XG4gICAgPHNwYW4gZGF0YS1hdHRyPVwiYWN0aW9uXCIgY2xhc3M9XCJjZWxsXCI+JHtwLmFjdGlvbn08L3NwYW4+XG4gICAgPHNwYW4gZGF0YS1hdHRyPVwidmFsdWVcIiBjbGFzcz1cImNlbGwgJHtuZWdhdGl2ZUNsYXNzfVwiPiR7Zm9ybWF0LmN1cnJlbmN5KE1hdGguYWJzKHAudmFsdWUpKX08L3NwYW4+XG4gICAgPHNwYW4gZGF0YS1hdHRyPVwiY2hlY2tOdW1iZXJcIiBjbGFzcz1cImNlbGxcIj4ke3AuY2hlY2tOdW1iZXIgfHwgJyd9PC9zcGFuPlxuICAgIDxzcGFuIGRhdGEtYXR0cj1cImNyZWF0ZWRcIiBjbGFzcz1cImNlbGxcIj4ke2Zvcm1hdC5tb21lbnQocC5jcmVhdGVkKS5mb3JtYXQoJ01NTSBELCBZWVlZJyl9PC9zcGFuPlxuICAgIDxzcGFuIGRhdGEtYXR0cj1cImRlc2NyaXB0aW9uXCIgY2xhc3M9XCJjZWxsXCI+JHtwLmRlc2NyaXB0aW9ufTwvc3Bhbj5cbjwvbGk+YFxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+IHtcbiAgICBjb25zdCBoZWFkaW5nID0gcC5pc0FkbWluID8gJ0N1c3RvbWVyIEluZm8nIDogJ1lvdXIgQWNjb3VudCBJbmZvJ1xuICAgIGNvbnN0IHJvd3MgPSBwLmZpZWxkcy5tYXAoIGZpZWxkID0+IHtcbiAgICAgICAgY29uc3Qgcm93VmFsdWUgPSBmaWVsZC5uYW1lID09PSAnbmV2ZXJSZWNlaXZlJ1xuICAgICAgICAgICAgPyBgPGRpdiBkYXRhLWpzPVwibmV2ZXJSZWNlaXZlXCIgY2xhc3M9XCJjZWxsXCI+PC9kaXY+YFxuICAgICAgICAgICAgOiBmaWVsZC5uYW1lID09PSAnb25wYXltZW50cGxhbidcbiAgICAgICAgICAgICAgICA/IGA8c2VsZWN0IGRhdGEtanM9XCJvbnBheW1lbnRwbGFuXCIgY2xhc3M9XCJjZWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidHJ1ZVwiPlRydWU8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJmYWxzZVwiPkZhbHNlPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PmBcbiAgICAgICAgICAgICAgICA6IGA8ZGl2IGRhdGEtbmFtZT1cIiR7ZmllbGQubmFtZX1cIiBkYXRhLWpzPVwiJHtmaWVsZC5uYW1lfVwiIGNsYXNzPVwiY2VsbFwiIGNvbnRlbnRlZGl0YWJsZT1cInRydWVcIj48L2Rpdj5gXG5cbiAgICAgICAgcmV0dXJuIGBgICtcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJ0YWJsZS1yb3cgJHtmaWVsZC5uYW1lfVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNlbGxcIj4ke2ZpZWxkLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgJHtyb3dWYWx1ZX1cbiAgICAgICAgPC9kaXY+YFxuICAgIH0gKS5qb2luKCcnKVxuXG4gICAgcmV0dXJuIGBgICtcbiAgICBgPGRpdiBjbGFzcz1cImZkLWhpZGRlbiBzZWN0aW9uXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWhlYWRpbmdcIj5cbiAgICAgICAgICAgIDxoMz4ke2hlYWRpbmd9PC9oMz5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZXNldC1idG4gZmQtaGlkZGVuXCIgZGF0YS1qcz1cInJlc2V0QnRuXCI+UmVzZXQ8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0YVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1qcz1cImluZm9UYWJsZVwiIGNsYXNzPVwiY3VzdG9tZXItdGFibGVcIj4ke3Jvd3N9PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgZGF0YS1qcz1cImVkaXRTdW1tYXJ5XCIgY2xhc3M9XCJlZGl0LXN1bW1hcnkgZmQtaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPGRpdj5TdW1tYXJ5IG9mIENoYW5nZXM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJjaGFuZ2VzXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNhdmUtYnRuXCIgZGF0YS1qcz1cInNhdmVCdG5cIj5VcGRhdGUgQWNjb3VudDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmBcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gKCB7IG9wdHMgfSApID0+XG5gPHNlY3Rpb24+XG4gICAgPHA+JHtvcHRzLm1lc3NhZ2V9PC9wPlxuICAgIDxkaXYgY2xhc3M9XCJidXR0b24tcm93XCI+XG4gICAgICAgPGJ1dHRvbiBkYXRhLWpzPVwic3VibWl0QnRuXCIgY2xhc3M9XCJidG4tc3VibWl0XCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgPGJ1dHRvbiBkYXRhLWpzPVwiY2FuY2VsQnRuXCIgY2xhc3M9XCJidG4tY2FuY2VsXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgPC9kaXY+XG48L3NlY3Rpb24+YFxuIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+IFxuYDxsaSBkYXRhLWRhdGU9XCIke3AuZGF0ZS5mb3JtYXQoJ1lZWVlNTUREJyl9XCIgY2xhc3M9XCJkZWxpdmVyeS1kYXRlICR7cC5zZWxlY3RlZCA/ICdzZWxlY3RlZCcgOiAnJ30gJHtwLnVuc2VsZWN0YWJsZSA/ICd1bnNlbGVjdGFibGUnIDogJyd9XCI+XG4gICAgPGRpdj4ke3AuZGF0ZS5mb3JtYXQoJ2RkZCcpfTwvZGl2PlxuICAgIDxkaXY+JHtwLmRhdGUuZm9ybWF0KCdNTU0nKX08L2Rpdj5cbiAgICA8ZGl2PiR7cC5kYXRlLmZvcm1hdCgnRCcpfTwvZGl2PlxuPC9kaXY+YFxuIiwibW9kdWxlLmV4cG9ydHMgPSBkYXR1bSA9PlxuYDxkaXY+XG4gICAgPHNwYW4+JHtkYXR1bS5sYWJlbCB8fCBkYXR1bS5uYW1lfTwvc3Bhbj5cbjwvZGl2PmBcbiIsIm1vZHVsZS5leHBvcnRzID0gcCA9PiBgPHNlY3Rpb24gY2xhc3M9XCJuby1zZWxlY3QgZmQtaGlkZGVuXCI+RHJhZ2dpbmcgSXRlbTwvc2VjdGlvbj5gXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4ge1xuICAgIGNvbnN0IGFjdGlvbnMgPSBwLmFjdGlvbnMubWFwKCBhY3Rpb24gPT4ge1xuICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGFjdGlvbiA9PT0gcC5hY3Rpb24gPyBgc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiYDogYGBcbiAgICAgICAgcmV0dXJuIGA8b3B0aW9uIHZhbHVlPVwiJHthY3Rpb259XCIgJHtzZWxlY3RlZH0+JHthY3Rpb259PC9vcHRpb24+YFxuICAgIH0gKS5qb2luKCcnKVxuICAgIHJldHVybiBgYCArXG5gPGxpIGRhdGEtanM9XCJlZGl0VHJhbnNhY3Rpb25cIiBjbGFzcz1cImVkaXQtdHJhbnNhY3Rpb25cIj5cbiAgICA8c3Bhbj48L3NwYW4+XG4gICAgPHNlbGVjdCBkYXRhLWF0dHI9XCJhY3Rpb25cIj4ke2FjdGlvbnN9PC9zZWxlY3Q+XG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgZGF0YS1hdHRyPVwidmFsdWVcIiB2YWx1ZT1cIiR7cC52YWx1ZX1cIi8+XG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgZGF0YS1hdHRyPVwiY2hlY2tOdW1iZXJcIiB2YWx1ZT1cIiR7cC5jaGVja051bWJlciB8fCAnJ31cIi8+XG4gICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgZGF0YS1hdHRyPVwiY3JlYXRlZFwiIHZhbHVlPVwiJHtwLmNyZWF0ZWQgfHwgJyd9XCIgLz5cbiAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBkYXRhLWF0dHI9XCJkZXNjcmlwdGlvblwiIHZhbHVlPVwiJHtwLmRlc2NyaXB0aW9uIHx8ICcnfVwiLz5cbjwvbGk+YFxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+IGA8ZGl2PiR7cC5sYWJlbH06IDxzcGFuPiR7cC5vbGRWYWx1ZX08L3NwYW4+dG88c3Bhbj4ke3AubmV3VmFsdWV9PC9zcGFuPjwvZGl2PmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT5cbmA8c3BhbiBjbGFzcz1cImhlbHAtYmxvY2sgJHtwLm5hbWV9XCIgZGF0YS1qcz1cImZpZWxkRXJyb3JcIj4ke3AuZXJyb3J9PC9zcGFuPmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4gYDxkaXY+PC9kaXY+YCIsIm1vZHVsZS5leHBvcnRzID0gKCkgPT5cbmA8ZGl2PlxuICAgIDxwPkEgPGEgaHJlZj0nbWFpbHRvOnRvcGhlcmJhcm9uQGdtYWlsLmNvbSc+RnV0dXJlRGF5czwvYT4gU2l0ZTwvcD5cbjwvZGl2PmBcbiIsIm1vZHVsZS5leHBvcnRzID0gcCA9PiB7XG4gICAgY29uc3QgaGVhZGluZyA9IHAub3B0cy5oZWFkaW5nID8gYDxkaXYgY2xhc3M9XCJoZWFkaW5nXCI+JHtwLm9wdHMuaGVhZGluZ308L2Rpdj5gIDogYGAsXG4gICAgICAgcHJvbXB0ICA9IHAub3B0cy5wcm9tcHQgPyAgYDxkaXYgY2xhc3M9XCJwcm9tcHRcIj4ke3Aub3B0cy5wcm9tcHR9PC9kaXY+YCA6IGBgLFxuICAgICAgIGZpZWxkcyA9IHAuR2V0Rm9ybUZpZWxkcyggcC5hdHRyaWJ1dGVzLCBwLm1vZGVsLCBwLm1ldGEgKSxcbiAgICAgICBidXR0b25Sb3cgPSBwLm9wdHMuaGlkZUJ1dHRvblJvd1xuICAgICAgICA/IGBgXG4gICAgICAgIDogYDxkaXYgY2xhc3M9XCJidG4tcm93XCI+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLXN1Ym1pdFwiIGRhdGEtanM9XCJzdWJtaXRCdG5cIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+JHtwLm9wdHMuc3VibWl0VGV4dCB8fCAnU3VibWl0J308L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tY2FuY2VsXCIgZGF0YS1qcz1cImNhbmNlbEJ0blwiIHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj4ke3Aub3B0cy5jYW5jZWxUZXh0IHx8ICdDYW5jZWwnfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gXG5cbnJldHVybiBgPHNlY3Rpb24+XG4gICAgJHtoZWFkaW5nfVxuICAgIDxkaXYgY2xhc3M9XCJmb3JtLWJveFwiPlxuICAgICAgICAke3Byb21wdH1cbiAgICAgICAgPGZvcm0+JHtmaWVsZHN9PC9mb3JtPlxuICAgICAgICAke2J1dHRvblJvd30gIFxuICAgIDwvZGl2PlxuPC9zZWN0aW9uPmBcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcCA9PlxuYDxkaXY+XG4gICAgPGgxPkdldCBJbnZvbHZlZDwvaDE+XG4gICAgPHNlY3Rpb24gZGF0YS1qcz1cImVtcGxveW1lbnRcIiBjbGFzcz1cInN0cmlwZWRcIj5cbiAgICAgICAgPGgyPjwvaDI+XG4gICAgICAgIDxwPjwvcD5cbiAgICAgICAgPHVsIGNsYXNzPVwicG9zaXRpb25zXCIgZGF0YS1qcz1cIm9wZW5Qb3NpdGlvbnNcIj48L3VsPlxuICAgIDwvc2VjdGlvbj5cbiAgICA8c2VjdGlvbiBjbGFzcz1cImludGVybnNoaXBzXCIgZGF0YS1qcz1cImludGVybnNoaXBzXCI+XG4gICAgICAgIDxoMj48L2gyPlxuICAgICAgICA8cD48L3A+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJpbnRlcm5EdXRpZXNcIj5cbiAgICAgICAgICAgICAgICA8aDM+PC9oMz5cbiAgICAgICAgICAgICAgICA8dWwgZGF0YS1qcz1cImR1dHlMaXN0XCI+PC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBkYXRhLWpzPVwiaW50ZXJuUXVhbGlmaWNhdGlvbnNcIj5cbiAgICAgICAgICAgICAgICA8aDM+PC9oMz5cbiAgICAgICAgICAgICAgICA8dWwgZGF0YS1qcz1cInF1YWxpZmljYXRpb25MaXN0XCI+PC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBkYXRhLWpzPVwiaW50ZXJuQ29tcGVuc2F0aW9uXCI+XG4gICAgICAgICAgICAgICAgPGgzPjwvaDM+XG4gICAgICAgICAgICAgICAgPHVsIGRhdGEtanM9XCJjb21wZW5zYXRpb25MaXN0XCI+PC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgZGF0YS1qcz1cImFwcGxpY2F0aW9uXCI+PC9wPlxuICAgIDwvc2VjdGlvbj5cbiAgICA8c2VjdGlvbiBkYXRhLWpzPVwidm9sdW50ZWVyXCIgY2xhc3M9XCJzdHJpcGVkXCI+XG4gICAgICAgIDxoMj48L2gyPlxuICAgICAgICA8cD48L3A+XG4gICAgPC9zZWN0aW9uPlxuPC9kaXY+YFxuIiwibW9kdWxlLmV4cG9ydHMgPSAoIHsgb3B0cywgSW1hZ2VTcmMgfSApID0+IHtcbiAgICBjb25zdCBmaWVsZHMgPSBvcHRzLmZpZWxkcy5tYXAoIGZpZWxkID0+IGA8bGkgZGF0YS1uYW1lPVwiJHtmaWVsZC5uYW1lfVwiPiR7ZmllbGQubGFiZWx9PC9saT5gICkuam9pbignJylcblxucmV0dXJuIGBgICtcbmA8ZGl2PlxuICAgIDxkaXY+XG4gICAgICAgIDxpbWcgZGF0YS1zcmM9XCIke0ltYWdlU3JjKCdoZWFkZXJfc3VucmF5cycpfVwiIC8+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBkYXRhLWpzPVwibmF2XCIgY2xhc3M9XCJmZC1oaWRkZW5cIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICR7cmVxdWlyZSgnLi9saWIvanVzdGlmeScpfVxuICAgICAgICAgICAgPGRpdj48c3BhbiBkYXRhLWpzPVwidGl0bGVcIiBkYXRhLW5hbWU9XCIke29wdHMuaG9tZS5uYW1lfVwiPiR7b3B0cy5ob21lLmxhYmVsfTwvc3Bhbj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8dWwgZGF0YS1qcz1cIm5hdkxpbmtzXCI+JHtmaWVsZHN9PC91bD5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiYWNjb3VudC11aVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJzaWduSW5CdG5cIiBjbGFzcz1cImZkLWhpZGRlblwiPk1lbWJlciBTaWduIEluPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZW1iZXItdWlcIiBkYXRhLWpzPVwibWVtYmVyTWVudVwiIGNsYXNzPVwiZmQtaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJ1c2VyTmFtZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiYWNjb3VudC1tZW51IGZkLWhpZGRlblwiIGRhdGEtanM9XCJhY2NvdW50TWVudVwiPiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGRhdGEtanM9XCJhY2NvdW50QnRuXCI+WW91ciBBY2NvdW50PC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgZGF0YS1qcz1cInNpZ25PdXRCdG5cIj5TaWduIE91dDwvbGk+ICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdj48c3BhbiBkYXRhLWpzPVwiY3NhU2lnblVwQnRuXCI+Q1NBIFNpZ24gVXA8L3NwYW4+PC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj5gXG59XG5cbi8qICAgXG5yZXR1cm4gYGAgK1xuYDxkaXY+XG4gICAgPGRpdj5cbiAgICAgICAgPGltZyBkYXRhLXNyYz1cIiR7SW1hZ2VTcmMoJ2hlYWRlcl9zdW5yYXlzJyl9XCIgLz5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGRhdGEtanM9XCJuYXZcIiBjbGFzcz1cImZkLWhpZGRlblwiPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgJHtyZXF1aXJlKCcuL2xpYi9qdXN0aWZ5Jyl9XG4gICAgICAgICAgICA8ZGl2PjxzcGFuIGRhdGEtanM9XCJ0aXRsZVwiIGRhdGEtbmFtZT1cIiR7b3B0cy5ob21lLm5hbWV9XCI+JHtvcHRzLmhvbWUubGFiZWx9PC9zcGFuPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHVsIGRhdGEtanM9XCJuYXZMaW5rc1wiPiR7ZmllbGRzfTwvdWw+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJhY2NvdW50LXVpXCI+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJzaWduSW5CdG5cIiBjbGFzcz1cImZkLWhpZGRlblwiPlNpZ24gSW48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZW1iZXItdWlcIiBkYXRhLWpzPVwibWVtYmVyTWVudVwiIGNsYXNzPVwiZmQtaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLWpzPVwidXNlck5hbWVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJhY2NvdW50LW1lbnUgZmQtaGlkZGVuXCIgZGF0YS1qcz1cImFjY291bnRNZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxsaSBkYXRhLWpzPVwiYWNjb3VudEJ0blwiPllvdXIgQWNjb3VudDwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaSBkYXRhLWpzPVwic2lnbk91dEJ0blwiPlNpZ24gT3V0PC9saT4gICAgICAgICBcbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+YFxuXG5cblxuXG4gICAgIDxkaXYgY2xhc3M9XCJhY2NvdW50LXVpXCI+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJzaWduSW5CdG5cIiBjbGFzcz1cImZkLWhpZGRlblwiPk1lbWJlciBTaWduIEluPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVtYmVyLXVpXCIgZGF0YS1qcz1cIm1lbWJlck1lbnVcIiBjbGFzcz1cImZkLWhpZGRlblwiPlxuICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1qcz1cInVzZXJOYW1lXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiYWNjb3VudC1tZW51IGZkLWhpZGRlblwiIGRhdGEtanM9XCJhY2NvdW50TWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8bGkgZGF0YS1qcz1cImFjY291bnRCdG5cIj5Zb3VyIEFjY291bnQ8L2xpPlxuICAgICAgICAgICAgICAgICAgICA8bGkgZGF0YS1qcz1cInNpZ25PdXRCdG5cIj5TaWduIE91dDwvbGk+ICAgICAgICAgXG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgIGNvbnN0IGZpZWxkcyA9IG9wdHMuZmllbGRzLm1hcCggZmllbGQgPT4gZmllbGQubmFtZSA9PT0gJ2xvZ2luJ1xuICAgICAgICA/IGA8bGkgY2xhc3M9XCJhY2NvdW50LXVpXCIgZGF0YS1uYW1lPVwibG9naW5cIj5cbiAgICAgICAgICAgIDxkaXYgZGF0YS1qcz1cInNpZ25JbkJ0blwiIGNsYXNzPVwiZmQtaGlkZGVuXCI+TWVtYmVyIFNpZ24gSW48L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZW1iZXItdWlcIiBkYXRhLWpzPVwibWVtYmVyTWVudVwiIGNsYXNzPVwiZmQtaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBkYXRhLWpzPVwidXNlck5hbWVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJhY2NvdW50LW1lbnUgZmQtaGlkZGVuXCIgZGF0YS1qcz1cImFjY291bnRNZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxsaSBkYXRhLWpzPVwiYWNjb3VudEJ0blwiPllvdXIgQWNjb3VudDwvbGk+XG4gICAgICAgICAgICAgICAgICAgIDxsaSBkYXRhLWpzPVwic2lnbk91dEJ0blwiPlNpZ24gT3V0PC9saT4gICAgICAgICBcbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9saT5gXG4gICAgICAgIDogYDxsaSBkYXRhLWpzPVwiJHtmaWVsZC5uYW1lfVwiIGRhdGEtbmFtZT1cIiR7ZmllbGQubmFtZX1cIj4ke2ZpZWxkLmxhYmVsfTwvbGk+YCApLmpvaW4oJycpXG4gICAgICAgICovIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGRpdj5cbiAgICA8aW1nIGRhdGEtc3JjPVwiJHtwLkltYWdlU3JjKCdjb3JudWNvcGlhJyl9XCIgLz5cbiAgICA8ZGl2IGNsYXNzPVwib3ZlcmxheVwiPlxuICAgICAgICA8ZGl2IGRhdGEtanM9XCJzbG9nYW5cIj48L2Rpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4teWVsbG93XCIgZGF0YS1qcz1cImpvaW5CdG5cIiB0eXBlPVwiYnV0dG9uXCI+Sm9pbiBvdXIgQ1NBITwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4ge1xuICAgIGNvbnN0IHdlYnNpdGUgPSBwLnVybCA/IGA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHtwLnVybH1cIj5XZWJzaXRlPC9hPmAgOiBgYCxcbiAgICAgICAgZGlyZWN0aW9ucyA9IHAuc3RyZWV0ICYmIHAuY2l0eVN0YXRlWmlwID8gYDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwOi8vbWFwcy5nb29nbGUuY29tLz9xPSR7cC5zdHJlZXR9LCAke3AuY2l0eVN0YXRlWmlwfVwiPkRpcmVjdGlvbnM8L2E+YCA6IGBgXG5cbnJldHVybiBgYCArXG5gPGRpdiBjbGFzcz1cImluZm8td2luZG93XCI+XG4gICAgPGRpdj4ke3AubmFtZX08L2Rpdj5cbiAgICA8ZGl2PlxuICAgICAgICA8ZGl2PiR7cC5zdHJlZXQgfHwgJyd9PC9kaXY+XG4gICAgICAgIDxkaXY+JHtwLmNpdHlTdGF0ZVppcCB8fCAnJ308L2Rpdj5cbiAgICAgICAgPGRpdj4ke3AucGhvbmVudW1iZXIgfHwgJyd9PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdj5cbiAgICAgICAgPGRpdj4ke2RpcmVjdGlvbnN9PC9kaXY+XG4gICAgICAgIDxkaXY+JHt3ZWJzaXRlfTwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+YFxuXG59IiwiY29uc3QgZ2V0SGVhZGluZyA9ICggcCA9IHsgb3B0czp7fSB9ICkgPT4ge1xuICAgIGlmKCAhcC5vcHRzIHx8ICFwLm9wdHMubmFtZSApIHJldHVybiBgYFxuICAgIHJldHVybiBwLm9wdHMudG9nZ2xlXG4gICAgICAgID8gYDxkaXYgZGF0YS1qcz1cInRvZ2dsZVwiIGNsYXNzPVwiaGVhZGluZyBzaWRlLWJ5LXNpZGUgdG9nZ2xlXCI+XG4gICAgICAgICAgICAke3AuR2V0SWNvbignY2FyZXQtZG93bicpfVxuICAgICAgICAgICAgPHNwYW4+JHtwLm9wdHMubmFtZX08L3NwYW4+XG4gICAgICAgICAgPC9kaXY+YFxuICAgICAgICA6IGA8aDMgY2xhc3M9XCJoZWFkaW5nXCI+JHtwLm9wdHMubmFtZX08L2gzPmBcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiggcCApIHtcbiAgICBjb25zdCBidXR0b25DbGFzcyA9IHAubW9kZWwuaXNEb2N1bWVudExpc3QgPyAnZmxvYXRpbmcnIDogJ2J0bi15ZWxsb3cnXG5cbnJldHVybiBgYCArXG5gPHNlY3Rpb24+XG4gICAgJHtnZXRIZWFkaW5nKHApfVxuICAgIDxvbCBkYXRhLWpzPVwibGlzdFwiIGNsYXNzPVwibGlzdCAke3AubW9kZWwuZHJhZ2dhYmxlIHx8IHAubW9kZWwuZHJvcHBhYmxlID8gJ25vLXNlbGVjdCcgOiAnJyB9XCI+PC9vbD5cbiAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLXJvd1wiPlxuICAgICAgICAke3AubW9kZWwucmVzZXQgPyBgPGJ1dHRvbiBjbGFzcz1cIiR7YnV0dG9uQ2xhc3N9XCIgZGF0YS1qcz1cInJlc2V0QnRuXCIgdHlwZT1cImJ1dHRvblwiPlJlc2V0PC9idXR0b24+YCA6IGBgfVxuICAgICAgICAke3AubW9kZWwuc2F2ZSA/IGA8YnV0dG9uIGNsYXNzPVwiJHtidXR0b25DbGFzc31cIiBkYXRhLWpzPVwic2F2ZUJ0blwiIHR5cGU9XCJidXR0b25cIj5TYXZlPC9idXR0b24+YCA6IGBgfVxuICAgICAgICAke3AubW9kZWwuYWRkID8gYDxidXR0b24gY2xhc3M9XCIke2J1dHRvbkNsYXNzfVwiIGRhdGEtanM9XCJhZGRCdG5cIiB0eXBlPVwiYnV0dG9uXCI+QWRkPC9idXR0b24+YCA6IGBgfVxuICAgIDwvZGl2PlxuPC9zZWN0aW9uPmBcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcCA9PiB7XG4gICAgY29uc3QgbmFtZSA9IHAudXJsID8gYDxkaXY+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7cC51cmx9XCI+JHtwLm5hbWUgfHwgJyd9PC9hPjwvZGl2PmAgOiBgPGRpdj4ke3AubmFtZSB8fCAnJ308L2Rpdj5gXG4gICAgY29uc3QgaG91cnMgPSBwLmhvdXJzID8gcC5ob3Vycy5zcGxpdCgnLCcpLm1hcCggaXRlbSA9PiBgPGRpdj4ke2l0ZW19PC9kaXY+YCApLmpvaW4oJycpIDogYGBcblxucmV0dXJuIGBgICtcbmA8bGkgY2xhc3M9XCJsb2NhdGlvblwiPlxuICAgICR7bmFtZX1cbiAgICA8ZGl2PiR7cC5sYWJlbCB8fCAnJ308L2Rpdj5cbiAgICA8ZGl2PiR7cC52ZW51ZSB8fCAnJ308L2Rpdj5cbiAgICA8ZGl2PiR7cC5zdHJlZXQgfHwgJyd9PC9kaXY+XG4gICAgPGRpdj4ke3AuY2l0eVN0YXRlWmlwIHx8ICcnfTwvZGl2PlxuICAgIDxkaXY+JHtwLnBob25lbnVtYmVyIHx8ICcnfTwvZGl2PlxuICAgIDxkaXY+PGEgaHJlZj1cIm1haWx0bzoke3AuZW1haWx9XCI+JHtwLmVtYWlsIHx8ICcnfTwvYT48L2Rpdj5cbiAgICAke2hvdXJzfVxuPC9saT5gXG59IiwibW9kdWxlLmV4cG9ydHMgPSBwID0+IHtcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gcC5vcHRzLmNhdGVnb3JpZXMubWFwKCBhdHRyID0+XG4gICAgICAgIGA8bGk+XG4gICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgPGlucHV0IGRhdGEtbmFtZT1cIiR7YXR0ci5uYW1lfVwiIHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCIke2F0dHIubmFtZX1cIj4ke2F0dHIubGFiZWx9PC9zcGFuPlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9saT5gXG4gICAgKS5qb2luKCcnKVxuXG5yZXR1cm4gYGAgK1xuYDxkaXY+XG4gICAgPGgxPkxvY2F0aW9uczwvaDE+XG4gICAgPHNlY3Rpb24+XG4gICAgICAgIDxwIGRhdGEtanM9XCJpbnRyb1wiPjwvcD5cbiAgICA8L3NlY3Rpb24+XG4gICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1hcC13cmFwXCI+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJtYXBcIj48L2Rpdj5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cImxlZ2VuZFwiIGRhdGEtanM9XCJsZWdlbmRcIj5cbiAgICAgICAgICAgICAgICAke2NhdGVnb3JpZXN9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8c2VjdGlvbiBkYXRhLWpzPVwiZmFybWVyc01hcmtldHNcIiBjbGFzcz1cInN0cmlwZWRcIj5cbiAgICAgICAgPGgyPjwvaDI+XG4gICAgICAgIDxwPjwvcD5cbiAgICAgICAgPHVsIGRhdGEtanM9XCJmYXJtZXJNYXJrZXRzTGlzdFwiPjwvdWw+XG4gICAgPC9zZWN0aW9uPlxuICAgIDxzZWN0aW9uIGRhdGEtanM9XCJyZXRhaWxPdXRsZXRzXCI+XG4gICAgICAgIDxoMj48L2gyPlxuICAgICAgICA8cD48L3A+XG4gICAgICAgIDx1bCBkYXRhLWpzPVwicmV0YWlsT3V0bGV0c0xpc3RcIj48L3VsPlxuICAgIDwvc2VjdGlvbj5cbiAgICA8c2VjdGlvbiBkYXRhLWpzPVwicmVzdGF1cmFudHNcIiBjbGFzcz1cInN0cmlwZWRcIj5cbiAgICAgICAgPGgyPjwvaDI+XG4gICAgICAgIDxwPjwvcD5cbiAgICAgICAgPHVsIGRhdGEtanM9XCJyZXN0YXVyYW50c0xpc3RcIj48L3VsPlxuICAgIDwvc2VjdGlvbj4gIFxuICAgIDxzZWN0aW9uIGRhdGEtanM9XCJwaWNrdXBMb2NhdGlvbnNcIj5cbiAgICAgICAgPGgyPjwvaDI+XG4gICAgICAgIDxwPjwvcD5cbiAgICAgICAgPHVsIGRhdGEtanM9XCJncm91cExvY2F0aW9uc0xpc3RcIj48L3VsPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiYnV0dG9uLXJvd1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi15ZWxsb3dcIiBkYXRhLWpzPVwic2lnbnVwQnRuXCIgdHlwZT1cImJ1dHRvblwiPlNpZ24gVXAgTm93ITwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L3NlY3Rpb24+XG48L2Rpdj5gXG59IiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGRpdj5cbiAgICA8ZGl2IGNsYXNzPVwibm90aWNlIGZkLWhpZGRlblwiIGRhdGEtanM9XCJlcnJvck1lc3NhZ2VcIj48L2Rpdj5cbiAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS13cmFwXCI+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJsb2dpbldyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtdmlldz1cImZvcm1cIiBkYXRhLW5hbWU9XCJsb2dpbkZvcm1cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJmb3Jnb3RQYXNzd29yZFwiPkZvcmdvdCBZb3VyIFBhc3N3b3JkPzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmQtaGlkZGVuXCIgZGF0YS12aWV3PVwiZm9ybVwiIGRhdGEtbmFtZT1cImZvcmdvdFBhc3N3b3JkXCI8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj5gIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGRpdj5cbiAgICA8ZGl2IGNsYXNzPVwibWFpbi1zZWFyY2hcIj5cbiAgICAgICAgPGRpdiBkYXRhLXZpZXc9XCJtZW1iZXJUeXBlYWhlYWRcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGRhdGEtdmlldz1cImN1c3RvbWVySW5mb1wiPjwvZGl2PlxuICAgIDxkaXYgZGF0YS12aWV3PVwic2Vhc29uc1wiPjwvZGl2PlxuICAgIDxkaXYgZGF0YS12aWV3PVwib3JkZXJPcHRpb25zXCI+PC9kaXY+XG4gICAgPGRpdiBkYXRhLXZpZXc9XCJ3ZWVrT3B0aW9uc1wiPjwvZGl2PlxuICAgIDxkaXYgZGF0YS12aWV3PVwic2hhcmVQYXRjaFwiPjwvZGl2PlxuICAgIDxkaXYgZGF0YS12aWV3PVwidHJhbnNhY3Rpb25zXCI+PC9kaXY+XG48L2Rpdj5gXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4ge1xuICAgIGNvbnN0IGZpZWxkcyA9IHAuZmllbGRzLm1hcCggZmllbGQgPT5cbiAgICAgICAgYDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICA8bGFiZWwgZm9yPVwiJHtmaWVsZC5uYW1lfVwiPiR7ZmllbGQubGFiZWx9PC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCIke2ZpZWxkLnR5cGV9XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBpZD1cIiR7ZmllbGQubmFtZX1cIiBkYXRhLWpzPVwiJHtmaWVsZC5uYW1lfVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGZvcm0tY29udHJvbC1mZWVkYmFjayBoaWRlXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmBcbiAgICApLmpvaW4oJycpXG5cbnJldHVybiBgYCArXG5gPGRpdiBjbGFzcz1cIk1lbWJlckluZm9cIiBkYXRhLWpzPVwiY29udGFpbmVyXCI+XG4gICAgPHA+UGxlYXNlIHByb3ZpZGUgdXMgd2l0aCBzb21lIGluZm9ybWF0aW9uIGFib3V0IHlvdXJzZWxmPC9wPlxuICAgIDxkaXYgY2xhc3M9XCJub3RpY2UgZmQtaGlkZGVuXCIgZGF0YS1qcz1cImV4aXN0aW5nQWNjb3VudE5vdGljZVwiPk91ciByZWNvcmRzIHNob3cgdGhhdCBhbiBhY2NvdW50IGFscmVhZHkgZXhpc3RzIGZvciB0aGUgZW1haWwgeW91IGhhdmUgZW50ZXJlZC4gUGxlYXNlIHNpZ24gaW4gYmVmb3JlIGNvbnRpbnVpbmcuPC9kaXY+XG4gICAgPGZvcm0+XG4gICAgICAgICR7ZmllbGRzfVxuICAgICAgICA8ZGl2IHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj48aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cIlByZXZlbnRDaHJvbWVBdXRvY29tcGxldGVcIiBuYW1lPVwiUHJldmVudENocm9tZUF1dG9jb21wbGV0ZVwiIGF1dG9jb21wbGV0ZT1cImFkZHJlc3MtbGV2ZWw0XCIgLz48L2Rpdj5cbiAgICA8L2Zvcm0+XG48L2Rpdj5gXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT5cbmA8ZGl2PlxuICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIj5TZWFyY2ggQ3VzdG9tZXJzPC9sYWJlbD4gIFxuICAgIDxpbnB1dCBkYXRhLWpzPVwiY3VzdG9tZXJJbnB1dFwiIGNsYXNzPVwiaW5wdXQtc3RkIHR5cGU9XCJ0ZXh0XCI+XG48L2Rpdj5gXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4gYGAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT5cbmA8ZGl2IGRhdGEtanM9XCJjb250YWluZXJcIiBjbGFzcz1cIm1vZGFsIGZhZGVcIj5cbiAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiPlxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICA8ZGl2IGRhdGEtanM9XCJoZWFkZXJcIiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPlxuICAgICAgICA8YnV0dG9uIGRhdGEtanM9XCJjbG9zZUJ0blwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImNsb3NlXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPlxuICAgICAgICA8aDQgY2xhc3M9XCJtb2RhbC10aXRsZVwiIGRhdGEtanM9XCJ0aXRsZVwiPjwvaDQ+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgZGF0YS1qcz1cImJvZHlcIiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48L2Rpdj5cbiAgICAgIDxkaXYgZGF0YS1qcz1cImZvb3RlclwiIGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kZWZhdWx0XCIgZGF0YS1qcz1cImNhbmNlbEJ0blwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+Q2xvc2U8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBkYXRhLWpzPVwiY29uZmlybUJ0blwiPlNhdmU8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4gXG5gPGRpdiBjbGFzcz1cImZkLWhpZGRlbiBzZWN0aW9uXCI+XG4gICAgPGRpdiBjbGFzcz1cInNlY3Rpb24taGVhZGluZ1wiPlxuICAgICAgICA8aDM+T3JkZXIgT3B0aW9uczwvaDM+XG4gICAgICAgIDxzcGFuIGRhdGEtanM9XCJzZWFzb25MYWJlbFwiPjwvc3Bhbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInJlc2V0LWJ0biBmZC1oaWRkZW5cIiBkYXRhLWpzPVwicmVzZXRCdG5cIj5SZXNldDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkYXRhXCI+XG4gICAgICAgICAgICA8b2wgZGF0YS1qcz1cIm9wdGlvbnNcIj48L29sPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBkYXRhLWpzPVwiZWRpdFN1bW1hcnlcIiBjbGFzcz1cImVkaXQtc3VtbWFyeSBmZC1oaWRkZW5cIj5cbiAgICAgICAgICAgIDxkaXY+U3VtbWFyeSBvZiBDaGFuZ2VzPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJjaGFuZ2VzXCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuPldlZWtseSBwcmljZSBhZGp1c3RtZW50OiA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJvcmlnaW5hbC1wcmljZVwiIGRhdGEtanM9XCJvcmlnaW5hbFdlZWtseVByaWNlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuPnRvPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibmV3LXByaWNlXCIgZGF0YS1qcz1cIm5ld1dlZWtseVByaWNlXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+YFxuIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPHNlY3Rpb24+XG4gICAgPGg0PlJlcG9ydGluZzwvaDQ+XG4gICAgPGZvcm0+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbD5OYW1lOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdCBkYXRhLWpzPVwicmVwb3J0XCI+PC9zZWxlY3Q+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsPlNlbGVjdCBEYXRlIEJ5OjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdCBkYXRhLWpzPVwiZGF0ZVR5cGVTZWxlY3RcIj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImN1c3RvbVwiPkN1c3RvbSBSYW5nZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwieWVhclwiPlllYXI8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInNlYXNvblwiPlNlYXNvbjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGRpdiBkYXRhLWpzPVwiY3VzdG9tXCI+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkZyb206PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgZGF0YS1qcz1cImZyb21cIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbD5Ubzo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBkYXRhLWpzPVwidG9cIiAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmQtaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsPkNob29zZSBZZWFyOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdCBkYXRhLWpzPVwieWVhclwiPjwvc2VsZWN0PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmQtaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsPkNob29zZSBTZWFzb246PC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8c2VsZWN0IGRhdGEtanM9XCJzZWFzb25cIj48L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtanM9XCJ2aWV3QnRuXCIgY2xhc3M9XCJidG4teWVsbG93XCI+VmlldzwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1qcz1cImV4cG9ydEJ0blwiIGNsYXNzPVwiYnRuLXllbGxvd1wiPkV4cG9ydDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Zvcm0+XG4gICAgPGRpdiBjbGFzcz1cInJlc3VsdHNcIiBkYXRhLWpzPVwicmVzdWx0c1wiPlxuICAgICAgICA8aDQgY2xhc3M9XCJmZC1oaWRkZW5cIiBkYXRhLWpzPVwiZW1wdHlcIj5ObyByZXN1bHRzPC9oND5cbiAgICAgICAgPG9sIGNsYXNzPVwiY29sdW1uc1wiIGRhdGEtanM9XCJjb2x1bW5zXCI+PC9vbD5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd3NcIiBkYXRhLWpzPVwicm93c1wiPjwvZGl2PlxuICAgIDwvZGl2PlxuPC9zZWN0aW9uPmBcbiIsIm1vZHVsZS5leHBvcnRzID0gcCA9PlxuYDxkaXY+XG4gICAgPGRpdiBjbGFzcz1cImZvcm0td3JhcFwiPlxuICAgICAgICA8ZGl2IGRhdGEtdmlldz1cImZvcm1cIiBkYXRhLW5hbWU9XCJyZXNldFBhc3N3b3JkXCI8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4ge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBwLm9wdGlvbnMubWFwKCBvcHRpb24gPT4gYDxvcHRpb24gdmFsdWU9XCIke29wdGlvbi5pZH1cIj4ke29wdGlvbi5sYWJlbH08L29wdGlvbj5gICkuam9pbignJyksXG4gICAgICAgIGRlc2NyaXB0aW9uID0gcC5kZXNjcmlwdGlvbiA/IGA8c3BhbiBkYXRhLWpzPVwiJHtwLm5hbWV9SWNvblwiIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1pbmZvLXNpZ25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+YCA6IGBgXG5cbnJldHVybiBgYCArXG5gPGRpdiBjbGFzcz1cInNoYXJlLW9wdGlvblwiPlxuICAgIDxkaXYgY2xhc3M9XCJvcHRpb24tdGl0bGVcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxzcGFuPiR7cC5sYWJlbH08L3NwYW4+XG4gICAgICAgICAgICAke2Rlc2NyaXB0aW9ufVxuICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHNlbGVjdCBkYXRhLWpzPVwiJHtwLm5hbWV9XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cbiAgICAgICAgICAgICAgICAke29wdGlvbnN9XG4gICAgICAgICAgICA8L3NlbGVjdD4gICAgXG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJ0b3RhbFwiPlxuICAgICAgICA8ZGl2IGRhdGEtanM9XCIke3AubmFtZX1Ub3RhbFwiPjwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+YFxufSIsIm1vZHVsZS5leHBvcnRzID0gcCA9PiB7XG4gICAgY29uc3QgaGVhZGluZyA9IHAub3B0cy5pc0FkbWluID8gJ0FsbCBTZWFzb25zJyA6ICdZb3VyIE9yZGVycycsXG4gICAgICAgIGluc3RydWN0aW9ucyA9IHAub3B0cy5pc0FkbWluID8gYGAgOiBgPHA+U2VsZWN0IGEgc2hhcmUgdG8gdmlldyB5b3VyIG9yZGVyIGRldGFpbHMuIElmIHRoZSBzaGFyZSBpcyBzdGlsbCBjdXJyZW50LCB5b3UgbWF5IGNoYW5nZSBpdHMgb3B0aW9ucy4gV2Ugd2lsbCBiaWxsIG9yIHJlZnVuZCB5b3UgYmFzZWQgb24gdGhlIHByaWNlIGFkanVzdG1lbnQuPC9wPmBcblxucmV0dXJuIGBgICtcbmA8ZGl2IGNsYXNzPVwiZmQtaGlkZGVuIHNlY3Rpb25cIj5cbiAgICA8ZGl2IGNsYXNzPVwic2VjdGlvbi1oZWFkaW5nXCI+XG4gICAgICAgIDxoMz4ke2hlYWRpbmd9PC9oMz5cbiAgICAgICAgJHtpbnN0cnVjdGlvbnN9XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInRhYmxlXCI+XG4gICAgICAgIDxvbCBjbGFzcz1cInRhYmxlLXJvd1wiIGRhdGEtanM9XCJsaXN0XCI+PC9vbD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGRhdGEtanM9XCJiYWxhbmNlTm90aWNlXCIgY2xhc3M9XCJmZC1oaWRkZW5cIj5PdXIgcmVjb3JkcyBpbmRpY2F0ZSBhbiBvdXRzdGFuZGluZyBiYWxhbmNlIG9mIDxzcGFuIGRhdGEtanM9XCJiYWxhbmNlQW1vdW50XCI+PC9zcGFuPiBmb3IgdGhpcyBzaGFyZS4gPHNwYW4gY2xhc3M9XCJsaW5rXCIgZGF0YS1qcz1cInBheW1lbnRcIj5QYXkgbm93PC9zcGFuPiBpZiB5b3UnZCBsaWtlIG9yIGNvbnRpbnVlIGJlbG93IGlmIHlvdSB3YW50IHRvIHZpZXcgeW91ciBvcmRlciBkZXRhaWxzIG9yIG1ha2UgY2hhbmdlcy48L2Rpdj5cbjwvZGl2PmBcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4ge1xuICAgIGNvbnN0IGRhdGFJZCA9IHAubWVtYmVyc2hhcmVpZCA/IGBkYXRhLWlkPVwiJHtwLm1lbWJlcnNoYXJlaWR9XCJgIDogYGAsXG4gICAgICAgICAgY291bnQgPSBwLmNvdW50ID8gYDxzcGFuPigke3AuY291bnR9KTwvc3Bhbj5gIDogYGBcblxuICAgIHJldHVybiBgYCArXG4gICAgYDxkaXYgJHtkYXRhSWR9IGNsYXNzPVwic2hhcmUtbGFiZWxcIj5cbiAgICAgICAgPGRpdj48c3Bhbj4ke3AubGFiZWx9PC9zcGFuPiAke2NvdW50fTwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHNwYW4+JHtwLmh1bWFuU3RhcnRkYXRlfTwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuPi08L3NwYW4+XG4gICAgICAgICAgICA8c3Bhbj4ke3AuaHVtYW5FbmRkYXRlfTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+JHtwLmR1cmF0aW9ufSB3ZWVrczwvZGl2PlxuICAgIDwvZGl2PmBcbn1cbiIsImNvbnN0IEZvcm1hdCA9IHJlcXVpcmUoJy4uLy4uL0Zvcm1hdCcpXG5cbm1vZHVsZS5leHBvcnRzID0gcCA9PlxuYDxkaXY+XG4gICAgPGg0PiR7cC5oZWFkaW5nfTwvaDQ+XG4gICAgPGRpdj48aW1nIGRhdGEtc3JjPVwiJHtGb3JtYXQuSW1hZ2VTcmMoIHAuaW1hZ2UgKX1cIiAvPjwvZGl2PlxuICAgIDxkaXY+JHtwLmxpc3RIZWFkaW5nfTwvZGl2PlxuICAgIDx1bD4ke0Zvcm1hdC5HZXRMaXN0SXRlbXMoIHAuc2FtcGxlTGlzdCApfTwvdWw+XG48L2Rpdj5gIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+IHtcbiAgICBjb25zdCBoZWFkaW5nID0gcC5vcHRzLmlzQWRtaW4gPyBgQWRqdXN0IE1lbWJlciBTaGFyZSBPcHRpb25zYCA6IGBTdW1tYXJ5IG9mIFNoYXJlIFVwZGF0ZXNgXG5cbnJldHVybiBgYCArXG5gPGRpdiBjbGFzcz1cImZkLWhpZGRlblwiPlxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWhlYWRpbmdcIj5cbiAgICAgICAgPGgzPiR7aGVhZGluZ308L2gzPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibGluZS1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPlNoYXJlIENoYW5nZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+UHJpY2UgQWRqdXN0bWVudDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cImxpbmUtaXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+V2Vla3MgUmVtb3ZlZDogPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1qcz1cIndlZWtzUmVtb3ZlZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhZGp1c3RtZW50XCIgZGF0YS1qcz1cIndlZWtzUmVtb3ZlZFByaWNlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJsaW5lLWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPldlZWtzIEFkZGVkOiA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBkYXRhLWpzPVwid2Vla3NBZGRlZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1qcz1cIndlZWtzQWRkZWRQcmljZVwiIGNsYXNzPVwiYWRqdXN0bWVudFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpIGRhdGEtanM9XCJvcHRpb25zXCIgY2xhc3M9XCJsaW5lLWl0ZW0gb3B0aW9ucyBmZC1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+T3B0aW9ucyBVcGRhdGU6PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgZGF0YS1qcz1cInNoYXJlT3B0aW9uRGVzY3JpcHRpb25cIj48L3VsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPldlZWtseSBwcmljZSBhZGp1c3RtZW50OiA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBkYXRhLWpzPVwid2Vla2x5QWRqdXN0bWVudFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPldlZWtzIGFmZmVjdGVkOiA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gZGF0YS1qcz1cIndlZWtzQWZmZWN0ZWRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJhZGp1c3RtZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGRhdGEtanM9XCJvcHRpb25zQWRqdXN0bWVudFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8ZGl2IGRhdGEtanM9XCJhZGp1c3RtZW50XCIgY2xhc3M9XCJ0b3RhbFwiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVtYWlsICR7IXAub3B0cy5pc0FkbWluID8gJ2ZkLWhpZGRlbicgOiAnJ31cIj5cbiAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IGRhdGEtanM9XCJzZW5kRW1haWxcIiB0eXBlPVwiY2hlY2tib3hcIj5TZW5kIEVtYWlsPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBkYXRhLXZpZXc9XCJidXR0b25GbG93XCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+YFxufVxuIiwiY29uc3QgRm9ybWF0ID0gcmVxdWlyZSgnLi4vLi4vRm9ybWF0JylcblxubW9kdWxlLmV4cG9ydHMgPSBwID0+XG5gPGRpdiBjbGFzcz1cImJpb1wiPlxuICAgIDxkaXY+XG4gICAgICAgIDxpbWcgZGF0YS1zcmM9XCIke0Zvcm1hdC5JbWFnZVNyYyggcC5pbWFnZSApfVwiIC8+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJvdmVybGF5XCI+XG4gICAgICAgICAgICA8ZGl2PiR7cC5iaW8gfHwgJyd9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXY+JHtwLm5hbWV9PC9kaXY+XG48L2Rpdj5gIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+IGBgICtcbmA8ZGl2IGNsYXNzPVwiY2xlYXJmaXggZmQtaGlkZGVuXCI+XG4gICAgPGRpdiBkYXRhLWpzPVwiaWNvblwiPjwvZGl2PlxuICAgIDxkaXY+XG4gICAgICAgIDxkaXYgZGF0YS1qcz1cInRpdGxlXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgZGF0YS1qcz1cIm1lc3NhZ2VcIj48L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PmBcbiIsIm1vZHVsZS5leHBvcnRzID0gcCA9PlxuYDxkaXYgY2xhc3M9XCJmZC1oaWRkZW4gc2VjdGlvblwiPlxuICAgIDxkaXYgY2xhc3M9XCJoZWFkaW5nXCI+XG4gICAgICAgIDxzcGFuPjwvc3Bhbj5cbiAgICAgICAgPGgzPlRyYW5zYWN0aW9uczwvaDM+XG4gICAgICAgIDxzcGFuPlZhbHVlPC9zcGFuPlxuICAgICAgICA8c3Bhbj5DaGVjayAjPC9zcGFuPlxuICAgICAgICA8c3Bhbj5EYXRlPC9zcGFuPlxuICAgICAgICA8c3Bhbj5EZXNjcmlwdGlvbjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICA8b2wgZGF0YS1qcz1cInRyYW5zYWN0aW9uc1wiPjwvb2w+XG4gICAgPGRpdiBkYXRhLXZpZXc9XCJidXR0b25GbG93XCIgZGF0YS1uYW1lPVwiZWRpdEJ1dHRvbnNcIj48L2Rpdj5cbiAgICA8ZGl2IGRhdGEtdmlldz1cImFkZFRyYW5zYWN0aW9uXCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImJhbGFuY2VcIj5cbiAgICAgICAgPGgzPkJhbGFuY2U8L2gzPlxuICAgICAgICA8c3BhbiBkYXRhLWpzPVwiYmFsYW5jZVwiPjwvc3Bhbj5cbiAgICAgICAgPHNwYW4+PC9zcGFuPlxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgIDxkaXYgZGF0YS12aWV3PVwiYnV0dG9uRmxvd1wiIGRhdGEtbmFtZT1cImVtYWlsQnV0dG9uc1wiPjwvZGl2PlxuICAgICAgICA8L3NwYW4+XG4gICAgPC9kaXY+XG48L2Rpdj5gXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT5cbmA8ZGl2IGNsYXNzPVwiJHtwLm9wdHMuaGlkZVNlYXJjaCA/ICdoaWRpbmctc2VhcmNoJyA6ICcnfVwiPlxuICAgIDxpbnB1dCBkYXRhLWpzPVwiaW5wdXRcIiBwbGFjZWhvbGRlcj1cIiR7cC5vcHRzLnBsYWNlaG9sZGVyIHx8ICcnfVwiIFwidHlwZT1cInRleHRcIj5cbiAgICAke3Aub3B0cy5oaWRlU2VhcmNoID8gJycgOiByZXF1aXJlKCcuL2xpYi9zZWFyY2gnKSgpfVxuPC9kaXY+YFxuIiwibW9kdWxlLmV4cG9ydHMgPSBwID0+IGA8ZGl2PjwvZGl2PmAiLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4gXG5gPGRpdiBjbGFzcz1cImZkLWhpZGRlblwiPlxuICAgIDxkaXYgY2xhc3M9XCJzZWN0aW9uLWhlYWRpbmdcIj5cbiAgICAgICAgPGgzPldlZWsgT3B0aW9uczwvaDM+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8c3Bhbj5EZWxpdmVyeSBEYXk6IDwvc3Bhbj5cbiAgICAgICAgICAgIDxzcGFuIGRhdGEtanM9XCJkZWxpdmVyeURheVwiPjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJyZXNldC1idG4gaGlkZGVuXCIgZGF0YS1qcz1cInJlc2V0QnRuXCI+UmVzZXQ8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZGF0YVwiPlxuICAgICAgICAgICAgPG9sIGRhdGEtanM9XCJkYXRlc1wiPjwvb2w+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGRhdGEtanM9XCJlZGl0U3VtbWFyeVwiIGNsYXNzPVwiZWRpdC1zdW1tYXJ5IGZkLWhpZGRlblwiPlxuICAgICAgICAgICAgPGRpdj5TdW1tYXJ5IG9mIENoYW5nZXM8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgZGF0YS1qcz1cImNoYW5nZXNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sdW1uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+QWRkZWQgRGF0ZXM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPG9sIGRhdGEtanM9XCJzZWxlY3RlZERhdGVzXCIgY2xhc3M9XCJhZGRlZC1kYXRlc1wiPjwvb2w+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbHVtblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlJlbW92ZWQgRGF0ZXM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPG9sIGRhdGEtanM9XCJyZW1vdmVkRGF0ZXNcIiBjbGFzcz1cInJlbW92ZWQtZGF0ZXNcIj48L29sPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuPldlZWsgY291bnQgYWRqdXN0bWVudDogPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJpY2UtY2hhbmdlXCIgZGF0YS1qcz1cIndlZWtDaGFuZ2VcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG48L2Rpdj5gXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHAgPT4ge1xuICAgIGNvbnN0IHNpemVPcHRpb25zID0gcC5zaXplT3B0aW9ucy5tYXAoIG9wdGlvbiA9PiBgPGRpdiBjbGFzcz1cImNlbGxcIj4ke29wdGlvbi5sYWJlbH0gU2hhcmU8L2Rpdj5gICkuam9pbignJyksXG4gICAgICAgIHJvd3MgPSBwLmRlbGl2ZXJ5T3B0aW9ucy5tYXAoIGRlbGl2ZXJ5T3B0aW9uID0+XG4gICAgICAgICAgICBgPGRpdj5gICtcbiAgICAgICAgICAgICAgICBgPGRpdiBjbGFzcz1cImNlbGxcIj4ke2RlbGl2ZXJ5T3B0aW9uLmxhYmVsfTwvZGl2PmAgK1xuICAgICAgICAgICAgICAgIHAuc2l6ZU9wdGlvbnMubWFwKCBzaXplT3B0aW9uID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJpY2UgPSAoIHBhcnNlRmxvYXQoc2l6ZU9wdGlvbi5wcmljZS5yZXBsYWNlKCckJywnJykpICsgcGFyc2VGbG9hdChkZWxpdmVyeU9wdGlvbi5wcmljZS5yZXBsYWNlKCckJywnJykpICkudG9GaXhlZCgyKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJjZWxsXCI+JCR7cHJpY2V9IC8gYm94PC9kaXY+YFxuICAgICAgICAgICAgICAgIH0gKS5qb2luKCcnKSArXG4gICAgICAgICAgICBgPC9kaXY+YFxuICAgICAgICApLmpvaW4oJycpXG5cbnJldHVybiBgYCArXG5gPGRpdj5cbiAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2VsbFwiPkRlbGl2ZXJ5IE9wdGlvbjwvZGl2PlxuICAgICAgICAke3NpemVPcHRpb25zfVxuICAgIDwvZGl2PlxuICAgICR7cm93c31cbjwvZGl2PmBcblxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiggcCA9IHt9ICkge1xucmV0dXJuIGBgICtcbmA8c3ZnIGNsYXNzPVwiY2FyZXQtZG93blwiIHZlcnNpb249XCIxLjFcIiBjbGFzcz1cImNhcmV0LWRvd25cIiAke3RoaXMuSWNvbkRhdGFKcyhwKX0geG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCJcblx0IHZpZXdCb3g9XCIwIDAgMjkyLjM2MiAyOTIuMzYyXCIgc3R5bGU9XCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI5Mi4zNjIgMjkyLjM2MjtcIlxuXHQgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbjxnPlxuXHQ8cGF0aCBkPVwiTTI4Ni45MzUsNjkuMzc3Yy0zLjYxNC0zLjYxNy03Ljg5OC01LjQyNC0xMi44NDgtNS40MjRIMTguMjc0Yy00Ljk1MiwwLTkuMjMzLDEuODA3LTEyLjg1LDUuNDI0XG5cdFx0QzEuODA3LDcyLjk5OCwwLDc3LjI3OSwwLDgyLjIyOGMwLDQuOTQ4LDEuODA3LDkuMjI5LDUuNDI0LDEyLjg0N2wxMjcuOTA3LDEyNy45MDdjMy42MjEsMy42MTcsNy45MDIsNS40MjgsMTIuODUsNS40Mjhcblx0XHRzOS4yMzMtMS44MTEsMTIuODQ3LTUuNDI4TDI4Ni45MzUsOTUuMDc0YzMuNjEzLTMuNjE3LDUuNDI3LTcuODk4LDUuNDI3LTEyLjg0N0MyOTIuMzYyLDc3LjI3OSwyOTAuNTQ4LDcyLjk5OCwyODYuOTM1LDY5LjM3N3pcIi8+XG48L2c+PC9zdmc+YFxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSAocD17fSkgPT4gYDxzdmcgdmVyc2lvbj1cIjEuMVwiIGRhdGEtanM9XCIke3AubmFtZSB8fCAnY2hlY2ttYXJrJ31cIiBjbGFzcz1cImNoZWNrbWFya1wiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4PVwiMHB4XCIgeT1cIjBweFwiXG5cdCB3aWR0aD1cIjk3LjYxOXB4XCIgaGVpZ2h0PVwiOTcuNjE4cHhcIiB2aWV3Qm94PVwiMCAwIDk3LjYxOSA5Ny42MThcIiBzdHlsZT1cImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgOTcuNjE5IDk3LjYxODtcIlxuXHQgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbjxnPlxuXHQ8cGF0aCBkPVwiTTk2LjkzOSwxNy4zNThMODMuOTY4LDUuOTU5Yy0wLjM5OC0wLjM1Mi0wLjkyNy0wLjUzMS0xLjQ0OS0wLjQ5NEM4MS45OSw1LjUsODEuNDk2LDUuNzQzLDgxLjE0Niw2LjE0MkwzNC4xLDU5LjY4OFxuXHRcdEwxNy4zNzIsMzcuNTQ3Yy0wLjMxOS0wLjQyMi0wLjc5NC0wLjcwMS0xLjMxOS0wLjc3M2MtMC41MjQtMC4wNzgtMS4wNTksMC4wNjQtMS40ODEsMC4zODVMMC43OTQsNDcuNTY3XG5cdFx0Yy0wLjg4MSwwLjY2Ni0xLjA1NiwxLjkyLTAuMzksMi44MDFsMzAuOTc0LDQwLjk5NmMwLjM2MiwwLjQ3OSwwLjkyMiwwLjc3MSwxLjUyMiwwLjc5M2MwLjAyNCwwLDAuMDQ5LDAsMC4wNzMsMFxuXHRcdGMwLjU3NCwwLDEuMTIyLTAuMjQ2LDEuNTAzLTAuNjhsNjIuNjQ0LTcxLjI5N0M5Ny44NSwxOS4zNTEsOTcuNzY5LDE4LjA4Niw5Ni45MzksMTcuMzU4elwiLz5cbjwvZz48L3N2Zz5gXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChwPXt9KSA9PiBgPHN2ZyBkYXRhLWpzPVwiJHtwLm5hbWUgfHwgJ2VkaXQnfVwiIGNsYXNzPVwiZWRpdFwiIHhtbG5zOmRjPVwiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS9cIiB4bWxuczpjYz1cImh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zI1wiIHhtbG5zOnJkZj1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyNcIiB4bWxuczpzdmc9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczpzb2RpcG9kaT1cImh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkXCIgeG1sbnM6aW5rc2NhcGU9XCJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlXCIgdmVyc2lvbj1cIjEuMVwiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIjAgMCAxMDAgMTAwXCI+PGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAsLTk1Mi4zNjIxOClcIj48cGF0aCBzdHlsZT1cIm9wYWNpdHk6MTtjb2xvcjojMDAwMDAwO2ZpbGw6IzAwMDAwMDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6NDtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2Utb3BhY2l0eToxO3N0cm9rZS1kYXNob2Zmc2V0OjA7bWFya2VyOm5vbmU7dmlzaWJpbGl0eTp2aXNpYmxlO2Rpc3BsYXk6aW5saW5lO292ZXJmbG93OnZpc2libGU7ZW5hYmxlLWJhY2tncm91bmQ6YWNjdW11bGF0ZTtmaWxsLW9wYWNpdHk6MTtzdHJva2UtZGFzaGFycmF5Om5vbmVcIiBkPVwiTSA3MCAxMyBMIDYxLjQzNzUgMjEuNTYyNSBMIDc4LjQzNzUgMzguNTYyNSBMIDg3IDMwIEwgNzAgMTMgeiBNIDU4LjU5Mzc1IDI0LjQwNjI1IEwgMjAuNDM3NSA2Mi41NjI1IEwgMzcuNDM3NSA3OS41NjI1IEwgNzUuNTkzNzUgNDEuNDA2MjUgTCA1OC41OTM3NSAyNC40MDYyNSB6IE0gMTcuODQzNzUgNjUuNjU2MjUgTCAxMyA4NyBMIDM0LjM0Mzc1IDgyLjE1NjI1IEwgMTcuODQzNzUgNjUuNjU2MjUgeiBcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMCw5NTIuMzYyMTgpXCIvPjwvZz48L3N2Zz5gXG4iLCJtb2R1bGUuZXhwb3J0cyA9IChwPXt9KSA9PiBgPHN2ZyB2ZXJzaW9uPVwiMS4xXCIgZGF0YS1qcz1cIiR7cC5uYW1lIHx8ICdlcnJvcid9XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIjAgMCAxOC45NzggMTguOTc4XCIgc3R5bGU9XCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4Ljk3OCAxOC45Nzg7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cclxuPGc+XHJcbiAgICA8cGF0aCBkPVwiTTE2LjA4OCwxLjY3NWMtMC4xMzMtMC4xMDQtMC4zMDYtMC4xNDQtMC40Ny0wLjEwNWMtMC4wMTMsMC4wMDItMS4yNjEsMC4yOS0yLjU5NCwwLjI5XHJcbiAgICAgICAgYy0xLjc4OCwwLTIuNzg5LTAuNDc2LTIuOTc1LTEuNDE1QzkuOTk5LDAuMTkxLDkuNzc5LDAuMDA3LDkuNTIxLDBjLTAuMjU3LTAuMDA3LTAuNDg3LDAuMTY3LTAuNTUsMC40MThcclxuICAgICAgICBDOC43MjcsMS4zODYsNy43MSwxLjg3Nyw1Ljk1LDEuODc3Yy0xLjMzMiwwLTIuNTcxLTAuMzAyLTIuNTgzLTAuMzA1Yy0wLjE2Ni0wLjA0LTAuMzQtMC4wMDQtMC40NzQsMC4xMDJcclxuICAgICAgICBDMi43NiwxLjc3NywyLjY4MSwxLjkzOCwyLjY4MSwyLjEwOHY0Ljg2OWMwLDAuMDQsMC4wMDQsMC4wNzgsMC4wMTMsMC4xMTVjMC4wNTcsMS42NDcsMC42NSw4LjcxNCw2LjUyOCwxMS44MjJcclxuICAgICAgICBjMC4wOCwwLjA0MywwLjE2OSwwLjA2NCwwLjI1OCwwLjA2NGMwLjA5MiwwLDAuMTgzLTAuMDIxLDAuMjY2LTAuMDY2YzUuNzQtMy4xMzcsNi40NDUtMTAuMTE1LDYuNTMyLTExLjc5MVxyXG4gICAgICAgIGMwLjAxMi0wLjA0NiwwLjAxOS0wLjA5NCwwLjAxOS0wLjE0NFYyLjEwOEMxNi4yOTcsMS45MzksMTYuMjE5LDEuNzgsMTYuMDg4LDEuNjc1eiBNMTUuMTksNi44NTdcclxuICAgICAgICBjLTAuMDA3LDAuMDMxLTAuMDEyLDAuMDY0LTAuMDEzLDAuMDk3Yy0wLjA1MywxLjI5OC0wLjU3NCw3LjgzMi01LjcwMSwxMC44MzhjLTUuMjE1LTIuOTY1LTUuNjQ2LTkuNTI2LTUuNjgtMTAuODNcclxuICAgICAgICBjMC0wLjAyOS0wLjAwNC0wLjA1OC0wLjAwOS0wLjA4NVYyLjc4NEM0LjMyMiwyLjg3Nyw1LjExMiwyLjk4Miw1Ljk1LDIuOTgyYzEuOTExLDAsMi45NjUtMC41NCwzLjUzNy0xLjIwOFxyXG4gICAgICAgIGMwLjU1MywwLjY2MSwxLjU5OSwxLjE5MSwzLjUzNiwxLjE5MWMwLjgzOSwwLDEuNjMxLTAuMTAxLDIuMTY2LTAuMTg4TDE1LjE5LDYuODU3TDE1LjE5LDYuODU3elwiLz5cclxuICAgIDxwb2x5Z29uIHBvaW50cz1cIjEwLjI0MSwxMS4yMzcgMTAuNTI5LDUuMzExIDguNDQ5LDUuMzExIDguNzUsMTEuMjM3IFx0XHRcIi8+XHJcbiAgICA8cGF0aCBkPVwiTTkuNDk2LDExLjg5MWMtMC42OTQsMC0xLjE3OCwwLjQ5OC0xLjE3OCwxLjE4OWMwLDAuNjgyLDAuNDcxLDEuMTkxLDEuMTc4LDEuMTkxXHJcbiAgICAgICAgYzAuNzA2LDAsMS4xNjQtMC41MSwxLjE2NC0xLjE5MUMxMC42NDcsMTIuMzg5LDEwLjE4OSwxMS44OTEsOS40OTYsMTEuODkxelwiLz5cclxuPC9nPjwvc3ZnPmBcclxuIiwibW9kdWxlLmV4cG9ydHMgPSAocD17fSkgPT4gYDxzdmcgY2xhc3M9XCJleFwiIGRhdGEtanM9XCIke3AubmFtZSB8fCAnZXgnfVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB2ZXJzaW9uPVwiMS4xXCIgeD1cIjBweFwiIHk9XCIwcHhcIiB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIiBlbmFibGUtYmFja2dyb3VuZD1cIm5ldyAwIDAgNTEyIDUxMlwiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+PGc+PGc+PHBvbHlnb24gcG9pbnRzPVwiNDA1LDEzNi43OTggMzc1LjIwMiwxMDcgMjU2LDIyNi4yMDIgMTM2Ljc5OCwxMDcgMTA3LDEzNi43OTggMjI2LjIwMiwyNTYgMTA3LDM3NS4yMDIgMTM2Ljc5OCw0MDUgMjU2LDI4NS43OTggICAgIDM3NS4yMDIsNDA1IDQwNSwzNzUuMjAyIDI4NS43OTgsMjU2ICAgXCIvPjwvZz48L2c+PC9zdmc+YFxuIiwibW9kdWxlLmV4cG9ydHMgPSAocD17fSkgPT4gYDxzdmcgdmVyc2lvbj1cIjEuMVwiIGNsYXNzPVwiZ2FyYmFnZVwiIGRhdGEtanM9XCIke3AubmFtZSB8fCAnZ2FyYmFnZSd9XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIjAgMCA1OSA1OVwiIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OSA1OTtcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxyXG48Zz48cGF0aCBkPVwiTTI5LjUsNTFjMC41NTIsMCwxLTAuNDQ3LDEtMVYxN2MwLTAuNTUzLTAuNDQ4LTEtMS0xcy0xLDAuNDQ3LTEsMXYzM0MyOC41LDUwLjU1MywyOC45NDgsNTEsMjkuNSw1MXpcIi8+XHJcblx0PHBhdGggZD1cIk0xOS41LDUxYzAuNTUyLDAsMS0wLjQ0NywxLTFWMTdjMC0wLjU1My0wLjQ0OC0xLTEtMXMtMSwwLjQ0Ny0xLDF2MzNDMTguNSw1MC41NTMsMTguOTQ4LDUxLDE5LjUsNTF6XCIvPlxyXG5cdDxwYXRoIGQ9XCJNMzkuNSw1MWMwLjU1MiwwLDEtMC40NDcsMS0xVjE3YzAtMC41NTMtMC40NDgtMS0xLTFzLTEsMC40NDctMSwxdjMzQzM4LjUsNTAuNTUzLDM4Ljk0OCw1MSwzOS41LDUxelwiLz5cclxuXHQ8cGF0aCBkPVwiTTUyLjUsNkgzOC40NTZjLTAuMTEtMS4yNS0wLjQ5NS0zLjM1OC0xLjgxMy00LjcxMUMzNS44MDksMC40MzQsMzQuNzUxLDAsMzMuNDk5LDBIMjMuNWMtMS4yNTIsMC0yLjMxLDAuNDM0LTMuMTQ0LDEuMjg5XHJcblx0XHRDMTkuMDM4LDIuNjQyLDE4LjY1Myw0Ljc1LDE4LjU0Myw2SDYuNWMtMC41NTIsMC0xLDAuNDQ3LTEsMXMwLjQ0OCwxLDEsMWgyLjA0MWwxLjkxNSw0Ni4wMjFDMTAuNDkzLDU1Ljc0MywxMS41NjUsNTksMTUuMzY0LDU5XHJcblx0XHRoMjguMjcyYzMuNzk5LDAsNC44NzEtMy4yNTcsNC45MDctNC45NThMNTAuNDU5LDhINTIuNWMwLjU1MiwwLDEtMC40NDcsMS0xUzUzLjA1Miw2LDUyLjUsNnogTTIxLjc5MiwyLjY4MVxyXG5cdFx0QzIyLjI0LDIuMjIzLDIyLjc5OSwyLDIzLjUsMmg5Ljk5OWMwLjcwMSwwLDEuMjYsMC4yMjMsMS43MDgsMC42ODFjMC44MDUsMC44MjMsMS4xMjgsMi4yNzEsMS4yNCwzLjMxOUgyMC41NTNcclxuXHRcdEMyMC42NjUsNC45NTIsMjAuOTg4LDMuNTA0LDIxLjc5MiwyLjY4MXogTTQ2LjU0NCw1My45NzlDNDYuNTM4LDU0LjI4OCw0Ni40LDU3LDQzLjYzNiw1N0gxNS4zNjRcclxuXHRcdGMtMi43MzQsMC0yLjg5OC0yLjcxNy0yLjkwOS0zLjA0MkwxMC41NDIsOGgzNy45MTVMNDYuNTQ0LDUzLjk3OXpcIi8+XHJcbjwvZz48L3N2Zz5gXHJcbiIsIm1vZHVsZS5leHBvcnRzID0gYDxzdmcgdmVyc2lvbj1cIjEuMVwiIGRhdGEtanM9XCJqdXN0aWZ5XCIgY2xhc3M9XCJqdXN0aWZ5XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCIgdmlld0JveD1cIi0yIC0yIDI4IDI4XCIgc3R5bGU9XCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIyLjkxNiAyMi45MTY7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cbjxnPlxuXHQ8cGF0aCBkPVwiTTIyLjQxNiwyMi44MjhIMC41Yy0wLjI3NiwwLTAuNS0wLjIyNC0wLjUtMC41czAuMjI0LTAuNSwwLjUtMC41aDIxLjkxNmMwLjI3NiwwLDAuNSwwLjIyNCwwLjUsMC41XG5cdFx0UzIyLjY5MiwyMi44MjgsMjIuNDE2LDIyLjgyOHpcIi8+XG5cdDxwYXRoIGQ9XCJNMjIuNDE2LDE1LjU4MkgwLjVjLTAuMjc2LDAtMC41LTAuMjI0LTAuNS0wLjVzMC4yMjQtMC41LDAuNS0wLjVoMjEuOTE2YzAuMjc2LDAsMC41LDAuMjI0LDAuNSwwLjVcblx0XHRTMjIuNjkyLDE1LjU4MiwyMi40MTYsMTUuNTgyelwiLz5cblx0PHBhdGggZD1cIk0yMi40MTYsOC4zMzVIMC41Yy0wLjI3NiwwLTAuNS0wLjIyNC0wLjUtMC41czAuMjI0LTAuNSwwLjUtMC41aDIxLjkxNmMwLjI3NiwwLDAuNSwwLjIyNCwwLjUsMC41XG5cdFx0UzIyLjY5Miw4LjMzNSwyMi40MTYsOC4zMzV6XCIvPlxuXHQ8cGF0aCBkPVwiTTIyLjQxNiwxLjA4OEgwLjVjLTAuMjc2LDAtMC41LTAuMjI0LTAuNS0wLjVzMC4yMjQtMC41LDAuNS0wLjVoMjEuOTE2YzAuMjc2LDAsMC41LDAuMjI0LDAuNSwwLjVcblx0XHRTMjIuNjkyLDEuMDg4LDIyLjQxNiwxLjA4OHpcIi8+PC9nPjwvc3ZnPmBcbiIsIm1vZHVsZS5leHBvcnRzID0gKHA9e30pID0+IGA8c3ZnIGNsYXNzPVwibGVmdC1hcnJvd1wiIGRhdGEtanM9XCIke3AubmFtZSB8fCAnbGVmdEFycm93J31cIiB2ZXJzaW9uPVwiMS4xXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiIHg9XCIwcHhcIiB5PVwiMHB4XCJcblx0IHZpZXdCb3g9XCIwIDAgMzEuNDk0IDMxLjQ5NFwiIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMS40OTQgMzEuNDk0O1wiIHhtbDpzcGFjZT1cInByZXNlcnZlXCI+XG48cGF0aCBzdHlsZT1cImZpbGw6IzFFMjAxRDtcIiBkPVwiTTEwLjI3Myw1LjAwOWMwLjQ0NC0wLjQ0NCwxLjE0My0wLjQ0NCwxLjU4NywwYzAuNDI5LDAuNDI5LDAuNDI5LDEuMTQzLDAsMS41NzFsLTguMDQ3LDguMDQ3aDI2LjU1NFxuXHRjMC42MTksMCwxLjEyNywwLjQ5MiwxLjEyNywxLjExMWMwLDAuNjE5LTAuNTA4LDEuMTI3LTEuMTI3LDEuMTI3SDMuODEzbDguMDQ3LDguMDMyYzAuNDI5LDAuNDQ0LDAuNDI5LDEuMTU5LDAsMS41ODdcblx0Yy0wLjQ0NCwwLjQ0NC0xLjE0MywwLjQ0NC0xLjU4NywwbC05Ljk1Mi05Ljk1MmMtMC40MjktMC40MjktMC40MjktMS4xNDMsMC0xLjU3MUwxMC4yNzMsNS4wMDl6XCIvPjwvc3ZnPmBcbiIsIm1vZHVsZS5leHBvcnRzID0gKHA9e30pID0+IGA8c3ZnIGNsYXNzPVwic2VhcmNoXCIgZGF0YS1qcz1cIiR7cC5uYW1lIHx8ICdzZWFyY2gnfVwiIHZlcnNpb249XCIxLjFcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgeD1cIjBweFwiIHk9XCIwcHhcIlxyXG4gdmlld0JveD1cIjAgMCAzMC4yMzkgMzAuMjM5XCIgc3R5bGU9XCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMwLjIzOSAzMC4yMzk7XCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIj5cclxuPGc+XHJcblx0PHBhdGggZD1cIk0yMC4xOTQsMy40NmMtNC42MTMtNC42MTMtMTIuMTIxLTQuNjEzLTE2LjczNCwwYy00LjYxMiw0LjYxNC00LjYxMiwxMi4xMjEsMCwxNi43MzVcclxuXHRcdGM0LjEwOCw0LjEwNywxMC41MDYsNC41NDcsMTUuMTE2LDEuMzRjMC4wOTcsMC40NTksMC4zMTksMC44OTcsMC42NzYsMS4yNTRsNi43MTgsNi43MThjMC45NzksMC45NzcsMi41NjEsMC45NzcsMy41MzUsMFxyXG5cdFx0YzAuOTc4LTAuOTc4LDAuOTc4LTIuNTYsMC0zLjUzNWwtNi43MTgtNi43MmMtMC4zNTUtMC4zNTQtMC43OTQtMC41NzctMS4yNTMtMC42NzRDMjQuNzQzLDEzLjk2NywyNC4zMDMsNy41NywyMC4xOTQsMy40NnpcclxuXHRcdCBNMTguMDczLDE4LjA3NGMtMy40NDQsMy40NDQtOS4wNDksMy40NDQtMTIuNDkyLDBjLTMuNDQyLTMuNDQ0LTMuNDQyLTkuMDQ4LDAtMTIuNDkyYzMuNDQzLTMuNDQzLDkuMDQ4LTMuNDQzLDEyLjQ5MiwwXHJcblx0XHRDMjEuNTE3LDkuMDI2LDIxLjUxNywxNC42MywxOC4wNzMsMTguMDc0elwiLz5cclxuPC9nPjwvc3ZnPmBcclxuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG5cbiAgICBsb2FkVGFibGVEYXRhKCB0YWJsZSApIHtcbiAgICAgICAgdGhpcy5tb2RlbHNbIHRhYmxlLm5hbWUgXSA9IE9iamVjdC5jcmVhdGUoIHJlcXVpcmUoJy4uLy4uL21vZGVscy9fX3Byb3RvX18nKSwgeyByZXNvdXJjZTogeyB2YWx1ZTogdGFibGUubmFtZSB9IH0gKVxuICAgICAgICBcbiAgICAgICAgdGhpcy5tb2RlbHNbIHRhYmxlLm5hbWUgXS5nZXQoKS50aGVuKCAoKSA9PiB7XG4gICAgICAgICAgICBpZiggdGFibGUuaW1hZ2UgKSB7XG4gICAgICAgICAgICAgICAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAgICAgICAgIHRoaXMubW9kZWxzWyB0YWJsZS5uYW1lIF0uZGF0YS5mb3JFYWNoKCBtb2RlbCA9PiBwcm9taXNlID0gcHJvbWlzZS50aGVuKCAoKSA9PiB0aGlzLmxvYWRJbWFnZVRhYmxlKCB0YWJsZSwgbW9kZWwgKSApIClcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsc1sgdGFibGUubmFtZSBdLmRhdGEuZm9yRWFjaCggbW9kZWwgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbHVycFRlbXBsYXRlKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRpb246IHsgZWw6IHRoaXMuZWxzWyB0YWJsZS5lbCBdIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXNbIHRhYmxlLnRlbXBsYXRlIF0oIG1vZGVsIClcbiAgICAgICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICB9IClcbiAgICAgICAgLmNhdGNoKCB0aGlzLkVycm9yICkgICAgICAgXG4gICAgfSxcblxuICAgIHByb2Nlc3NPYmplY3QoIG5hbWUsIGRhdGEgKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKCBkYXRhICkuZm9yRWFjaCgga2V5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IGRhdGFbIGtleSBdXG5cbiAgICAgICAgICAgIGlmKCB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyApIHJldHVybiBBcnJheS5pc0FycmF5KCB2YWwgKSA/IHRoaXMuaW5zZXJ0QXJyYXlEYXRhKCBuYW1lLCBrZXksIHZhbCApIDogdGhpcy5wcm9jZXNzT2JqZWN0KCBrZXksIHZhbCApXG5cbiAgICAgICAgICAgIGlmKCB0aGlzLmVsc1sga2V5IF0gKSByZXR1cm4gL2ltYWdlL2kudGVzdCgga2V5IClcbiAgICAgICAgICAgICAgICA/IHRoaXMuc2x1cnBUZW1wbGF0ZSgge1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRpb246IHsgZWw6IHRoaXMuZWxzWyBrZXkgXSB9LFxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogYDxpbWcgZGF0YS1zcmM9XCIke3RoaXMuRm9ybWF0LkltYWdlU3JjKCBkYXRhWyBrZXkgXSApfVwiIC8+YFxuICAgICAgICAgICAgICAgICAgfSApXG4gICAgICAgICAgICAgICAgOiB0aGlzLmVsc1sga2V5IF0uaW5uZXJIVE1MID0gdGhpcy5Gb3JtYXQuUGFyc2VUZXh0TGlua3MoIGRhdGFbIGtleSBdIClcblxuICAgICAgICAgICAgaWYoIHRoaXMubmFtZVRvVGFnTmFtZVsga2V5IF0gKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbHNbIG5hbWUgXS5xdWVyeVNlbGVjdG9yKCB0aGlzLm5hbWVUb1NlbGVjdG9yWyBrZXkgXSB8fCB0aGlzLm5hbWVUb1RhZ05hbWVbIGtleSBdICkuaW5uZXJIVE1MID0gdGhpcy5Gb3JtYXQuUGFyc2VUZXh0TGlua3MoIGRhdGFbIGtleSBdIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IClcbiAgICB9LFxuXG4gICAgaW5zZXJ0QXJyYXlEYXRhKCBzZWN0aW9uTmFtZSwga2V5LCBkYXRhICkge1xuICAgICAgICBjb25zdCBlbCA9IHRoaXMuZWxzWyBrZXkgXSB8fCB0aGlzLmVsc1sgc2VjdGlvbk5hbWUgXSxcbiAgICAgICAgICAgIGhhc0ltYWdlcyA9IC9pbWFnZS9pLnRlc3Qoa2V5KVxuXG4gICAgICAgIGRhdGEuZm9yRWFjaCggZGF0dW0gPT5cbiAgICAgICAgICAgIHRoaXMuc2x1cnBUZW1wbGF0ZSgge1xuICAgICAgICAgICAgICAgIGluc2VydGlvbjogeyBlbCB9LFxuICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBoYXNJbWFnZXNcbiAgICAgICAgICAgICAgICAgICAgPyBgPGltZyBkYXRhLXNyYz1cIiR7dGhpcy5Gb3JtYXQuSW1hZ2VTcmMoIGRhdHVtICl9XCIgLz5gXG4gICAgICAgICAgICAgICAgICAgIDogYDwke3RoaXMubmFtZVRvVGFnTmFtZVsga2V5IF0gfHwgJ2xpJ30+JHt0aGlzLkZvcm1hdC5QYXJzZVRleHRMaW5rcyggZGF0dW0gKX08LyR7dGhpcy5uYW1lVG9UYWdOYW1lWyBrZXkgXSB8fCAnbGknfT5gXG4gICAgICAgICAgICB9IClcbiAgICAgICAgKVxuICAgIH0sXG5cbiAgICBuYW1lVG9TZWxlY3Rvcjoge1xuICAgICAgICBoZWFkaW5nOiAnaDIsIGgzLCBoNCdcbiAgICB9LFxuXG4gICAgbmFtZVRvVGFnTmFtZToge1xuICAgICAgICBoZWFkaW5nOiAnaDInLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ3AnXG4gICAgfSxcblxuICAgIG9uTGlua0NsaWNrKCBlbCApIHtcbiAgICAgICAgaWYoICFlbC5oYXNBdHRyaWJ1dGUoJ2RhdGEtbmFtZScpICkgcmV0dXJuXG4gICAgICAgIHRoaXMuZW1pdCggJ25hdmlnYXRlJywgZWwuZ2V0QXR0cmlidXRlKCdkYXRhLW5hbWUnKSApXG4gICAgfSxcblxuICAgIHBvc3RSZW5kZXIoKSB7XG4gICAgICAgIGlmKCB0aGlzLnRhYmxlcy5sZW5ndGggKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVscyA9IHsgfVxuICAgICAgICAgICAgdGhpcy50YWJsZXMuZm9yRWFjaCggdGFibGUgPT4gdGhpcy5sb2FkVGFibGVEYXRhKCB0YWJsZSApIClcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuWGhyKCB7IG1ldGhvZDogJ2dldCcsIHJlc291cmNlOiAnUGFnZXMnLCBxczogSlNPTi5zdHJpbmdpZnkoIHsgbmFtZTogdGhpcy5kb2N1bWVudE5hbWUgfSApIH0gKVxuICAgICAgICAudGhlbiggZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NPYmplY3QoIG51bGwsIGRhdGEgKVxuICAgICAgICAgICAgdGhpcy5lbHMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5saW5rJykuZm9yRWFjaCggZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCkgPT4gdGhpcy5vbkxpbmtDbGljayggZWwgKSApIClcbiAgICAgICAgfSApXG4gICAgICAgIC5jYXRjaCggdGhpcy5FcnJvciApXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgdGFibGVzOiBbIF1cblxufSIsInZhciBNeVZpZXcgPSByZXF1aXJlKCcuLi9NeVZpZXcnKSxcbiAgICBGb3JtID0gZnVuY3Rpb24oKSB7IHJldHVybiBNeVZpZXcuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIH1cblxuT2JqZWN0LmFzc2lnbiggRm9ybS5wcm90b3R5cGUsIE15Vmlldy5wcm90b3R5cGUsIHtcblxuICAgIGVtYWlsUmVnZXg6IC9eXFx3KyhbXFwuLV0/XFx3KykqQFxcdysoW1xcLi1dP1xcdyspKihcXC5cXHd7MiwzfSkrJC8sXG5cbiAgICBmaWVsZHM6IFsgXSxcblxuICAgIG9uRm9ybUZhaWw6IGZ1bmN0aW9uKCBlcnJvciApIHtcbiAgICAgICAgY29uc29sZS5sb2coIGVycm9yLnN0YWNrIHx8IGVycm9yICk7XG4gICAgICAgIHRoaXMuc2x1cnBUZW1wbGF0ZSggeyB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXMuc2VydmVyRXJyb3IoIGVycm9yICksIGluc2VydGlvbjogeyAkZWw6IHRoaXMudGVtcGxhdGVEYXRhLmJ1dHRvblJvdywgbWV0aG9kOiAnYmVmb3JlJyB9IH0gKVxuICAgIH0sXG5cbiAgICBvblN1Ym1pc3Npb25SZXNwb25zZTogZnVuY3Rpb24oKSB7IH0sXG4gICAgXG4gICAgcG9zdEZvcm0oIGRhdGEgKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlEoXG4gICAgICAgICAgICB0aGlzLiQuYWpheCgge1xuICAgICAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KCBkYXRhLnZhbHVlcyApIHx8IEpTT04uc3RyaW5naWZ5KCB0aGlzLmdldEZvcm1EYXRhKCkgKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7IHRva2VuOiAoIHRoaXMudXNlciApID8gdGhpcy51c2VyLmdldCgndG9rZW4nKSA6ICcnIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiB0aGlzLnV0aWwuZm9ybWF0KCBcIi8lc1wiLCBkYXRhLnJlc291cmNlIClcbiAgICAgICAgICAgIH0gKVxuICAgICAgICApXG4gICAgfSxcblxuICAgIHJlbW92ZUVycm9yczogZnVuY3Rpb24oIGUgKSB7XG5cbiAgICAgICAgdmFyIGlucHV0ID0gdGhpcy4kKCBlLnRhcmdldCApO1xuICAgICAgICBpbnB1dC5wYXJlbnQoKS5yZW1vdmVDbGFzcygnaGFzLWVycm9yJyk7XG4gICAgICAgIGlucHV0Lm5leHQoKS5yZW1vdmUoKTtcblxuICAgIH0sXG5cbiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiggcmVzb3VyY2UgKSB7XG4gICAgICAgIFxuICAgICAgICBpZiAoIHRoaXMudmFsaWRhdGVGb3JtKCkgPT09IGZhbHNlICkgcmV0dXJuXG4gICAgICAgIHRoaXMucG9zdEZvcm0oIHJlc291cmNlIClcbiAgICAgICAgICAudGhlbiggdGhpcy5vblN1Ym1pc3Npb25SZXNwb25zZS5iaW5kKHRoaXMpIClcbiAgICAgICAgICAuZmFpbCggdGhpcy5vbkZvcm1GYWlsLmJpbmQodGhpcykgKVxuICAgICAgICAgIC5kb25lKClcbiAgICBcbiAgICB9LFxuICAgIFxuICAgIHRlbXBsYXRlczoge1xuICAgICAgICBmaWVsZEVycm9yOiByZXF1aXJlKCcuLi90ZW1wbGF0ZXMvRmllbGRFcnJvcicpLFxuICAgIH0sXG5cbiAgICB2YWxpZGF0ZUZvcm06IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsaWQgPSB0cnVlXG5cbiAgICAgICAgdGhpcy5maWVsZHMuZm9yRWFjaCggZnVuY3Rpb24oIGZpZWxkICkge1xuICAgICAgICAgIFxuICAgICAgICAgIHRoaXMudGVtcGxhdGVEYXRhWyBmaWVsZC5uYW1lIF0ucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2hhcy1lcnJvcicpO1xuICAgICAgICAgIHRoaXMudGVtcGxhdGVEYXRhWyBmaWVsZC5uYW1lIF0ubmV4dCgpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgaWYgKCBmaWVsZC52YWxpZGF0ZS5jYWxsKCB0aGlzLCB0aGlzLnRlbXBsYXRlRGF0YVsgZmllbGQubmFtZSBdLnZhbCgpICkgPT09IGZhbHNlICkge1xuICAgICAgICAgICAgdmFsaWQgPSBmYWxzZVxuXG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlRGF0YVsgZmllbGQubmFtZSBdLnBhcmVudCgpLmFkZENsYXNzKCdoYXMtZXJyb3InKTtcbiAgICAgICAgICAgIHRoaXMuc2x1cnBUZW1wbGF0ZSggeyB0ZW1wbGF0ZTogdGhpcy50ZW1wbGF0ZXMuZmllbGRFcnJvciggZmllbGQgKSwgaW5zZXJ0aW9uOiB7ICRlbDogdGhpcy50ZW1wbGF0ZURhdGFbIGZpZWxkLm5hbWUgXS5wYXJlbnQoKSwgbWV0aG9kOiAnYXBwZW5kJyB9IH0gKVxuICAgICAgICAgIH1cblxuICAgICAgICB9LCB0aGlzIClcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB2YWxpZFxuXG4gICAgfSxcblxuICAgIHZhbGlkYXRlUGFzc3dvcmQoIHZhbCApIHtcbiAgICAgICAgaWYoICF2YWwgKSByZXR1cm4gZmFsc2VcbiAgICAgICAgZWxzZSByZXR1cm4gdmFsLmxlbmd0aCA+PSA2XG4gICAgfVxuXG59IClcblxubW9kdWxlLmV4cG9ydHMgPSBGb3JtXG4iLCJ2YXIgTXlWaWV3ID0gcmVxdWlyZSgnLi4vTXlWaWV3JyksXG4gICAgTGlzdFZpZXcgPSBmdW5jdGlvbigpIHsgcmV0dXJuIE15Vmlldy5hcHBseSggdGhpcywgYXJndW1lbnRzICkgfVxuXG5PYmplY3QuYXNzaWduKCBMaXN0Vmlldy5wcm90b3R5cGUsIE15Vmlldy5wcm90b3R5cGUsIHtcblxuICAgIGFkZEl0ZW06IGZ1bmN0aW9uKCBtb2RlbCApIHtcbiAgICAgICAgdGhpcy5pdGVtVmlld3NbIG1vZGVsLmlkIF0gPVxuICAgICAgICAgICAgbmV3IHRoaXMuSXRlbVZpZXcoXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbiggeyBjb250YWluZXI6IHRoaXMudGVtcGxhdGVEYXRhLmNvbnRhaW5lciwgbW9kZWw6IG1vZGVsLCBzZWxlY3Rpb246IHRoaXMuc2VsZWN0aW9uIH0sIHRoaXMuZ2V0SXRlbVZpZXdPcHRpb25zKCkgKSApXG4gICAgICAgICAgICAub24oICdyZW1vdmVkJywgKCkgPT4gZGVsZXRlIHRoaXMuaXRlbVZpZXdzWyBtb2RlbC5pZCBdIClcblxuICAgICAgICB0aGlzLmVtaXQoICdpdGVtQWRkZWQnLCBtb2RlbCApXG4gICAgICAgIFxuICAgICAgICBpZiggbW9kZWwuZ2V0KCd1bnNlbGVjdGFibGUnKSApIHJldHVyblxuXG4gICAgICAgIGlmKCB0aGlzLnNlbGVjdGlvbiApIHRoaXMuaXRlbVZpZXdzWyBtb2RlbC5pZCBdLm9uKCAnY2xpY2tlZCcsIG1vZGVsID0+IHRoaXMub25JdGVtQ2xpY2soIG1vZGVsICkgKVxuICAgICAgICBpZiggdGhpcy5zZWxlY3RlZCApIHRoaXMub25JdGVtQ2xpY2soIG1vZGVsIClcbiAgICB9LFxuXG4gICAgY29sbGVjdGlvbjogeyB9LFxuXG4gICAgY3JlYXRlSXRlbXMoKSB7XG4gICAgICAgIHRoaXMuaXRlbXMgPVxuICAgICAgICAgICAgbmV3ICggdGhpcy5Db2xsZWN0aW9uLmV4dGVuZCggKCB0eXBlb2YgdGhpcy5jb2xsZWN0aW9uID09PSBcImZ1bmN0aW9uXCIgKSA/IHRoaXMuY29sbGVjdGlvbigpIDogdGhpcy5jb2xsZWN0aW9uICkgKSgpXG4gICAgICAgICAgICAub24oICdyZXNldCcsICgpID0+IHRoaXMub25JdGVtc1Jlc2V0KCkgKVxuICAgICAgICAgICAgLm9uKCAnYWRkJywgaXRlbSA9PiB0aGlzLmFkZEl0ZW0oIGl0ZW0gKSApXG4gICAgICAgICAgICAub24oICdyZW1vdmUnLCBpdGVtID0+IHRoaXMucmVtb3ZlSXRlbSggaXRlbSApIClcbiAgICAgICAgICAgIC5vbiggJ3VwZGF0ZScsICgpID0+IHRoaXMubm9JdGVtQ2hlY2soKSApXG4gICAgICAgICAgICAub24oICdzb3J0JywgKCkgPT4gdGhpcy5yZU9yZGVyRE9NKCkgKVxuICAgICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgZmV0Y2hJdGVtcygpIHtcbiAgICAgICAgdGhpcy5pdGVtcy5mZXRjaCggT2JqZWN0LmFzc2lnbigge30sIHsgcmVzZXQ6IHRydWUgfSwgdGhpcy5mZXRjaCApIClcbiAgICAgICAgLmZhaWwoIGVyciA9PiBjb25zb2xlLmxvZyggJ0Vycm9yIGZldGNoaW5nIGNvbGxlY3Rpb24gOiAnICsgdGhpcy51cmwgKyBcIiAtLSBcIiArIGVyci5zdGFjayB8fGVyciApIClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICBnZXRDbG9zZXN0Q2xpY2tlZEluZGV4OiBmdW5jdGlvbiggbW9kZWwgKSB7XG4gICAgICAgIHZhciBjbGlja2VkSW5kZXggPSB0aGlzLml0ZW1zLmluZGV4T2YoIG1vZGVsICksXG4gICAgICAgICAgICBjbG9zZXN0ID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgbWF4RGlzdGFuY2UgPSAwLFxuICAgICAgICAgICAgc2VsZWN0ZWRJbmRleGVzID0gT2JqZWN0LmtleXMoIHRoaXMuc2VsZWN0ZWRJdGVtcyApLm1hcCggaWQgPT4gdGhpcy5pdGVtcy5pbmRleE9mKCB0aGlzLml0ZW1zLmdldChpZCkgKSApLnNvcnQoKVxuXG4gICAgICAgIHNlbGVjdGVkSW5kZXhlcy5mb3JFYWNoKCBpbmRleCA9PiB7XG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLmFicyggaW5kZXggLSBjbGlja2VkSW5kZXggKVxuICAgICAgICAgICAgaWYoIGRpc3RhbmNlID4gbWF4RGlzdGFuY2UgKSB7IG1heERpc3RhbmNlID0gZGlzdGFuY2U7IGNsb3Nlc3QgPSBpbmRleDsgfVxuICAgICAgICB9IClcblxuICAgICAgICByZXR1cm4gY2xvc2VzdFxuICAgIH0sXG5cbiAgICBnZXRJdGVtVmlld09wdGlvbnM6IGZ1bmN0aW9uKCkgeyByZXR1cm4ge30gfSxcblxuICAgIGhhbmRsZUtleWRvd246IGZ1bmN0aW9uKCBlICkge1xuXG4gICAgICAgIHRoaXMucHJlc3NlZEtleSA9ICggZS53aGljaCA9PT0gMTYgKVxuICAgICAgICAgICAgPyAnc2hpZnQnXG4gICAgICAgICAgICA6ICggZS53aGljaCA9PT0gMTcgfHwgZS53aGljaCA9PT0gOTEgKVxuICAgICAgICAgICAgICAgID8gJ2N0cmwnXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICB9LFxuICAgIFxuICAgIGhhbmRsZUtleXVwOiBmdW5jdGlvbiggZSApIHtcblxuICAgICAgICB0aGlzLnByZXNzZWRLZXkgPSAoIGUud2hpY2ggPT09IDE2ICYmIHRoaXMucHJlc3NlZEtleSA9PT0gJ3NoaWZ0JyApXG4gICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiAoICggZS53aGljaCA9PT0gMTcgfHwgZS53aGljaCA9PT0gOTEgKSAmJiB0aGlzLnByZXNzZWRLZXkgPT09ICdjdHJsJyApXG4gICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA6IHRoaXMucHJlc3NlZEtleVxuICAgIH0sXG5cbiAgICBub0l0ZW1DaGVjazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmdldEl0ZW1WaWV3T3B0aW9ucygpLmNvbnRhaW5lciB8fCB0aGlzLnRlbXBsYXRlRGF0YS5jb250YWluZXJcbiAgICAgICAgaWYoIHRoaXMuaXRlbXMubGVuZ3RoID09PSAwICkgY29udGFpbmVyLmFkZENsYXNzKCduby1pdGVtcycpXG4gICAgICAgIGVsc2UgY29udGFpbmVyLnJlbW92ZUNsYXNzKCduby1pdGVtcycpXG4gICAgfSxcblxuICAgIG9uSXRlbUNsaWNrOiBmdW5jdGlvbiggbW9kZWwgKSB7XG4gICAgICAgIHZhciBtZXRob2QgPSB0aGlzLnV0aWwuZm9ybWF0KCAnJXNzZWxlY3RJdGVtJyxcbiAgICAgICAgICAgICAgICAoIHRoaXMuaXRlbVZpZXdzWyBtb2RlbC5pZCBdLnRlbXBsYXRlRGF0YS5jb250YWluZXIuaGFzQ2xhc3MoJ3NlbGVjdGVkJykgJiYgdGhpcy5zZWxlY3Rpb24gIT09ICdtdWx0aUNvbXBsZXgnICkgPyAndW4nIDogJycgKVxuXG4gICAgICAgIHRoaXNbIG1ldGhvZCBdKCBtb2RlbCApXG4gICAgfSxcblxuICAgIG9uSXRlbXNSZXNldCgpIHtcbiAgICAgICAgdmFyIGxpc3RDb250YWluZXIgPSB0aGlzLmdldEl0ZW1WaWV3T3B0aW9ucygpLmNvbnRhaW5lciB8fCB0aGlzLnRlbXBsYXRlRGF0YS5jb250YWluZXIgXG4gICAgICAgIFxuICAgICAgICBsaXN0Q29udGFpbmVyLmVtcHR5KClcbiAgICAgICAgdGhpcy5pdGVtVmlld3MgPSBbXVxuICAgICAgICBpZiggdGhpcy5pdGVtcy5sZW5ndGggJiYgdGhpcy5zZXRGaWVsZHMgKSB7IHRoaXMuc2V0RmllbGRzKCB0aGlzLml0ZW1zLmF0KDApLmF0dHJpYnV0ZXMgKSB9XG4gICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaCggaXRlbSA9PiB0aGlzLmFkZEl0ZW0oIGl0ZW0gKSApXG4gICAgICAgIHRoaXMubm9JdGVtQ2hlY2soKVxuICAgIH0sXG5cbiAgICBwb3N0UmVuZGVyKCkge1xuXG4gICAgICAgIGlmKCB0aGlzLnNlbGVjdGlvbiA9PT0gJ211bHRpQ29tcGxleCcgKSB7XG5cbiAgICAgICAgICAgIHRoaXMuJChkb2N1bWVudClcbiAgICAgICAgICAgICAgICAub24oICdrZXlkb3duJywgdGhpcy5oYW5kbGVLZXlkb3duLmJpbmQodGhpcykgKVxuICAgICAgICAgICAgICAgIC5vbiggJ2tleXVwJywgdGhpcy5oYW5kbGVLZXl1cC5iaW5kKHRoaXMpIClcblxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwiYmx1clwiLCBlID0+IHRoaXMucHJlc3NlZEtleSA9IHVuZGVmaW5lZCApXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXCJmb2N1c1wiLCBlID0+IHRoaXMucHJlc3NlZEtleSA9IHVuZGVmaW5lZCApXG4gICAgICAgIH0gXG5cbiAgICAgICAgdGhpcy5pdGVtVmlld3MgPSBbXVxuICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbXMgPSB7IH1cbiAgICAgICBcbiAgICAgICAgdGhpcy5jcmVhdGVJdGVtcygpXG5cbiAgICAgICAgaWYoIHRoaXMuaXRlbU1vZGVscyApIHRoaXMuaXRlbXMucmVzZXQoICggdHlwZW9mIHRoaXMuaXRlbU1vZGVscyA9PT0gXCJmdW5jdGlvblwiICkgPyB0aGlzLml0ZW1Nb2RlbHMoKSA6IHRoaXMuaXRlbU1vZGVscyApXG4gICAgICAgIFxuICAgICAgICBpZiggdGhpcy5mZXRjaCApIHRoaXMuZmV0Y2hJdGVtcygpXG4gICAgfSxcblxuICAgIHJlbW92ZUl0ZW0oIGl0ZW0gKSB7XG4gICAgICAgIGlmKCB0aGlzLml0ZW1WaWV3c1sgaXRlbS5pZCBdLnRlbXBsYXRlRGF0YS5jb250YWluZXIuaGFzQ2xhc3MoJ3NlbGVjdGVkJykgKSB0aGlzLnVuc2VsZWN0SXRlbSggaXRlbSApXG4gICAgICAgIHRoaXMuaXRlbVZpZXdzWyBpdGVtLmlkIF0uZGVsZXRlKClcbiAgICAgICAgZGVsZXRlIHRoaXMuaXRlbVZpZXdzWyBpdGVtLmlkIF1cbiAgICB9LFxuXG4gICAgcmVPcmRlckRPTTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmdldEl0ZW1WaWV3T3B0aW9ucygpLmNvbnRhaW5lciB8fCB0aGlzLnRlbXBsYXRlRGF0YS5jb250YWluZXJcbiAgICAgICAgdGhpcy5pdGVtcy5mb3JFYWNoKCBpdGVtID0+IGNvbnRhaW5lclsgKCB0aGlzLnJldmVyc2VTb3J0ICkgPyAncHJlcGVuZCcgOiAnYXBwZW5kJyBdKCB0aGlzLml0ZW1WaWV3c1tpdGVtLmlkXS50ZW1wbGF0ZURhdGEuY29udGFpbmVyICkgKVxuICAgIH0sXG5cbiAgICBzY3JvbGxUb0JvdHRvbTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBoZWlnaHRcblxuICAgICAgICB2YXIgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgbmV3SGVpZ2h0ID0gdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLm91dGVySGVpZ2h0KCB0cnVlICk7XG4gICAgICAgICAgICBpZiggaGVpZ2h0ID09PSBuZXdIZWlnaHQgKXsgICAgXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCggaW50ZXJ2YWxJZCApO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnNjcm9sbFRvcCggdGhpcy5jb250YWluZXIucHJvcCgnc2Nyb2xsSGVpZ2h0JykgKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnRlbXBsYXRlRGF0YS5jb250YWluZXIub3V0ZXJIZWlnaHQoIHRydWUgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwICk7XG5cbiAgICB9LFxuXG4gICAgc2VsZWN0SXRlbSggbW9kZWwgKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZElkcyA9IE9iamVjdC5rZXlzKCB0aGlzLnNlbGVjdGVkSXRlbXMgKVxuXG4gICAgICAgIGlmKCAoIHRoaXMucHJlc3NlZEtleSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuc2VsZWN0aW9uID09PSAnbXVsdGlDb21wbGV4JyApIHx8IHRoaXMuc2VsZWN0aW9uID09PSAnc2luZ2xlJyApIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSWRzLmZvckVhY2goIGlkID0+IHRoaXMudW5zZWxlY3RJdGVtKCB0aGlzLnNlbGVjdGVkSXRlbXNbIGlkIF0gKSApIFxuICAgICAgICB9XG4gICAgICAgXG4gICAgICAgIGlmKCB0aGlzLnByZXNzZWRLZXkgPT09ICdzaGlmdCcgJiYgc2VsZWN0ZWRJZHMubGVuZ3RoICkgeyBcbiAgICAgICAgICAgIGxldCBlbmQgPSB0aGlzLmdldENsb3Nlc3RDbGlja2VkSW5kZXgoIG1vZGVsICksXG4gICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLml0ZW1zLmluZGV4T2YoIG1vZGVsIClcblxuICAgICAgICAgICAgdGhpcy5fLnJhbmdlKCBzdGFydCwgZW5kLCAoIHN0YXJ0IDwgZW5kICkgPyAxIDogLTEgKS5mb3JFYWNoKCBpbmRleCA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1Ub1NlbGVjdCA9IHRoaXMuaXRlbXMuYXQoIGluZGV4IClcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1WaWV3c1sgaXRlbVRvU2VsZWN0LmlkIF0udGVtcGxhdGVEYXRhLmNvbnRhaW5lci5hZGRDbGFzcygnc2VsZWN0ZWQnKVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtc1sgaXRlbVRvU2VsZWN0LmlkIF0gPSBpdGVtVG9TZWxlY3RcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoICdpdGVtU2VsZWN0ZWQnLCBpdGVtVG9TZWxlY3QgKVxuICAgICAgICAgICAgfSApXG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbVZpZXdzWyBtb2RlbC5pZCBdLnRlbXBsYXRlRGF0YS5jb250YWluZXIuYWRkQ2xhc3MoJ3NlbGVjdGVkJylcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtc1sgbW9kZWwuaWQgXSA9IG1vZGVsXG4gICAgICAgICAgICB0aGlzLmVtaXQoICdpdGVtU2VsZWN0ZWQnLCBtb2RlbCApXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdW5zZWxlY3RJdGVtOiBmdW5jdGlvbiggbW9kZWwgKSB7XG5cbiAgICAgICAgdGhpcy5pdGVtVmlld3NbIG1vZGVsLmlkIF0udGVtcGxhdGVEYXRhLmNvbnRhaW5lci5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKVxuXG4gICAgICAgIGRlbGV0ZSB0aGlzLnNlbGVjdGVkSXRlbXNbIG1vZGVsLmlkIF1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuZW1pdCggJ2l0ZW1VbnNlbGVjdGVkJywgbW9kZWwgKVxuICAgIH1cblxufSApO1xuXG5tb2R1bGUuZXhwb3J0cyA9IExpc3RWaWV3XG4iLCJ2YXIgTXlWaWV3ID0gcmVxdWlyZSgnLi4vTXlWaWV3JyksXG4gICAgTGlzdEl0ZW0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIE15Vmlldy5hcHBseSggdGhpcywgYXJndW1lbnRzICkgfVxuXG5PYmplY3QuYXNzaWduKCBMaXN0SXRlbS5wcm90b3R5cGUsIE15Vmlldy5wcm90b3R5cGUsIHtcblxuICAgIGdldFRlbXBsYXRlT3B0aW9ucygpIHsgcmV0dXJuIHRoaXMubW9kZWwuYXR0cmlidXRlcyB9LFxuXG5cdHBvc3RSZW5kZXIoKSB7XG5cdFx0aWYoIHRoaXMuc2VsZWN0aW9uICkgdGhpcy50ZW1wbGF0ZURhdGEuY29udGFpbmVyLm9uKCAnY2xpY2snLCAoKSA9PiB0aGlzLmVtaXQoICdjbGlja2VkJywgdGhpcy5tb2RlbCApIClcblx0fVxuXG59IClcblxubW9kdWxlLmV4cG9ydHMgPSBMaXN0SXRlbVxuIiwibW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuYXNzaWduKCB7IH0sIHJlcXVpcmUoJy4vTXlPYmplY3QnKS5wcm90b3R5cGUsIHtcblxuICAgIENyZWF0ZURlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZHVjZXIoIHRoaXMuYXR0cmlidXRlcywgYXR0ciA9PiAoIHsgW2F0dHIubmFtZV06IHR5cGVvZiBhdHRyLmRlZmF1bHQgPT09ICdmdW5jdGlvbicgPyBhdHRyLmRlZmF1bHQoKSA6IGF0dHIuZGVmYXVsdCB9ICkgKVxuICAgIH0sXG5cbiAgICBhdHRyaWJ1dGVzOiBbIF0sXG5cbiAgICBkYXRhOiB7IH0sXG5cbiAgICBjb25zdHJ1Y3RvciggZGF0YT17fSwgb3B0cz17fSApIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbiggdGhpcywgeyBzdG9yZTogeyB9LCBkYXRhIH0sIG9wdHMgKVxuXG4gICAgICAgIGlmKCB0aGlzLnN0b3JlQnkgKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3JlQnkuZm9yRWFjaCgga2V5ID0+IHRoaXMuc3RvcmVbIGtleSBdID0geyB9IClcbiAgICAgICAgICAgIHRoaXMuX3N0b3JlKClcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIG1ldGE6IHsgfSxcblxuICAgIHNvcnQoIG9wdHMgKSB7XG4gICAgICAgIGNvbnN0IGF0dHIgPSBPYmplY3Qua2V5cyggb3B0cyApWzBdLFxuICAgICAgICAgICAgdmFsdWUgPSBvcHRzW2F0dHJdO1xuXG4gICAgICAgIHRoaXMuZGF0YS5zb3J0KCAoIGEsIGIgKSA9PlxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICA/IGFbYXR0cl0gPCBiW2F0dHJdID8gLTEgOiAxXG4gICAgICAgICAgICAgICAgOiBiW2F0dHJdIDwgYVthdHRyXSA/IC0xIDogMVxuICAgICAgICApXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgX3Jlc2V0U3RvcmUoIHN0b3JlQnkgKSB7XG4gICAgICAgIHRoaXMuc3RvcmUgPSB7IH1cbiAgICAgICAgc3RvcmVCeS5mb3JFYWNoKCBhdHRyID0+IHRoaXMuc3RvcmVbIGF0dHIgXSA9IHsgfSApXG4gICAgICAgIHRoaXMuc3RvcmVCeSA9IHN0b3JlQnlcbiAgICB9LFxuXG4gICAgX3N0b3JlKCBkYXRhICkge1xuICAgICAgICBkYXRhID0gZGF0YSB8fCB0aGlzLmRhdGFcbiAgICAgICAgZGF0YS5mb3JFYWNoKCBkYXR1bSA9PiB0aGlzLnN0b3JlQnkuZm9yRWFjaCggYXR0ciA9PiB0aGlzLl9zdG9yZUF0dHIoIGRhdHVtLCBhdHRyICkgKSApXG4gICAgfSxcblxuICAgIF9zdG9yZUF0dHIoIGRhdHVtLCBhdHRyICkge1xuICAgICAgICB0aGlzLnN0b3JlWyBhdHRyIF1bIGRhdHVtWyBhdHRyIF0gXSA9XG4gICAgICAgICAgICB0aGlzLnN0b3JlWyBhdHRyIF1bIGRhdHVtWyBhdHRyIF0gXVxuICAgICAgICAgICAgICAgID8gQXJyYXkuaXNBcnJheSggdGhpcy5zdG9yZVsgYXR0ciBdWyBkYXR1bVsgYXR0ciBdIF0gKVxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuc3RvcmVbIGF0dHIgXVsgZGF0dW1bIGF0dHIgXSBdLmNvbmNhdCggZGF0dW0gKVxuICAgICAgICAgICAgICAgICAgICA6WyB0aGlzLnN0b3JlWyBhdHRyIF1bIGRhdHVtWyBhdHRyIF0gXSwgZGF0dW0gXVxuICAgICAgICAgICAgICAgIDogZGF0dW1cbiAgICB9LFxuXG4gICAgX3N0b3JlT25lKCBkYXR1bSApIHtcbiAgICAgICAgdGhpcy5zdG9yZUJ5LmZvckVhY2goIGF0dHIgPT4gdGhpcy5fc3RvcmVBdHRyKCBkYXR1bSwgYXR0ciApIClcbiAgICB9XG5cbn0gKVxuIiwibW9kdWxlLmV4cG9ydHMgPSBlcnIgPT4geyBjb25zb2xlLmxvZyggZXJyLnN0YWNrIHx8IGVyciApIH1cbiIsInZhciBNeU9iamVjdCA9IGZ1bmN0aW9uKCBkYXRhICkgeyByZXR1cm4gT2JqZWN0LmFzc2lnbiggdGhpcywgZGF0YSApIH1cblxuT2JqZWN0LmFzc2lnbiggTXlPYmplY3QucHJvdG90eXBlLCB7XG5cbiAgICBFcnJvcjogcmVxdWlyZSgnLi9NeUVycm9yJyksXG5cbiAgICBfOiByZXF1aXJlKCd1bmRlcnNjb3JlJyksXG5cbiAgICBmb3JtYXQ6IHJlcXVpcmUoJ3V0aWwnKS5mb3JtYXQsXG5cbiAgICBtb21lbnQ6IHJlcXVpcmUoJ21vbWVudCcpLFxuXG4gICAgY2FwaXRhbGl6ZUZpcnN0TGV0dGVyOiBzdHJpbmcgPT4gc3RyaW5nLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyaW5nLnNsaWNlKDEpLFxuXG4gICAgZ2V0SW50UmFuZ2UoIGludCApIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oIEFycmF5KCBpbnQgKS5rZXlzKCkgKVxuICAgIH0sXG5cbiAgICBnZXRSYW5kb21JbmNsdXNpdmVJbnRlZ2VyKCBtaW4sIG1heCApIHtcbiAgICAgICAgbWluID0gTWF0aC5jZWlsKG1pbilcbiAgICAgICAgbWF4ID0gTWF0aC5mbG9vcihtYXgpXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluXG4gICAgfSxcblxuICAgIG9taXQoIG9iaiwga2V5cyApIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKCBvYmogKS5maWx0ZXIoIGtleSA9PiAha2V5cy5pbmNsdWRlcygga2V5ICkgKS5yZWR1Y2UoICggbWVtbywga2V5ICkgPT4gT2JqZWN0LmFzc2lnbiggbWVtbywgeyBba2V5XTogb2JqW2tleV0gfSApLCB7IH0gKVxuICAgIH0sXG5cbiAgICBmZFBpY2soIG9iaiwga2V5cyApIHtcbiAgICAgICAgcmV0dXJuIGtleXMucmVkdWNlKCAoIG1lbW8sIGtleSApID0+IE9iamVjdC5hc3NpZ24oIG1lbW8sIHsgW2tleV06IG9ialtrZXldIH0gKSwgeyB9IClcbiAgICB9LFxuXG4gICAgcmVkdWNlciggYXJyLCBmbiApIHsgcmV0dXJuIGFyci5yZWR1Y2UoICggbWVtbywgaXRlbSwgaSApID0+IE9iamVjdC5hc3NpZ24oIG1lbW8sIGZuKCBpdGVtLCBpICkgKSwgeyB9ICkgfSxcblxuICAgIHNodWZmbGVBcnJheSggYXJyICkge1xuICAgICAgICBjb25zdCBydiA9IEFycmF5LmZyb20oIGFyciApXG4gICAgICAgXG4gICAgICAgIHJ2LmZvckVhY2goICggaXRlbSwgaSApID0+IHtcbiAgICAgICAgICAgIGlmKCBpID09PSBydi5sZW5ndGggLSAxICkgcmV0dXJuIFxuICAgICAgICAgICAgY29uc3QgaW50ID0gdGhpcy5nZXRSYW5kb21JbmNsdXNpdmVJbnRlZ2VyKCBpLCBydi5sZW5ndGggLSAxICksXG4gICAgICAgICAgICAgICAgaG9sZGVyID0gcnZbIGkgXVxuXG4gICAgICAgICAgICBydltpXSA9IHJ2W2ludF1cbiAgICAgICAgICAgIHJ2W2ludF0gPSBob2xkZXJcbiAgICAgICAgfSApXG5cbiAgICAgICAgcmV0dXJuIHJ2XG4gICAgfSxcblxuICAgIFA6ICggZnVuLCBhcmdzPVsgXSwgdGhpc0FyZyApID0+XG4gICAgICAgIG5ldyBQcm9taXNlKCAoIHJlc29sdmUsIHJlamVjdCApID0+IFJlZmxlY3QuYXBwbHkoIGZ1biwgdGhpc0FyZyB8fCB0aGlzLCBhcmdzLmNvbmNhdCggKCBlLCAuLi5jYWxsYmFjayApID0+IGUgPyByZWplY3QoZSkgOiByZXNvbHZlKGNhbGxiYWNrKSApICkgKSxcblxuICAgIFE6IHJlcXVpcmUoJ3EnKVxuICAgIFxufSApXG5cbm1vZHVsZS5leHBvcnRzID0gTXlPYmplY3RcbiIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgcmVxdWlyZSgnLi9OYW1lJyksXG4gICAgICAgIHJlcXVpcmUoJy4vRW1haWwnKSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogJ3Bob25lbnVtYmVyJyxcbiAgICAgICAgICAgIGxhYmVsOiAnUGhvbmUgTnVtYmVyJyxcbiAgICAgICAgICAgIHJhbmdlOiAnU3RyaW5nJyxcbiAgICAgICAgICAgIGVycm9yOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIHBob25lIG51bWJlci5cIixcbiAgICAgICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbiggdmFsICkgeyByZXR1cm4gL15cXCg/KFxcZHszfSlcXCk/Wy0uIF0/KFxcZHszfSlbLS4gXT8oXFxkezR9KSQvLnRlc3QoIHZhbCApIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogJ2FkZHJlc3MnLFxuICAgICAgICAgICAgbGFiZWw6ICdBZGRyZXNzIDEnLFxuICAgICAgICAgICAgcmFuZ2U6ICdTdHJpbmcnLFxuICAgICAgICAgICAgZXJyb3I6IFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgYWRkcmVzcy5cIixcbiAgICAgICAgICAgIHZhbGlkYXRlOiB2YWwgPT4gdmFsICE9PSAnJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiAnZXh0cmFhZGRyZXNzJyxcbiAgICAgICAgICAgIGxhYmVsOiAnQWRkcmVzcyAyJyxcbiAgICAgICAgICAgIHJhbmdlOiAnU3RyaW5nJyxcbiAgICAgICAgICAgIHZhbGlkYXRlOiAoKSA9PiB0cnVlXG4gICAgICAgIH1cbiAgICBdXG59IiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXR0cmlidXRlczogWyB7XG4gICAgICAgIG5hbWU6ICdjY05vJyxcbiAgICAgICAgbGFiZWw6ICdDYXJkIE51bWJlcicsXG4gICAgICAgIHJhbmdlOiAnU3RyaW5nJyxcbiAgICAgICAgZXJyb3I6ICdBIGNyZWRpdCBjYXJkIG51bWJlciBpcyByZXF1aXJlZCcsXG4gICAgICAgIHByb21wdDogJ1Zpc2EsIE1hc3RlckNhcmQsIEFtZXJpY2FuIEV4cHJlc3MsIEpDQiwgRGlzY292ZXIsIGFuZCBEaW5lcnMgQ2x1YiBhcmUgYWNjZXB0ZWQuJ1xuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ2NjTW9udGgnLFxuICAgICAgICBsYWJlbDogJ0V4cCBNb250aCcsXG4gICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnMScsIGxhYmVsOiAnMDEnIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnMicsIGxhYmVsOiAnMDInIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnMycsIGxhYmVsOiAnMDMnIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnNCcsIGxhYmVsOiAnMDQnIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnNScsIGxhYmVsOiAnMDUnIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnNicsIGxhYmVsOiAnMDYnIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnNycsIGxhYmVsOiAnMDcnIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnOCcsIGxhYmVsOiAnMDgnIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnOScsIGxhYmVsOiAnMDknIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnMTAnLCBsYWJlbDogJzEwJyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJzExJywgbGFiZWw6ICcxMScgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICcxMicsIGxhYmVsOiAnMTInIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgcmFuZ2U6ICdTdHJpbmcnLFxuICAgICAgICBlcnJvcjogJ0EgY3JlZGl0IGNhcmQgbW9udGggZXhwaXJhdGlvbiBpcyByZXF1aXJlZCdcbiAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdjY1llYXInLFxuICAgICAgICBsYWJlbDogJ0V4cCBZZWFyJyxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICcyMDE4JywgbGFiZWw6ICcyMDE4JyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJzIwMTknLCBsYWJlbDogJzIwMTknIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnMjAyMCcsIGxhYmVsOiAnMjAyMCcgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICcyMDIxJywgbGFiZWw6ICcyMDIxJyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJzIwMjInLCBsYWJlbDogJzIwMjInIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnMjAyMycsIGxhYmVsOiAnMjAyMycgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICcyMDI0JywgbGFiZWw6ICcyMDI0JyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJzIwMjUnLCBsYWJlbDogJzIwMjUnIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnMjAyNicsIGxhYmVsOiAnMjAyNicgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICByYW5nZTogJ1N0cmluZycsXG4gICAgICAgIGVycm9yOiAnQSBjcmVkaXQgY2FyZCB5ZWFyIGV4cGlyYXRpb24gaXMgcmVxdWlyZWQnXG4gICAgfSwge1xuICAgICAgICBuYW1lOiAnY3ZjJyxcbiAgICAgICAgbGFiZWw6ICdDVkMnLFxuICAgICAgICByYW5nZTogJ1N0cmluZycsXG4gICAgICAgIGVycm9yOiAnQSBjcmVkaXQgY2FyZCBjdmMgaXMgcmVxdWlyZWQnXG4gICAgfSBdXG59IiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgbmFtZTogJ2VtYWlsJyxcbiAgICBsYWJlbDogJ0VtYWlsJyxcbiAgICByYW5nZTogJ0VtYWlsJyxcbiAgICBlcnJvcjogJ0EgdmFsaWQgZW1haWwgYWRkcmVzcyBpcyByZXF1aXJlZCcsXG4gICAgdmFsaWRhdGU6IGZ1bmN0aW9uKCB2YWwgKSB7IHJldHVybiAvXlxcdysoW1xcLi1dP1xcdyspKkBcXHcrKFtcXC4tXT9cXHcrKSooXFwuXFx3ezIsM30pKyQvLnRlc3QoIHZhbCApIH1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgIHJlcXVpcmUoJy4vRW1haWwnKSxcbiAgICAgICAgcmVxdWlyZSgnLi9QYXNzd29yZCcpXG4gICAgXVxufSIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIG5hbWU6ICduYW1lJyxcbiAgICBsYWJlbDogJ05hbWUnLFxuICAgIHJhbmdlOiAnU3RyaW5nJyxcbiAgICBlcnJvcjogXCJOYW1lIGlzIGEgcmVxdWlyZWQgZmllbGQuXCIsXG4gICAgdmFsaWRhdGU6IHZhbCA9PiB2YWwgIT09ICcnXG59IiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgbmFtZTogJ3Bhc3N3b3JkJyxcbiAgICBsYWJlbDogJ1Bhc3N3b3JkJyxcbiAgICByYW5nZTogJ1Bhc3N3b3JkJyxcbiAgICBlcnJvcjogXCJQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IHNpeCBjaGFyYWN0ZXJzLlwiLFxuICAgIHZhbGlkYXRlOiBmdW5jdGlvbiggdmFsICkgeyByZXR1cm4gdmFsLmxlbmd0aCA+IDUgfVxufSIsIm1vZHVsZS5leHBvcnRzID0ge1xuICAgIG5hbWU6ICdyZXBlYXRQYXNzd29yZCcsXG4gICAgbGFiZWw6ICdSZXBlYXQgUGFzc3dvcmQnLFxuICAgIHJhbmdlOiAnUGFzc3dvcmQnLFxuICAgIGVycm9yOiAnUGFzc3dvcmRzIG11c3QgbWF0Y2gnLFxuICAgIHZhbGlkYXRlOiB2YWwgPT4gdHJ1ZVxufSIsIi8vIFRoaXMgZmlsZSBpcyBhdXRvZ2VuZXJhdGVkIHZpYSB0aGUgYGNvbW1vbmpzYCBHcnVudCB0YXNrLiBZb3UgY2FuIHJlcXVpcmUoKSB0aGlzIGZpbGUgaW4gYSBDb21tb25KUyBlbnZpcm9ubWVudC5cbnJlcXVpcmUoJy4uLy4uL2pzL3RyYW5zaXRpb24uanMnKVxucmVxdWlyZSgnLi4vLi4vanMvYWxlcnQuanMnKVxucmVxdWlyZSgnLi4vLi4vanMvYnV0dG9uLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL2Nhcm91c2VsLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL2NvbGxhcHNlLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL2Ryb3Bkb3duLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL21vZGFsLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL3Rvb2x0aXAuanMnKVxucmVxdWlyZSgnLi4vLi4vanMvcG9wb3Zlci5qcycpXG5yZXF1aXJlKCcuLi8uLi9qcy9zY3JvbGxzcHkuanMnKVxucmVxdWlyZSgnLi4vLi4vanMvdGFiLmpzJylcbnJlcXVpcmUoJy4uLy4uL2pzL2FmZml4LmpzJykiLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYWZmaXguanMgdjMuMy41XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNhZmZpeFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFGRklYIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBBZmZpeCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIEFmZml4LkRFRkFVTFRTLCBvcHRpb25zKVxuXG4gICAgdGhpcy4kdGFyZ2V0ID0gJCh0aGlzLm9wdGlvbnMudGFyZ2V0KVxuICAgICAgLm9uKCdzY3JvbGwuYnMuYWZmaXguZGF0YS1hcGknLCAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcykpXG4gICAgICAub24oJ2NsaWNrLmJzLmFmZml4LmRhdGEtYXBpJywgICQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCwgdGhpcykpXG5cbiAgICB0aGlzLiRlbGVtZW50ICAgICA9ICQoZWxlbWVudClcbiAgICB0aGlzLmFmZml4ZWQgICAgICA9IG51bGxcbiAgICB0aGlzLnVucGluICAgICAgICA9IG51bGxcbiAgICB0aGlzLnBpbm5lZE9mZnNldCA9IG51bGxcblxuICAgIHRoaXMuY2hlY2tQb3NpdGlvbigpXG4gIH1cblxuICBBZmZpeC5WRVJTSU9OICA9ICczLjMuNSdcblxuICBBZmZpeC5SRVNFVCAgICA9ICdhZmZpeCBhZmZpeC10b3AgYWZmaXgtYm90dG9tJ1xuXG4gIEFmZml4LkRFRkFVTFRTID0ge1xuICAgIG9mZnNldDogMCxcbiAgICB0YXJnZXQ6IHdpbmRvd1xuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKHNjcm9sbEhlaWdodCwgaGVpZ2h0LCBvZmZzZXRUb3AsIG9mZnNldEJvdHRvbSkge1xuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKClcbiAgICB2YXIgcG9zaXRpb24gICAgID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgIHZhciB0YXJnZXRIZWlnaHQgPSB0aGlzLiR0YXJnZXQuaGVpZ2h0KClcblxuICAgIGlmIChvZmZzZXRUb3AgIT0gbnVsbCAmJiB0aGlzLmFmZml4ZWQgPT0gJ3RvcCcpIHJldHVybiBzY3JvbGxUb3AgPCBvZmZzZXRUb3AgPyAndG9wJyA6IGZhbHNlXG5cbiAgICBpZiAodGhpcy5hZmZpeGVkID09ICdib3R0b20nKSB7XG4gICAgICBpZiAob2Zmc2V0VG9wICE9IG51bGwpIHJldHVybiAoc2Nyb2xsVG9wICsgdGhpcy51bnBpbiA8PSBwb3NpdGlvbi50b3ApID8gZmFsc2UgOiAnYm90dG9tJ1xuICAgICAgcmV0dXJuIChzY3JvbGxUb3AgKyB0YXJnZXRIZWlnaHQgPD0gc2Nyb2xsSGVpZ2h0IC0gb2Zmc2V0Qm90dG9tKSA/IGZhbHNlIDogJ2JvdHRvbSdcbiAgICB9XG5cbiAgICB2YXIgaW5pdGlhbGl6aW5nICAgPSB0aGlzLmFmZml4ZWQgPT0gbnVsbFxuICAgIHZhciBjb2xsaWRlclRvcCAgICA9IGluaXRpYWxpemluZyA/IHNjcm9sbFRvcCA6IHBvc2l0aW9uLnRvcFxuICAgIHZhciBjb2xsaWRlckhlaWdodCA9IGluaXRpYWxpemluZyA/IHRhcmdldEhlaWdodCA6IGhlaWdodFxuXG4gICAgaWYgKG9mZnNldFRvcCAhPSBudWxsICYmIHNjcm9sbFRvcCA8PSBvZmZzZXRUb3ApIHJldHVybiAndG9wJ1xuICAgIGlmIChvZmZzZXRCb3R0b20gIT0gbnVsbCAmJiAoY29sbGlkZXJUb3AgKyBjb2xsaWRlckhlaWdodCA+PSBzY3JvbGxIZWlnaHQgLSBvZmZzZXRCb3R0b20pKSByZXR1cm4gJ2JvdHRvbSdcblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmdldFBpbm5lZE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5waW5uZWRPZmZzZXQpIHJldHVybiB0aGlzLnBpbm5lZE9mZnNldFxuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpLmFkZENsYXNzKCdhZmZpeCcpXG4gICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKVxuICAgIHZhciBwb3NpdGlvbiAgPSB0aGlzLiRlbGVtZW50Lm9mZnNldCgpXG4gICAgcmV0dXJuICh0aGlzLnBpbm5lZE9mZnNldCA9IHBvc2l0aW9uLnRvcCAtIHNjcm9sbFRvcClcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzZXRUaW1lb3V0KCQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLCB0aGlzKSwgMSlcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kZWxlbWVudC5pcygnOnZpc2libGUnKSkgcmV0dXJuXG5cbiAgICB2YXIgaGVpZ2h0ICAgICAgID0gdGhpcy4kZWxlbWVudC5oZWlnaHQoKVxuICAgIHZhciBvZmZzZXQgICAgICAgPSB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3BcbiAgICB2YXIgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbVxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSBNYXRoLm1heCgkKGRvY3VtZW50KS5oZWlnaHQoKSwgJChkb2N1bWVudC5ib2R5KS5oZWlnaHQoKSlcblxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0ICE9ICdvYmplY3QnKSAgICAgICAgIG9mZnNldEJvdHRvbSA9IG9mZnNldFRvcCA9IG9mZnNldFxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0VG9wID09ICdmdW5jdGlvbicpICAgIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3AodGhpcy4kZWxlbWVudClcbiAgICBpZiAodHlwZW9mIG9mZnNldEJvdHRvbSA9PSAnZnVuY3Rpb24nKSBvZmZzZXRCb3R0b20gPSBvZmZzZXQuYm90dG9tKHRoaXMuJGVsZW1lbnQpXG5cbiAgICB2YXIgYWZmaXggPSB0aGlzLmdldFN0YXRlKHNjcm9sbEhlaWdodCwgaGVpZ2h0LCBvZmZzZXRUb3AsIG9mZnNldEJvdHRvbSlcblxuICAgIGlmICh0aGlzLmFmZml4ZWQgIT0gYWZmaXgpIHtcbiAgICAgIGlmICh0aGlzLnVucGluICE9IG51bGwpIHRoaXMuJGVsZW1lbnQuY3NzKCd0b3AnLCAnJylcblxuICAgICAgdmFyIGFmZml4VHlwZSA9ICdhZmZpeCcgKyAoYWZmaXggPyAnLScgKyBhZmZpeCA6ICcnKVxuICAgICAgdmFyIGUgICAgICAgICA9ICQuRXZlbnQoYWZmaXhUeXBlICsgJy5icy5hZmZpeCcpXG5cbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAgIHRoaXMuYWZmaXhlZCA9IGFmZml4XG4gICAgICB0aGlzLnVucGluID0gYWZmaXggPT0gJ2JvdHRvbScgPyB0aGlzLmdldFBpbm5lZE9mZnNldCgpIDogbnVsbFxuXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcyhBZmZpeC5SRVNFVClcbiAgICAgICAgLmFkZENsYXNzKGFmZml4VHlwZSlcbiAgICAgICAgLnRyaWdnZXIoYWZmaXhUeXBlLnJlcGxhY2UoJ2FmZml4JywgJ2FmZml4ZWQnKSArICcuYnMuYWZmaXgnKVxuICAgIH1cblxuICAgIGlmIChhZmZpeCA9PSAnYm90dG9tJykge1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmZzZXQoe1xuICAgICAgICB0b3A6IHNjcm9sbEhlaWdodCAtIGhlaWdodCAtIG9mZnNldEJvdHRvbVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuXG4gIC8vIEFGRklYIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmFmZml4JylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5hZmZpeCcsIChkYXRhID0gbmV3IEFmZml4KHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5hZmZpeFxuXG4gICQuZm4uYWZmaXggICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5hZmZpeC5Db25zdHJ1Y3RvciA9IEFmZml4XG5cblxuICAvLyBBRkZJWCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYWZmaXgubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmFmZml4ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQUZGSVggREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT1cblxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtc3B5PVwiYWZmaXhcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkc3B5ID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgPSAkc3B5LmRhdGEoKVxuXG4gICAgICBkYXRhLm9mZnNldCA9IGRhdGEub2Zmc2V0IHx8IHt9XG5cbiAgICAgIGlmIChkYXRhLm9mZnNldEJvdHRvbSAhPSBudWxsKSBkYXRhLm9mZnNldC5ib3R0b20gPSBkYXRhLm9mZnNldEJvdHRvbVxuICAgICAgaWYgKGRhdGEub2Zmc2V0VG9wICAgICE9IG51bGwpIGRhdGEub2Zmc2V0LnRvcCAgICA9IGRhdGEub2Zmc2V0VG9wXG5cbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksIGRhdGEpXG4gICAgfSlcbiAgfSlcblxufShqUXVlcnkpO1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGFsZXJ0LmpzIHYzLjMuNVxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWxlcnRzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQUxFUlQgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGRpc21pc3MgPSAnW2RhdGEtZGlzbWlzcz1cImFsZXJ0XCJdJ1xuICB2YXIgQWxlcnQgICA9IGZ1bmN0aW9uIChlbCkge1xuICAgICQoZWwpLm9uKCdjbGljaycsIGRpc21pc3MsIHRoaXMuY2xvc2UpXG4gIH1cblxuICBBbGVydC5WRVJTSU9OID0gJzMuMy41J1xuXG4gIEFsZXJ0LlRSQU5TSVRJT05fRFVSQVRJT04gPSAxNTBcblxuICBBbGVydC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgICA9ICQodGhpcylcbiAgICB2YXIgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIHZhciAkcGFyZW50ID0gJChzZWxlY3RvcilcblxuICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGlmICghJHBhcmVudC5sZW5ndGgpIHtcbiAgICAgICRwYXJlbnQgPSAkdGhpcy5jbG9zZXN0KCcuYWxlcnQnKVxuICAgIH1cblxuICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnY2xvc2UuYnMuYWxlcnQnKSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoKSB7XG4gICAgICAvLyBkZXRhY2ggZnJvbSBwYXJlbnQsIGZpcmUgZXZlbnQgdGhlbiBjbGVhbiB1cCBkYXRhXG4gICAgICAkcGFyZW50LmRldGFjaCgpLnRyaWdnZXIoJ2Nsb3NlZC5icy5hbGVydCcpLnJlbW92ZSgpXG4gICAgfVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgJHBhcmVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICRwYXJlbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgcmVtb3ZlRWxlbWVudClcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKEFsZXJ0LlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIHJlbW92ZUVsZW1lbnQoKVxuICB9XG5cblxuICAvLyBBTEVSVCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2JzLmFsZXJ0JylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5hbGVydCcsIChkYXRhID0gbmV3IEFsZXJ0KHRoaXMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0uY2FsbCgkdGhpcylcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWxlcnRcblxuICAkLmZuLmFsZXJ0ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWxlcnQuQ29uc3RydWN0b3IgPSBBbGVydFxuXG5cbiAgLy8gQUxFUlQgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFsZXJ0Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hbGVydCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFMRVJUIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpJywgZGlzbWlzcywgQWxlcnQucHJvdG90eXBlLmNsb3NlKVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYnV0dG9uLmpzIHYzLjMuNVxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYnV0dG9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEJVVFRPTiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQnV0dG9uID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9ICQuZXh0ZW5kKHt9LCBCdXR0b24uREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICB9XG5cbiAgQnV0dG9uLlZFUlNJT04gID0gJzMuMy41J1xuXG4gIEJ1dHRvbi5ERUZBVUxUUyA9IHtcbiAgICBsb2FkaW5nVGV4dDogJ2xvYWRpbmcuLi4nXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIGQgICAgPSAnZGlzYWJsZWQnXG4gICAgdmFyICRlbCAgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIHZhbCAgPSAkZWwuaXMoJ2lucHV0JykgPyAndmFsJyA6ICdodG1sJ1xuICAgIHZhciBkYXRhID0gJGVsLmRhdGEoKVxuXG4gICAgc3RhdGUgKz0gJ1RleHQnXG5cbiAgICBpZiAoZGF0YS5yZXNldFRleHQgPT0gbnVsbCkgJGVsLmRhdGEoJ3Jlc2V0VGV4dCcsICRlbFt2YWxdKCkpXG5cbiAgICAvLyBwdXNoIHRvIGV2ZW50IGxvb3AgdG8gYWxsb3cgZm9ybXMgdG8gc3VibWl0XG4gICAgc2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICRlbFt2YWxdKGRhdGFbc3RhdGVdID09IG51bGwgPyB0aGlzLm9wdGlvbnNbc3RhdGVdIDogZGF0YVtzdGF0ZV0pXG5cbiAgICAgIGlmIChzdGF0ZSA9PSAnbG9hZGluZ1RleHQnKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZVxuICAgICAgICAkZWwuYWRkQ2xhc3MoZCkuYXR0cihkLCBkKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlXG4gICAgICAgICRlbC5yZW1vdmVDbGFzcyhkKS5yZW1vdmVBdHRyKGQpXG4gICAgICB9XG4gICAgfSwgdGhpcyksIDApXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2hhbmdlZCA9IHRydWVcbiAgICB2YXIgJHBhcmVudCA9IHRoaXMuJGVsZW1lbnQuY2xvc2VzdCgnW2RhdGEtdG9nZ2xlPVwiYnV0dG9uc1wiXScpXG5cbiAgICBpZiAoJHBhcmVudC5sZW5ndGgpIHtcbiAgICAgIHZhciAkaW5wdXQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2lucHV0JylcbiAgICAgIGlmICgkaW5wdXQucHJvcCgndHlwZScpID09ICdyYWRpbycpIHtcbiAgICAgICAgaWYgKCRpbnB1dC5wcm9wKCdjaGVja2VkJykpIGNoYW5nZWQgPSBmYWxzZVxuICAgICAgICAkcGFyZW50LmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgIH0gZWxzZSBpZiAoJGlucHV0LnByb3AoJ3R5cGUnKSA9PSAnY2hlY2tib3gnKSB7XG4gICAgICAgIGlmICgoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSkgIT09IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKSBjaGFuZ2VkID0gZmFsc2VcbiAgICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygnYWN0aXZlJylcbiAgICAgIH1cbiAgICAgICRpbnB1dC5wcm9wKCdjaGVja2VkJywgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpXG4gICAgICBpZiAoY2hhbmdlZCkgJGlucHV0LnRyaWdnZXIoJ2NoYW5nZScpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cignYXJpYS1wcmVzc2VkJywgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKVxuICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygnYWN0aXZlJylcbiAgICB9XG4gIH1cblxuXG4gIC8vIEJVVFRPTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYnV0dG9uJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5idXR0b24nLCAoZGF0YSA9IG5ldyBCdXR0b24odGhpcywgb3B0aW9ucykpKVxuXG4gICAgICBpZiAob3B0aW9uID09ICd0b2dnbGUnKSBkYXRhLnRvZ2dsZSgpXG4gICAgICBlbHNlIGlmIChvcHRpb24pIGRhdGEuc2V0U3RhdGUob3B0aW9uKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5idXR0b25cblxuICAkLmZuLmJ1dHRvbiAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmJ1dHRvbi5Db25zdHJ1Y3RvciA9IEJ1dHRvblxuXG5cbiAgLy8gQlVUVE9OIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYnV0dG9uLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5idXR0b24gPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBCVVRUT04gREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudClcbiAgICAub24oJ2NsaWNrLmJzLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciAkYnRuID0gJChlLnRhcmdldClcbiAgICAgIGlmICghJGJ0bi5oYXNDbGFzcygnYnRuJykpICRidG4gPSAkYnRuLmNsb3Nlc3QoJy5idG4nKVxuICAgICAgUGx1Z2luLmNhbGwoJGJ0biwgJ3RvZ2dsZScpXG4gICAgICBpZiAoISgkKGUudGFyZ2V0KS5pcygnaW5wdXRbdHlwZT1cInJhZGlvXCJdJykgfHwgJChlLnRhcmdldCkuaXMoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfSlcbiAgICAub24oJ2ZvY3VzLmJzLmJ1dHRvbi5kYXRhLWFwaSBibHVyLmJzLmJ1dHRvbi5kYXRhLWFwaScsICdbZGF0YS10b2dnbGVePVwiYnV0dG9uXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5idG4nKS50b2dnbGVDbGFzcygnZm9jdXMnLCAvXmZvY3VzKGluKT8kLy50ZXN0KGUudHlwZSkpXG4gICAgfSlcblxufShqUXVlcnkpO1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNhcm91c2VsLmpzIHYzLjMuNVxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY2Fyb3VzZWxcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDQVJPVVNFTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy4kaW5kaWNhdG9ycyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmNhcm91c2VsLWluZGljYXRvcnMnKVxuICAgIHRoaXMub3B0aW9ucyAgICAgPSBvcHRpb25zXG4gICAgdGhpcy5wYXVzZWQgICAgICA9IG51bGxcbiAgICB0aGlzLnNsaWRpbmcgICAgID0gbnVsbFxuICAgIHRoaXMuaW50ZXJ2YWwgICAgPSBudWxsXG4gICAgdGhpcy4kYWN0aXZlICAgICA9IG51bGxcbiAgICB0aGlzLiRpdGVtcyAgICAgID0gbnVsbFxuXG4gICAgdGhpcy5vcHRpb25zLmtleWJvYXJkICYmIHRoaXMuJGVsZW1lbnQub24oJ2tleWRvd24uYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMua2V5ZG93biwgdGhpcykpXG5cbiAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiAhKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgJiYgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uKCdtb3VzZWVudGVyLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLnBhdXNlLCB0aGlzKSlcbiAgICAgIC5vbignbW91c2VsZWF2ZS5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5jeWNsZSwgdGhpcykpXG4gIH1cblxuICBDYXJvdXNlbC5WRVJTSU9OICA9ICczLjMuNSdcblxuICBDYXJvdXNlbC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gNjAwXG5cbiAgQ2Fyb3VzZWwuREVGQVVMVFMgPSB7XG4gICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAgcGF1c2U6ICdob3ZlcicsXG4gICAgd3JhcDogdHJ1ZSxcbiAgICBrZXlib2FyZDogdHJ1ZVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICgvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGUudGFyZ2V0LnRhZ05hbWUpKSByZXR1cm5cbiAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgIGNhc2UgMzc6IHRoaXMucHJldigpOyBicmVha1xuICAgICAgY2FzZSAzOTogdGhpcy5uZXh0KCk7IGJyZWFrXG4gICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5jeWNsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSBmYWxzZSlcblxuICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgdGhpcy5vcHRpb25zLmludGVydmFsXG4gICAgICAmJiAhdGhpcy5wYXVzZWRcbiAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHRoaXMuJGl0ZW1zID0gaXRlbS5wYXJlbnQoKS5jaGlsZHJlbignLml0ZW0nKVxuICAgIHJldHVybiB0aGlzLiRpdGVtcy5pbmRleChpdGVtIHx8IHRoaXMuJGFjdGl2ZSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtRm9yRGlyZWN0aW9uID0gZnVuY3Rpb24gKGRpcmVjdGlvbiwgYWN0aXZlKSB7XG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgoYWN0aXZlKVxuICAgIHZhciB3aWxsV3JhcCA9IChkaXJlY3Rpb24gPT0gJ3ByZXYnICYmIGFjdGl2ZUluZGV4ID09PSAwKVxuICAgICAgICAgICAgICAgIHx8IChkaXJlY3Rpb24gPT0gJ25leHQnICYmIGFjdGl2ZUluZGV4ID09ICh0aGlzLiRpdGVtcy5sZW5ndGggLSAxKSlcbiAgICBpZiAod2lsbFdyYXAgJiYgIXRoaXMub3B0aW9ucy53cmFwKSByZXR1cm4gYWN0aXZlXG4gICAgdmFyIGRlbHRhID0gZGlyZWN0aW9uID09ICdwcmV2JyA/IC0xIDogMVxuICAgIHZhciBpdGVtSW5kZXggPSAoYWN0aXZlSW5kZXggKyBkZWx0YSkgJSB0aGlzLiRpdGVtcy5sZW5ndGhcbiAgICByZXR1cm4gdGhpcy4kaXRlbXMuZXEoaXRlbUluZGV4KVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKHBvcykge1xuICAgIHZhciB0aGF0ICAgICAgICA9IHRoaXNcbiAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleCh0aGlzLiRhY3RpdmUgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpKVxuXG4gICAgaWYgKHBvcyA+ICh0aGlzLiRpdGVtcy5sZW5ndGggLSAxKSB8fCBwb3MgPCAwKSByZXR1cm5cblxuICAgIGlmICh0aGlzLnNsaWRpbmcpICAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50Lm9uZSgnc2xpZC5icy5jYXJvdXNlbCcsIGZ1bmN0aW9uICgpIHsgdGhhdC50byhwb3MpIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoYWN0aXZlSW5kZXggPT0gcG9zKSByZXR1cm4gdGhpcy5wYXVzZSgpLmN5Y2xlKClcblxuICAgIHJldHVybiB0aGlzLnNsaWRlKHBvcyA+IGFjdGl2ZUluZGV4ID8gJ25leHQnIDogJ3ByZXYnLCB0aGlzLiRpdGVtcy5lcShwb3MpKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IHRydWUpXG5cbiAgICBpZiAodGhpcy4kZWxlbWVudC5maW5kKCcubmV4dCwgLnByZXYnKS5sZW5ndGggJiYgJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpXG4gICAgICB0aGlzLmN5Y2xlKHRydWUpXG4gICAgfVxuXG4gICAgdGhpcy5pbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICByZXR1cm4gdGhpcy5zbGlkZSgnbmV4dCcpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICByZXR1cm4gdGhpcy5zbGlkZSgncHJldicpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuc2xpZGUgPSBmdW5jdGlvbiAodHlwZSwgbmV4dCkge1xuICAgIHZhciAkYWN0aXZlICAgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpXG4gICAgdmFyICRuZXh0ICAgICA9IG5leHQgfHwgdGhpcy5nZXRJdGVtRm9yRGlyZWN0aW9uKHR5cGUsICRhY3RpdmUpXG4gICAgdmFyIGlzQ3ljbGluZyA9IHRoaXMuaW50ZXJ2YWxcbiAgICB2YXIgZGlyZWN0aW9uID0gdHlwZSA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnXG4gICAgdmFyIHRoYXQgICAgICA9IHRoaXNcblxuICAgIGlmICgkbmV4dC5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVybiAodGhpcy5zbGlkaW5nID0gZmFsc2UpXG5cbiAgICB2YXIgcmVsYXRlZFRhcmdldCA9ICRuZXh0WzBdXG4gICAgdmFyIHNsaWRlRXZlbnQgPSAkLkV2ZW50KCdzbGlkZS5icy5jYXJvdXNlbCcsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsXG4gICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgIH0pXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRlRXZlbnQpXG4gICAgaWYgKHNsaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5zbGlkaW5nID0gdHJ1ZVxuXG4gICAgaXNDeWNsaW5nICYmIHRoaXMucGF1c2UoKVxuXG4gICAgaWYgKHRoaXMuJGluZGljYXRvcnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLiRpbmRpY2F0b3JzLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgIHZhciAkbmV4dEluZGljYXRvciA9ICQodGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpW3RoaXMuZ2V0SXRlbUluZGV4KCRuZXh0KV0pXG4gICAgICAkbmV4dEluZGljYXRvciAmJiAkbmV4dEluZGljYXRvci5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICB2YXIgc2xpZEV2ZW50ID0gJC5FdmVudCgnc2xpZC5icy5jYXJvdXNlbCcsIHsgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCwgZGlyZWN0aW9uOiBkaXJlY3Rpb24gfSkgLy8geWVzLCBcInNsaWRcIlxuICAgIGlmICgkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdzbGlkZScpKSB7XG4gICAgICAkbmV4dC5hZGRDbGFzcyh0eXBlKVxuICAgICAgJG5leHRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICAkYWN0aXZlLmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICRuZXh0LmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICRhY3RpdmVcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRuZXh0LnJlbW92ZUNsYXNzKFt0eXBlLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcyhbJ2FjdGl2ZScsIGRpcmVjdGlvbl0uam9pbignICcpKVxuICAgICAgICAgIHRoYXQuc2xpZGluZyA9IGZhbHNlXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgICAgICAgIH0sIDApXG4gICAgICAgIH0pXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDYXJvdXNlbC5UUkFOU0lUSU9OX0RVUkFUSU9OKVxuICAgIH0gZWxzZSB7XG4gICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICB9XG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgICAgIHZhciBhY3Rpb24gID0gdHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyA/IG9wdGlvbiA6IG9wdGlvbnMuc2xpZGVcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgIGVsc2UgaWYgKGFjdGlvbikgZGF0YVthY3Rpb25dKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJ2YWwpIGRhdGEucGF1c2UoKS5jeWNsZSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNhcm91c2VsXG5cbiAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcblxuXG4gIC8vIENBUk9VU0VMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY2Fyb3VzZWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gIHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBocmVmXG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKCdjYXJvdXNlbCcpKSByZXR1cm5cbiAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuICAgIHZhciBzbGlkZUluZGV4ID0gJHRoaXMuYXR0cignZGF0YS1zbGlkZS10bycpXG4gICAgaWYgKHNsaWRlSW5kZXgpIG9wdGlvbnMuaW50ZXJ2YWwgPSBmYWxzZVxuXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9ucylcblxuICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICAkdGFyZ2V0LmRhdGEoJ2JzLmNhcm91c2VsJykudG8oc2xpZGVJbmRleClcbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gICQoZG9jdW1lbnQpXG4gICAgLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZV0nLCBjbGlja0hhbmRsZXIpXG4gICAgLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZS10b10nLCBjbGlja0hhbmRsZXIpXG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXJpZGU9XCJjYXJvdXNlbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRjYXJvdXNlbCA9ICQodGhpcylcbiAgICAgIFBsdWdpbi5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogY29sbGFwc2UuanMgdjMuMy41XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNjb2xsYXBzZVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENPTExBUFNFIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIENvbGxhcHNlID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgICAgID0gJC5leHRlbmQoe30sIENvbGxhcHNlLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMuJHRyaWdnZXIgICAgICA9ICQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2hyZWY9XCIjJyArIGVsZW1lbnQuaWQgKyAnXCJdLCcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtdGFyZ2V0PVwiIycgKyBlbGVtZW50LmlkICsgJ1wiXScpXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gbnVsbFxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYXJlbnQpIHtcbiAgICAgIHRoaXMuJHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModGhpcy4kZWxlbWVudCwgdGhpcy4kdHJpZ2dlcilcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnRvZ2dsZSkgdGhpcy50b2dnbGUoKVxuICB9XG5cbiAgQ29sbGFwc2UuVkVSU0lPTiAgPSAnMy4zLjUnXG5cbiAgQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTiA9IDM1MFxuXG4gIENvbGxhcHNlLkRFRkFVTFRTID0ge1xuICAgIHRvZ2dsZTogdHJ1ZVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmRpbWVuc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaGFzV2lkdGggPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCd3aWR0aCcpXG4gICAgcmV0dXJuIGhhc1dpZHRoID8gJ3dpZHRoJyA6ICdoZWlnaHQnXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykpIHJldHVyblxuXG4gICAgdmFyIGFjdGl2ZXNEYXRhXG4gICAgdmFyIGFjdGl2ZXMgPSB0aGlzLiRwYXJlbnQgJiYgdGhpcy4kcGFyZW50LmNoaWxkcmVuKCcucGFuZWwnKS5jaGlsZHJlbignLmluLCAuY29sbGFwc2luZycpXG5cbiAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgYWN0aXZlc0RhdGEgPSBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICAgIGlmIChhY3RpdmVzRGF0YSAmJiBhY3RpdmVzRGF0YS50cmFuc2l0aW9uaW5nKSByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ3Nob3cuYnMuY29sbGFwc2UnKVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICBQbHVnaW4uY2FsbChhY3RpdmVzLCAnaGlkZScpXG4gICAgICBhY3RpdmVzRGF0YSB8fCBhY3RpdmVzLmRhdGEoJ2JzLmNvbGxhcHNlJywgbnVsbClcbiAgICB9XG5cbiAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5kaW1lbnNpb24oKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVtkaW1lbnNpb25dKDApXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG5cbiAgICB0aGlzLiR0cmlnZ2VyXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlZCcpXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UgaW4nKVtkaW1lbnNpb25dKCcnKVxuICAgICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMFxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuY29sbGFwc2UnKVxuICAgIH1cblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG5cbiAgICB2YXIgc2Nyb2xsU2l6ZSA9ICQuY2FtZWxDYXNlKFsnc2Nyb2xsJywgZGltZW5zaW9uXS5qb2luKCctJykpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KGNvbXBsZXRlLCB0aGlzKSlcbiAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDb2xsYXBzZS5UUkFOU0lUSU9OX0RVUkFUSU9OKVtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbMF1bc2Nyb2xsU2l6ZV0pXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8ICF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cblxuICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnaGlkZS5icy5jb2xsYXBzZScpXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcblxuICAgIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oKSlbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZSBpbicpXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuXG4gICAgdGhpcy4kdHJpZ2dlclxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZWQnKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcblxuICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgICAgLmFkZENsYXNzKCdjb2xsYXBzZScpXG4gICAgICAgIC50cmlnZ2VyKCdoaWRkZW4uYnMuY29sbGFwc2UnKVxuICAgIH1cblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICBbZGltZW5zaW9uXSgwKVxuICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTilcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpID8gJ2hpZGUnIDogJ3Nob3cnXSgpXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuZ2V0UGFyZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkKHRoaXMub3B0aW9ucy5wYXJlbnQpXG4gICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS1wYXJlbnQ9XCInICsgdGhpcy5vcHRpb25zLnBhcmVudCArICdcIl0nKVxuICAgICAgLmVhY2goJC5wcm94eShmdW5jdGlvbiAoaSwgZWxlbWVudCkge1xuICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gICAgICAgIHRoaXMuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKGdldFRhcmdldEZyb21UcmlnZ2VyKCRlbGVtZW50KSwgJGVsZW1lbnQpXG4gICAgICB9LCB0aGlzKSlcbiAgICAgIC5lbmQoKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyA9IGZ1bmN0aW9uICgkZWxlbWVudCwgJHRyaWdnZXIpIHtcbiAgICB2YXIgaXNPcGVuID0gJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJylcblxuICAgICRlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBpc09wZW4pXG4gICAgJHRyaWdnZXJcbiAgICAgIC50b2dnbGVDbGFzcygnY29sbGFwc2VkJywgIWlzT3BlbilcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJHRyaWdnZXIpIHtcbiAgICB2YXIgaHJlZlxuICAgIHZhciB0YXJnZXQgPSAkdHJpZ2dlci5hdHRyKCdkYXRhLXRhcmdldCcpXG4gICAgICB8fCAoaHJlZiA9ICR0cmlnZ2VyLmF0dHIoJ2hyZWYnKSkgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuXG4gICAgcmV0dXJuICQodGFyZ2V0KVxuICB9XG5cblxuICAvLyBDT0xMQVBTRSBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhICYmIG9wdGlvbnMudG9nZ2xlICYmIC9zaG93fGhpZGUvLnRlc3Qob3B0aW9uKSkgb3B0aW9ucy50b2dnbGUgPSBmYWxzZVxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jb2xsYXBzZScsIChkYXRhID0gbmV3IENvbGxhcHNlKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5jb2xsYXBzZVxuXG4gICQuZm4uY29sbGFwc2UgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5jb2xsYXBzZS5Db25zdHJ1Y3RvciA9IENvbGxhcHNlXG5cblxuICAvLyBDT0xMQVBTRSBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uY29sbGFwc2Uubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmNvbGxhcHNlID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ09MTEFQU0UgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuY29sbGFwc2UuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuXG4gICAgaWYgKCEkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIHZhciAkdGFyZ2V0ID0gZ2V0VGFyZ2V0RnJvbVRyaWdnZXIoJHRoaXMpXG4gICAgdmFyIGRhdGEgICAgPSAkdGFyZ2V0LmRhdGEoJ2JzLmNvbGxhcHNlJylcbiAgICB2YXIgb3B0aW9uICA9IGRhdGEgPyAndG9nZ2xlJyA6ICR0aGlzLmRhdGEoKVxuXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uKVxuICB9KVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogZHJvcGRvd24uanMgdjMuMy41XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNkcm9wZG93bnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBEUk9QRE9XTiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgYmFja2Ryb3AgPSAnLmRyb3Bkb3duLWJhY2tkcm9wJ1xuICB2YXIgdG9nZ2xlICAgPSAnW2RhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIl0nXG4gIHZhciBEcm9wZG93biA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgJChlbGVtZW50KS5vbignY2xpY2suYnMuZHJvcGRvd24nLCB0aGlzLnRvZ2dsZSlcbiAgfVxuXG4gIERyb3Bkb3duLlZFUlNJT04gPSAnMy4zLjUnXG5cbiAgZnVuY3Rpb24gZ2V0UGFyZW50KCR0aGlzKSB7XG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgLyNbQS1aYS16XS8udGVzdChzZWxlY3RvcikgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9IHNlbGVjdG9yICYmICQoc2VsZWN0b3IpXG5cbiAgICByZXR1cm4gJHBhcmVudCAmJiAkcGFyZW50Lmxlbmd0aCA/ICRwYXJlbnQgOiAkdGhpcy5wYXJlbnQoKVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJNZW51cyhlKSB7XG4gICAgaWYgKGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuXG4gICAgJChiYWNrZHJvcCkucmVtb3ZlKClcbiAgICAkKHRvZ2dsZSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICAgICAgICA9ICQodGhpcylcbiAgICAgIHZhciAkcGFyZW50ICAgICAgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuXG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXG5cbiAgICAgIGlmIChlICYmIGUudHlwZSA9PSAnY2xpY2snICYmIC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkgJiYgJC5jb250YWlucygkcGFyZW50WzBdLCBlLnRhcmdldCkpIHJldHVyblxuXG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2hpZGUuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGhpcy5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS50cmlnZ2VyKCdoaWRkZW4uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KVxuICAgIH0pXG4gIH1cblxuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgY2xlYXJNZW51cygpXG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEkcGFyZW50LmNsb3Nlc3QoJy5uYXZiYXItbmF2JykubGVuZ3RoKSB7XG4gICAgICAgIC8vIGlmIG1vYmlsZSB3ZSB1c2UgYSBiYWNrZHJvcCBiZWNhdXNlIGNsaWNrIGV2ZW50cyBkb24ndCBkZWxlZ2F0ZVxuICAgICAgICAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKVxuICAgICAgICAgIC5hZGRDbGFzcygnZHJvcGRvd24tYmFja2Ryb3AnKVxuICAgICAgICAgIC5pbnNlcnRBZnRlcigkKHRoaXMpKVxuICAgICAgICAgIC5vbignY2xpY2snLCBjbGVhck1lbnVzKVxuICAgICAgfVxuXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ3Nob3cuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGhpc1xuICAgICAgICAudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsICd0cnVlJylcblxuICAgICAgJHBhcmVudFxuICAgICAgICAudG9nZ2xlQ2xhc3MoJ29wZW4nKVxuICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghLygzOHw0MHwyN3wzMikvLnRlc3QoZS53aGljaCkgfHwgL2lucHV0fHRleHRhcmVhL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkgcmV0dXJuXG5cbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgaWYgKCFpc0FjdGl2ZSAmJiBlLndoaWNoICE9IDI3IHx8IGlzQWN0aXZlICYmIGUud2hpY2ggPT0gMjcpIHtcbiAgICAgIGlmIChlLndoaWNoID09IDI3KSAkcGFyZW50LmZpbmQodG9nZ2xlKS50cmlnZ2VyKCdmb2N1cycpXG4gICAgICByZXR1cm4gJHRoaXMudHJpZ2dlcignY2xpY2snKVxuICAgIH1cblxuICAgIHZhciBkZXNjID0gJyBsaTpub3QoLmRpc2FibGVkKTp2aXNpYmxlIGEnXG4gICAgdmFyICRpdGVtcyA9ICRwYXJlbnQuZmluZCgnLmRyb3Bkb3duLW1lbnUnICsgZGVzYylcblxuICAgIGlmICghJGl0ZW1zLmxlbmd0aCkgcmV0dXJuXG5cbiAgICB2YXIgaW5kZXggPSAkaXRlbXMuaW5kZXgoZS50YXJnZXQpXG5cbiAgICBpZiAoZS53aGljaCA9PSAzOCAmJiBpbmRleCA+IDApICAgICAgICAgICAgICAgICBpbmRleC0tICAgICAgICAgLy8gdXBcbiAgICBpZiAoZS53aGljaCA9PSA0MCAmJiBpbmRleCA8ICRpdGVtcy5sZW5ndGggLSAxKSBpbmRleCsrICAgICAgICAgLy8gZG93blxuICAgIGlmICghfmluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMFxuXG4gICAgJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCdmb2N1cycpXG4gIH1cblxuXG4gIC8vIERST1BET1dOIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJywgKGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5kcm9wZG93blxuXG4gICQuZm4uZHJvcGRvd24gICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5kcm9wZG93bi5Db25zdHJ1Y3RvciA9IERyb3Bkb3duXG5cblxuICAvLyBEUk9QRE9XTiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uZHJvcGRvd24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmRyb3Bkb3duID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQVBQTFkgVE8gU1RBTkRBUkQgRFJPUERPV04gRUxFTUVOVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCBjbGVhck1lbnVzKVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duIGZvcm0nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH0pXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSwgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSlcbiAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuICAgIC5vbigna2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaScsICcuZHJvcGRvd24tbWVudScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuXG59KGpRdWVyeSk7XG4iLCIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogbW9kYWwuanMgdjMuMy41XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNtb2RhbHNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBNT0RBTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgTW9kYWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyAgICAgICAgICAgICA9IG9wdGlvbnNcbiAgICB0aGlzLiRib2R5ICAgICAgICAgICAgICAgPSAkKGRvY3VtZW50LmJvZHkpXG4gICAgdGhpcy4kZWxlbWVudCAgICAgICAgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMuJGRpYWxvZyAgICAgICAgICAgICA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLm1vZGFsLWRpYWxvZycpXG4gICAgdGhpcy4kYmFja2Ryb3AgICAgICAgICAgID0gbnVsbFxuICAgIHRoaXMuaXNTaG93biAgICAgICAgICAgICA9IG51bGxcbiAgICB0aGlzLm9yaWdpbmFsQm9keVBhZCAgICAgPSBudWxsXG4gICAgdGhpcy5zY3JvbGxiYXJXaWR0aCAgICAgID0gMFxuICAgIHRoaXMuaWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlbW90ZSkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAuZmluZCgnLm1vZGFsLWNvbnRlbnQnKVxuICAgICAgICAubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLCAkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ2xvYWRlZC5icy5tb2RhbCcpXG4gICAgICAgIH0sIHRoaXMpKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLlZFUlNJT04gID0gJzMuMy41J1xuXG4gIE1vZGFsLlRSQU5TSVRJT05fRFVSQVRJT04gPSAzMDBcbiAgTW9kYWwuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTiA9IDE1MFxuXG4gIE1vZGFsLkRFRkFVTFRTID0ge1xuICAgIGJhY2tkcm9wOiB0cnVlLFxuICAgIGtleWJvYXJkOiB0cnVlLFxuICAgIHNob3c6IHRydWVcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5pc1Nob3duID8gdGhpcy5oaWRlKCkgOiB0aGlzLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciBlICAgID0gJC5FdmVudCgnc2hvdy5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKHRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IHRydWVcblxuICAgIHRoaXMuY2hlY2tTY3JvbGxiYXIoKVxuICAgIHRoaXMuc2V0U2Nyb2xsYmFyKClcbiAgICB0aGlzLiRib2R5LmFkZENsYXNzKCdtb2RhbC1vcGVuJylcblxuICAgIHRoaXMuZXNjYXBlKClcbiAgICB0aGlzLnJlc2l6ZSgpXG5cbiAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJ1tkYXRhLWRpc21pc3M9XCJtb2RhbFwiXScsICQucHJveHkodGhpcy5oaWRlLCB0aGlzKSlcblxuICAgIHRoaXMuJGRpYWxvZy5vbignbW91c2Vkb3duLmRpc21pc3MuYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LiRlbGVtZW50Lm9uZSgnbW91c2V1cC5kaXNtaXNzLmJzLm1vZGFsJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKHRoYXQuJGVsZW1lbnQpKSB0aGF0Lmlnbm9yZUJhY2tkcm9wQ2xpY2sgPSB0cnVlXG4gICAgICB9KVxuICAgIH0pXG5cbiAgICB0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0cmFuc2l0aW9uID0gJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhhdC4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpXG5cbiAgICAgIGlmICghdGhhdC4kZWxlbWVudC5wYXJlbnQoKS5sZW5ndGgpIHtcbiAgICAgICAgdGhhdC4kZWxlbWVudC5hcHBlbmRUbyh0aGF0LiRib2R5KSAvLyBkb24ndCBtb3ZlIG1vZGFscyBkb20gcG9zaXRpb25cbiAgICAgIH1cblxuICAgICAgdGhhdC4kZWxlbWVudFxuICAgICAgICAuc2hvdygpXG4gICAgICAgIC5zY3JvbGxUb3AoMClcblxuICAgICAgdGhhdC5hZGp1c3REaWFsb2coKVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICB0aGF0LiRlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgfVxuXG4gICAgICB0aGF0LiRlbGVtZW50LmFkZENsYXNzKCdpbicpXG5cbiAgICAgIHRoYXQuZW5mb3JjZUZvY3VzKClcblxuICAgICAgdmFyIGUgPSAkLkV2ZW50KCdzaG93bi5icy5tb2RhbCcsIHsgcmVsYXRlZFRhcmdldDogX3JlbGF0ZWRUYXJnZXQgfSlcblxuICAgICAgdHJhbnNpdGlvbiA/XG4gICAgICAgIHRoYXQuJGRpYWxvZyAvLyB3YWl0IGZvciBtb2RhbCB0byBzbGlkZSBpblxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTW9kYWwuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJykudHJpZ2dlcihlKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgZSA9ICQuRXZlbnQoJ2hpZGUuYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoIXRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IGZhbHNlXG5cbiAgICB0aGlzLmVzY2FwZSgpXG4gICAgdGhpcy5yZXNpemUoKVxuXG4gICAgJChkb2N1bWVudCkub2ZmKCdmb2N1c2luLmJzLm1vZGFsJylcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnaW4nKVxuICAgICAgLm9mZignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcpXG4gICAgICAub2ZmKCdtb3VzZXVwLmRpc21pc3MuYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZGlhbG9nLm9mZignbW91c2Vkb3duLmRpc21pc3MuYnMubW9kYWwnKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eSh0aGlzLmhpZGVNb2RhbCwgdGhpcykpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChNb2RhbC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICB0aGlzLmhpZGVNb2RhbCgpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuZW5mb3JjZUZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICQoZG9jdW1lbnQpXG4gICAgICAub2ZmKCdmb2N1c2luLmJzLm1vZGFsJykgLy8gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBmb2N1cyBsb29wXG4gICAgICAub24oJ2ZvY3VzaW4uYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICh0aGlzLiRlbGVtZW50WzBdICE9PSBlLnRhcmdldCAmJiAhdGhpcy4kZWxlbWVudC5oYXMoZS50YXJnZXQpLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzKSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lc2NhcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNTaG93biAmJiB0aGlzLm9wdGlvbnMua2V5Ym9hcmQpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2tleWRvd24uZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS53aGljaCA9PSAyNyAmJiB0aGlzLmhpZGUoKVxuICAgICAgfSwgdGhpcykpXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duKSB7XG4gICAgICB0aGlzLiRlbGVtZW50Lm9mZigna2V5ZG93bi5kaXNtaXNzLmJzLm1vZGFsJylcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmlzU2hvd24pIHtcbiAgICAgICQod2luZG93KS5vbigncmVzaXplLmJzLm1vZGFsJywgJC5wcm94eSh0aGlzLmhhbmRsZVVwZGF0ZSwgdGhpcykpXG4gICAgfSBlbHNlIHtcbiAgICAgICQod2luZG93KS5vZmYoJ3Jlc2l6ZS5icy5tb2RhbCcpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmhpZGVNb2RhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB0aGlzLiRlbGVtZW50LmhpZGUoKVxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdGhhdC4kYm9keS5yZW1vdmVDbGFzcygnbW9kYWwtb3BlbicpXG4gICAgICB0aGF0LnJlc2V0QWRqdXN0bWVudHMoKVxuICAgICAgdGhhdC5yZXNldFNjcm9sbGJhcigpXG4gICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2hpZGRlbi5icy5tb2RhbCcpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZW1vdmVCYWNrZHJvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRiYWNrZHJvcCAmJiB0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKVxuICAgIHRoaXMuJGJhY2tkcm9wID0gbnVsbFxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmJhY2tkcm9wID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyIGFuaW1hdGUgPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgPyAnZmFkZScgOiAnJ1xuXG4gICAgaWYgKHRoaXMuaXNTaG93biAmJiB0aGlzLm9wdGlvbnMuYmFja2Ryb3ApIHtcbiAgICAgIHZhciBkb0FuaW1hdGUgPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiBhbmltYXRlXG5cbiAgICAgIHRoaXMuJGJhY2tkcm9wID0gJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSlcbiAgICAgICAgLmFkZENsYXNzKCdtb2RhbC1iYWNrZHJvcCAnICsgYW5pbWF0ZSlcbiAgICAgICAgLmFwcGVuZFRvKHRoaXMuJGJvZHkpXG5cbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICh0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2spIHtcbiAgICAgICAgICB0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2sgPSBmYWxzZVxuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmIChlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0KSByZXR1cm5cbiAgICAgICAgdGhpcy5vcHRpb25zLmJhY2tkcm9wID09ICdzdGF0aWMnXG4gICAgICAgICAgPyB0aGlzLiRlbGVtZW50WzBdLmZvY3VzKClcbiAgICAgICAgICA6IHRoaXMuaGlkZSgpXG4gICAgICB9LCB0aGlzKSlcblxuICAgICAgaWYgKGRvQW5pbWF0ZSkgdGhpcy4kYmFja2Ryb3BbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG5cbiAgICAgIHRoaXMuJGJhY2tkcm9wLmFkZENsYXNzKCdpbicpXG5cbiAgICAgIGlmICghY2FsbGJhY2spIHJldHVyblxuXG4gICAgICBkb0FuaW1hdGUgP1xuICAgICAgICB0aGlzLiRiYWNrZHJvcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNhbGxiYWNrKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChNb2RhbC5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgIGNhbGxiYWNrKClcblxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93biAmJiB0aGlzLiRiYWNrZHJvcCkge1xuICAgICAgdGhpcy4kYmFja2Ryb3AucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICAgdmFyIGNhbGxiYWNrUmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGF0LnJlbW92ZUJhY2tkcm9wKClcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgICAgfVxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICAgdGhpcy4kYmFja2Ryb3BcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjYWxsYmFja1JlbW92ZSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTW9kYWwuQkFDS0RST1BfVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICBjYWxsYmFja1JlbW92ZSgpXG5cbiAgICB9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgLy8gdGhlc2UgZm9sbG93aW5nIG1ldGhvZHMgYXJlIHVzZWQgdG8gaGFuZGxlIG92ZXJmbG93aW5nIG1vZGFsc1xuXG4gIE1vZGFsLnByb3RvdHlwZS5oYW5kbGVVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hZGp1c3REaWFsb2coKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmFkanVzdERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbW9kYWxJc092ZXJmbG93aW5nID0gdGhpcy4kZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XG5cbiAgICB0aGlzLiRlbGVtZW50LmNzcyh7XG4gICAgICBwYWRkaW5nTGVmdDogICF0aGlzLmJvZHlJc092ZXJmbG93aW5nICYmIG1vZGFsSXNPdmVyZmxvd2luZyA/IHRoaXMuc2Nyb2xsYmFyV2lkdGggOiAnJyxcbiAgICAgIHBhZGRpbmdSaWdodDogdGhpcy5ib2R5SXNPdmVyZmxvd2luZyAmJiAhbW9kYWxJc092ZXJmbG93aW5nID8gdGhpcy5zY3JvbGxiYXJXaWR0aCA6ICcnXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZXNldEFkanVzdG1lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGVsZW1lbnQuY3NzKHtcbiAgICAgIHBhZGRpbmdMZWZ0OiAnJyxcbiAgICAgIHBhZGRpbmdSaWdodDogJydcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmNoZWNrU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBmdWxsV2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aFxuICAgIGlmICghZnVsbFdpbmRvd1dpZHRoKSB7IC8vIHdvcmthcm91bmQgZm9yIG1pc3Npbmcgd2luZG93LmlubmVyV2lkdGggaW4gSUU4XG4gICAgICB2YXIgZG9jdW1lbnRFbGVtZW50UmVjdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgZnVsbFdpbmRvd1dpZHRoID0gZG9jdW1lbnRFbGVtZW50UmVjdC5yaWdodCAtIE1hdGguYWJzKGRvY3VtZW50RWxlbWVudFJlY3QubGVmdClcbiAgICB9XG4gICAgdGhpcy5ib2R5SXNPdmVyZmxvd2luZyA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggPCBmdWxsV2luZG93V2lkdGhcbiAgICB0aGlzLnNjcm9sbGJhcldpZHRoID0gdGhpcy5tZWFzdXJlU2Nyb2xsYmFyKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5zZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJvZHlQYWQgPSBwYXJzZUludCgodGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnKSB8fCAwKSwgMTApXG4gICAgdGhpcy5vcmlnaW5hbEJvZHlQYWQgPSBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCB8fCAnJ1xuICAgIGlmICh0aGlzLmJvZHlJc092ZXJmbG93aW5nKSB0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcsIGJvZHlQYWQgKyB0aGlzLnNjcm9sbGJhcldpZHRoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgdGhpcy5vcmlnaW5hbEJvZHlQYWQpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHsgLy8gdGh4IHdhbHNoXG4gICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSdcbiAgICB0aGlzLiRib2R5LmFwcGVuZChzY3JvbGxEaXYpXG4gICAgdmFyIHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoXG4gICAgdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpXG4gICAgcmV0dXJuIHNjcm9sbGJhcldpZHRoXG4gIH1cblxuXG4gIC8vIE1PREFMIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbiwgX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5tb2RhbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBNb2RhbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5tb2RhbCcsIChkYXRhID0gbmV3IE1vZGFsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oX3JlbGF0ZWRUYXJnZXQpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLnNob3cpIGRhdGEuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4ubW9kYWxcblxuICAkLmZuLm1vZGFsICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ubW9kYWwuQ29uc3RydWN0b3IgPSBNb2RhbFxuXG5cbiAgLy8gTU9EQUwgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLm1vZGFsLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5tb2RhbCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIE1PREFMIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLm1vZGFsLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cIm1vZGFsXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgaHJlZiAgICA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgIHZhciAkdGFyZ2V0ID0gJCgkdGhpcy5hdHRyKCdkYXRhLXRhcmdldCcpIHx8IChocmVmICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSkgLy8gc3RyaXAgZm9yIGllN1xuICAgIHZhciBvcHRpb24gID0gJHRhcmdldC5kYXRhKCdicy5tb2RhbCcpID8gJ3RvZ2dsZScgOiAkLmV4dGVuZCh7IHJlbW90ZTogIS8jLy50ZXN0KGhyZWYpICYmIGhyZWYgfSwgJHRhcmdldC5kYXRhKCksICR0aGlzLmRhdGEoKSlcblxuICAgIGlmICgkdGhpcy5pcygnYScpKSBlLnByZXZlbnREZWZhdWx0KClcblxuICAgICR0YXJnZXQub25lKCdzaG93LmJzLm1vZGFsJywgZnVuY3Rpb24gKHNob3dFdmVudCkge1xuICAgICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuIC8vIG9ubHkgcmVnaXN0ZXIgZm9jdXMgcmVzdG9yZXIgaWYgbW9kYWwgd2lsbCBhY3R1YWxseSBnZXQgc2hvd25cbiAgICAgICR0YXJnZXQub25lKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICR0aGlzLmlzKCc6dmlzaWJsZScpICYmICR0aGlzLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIH0pXG4gICAgfSlcbiAgICBQbHVnaW4uY2FsbCgkdGFyZ2V0LCBvcHRpb24sIHRoaXMpXG4gIH0pXG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBwb3BvdmVyLmpzIHYzLjMuNVxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jcG9wb3ZlcnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBQT1BPVkVSIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgUG9wb3ZlciA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5pbml0KCdwb3BvdmVyJywgZWxlbWVudCwgb3B0aW9ucylcbiAgfVxuXG4gIGlmICghJC5mbi50b29sdGlwKSB0aHJvdyBuZXcgRXJyb3IoJ1BvcG92ZXIgcmVxdWlyZXMgdG9vbHRpcC5qcycpXG5cbiAgUG9wb3Zlci5WRVJTSU9OICA9ICczLjMuNSdcblxuICBQb3BvdmVyLkRFRkFVTFRTID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5ERUZBVUxUUywge1xuICAgIHBsYWNlbWVudDogJ3JpZ2h0JyxcbiAgICB0cmlnZ2VyOiAnY2xpY2snLFxuICAgIGNvbnRlbnQ6ICcnLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInBvcG92ZXJcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PjxoMyBjbGFzcz1cInBvcG92ZXItdGl0bGVcIj48L2gzPjxkaXYgY2xhc3M9XCJwb3BvdmVyLWNvbnRlbnRcIj48L2Rpdj48L2Rpdj4nXG4gIH0pXG5cblxuICAvLyBOT1RFOiBQT1BPVkVSIEVYVEVORFMgdG9vbHRpcC5qc1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIFBvcG92ZXIucHJvdG90eXBlID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpXG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQb3BvdmVyXG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFBvcG92ZXIuREVGQVVMVFNcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aXAgICAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlICAgPSB0aGlzLmdldFRpdGxlKClcbiAgICB2YXIgY29udGVudCA9IHRoaXMuZ2V0Q29udGVudCgpXG5cbiAgICAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItY29udGVudCcpLmNoaWxkcmVuKCkuZGV0YWNoKCkuZW5kKClbIC8vIHdlIHVzZSBhcHBlbmQgZm9yIGh0bWwgb2JqZWN0cyB0byBtYWludGFpbiBqcyBldmVudHNcbiAgICAgIHRoaXMub3B0aW9ucy5odG1sID8gKHR5cGVvZiBjb250ZW50ID09ICdzdHJpbmcnID8gJ2h0bWwnIDogJ2FwcGVuZCcpIDogJ3RleHQnXG4gICAgXShjb250ZW50KVxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSB0b3AgYm90dG9tIGxlZnQgcmlnaHQgaW4nKVxuXG4gICAgLy8gSUU4IGRvZXNuJ3QgYWNjZXB0IGhpZGluZyB2aWEgdGhlIGA6ZW1wdHlgIHBzZXVkbyBzZWxlY3Rvciwgd2UgaGF2ZSB0byBkb1xuICAgIC8vIHRoaXMgbWFudWFsbHkgYnkgY2hlY2tpbmcgdGhlIGNvbnRlbnRzLlxuICAgIGlmICghJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpLmh0bWwoKSkgJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpLmhpZGUoKVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpIHx8IHRoaXMuZ2V0Q29udGVudCgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHJldHVybiAkZS5hdHRyKCdkYXRhLWNvbnRlbnQnKVxuICAgICAgfHwgKHR5cGVvZiBvLmNvbnRlbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICBvLmNvbnRlbnQuY2FsbCgkZVswXSkgOlxuICAgICAgICAgICAgby5jb250ZW50KVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLmFycm93JykpXG4gIH1cblxuXG4gIC8vIFBPUE9WRVIgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5wb3BvdmVyJylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhICYmIC9kZXN0cm95fGhpZGUvLnRlc3Qob3B0aW9uKSkgcmV0dXJuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnBvcG92ZXInLCAoZGF0YSA9IG5ldyBQb3BvdmVyKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5wb3BvdmVyXG5cbiAgJC5mbi5wb3BvdmVyICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ucG9wb3Zlci5Db25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuXG4gIC8vIFBPUE9WRVIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4ucG9wb3Zlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4ucG9wb3ZlciA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufShqUXVlcnkpO1xuIiwiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHNjcm9sbHNweS5qcyB2My4zLjVcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Njcm9sbHNweVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFNDUk9MTFNQWSBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gU2Nyb2xsU3B5KGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRib2R5ICAgICAgICAgID0gJChkb2N1bWVudC5ib2R5KVxuICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQgPSAkKGVsZW1lbnQpLmlzKGRvY3VtZW50LmJvZHkpID8gJCh3aW5kb3cpIDogJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgICAgICAgPSAkLmV4dGVuZCh7fSwgU2Nyb2xsU3B5LkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMuc2VsZWN0b3IgICAgICAgPSAodGhpcy5vcHRpb25zLnRhcmdldCB8fCAnJykgKyAnIC5uYXYgbGkgPiBhJ1xuICAgIHRoaXMub2Zmc2V0cyAgICAgICAgPSBbXVxuICAgIHRoaXMudGFyZ2V0cyAgICAgICAgPSBbXVxuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ICAgPSBudWxsXG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgICA9IDBcblxuICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQub24oJ3Njcm9sbC5icy5zY3JvbGxzcHknLCAkLnByb3h5KHRoaXMucHJvY2VzcywgdGhpcykpXG4gICAgdGhpcy5yZWZyZXNoKClcbiAgICB0aGlzLnByb2Nlc3MoKVxuICB9XG5cbiAgU2Nyb2xsU3B5LlZFUlNJT04gID0gJzMuMy41J1xuXG4gIFNjcm9sbFNweS5ERUZBVUxUUyA9IHtcbiAgICBvZmZzZXQ6IDEwXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmdldFNjcm9sbEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy4kc2Nyb2xsRWxlbWVudFswXS5zY3JvbGxIZWlnaHQgfHwgTWF0aC5tYXgodGhpcy4kYm9keVswXS5zY3JvbGxIZWlnaHQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgICAgICAgICAgPSB0aGlzXG4gICAgdmFyIG9mZnNldE1ldGhvZCAgPSAnb2Zmc2V0J1xuICAgIHZhciBvZmZzZXRCYXNlICAgID0gMFxuXG4gICAgdGhpcy5vZmZzZXRzICAgICAgPSBbXVxuICAgIHRoaXMudGFyZ2V0cyAgICAgID0gW11cbiAgICB0aGlzLnNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcblxuICAgIGlmICghJC5pc1dpbmRvdyh0aGlzLiRzY3JvbGxFbGVtZW50WzBdKSkge1xuICAgICAgb2Zmc2V0TWV0aG9kID0gJ3Bvc2l0aW9uJ1xuICAgICAgb2Zmc2V0QmFzZSAgID0gdGhpcy4kc2Nyb2xsRWxlbWVudC5zY3JvbGxUb3AoKVxuICAgIH1cblxuICAgIHRoaXMuJGJvZHlcbiAgICAgIC5maW5kKHRoaXMuc2VsZWN0b3IpXG4gICAgICAubWFwKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRlbCAgID0gJCh0aGlzKVxuICAgICAgICB2YXIgaHJlZiAgPSAkZWwuZGF0YSgndGFyZ2V0JykgfHwgJGVsLmF0dHIoJ2hyZWYnKVxuICAgICAgICB2YXIgJGhyZWYgPSAvXiMuLy50ZXN0KGhyZWYpICYmICQoaHJlZilcblxuICAgICAgICByZXR1cm4gKCRocmVmXG4gICAgICAgICAgJiYgJGhyZWYubGVuZ3RoXG4gICAgICAgICAgJiYgJGhyZWYuaXMoJzp2aXNpYmxlJylcbiAgICAgICAgICAmJiBbWyRocmVmW29mZnNldE1ldGhvZF0oKS50b3AgKyBvZmZzZXRCYXNlLCBocmVmXV0pIHx8IG51bGxcbiAgICAgIH0pXG4gICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYVswXSAtIGJbMF0gfSlcbiAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC5vZmZzZXRzLnB1c2godGhpc1swXSlcbiAgICAgICAgdGhhdC50YXJnZXRzLnB1c2godGhpc1sxXSlcbiAgICAgIH0pXG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLnByb2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNjcm9sbFRvcCAgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKCkgKyB0aGlzLm9wdGlvbnMub2Zmc2V0XG4gICAgdmFyIHNjcm9sbEhlaWdodCA9IHRoaXMuZ2V0U2Nyb2xsSGVpZ2h0KClcbiAgICB2YXIgbWF4U2Nyb2xsICAgID0gdGhpcy5vcHRpb25zLm9mZnNldCArIHNjcm9sbEhlaWdodCAtIHRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KClcbiAgICB2YXIgb2Zmc2V0cyAgICAgID0gdGhpcy5vZmZzZXRzXG4gICAgdmFyIHRhcmdldHMgICAgICA9IHRoaXMudGFyZ2V0c1xuICAgIHZhciBhY3RpdmVUYXJnZXQgPSB0aGlzLmFjdGl2ZVRhcmdldFxuICAgIHZhciBpXG5cbiAgICBpZiAodGhpcy5zY3JvbGxIZWlnaHQgIT0gc2Nyb2xsSGVpZ2h0KSB7XG4gICAgICB0aGlzLnJlZnJlc2goKVxuICAgIH1cblxuICAgIGlmIChzY3JvbGxUb3AgPj0gbWF4U2Nyb2xsKSB7XG4gICAgICByZXR1cm4gYWN0aXZlVGFyZ2V0ICE9IChpID0gdGFyZ2V0c1t0YXJnZXRzLmxlbmd0aCAtIDFdKSAmJiB0aGlzLmFjdGl2YXRlKGkpXG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZVRhcmdldCAmJiBzY3JvbGxUb3AgPCBvZmZzZXRzWzBdKSB7XG4gICAgICB0aGlzLmFjdGl2ZVRhcmdldCA9IG51bGxcbiAgICAgIHJldHVybiB0aGlzLmNsZWFyKClcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBvZmZzZXRzLmxlbmd0aDsgaS0tOykge1xuICAgICAgYWN0aXZlVGFyZ2V0ICE9IHRhcmdldHNbaV1cbiAgICAgICAgJiYgc2Nyb2xsVG9wID49IG9mZnNldHNbaV1cbiAgICAgICAgJiYgKG9mZnNldHNbaSArIDFdID09PSB1bmRlZmluZWQgfHwgc2Nyb2xsVG9wIDwgb2Zmc2V0c1tpICsgMV0pXG4gICAgICAgICYmIHRoaXMuYWN0aXZhdGUodGFyZ2V0c1tpXSlcbiAgICB9XG4gIH1cblxuICBTY3JvbGxTcHkucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ID0gdGFyZ2V0XG5cbiAgICB0aGlzLmNsZWFyKClcblxuICAgIHZhciBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3IgK1xuICAgICAgJ1tkYXRhLXRhcmdldD1cIicgKyB0YXJnZXQgKyAnXCJdLCcgK1xuICAgICAgdGhpcy5zZWxlY3RvciArICdbaHJlZj1cIicgKyB0YXJnZXQgKyAnXCJdJ1xuXG4gICAgdmFyIGFjdGl2ZSA9ICQoc2VsZWN0b3IpXG4gICAgICAucGFyZW50cygnbGknKVxuICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuXG4gICAgaWYgKGFjdGl2ZS5wYXJlbnQoJy5kcm9wZG93bi1tZW51JykubGVuZ3RoKSB7XG4gICAgICBhY3RpdmUgPSBhY3RpdmVcbiAgICAgICAgLmNsb3Nlc3QoJ2xpLmRyb3Bkb3duJylcbiAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgIH1cblxuICAgIGFjdGl2ZS50cmlnZ2VyKCdhY3RpdmF0ZS5icy5zY3JvbGxzcHknKVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAkKHRoaXMuc2VsZWN0b3IpXG4gICAgICAucGFyZW50c1VudGlsKHRoaXMub3B0aW9ucy50YXJnZXQsICcuYWN0aXZlJylcbiAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnNjcm9sbHNweScsIChkYXRhID0gbmV3IFNjcm9sbFNweSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uc2Nyb2xsc3B5XG5cbiAgJC5mbi5zY3JvbGxzcHkgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5zY3JvbGxzcHkuQ29uc3RydWN0b3IgPSBTY3JvbGxTcHlcblxuXG4gIC8vIFNDUk9MTFNQWSBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnNjcm9sbHNweS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uc2Nyb2xsc3B5ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gU0NST0xMU1BZIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09PVxuXG4gICQod2luZG93KS5vbignbG9hZC5icy5zY3JvbGxzcHkuZGF0YS1hcGknLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtc3B5PVwic2Nyb2xsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIFBsdWdpbi5jYWxsKCRzcHksICRzcHkuZGF0YSgpKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0YWIuanMgdjMuMy41XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0YWJzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTUgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVEFCIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVGFiID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAvLyBqc2NzOmRpc2FibGUgcmVxdWlyZURvbGxhckJlZm9yZWpRdWVyeUFzc2lnbm1lbnRcbiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gICAgLy8ganNjczplbmFibGUgcmVxdWlyZURvbGxhckJlZm9yZWpRdWVyeUFzc2lnbm1lbnRcbiAgfVxuXG4gIFRhYi5WRVJTSU9OID0gJzMuMy41J1xuXG4gIFRhYi5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgVGFiLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyAgICA9IHRoaXMuZWxlbWVudFxuICAgIHZhciAkdWwgICAgICA9ICR0aGlzLmNsb3Nlc3QoJ3VsOm5vdCguZHJvcGRvd24tbWVudSknKVxuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmRhdGEoJ3RhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIGlmICgkdGhpcy5wYXJlbnQoJ2xpJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm5cblxuICAgIHZhciAkcHJldmlvdXMgPSAkdWwuZmluZCgnLmFjdGl2ZTpsYXN0IGEnKVxuICAgIHZhciBoaWRlRXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLnRhYicsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6ICR0aGlzWzBdXG4gICAgfSlcbiAgICB2YXIgc2hvd0V2ZW50ID0gJC5FdmVudCgnc2hvdy5icy50YWInLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiAkcHJldmlvdXNbMF1cbiAgICB9KVxuXG4gICAgJHByZXZpb3VzLnRyaWdnZXIoaGlkZUV2ZW50KVxuICAgICR0aGlzLnRyaWdnZXIoc2hvd0V2ZW50KVxuXG4gICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCBoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdmFyICR0YXJnZXQgPSAkKHNlbGVjdG9yKVxuXG4gICAgdGhpcy5hY3RpdmF0ZSgkdGhpcy5jbG9zZXN0KCdsaScpLCAkdWwpXG4gICAgdGhpcy5hY3RpdmF0ZSgkdGFyZ2V0LCAkdGFyZ2V0LnBhcmVudCgpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkcHJldmlvdXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdoaWRkZW4uYnMudGFiJyxcbiAgICAgICAgcmVsYXRlZFRhcmdldDogJHRoaXNbMF1cbiAgICAgIH0pXG4gICAgICAkdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3Nob3duLmJzLnRhYicsXG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6ICRwcmV2aW91c1swXVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgVGFiLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyICRhY3RpdmUgICAgPSBjb250YWluZXIuZmluZCgnPiAuYWN0aXZlJylcbiAgICB2YXIgdHJhbnNpdGlvbiA9IGNhbGxiYWNrXG4gICAgICAmJiAkLnN1cHBvcnQudHJhbnNpdGlvblxuICAgICAgJiYgKCRhY3RpdmUubGVuZ3RoICYmICRhY3RpdmUuaGFzQ2xhc3MoJ2ZhZGUnKSB8fCAhIWNvbnRhaW5lci5maW5kKCc+IC5mYWRlJykubGVuZ3RoKVxuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICRhY3RpdmVcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAuZmluZCgnPiAuZHJvcGRvd24tbWVudSA+IC5hY3RpdmUnKVxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmVuZCgpXG4gICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKVxuICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICAgIGVsZW1lbnRcbiAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJylcbiAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gcmVmbG93IGZvciB0cmFuc2l0aW9uXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2luJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2ZhZGUnKVxuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudC5wYXJlbnQoJy5kcm9wZG93bi1tZW51JykubGVuZ3RoKSB7XG4gICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAuY2xvc2VzdCgnbGkuZHJvcGRvd24nKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgfVxuXG4gICAgJGFjdGl2ZS5sZW5ndGggJiYgdHJhbnNpdGlvbiA/XG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIG5leHQpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChUYWIuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgbmV4dCgpXG5cbiAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdpbicpXG4gIH1cblxuXG4gIC8vIFRBQiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy50YWInKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRhYicsIChkYXRhID0gbmV3IFRhYih0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udGFiXG5cbiAgJC5mbi50YWIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50YWIuQ29uc3RydWN0b3IgPSBUYWJcblxuXG4gIC8vIFRBQiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkLmZuLnRhYi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4udGFiID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gVEFCIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PVxuXG4gIHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIFBsdWdpbi5jYWxsKCQodGhpcyksICdzaG93JylcbiAgfVxuXG4gICQoZG9jdW1lbnQpXG4gICAgLm9uKCdjbGljay5icy50YWIuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJywgY2xpY2tIYW5kbGVyKVxuICAgIC5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInBpbGxcIl0nLCBjbGlja0hhbmRsZXIpXG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0b29sdGlwLmpzIHYzLjMuNVxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdG9vbHRpcFxuICogSW5zcGlyZWQgYnkgdGhlIG9yaWdpbmFsIGpRdWVyeS50aXBzeSBieSBKYXNvbiBGcmFtZVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFRPT0xUSVAgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBUb29sdGlwID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnR5cGUgICAgICAgPSBudWxsXG4gICAgdGhpcy5vcHRpb25zICAgID0gbnVsbFxuICAgIHRoaXMuZW5hYmxlZCAgICA9IG51bGxcbiAgICB0aGlzLnRpbWVvdXQgICAgPSBudWxsXG4gICAgdGhpcy5ob3ZlclN0YXRlID0gbnVsbFxuICAgIHRoaXMuJGVsZW1lbnQgICA9IG51bGxcbiAgICB0aGlzLmluU3RhdGUgICAgPSBudWxsXG5cbiAgICB0aGlzLmluaXQoJ3Rvb2x0aXAnLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgVG9vbHRpcC5WRVJTSU9OICA9ICczLjMuNSdcblxuICBUb29sdGlwLlRSQU5TSVRJT05fRFVSQVRJT04gPSAxNTBcblxuICBUb29sdGlwLkRFRkFVTFRTID0ge1xuICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICBwbGFjZW1lbnQ6ICd0b3AnLFxuICAgIHNlbGVjdG9yOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJ0b29sdGlwXCIgcm9sZT1cInRvb2x0aXBcIj48ZGl2IGNsYXNzPVwidG9vbHRpcC1hcnJvd1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJ0b29sdGlwLWlubmVyXCI+PC9kaXY+PC9kaXY+JyxcbiAgICB0cmlnZ2VyOiAnaG92ZXIgZm9jdXMnLFxuICAgIHRpdGxlOiAnJyxcbiAgICBkZWxheTogMCxcbiAgICBodG1sOiBmYWxzZSxcbiAgICBjb250YWluZXI6IGZhbHNlLFxuICAgIHZpZXdwb3J0OiB7XG4gICAgICBzZWxlY3RvcjogJ2JvZHknLFxuICAgICAgcGFkZGluZzogMFxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAodHlwZSwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuZW5hYmxlZCAgID0gdHJ1ZVxuICAgIHRoaXMudHlwZSAgICAgID0gdHlwZVxuICAgIHRoaXMuJGVsZW1lbnQgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgID0gdGhpcy5nZXRPcHRpb25zKG9wdGlvbnMpXG4gICAgdGhpcy4kdmlld3BvcnQgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgJCgkLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLnZpZXdwb3J0KSA/IHRoaXMub3B0aW9ucy52aWV3cG9ydC5jYWxsKHRoaXMsIHRoaXMuJGVsZW1lbnQpIDogKHRoaXMub3B0aW9ucy52aWV3cG9ydC5zZWxlY3RvciB8fCB0aGlzLm9wdGlvbnMudmlld3BvcnQpKVxuICAgIHRoaXMuaW5TdGF0ZSAgID0geyBjbGljazogZmFsc2UsIGhvdmVyOiBmYWxzZSwgZm9jdXM6IGZhbHNlIH1cblxuICAgIGlmICh0aGlzLiRlbGVtZW50WzBdIGluc3RhbmNlb2YgZG9jdW1lbnQuY29uc3RydWN0b3IgJiYgIXRoaXMub3B0aW9ucy5zZWxlY3Rvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgc2VsZWN0b3JgIG9wdGlvbiBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIGluaXRpYWxpemluZyAnICsgdGhpcy50eXBlICsgJyBvbiB0aGUgd2luZG93LmRvY3VtZW50IG9iamVjdCEnKVxuICAgIH1cblxuICAgIHZhciB0cmlnZ2VycyA9IHRoaXMub3B0aW9ucy50cmlnZ2VyLnNwbGl0KCcgJylcblxuICAgIGZvciAodmFyIGkgPSB0cmlnZ2Vycy5sZW5ndGg7IGktLTspIHtcbiAgICAgIHZhciB0cmlnZ2VyID0gdHJpZ2dlcnNbaV1cblxuICAgICAgaWYgKHRyaWdnZXIgPT0gJ2NsaWNrJykge1xuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy50b2dnbGUsIHRoaXMpKVxuICAgICAgfSBlbHNlIGlmICh0cmlnZ2VyICE9ICdtYW51YWwnKSB7XG4gICAgICAgIHZhciBldmVudEluICA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWVudGVyJyA6ICdmb2N1c2luJ1xuICAgICAgICB2YXIgZXZlbnRPdXQgPSB0cmlnZ2VyID09ICdob3ZlcicgPyAnbW91c2VsZWF2ZScgOiAnZm9jdXNvdXQnXG5cbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbihldmVudEluICArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMuZW50ZXIsIHRoaXMpKVxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50T3V0ICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5sZWF2ZSwgdGhpcykpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zLnNlbGVjdG9yID9cbiAgICAgICh0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgeyB0cmlnZ2VyOiAnbWFudWFsJywgc2VsZWN0b3I6ICcnIH0pKSA6XG4gICAgICB0aGlzLmZpeFRpdGxlKClcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldERlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBUb29sdGlwLkRFRkFVTFRTXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMuZ2V0RGVmYXVsdHMoKSwgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpXG5cbiAgICBpZiAob3B0aW9ucy5kZWxheSAmJiB0eXBlb2Ygb3B0aW9ucy5kZWxheSA9PSAnbnVtYmVyJykge1xuICAgICAgb3B0aW9ucy5kZWxheSA9IHtcbiAgICAgICAgc2hvdzogb3B0aW9ucy5kZWxheSxcbiAgICAgICAgaGlkZTogb3B0aW9ucy5kZWxheVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvcHRpb25zXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXREZWxlZ2F0ZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdGlvbnMgID0ge31cbiAgICB2YXIgZGVmYXVsdHMgPSB0aGlzLmdldERlZmF1bHRzKClcblxuICAgIHRoaXMuX29wdGlvbnMgJiYgJC5lYWNoKHRoaXMuX29wdGlvbnMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoZGVmYXVsdHNba2V5XSAhPSB2YWx1ZSkgb3B0aW9uc1trZXldID0gdmFsdWVcbiAgICB9KVxuXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmVudGVyID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XG4gICAgICBvYmogOiAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgIH1cblxuICAgIGlmIChvYmogaW5zdGFuY2VvZiAkLkV2ZW50KSB7XG4gICAgICBzZWxmLmluU3RhdGVbb2JqLnR5cGUgPT0gJ2ZvY3VzaW4nID8gJ2ZvY3VzJyA6ICdob3ZlciddID0gdHJ1ZVxuICAgIH1cblxuICAgIGlmIChzZWxmLnRpcCgpLmhhc0NsYXNzKCdpbicpIHx8IHNlbGYuaG92ZXJTdGF0ZSA9PSAnaW4nKSB7XG4gICAgICBzZWxmLmhvdmVyU3RhdGUgPSAnaW4nXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KVxuXG4gICAgc2VsZi5ob3ZlclN0YXRlID0gJ2luJ1xuXG4gICAgaWYgKCFzZWxmLm9wdGlvbnMuZGVsYXkgfHwgIXNlbGYub3B0aW9ucy5kZWxheS5zaG93KSByZXR1cm4gc2VsZi5zaG93KClcblxuICAgIHNlbGYudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHNlbGYuaG92ZXJTdGF0ZSA9PSAnaW4nKSBzZWxmLnNob3coKVxuICAgIH0sIHNlbGYub3B0aW9ucy5kZWxheS5zaG93KVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaXNJblN0YXRlVHJ1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5pblN0YXRlKSB7XG4gICAgICBpZiAodGhpcy5pblN0YXRlW2tleV0pIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5sZWF2ZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgc2VsZiA9IG9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IgP1xuICAgICAgb2JqIDogJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICghc2VsZikge1xuICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICB9XG5cbiAgICBpZiAob2JqIGluc3RhbmNlb2YgJC5FdmVudCkge1xuICAgICAgc2VsZi5pblN0YXRlW29iai50eXBlID09ICdmb2N1c291dCcgPyAnZm9jdXMnIDogJ2hvdmVyJ10gPSBmYWxzZVxuICAgIH1cblxuICAgIGlmIChzZWxmLmlzSW5TdGF0ZVRydWUoKSkgcmV0dXJuXG5cbiAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KVxuXG4gICAgc2VsZi5ob3ZlclN0YXRlID0gJ291dCdcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSkgcmV0dXJuIHNlbGYuaGlkZSgpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ291dCcpIHNlbGYuaGlkZSgpXG4gICAgfSwgc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlID0gJC5FdmVudCgnc2hvdy5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKHRoaXMuaGFzQ29udGVudCgpICYmIHRoaXMuZW5hYmxlZCkge1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICAgIHZhciBpbkRvbSA9ICQuY29udGFpbnModGhpcy4kZWxlbWVudFswXS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpcy4kZWxlbWVudFswXSlcbiAgICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8ICFpbkRvbSkgcmV0dXJuXG4gICAgICB2YXIgdGhhdCA9IHRoaXNcblxuICAgICAgdmFyICR0aXAgPSB0aGlzLnRpcCgpXG5cbiAgICAgIHZhciB0aXBJZCA9IHRoaXMuZ2V0VUlEKHRoaXMudHlwZSlcblxuICAgICAgdGhpcy5zZXRDb250ZW50KClcbiAgICAgICR0aXAuYXR0cignaWQnLCB0aXBJZClcbiAgICAgIHRoaXMuJGVsZW1lbnQuYXR0cignYXJpYS1kZXNjcmliZWRieScsIHRpcElkKVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmFuaW1hdGlvbikgJHRpcC5hZGRDbGFzcygnZmFkZScpXG5cbiAgICAgIHZhciBwbGFjZW1lbnQgPSB0eXBlb2YgdGhpcy5vcHRpb25zLnBsYWNlbWVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgdGhpcy5vcHRpb25zLnBsYWNlbWVudC5jYWxsKHRoaXMsICR0aXBbMF0sIHRoaXMuJGVsZW1lbnRbMF0pIDpcbiAgICAgICAgdGhpcy5vcHRpb25zLnBsYWNlbWVudFxuXG4gICAgICB2YXIgYXV0b1Rva2VuID0gL1xccz9hdXRvP1xccz8vaVxuICAgICAgdmFyIGF1dG9QbGFjZSA9IGF1dG9Ub2tlbi50ZXN0KHBsYWNlbWVudClcbiAgICAgIGlmIChhdXRvUGxhY2UpIHBsYWNlbWVudCA9IHBsYWNlbWVudC5yZXBsYWNlKGF1dG9Ub2tlbiwgJycpIHx8ICd0b3AnXG5cbiAgICAgICR0aXBcbiAgICAgICAgLmRldGFjaCgpXG4gICAgICAgIC5jc3MoeyB0b3A6IDAsIGxlZnQ6IDAsIGRpc3BsYXk6ICdibG9jaycgfSlcbiAgICAgICAgLmFkZENsYXNzKHBsYWNlbWVudClcbiAgICAgICAgLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHRoaXMpXG5cbiAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIgPyAkdGlwLmFwcGVuZFRvKHRoaXMub3B0aW9ucy5jb250YWluZXIpIDogJHRpcC5pbnNlcnRBZnRlcih0aGlzLiRlbGVtZW50KVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdpbnNlcnRlZC5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgICB2YXIgcG9zICAgICAgICAgID0gdGhpcy5nZXRQb3NpdGlvbigpXG4gICAgICB2YXIgYWN0dWFsV2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICAgIGlmIChhdXRvUGxhY2UpIHtcbiAgICAgICAgdmFyIG9yZ1BsYWNlbWVudCA9IHBsYWNlbWVudFxuICAgICAgICB2YXIgdmlld3BvcnREaW0gPSB0aGlzLmdldFBvc2l0aW9uKHRoaXMuJHZpZXdwb3J0KVxuXG4gICAgICAgIHBsYWNlbWVudCA9IHBsYWNlbWVudCA9PSAnYm90dG9tJyAmJiBwb3MuYm90dG9tICsgYWN0dWFsSGVpZ2h0ID4gdmlld3BvcnREaW0uYm90dG9tID8gJ3RvcCcgICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ3RvcCcgICAgJiYgcG9zLnRvcCAgICAtIGFjdHVhbEhlaWdodCA8IHZpZXdwb3J0RGltLnRvcCAgICA/ICdib3R0b20nIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICdyaWdodCcgICYmIHBvcy5yaWdodCAgKyBhY3R1YWxXaWR0aCAgPiB2aWV3cG9ydERpbS53aWR0aCAgPyAnbGVmdCcgICA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAnbGVmdCcgICAmJiBwb3MubGVmdCAgIC0gYWN0dWFsV2lkdGggIDwgdmlld3BvcnREaW0ubGVmdCAgID8gJ3JpZ2h0JyAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnRcblxuICAgICAgICAkdGlwXG4gICAgICAgICAgLnJlbW92ZUNsYXNzKG9yZ1BsYWNlbWVudClcbiAgICAgICAgICAuYWRkQ2xhc3MocGxhY2VtZW50KVxuICAgICAgfVxuXG4gICAgICB2YXIgY2FsY3VsYXRlZE9mZnNldCA9IHRoaXMuZ2V0Q2FsY3VsYXRlZE9mZnNldChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodClcblxuICAgICAgdGhpcy5hcHBseVBsYWNlbWVudChjYWxjdWxhdGVkT2Zmc2V0LCBwbGFjZW1lbnQpXG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByZXZIb3ZlclN0YXRlID0gdGhhdC5ob3ZlclN0YXRlXG4gICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignc2hvd24uYnMuJyArIHRoYXQudHlwZSlcbiAgICAgICAgdGhhdC5ob3ZlclN0YXRlID0gbnVsbFxuXG4gICAgICAgIGlmIChwcmV2SG92ZXJTdGF0ZSA9PSAnb3V0JykgdGhhdC5sZWF2ZSh0aGF0KVxuICAgICAgfVxuXG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiR0aXAuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAgICR0aXBcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjb21wbGV0ZSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoVG9vbHRpcC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgIGNvbXBsZXRlKClcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5hcHBseVBsYWNlbWVudCA9IGZ1bmN0aW9uIChvZmZzZXQsIHBsYWNlbWVudCkge1xuICAgIHZhciAkdGlwICAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICB2YXIgaGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgIC8vIG1hbnVhbGx5IHJlYWQgbWFyZ2lucyBiZWNhdXNlIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpbmNsdWRlcyBkaWZmZXJlbmNlXG4gICAgdmFyIG1hcmdpblRvcCA9IHBhcnNlSW50KCR0aXAuY3NzKCdtYXJnaW4tdG9wJyksIDEwKVxuICAgIHZhciBtYXJnaW5MZWZ0ID0gcGFyc2VJbnQoJHRpcC5jc3MoJ21hcmdpbi1sZWZ0JyksIDEwKVxuXG4gICAgLy8gd2UgbXVzdCBjaGVjayBmb3IgTmFOIGZvciBpZSA4LzlcbiAgICBpZiAoaXNOYU4obWFyZ2luVG9wKSkgIG1hcmdpblRvcCAgPSAwXG4gICAgaWYgKGlzTmFOKG1hcmdpbkxlZnQpKSBtYXJnaW5MZWZ0ID0gMFxuXG4gICAgb2Zmc2V0LnRvcCAgKz0gbWFyZ2luVG9wXG4gICAgb2Zmc2V0LmxlZnQgKz0gbWFyZ2luTGVmdFxuXG4gICAgLy8gJC5mbi5vZmZzZXQgZG9lc24ndCByb3VuZCBwaXhlbCB2YWx1ZXNcbiAgICAvLyBzbyB3ZSB1c2Ugc2V0T2Zmc2V0IGRpcmVjdGx5IHdpdGggb3VyIG93biBmdW5jdGlvbiBCLTBcbiAgICAkLm9mZnNldC5zZXRPZmZzZXQoJHRpcFswXSwgJC5leHRlbmQoe1xuICAgICAgdXNpbmc6IGZ1bmN0aW9uIChwcm9wcykge1xuICAgICAgICAkdGlwLmNzcyh7XG4gICAgICAgICAgdG9wOiBNYXRoLnJvdW5kKHByb3BzLnRvcCksXG4gICAgICAgICAgbGVmdDogTWF0aC5yb3VuZChwcm9wcy5sZWZ0KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sIG9mZnNldCksIDApXG5cbiAgICAkdGlwLmFkZENsYXNzKCdpbicpXG5cbiAgICAvLyBjaGVjayB0byBzZWUgaWYgcGxhY2luZyB0aXAgaW4gbmV3IG9mZnNldCBjYXVzZWQgdGhlIHRpcCB0byByZXNpemUgaXRzZWxmXG4gICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICB2YXIgYWN0dWFsSGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgIGlmIChwbGFjZW1lbnQgPT0gJ3RvcCcgJiYgYWN0dWFsSGVpZ2h0ICE9IGhlaWdodCkge1xuICAgICAgb2Zmc2V0LnRvcCA9IG9mZnNldC50b3AgKyBoZWlnaHQgLSBhY3R1YWxIZWlnaHRcbiAgICB9XG5cbiAgICB2YXIgZGVsdGEgPSB0aGlzLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YShwbGFjZW1lbnQsIG9mZnNldCwgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodClcblxuICAgIGlmIChkZWx0YS5sZWZ0KSBvZmZzZXQubGVmdCArPSBkZWx0YS5sZWZ0XG4gICAgZWxzZSBvZmZzZXQudG9wICs9IGRlbHRhLnRvcFxuXG4gICAgdmFyIGlzVmVydGljYWwgICAgICAgICAgPSAvdG9wfGJvdHRvbS8udGVzdChwbGFjZW1lbnQpXG4gICAgdmFyIGFycm93RGVsdGEgICAgICAgICAgPSBpc1ZlcnRpY2FsID8gZGVsdGEubGVmdCAqIDIgLSB3aWR0aCArIGFjdHVhbFdpZHRoIDogZGVsdGEudG9wICogMiAtIGhlaWdodCArIGFjdHVhbEhlaWdodFxuICAgIHZhciBhcnJvd09mZnNldFBvc2l0aW9uID0gaXNWZXJ0aWNhbCA/ICdvZmZzZXRXaWR0aCcgOiAnb2Zmc2V0SGVpZ2h0J1xuXG4gICAgJHRpcC5vZmZzZXQob2Zmc2V0KVxuICAgIHRoaXMucmVwbGFjZUFycm93KGFycm93RGVsdGEsICR0aXBbMF1bYXJyb3dPZmZzZXRQb3NpdGlvbl0sIGlzVmVydGljYWwpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5yZXBsYWNlQXJyb3cgPSBmdW5jdGlvbiAoZGVsdGEsIGRpbWVuc2lvbiwgaXNWZXJ0aWNhbCkge1xuICAgIHRoaXMuYXJyb3coKVxuICAgICAgLmNzcyhpc1ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCcsIDUwICogKDEgLSBkZWx0YSAvIGRpbWVuc2lvbikgKyAnJScpXG4gICAgICAuY3NzKGlzVmVydGljYWwgPyAndG9wJyA6ICdsZWZ0JywgJycpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGlwICA9IHRoaXMudGlwKClcbiAgICB2YXIgdGl0bGUgPSB0aGlzLmdldFRpdGxlKClcblxuICAgICR0aXAuZmluZCgnLnRvb2x0aXAtaW5uZXInKVt0aGlzLm9wdGlvbnMuaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10odGl0bGUpXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSBpbiB0b3AgYm90dG9tIGxlZnQgcmlnaHQnKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHZhciAkdGlwID0gJCh0aGlzLiR0aXApXG4gICAgdmFyIGUgICAgPSAkLkV2ZW50KCdoaWRlLmJzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgIGlmICh0aGF0LmhvdmVyU3RhdGUgIT0gJ2luJykgJHRpcC5kZXRhY2goKVxuICAgICAgdGhhdC4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQXR0cignYXJpYS1kZXNjcmliZWRieScpXG4gICAgICAgIC50cmlnZ2VyKCdoaWRkZW4uYnMuJyArIHRoYXQudHlwZSlcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICB9XG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmICR0aXAuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAkdGlwXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNvbXBsZXRlKVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoVG9vbHRpcC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICBjb21wbGV0ZSgpXG5cbiAgICB0aGlzLmhvdmVyU3RhdGUgPSBudWxsXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZml4VGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIGlmICgkZS5hdHRyKCd0aXRsZScpIHx8IHR5cGVvZiAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJykgIT0gJ3N0cmluZycpIHtcbiAgICAgICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnLCAkZS5hdHRyKCd0aXRsZScpIHx8ICcnKS5hdHRyKCd0aXRsZScsICcnKVxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhhc0NvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGl0bGUoKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0UG9zaXRpb24gPSBmdW5jdGlvbiAoJGVsZW1lbnQpIHtcbiAgICAkZWxlbWVudCAgID0gJGVsZW1lbnQgfHwgdGhpcy4kZWxlbWVudFxuXG4gICAgdmFyIGVsICAgICA9ICRlbGVtZW50WzBdXG4gICAgdmFyIGlzQm9keSA9IGVsLnRhZ05hbWUgPT0gJ0JPRFknXG5cbiAgICB2YXIgZWxSZWN0ICAgID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICBpZiAoZWxSZWN0LndpZHRoID09IG51bGwpIHtcbiAgICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQgYXJlIG1pc3NpbmcgaW4gSUU4LCBzbyBjb21wdXRlIHRoZW0gbWFudWFsbHk7IHNlZSBodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvaXNzdWVzLzE0MDkzXG4gICAgICBlbFJlY3QgPSAkLmV4dGVuZCh7fSwgZWxSZWN0LCB7IHdpZHRoOiBlbFJlY3QucmlnaHQgLSBlbFJlY3QubGVmdCwgaGVpZ2h0OiBlbFJlY3QuYm90dG9tIC0gZWxSZWN0LnRvcCB9KVxuICAgIH1cbiAgICB2YXIgZWxPZmZzZXQgID0gaXNCb2R5ID8geyB0b3A6IDAsIGxlZnQ6IDAgfSA6ICRlbGVtZW50Lm9mZnNldCgpXG4gICAgdmFyIHNjcm9sbCAgICA9IHsgc2Nyb2xsOiBpc0JvZHkgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wIDogJGVsZW1lbnQuc2Nyb2xsVG9wKCkgfVxuICAgIHZhciBvdXRlckRpbXMgPSBpc0JvZHkgPyB7IHdpZHRoOiAkKHdpbmRvdykud2lkdGgoKSwgaGVpZ2h0OiAkKHdpbmRvdykuaGVpZ2h0KCkgfSA6IG51bGxcblxuICAgIHJldHVybiAkLmV4dGVuZCh7fSwgZWxSZWN0LCBzY3JvbGwsIG91dGVyRGltcywgZWxPZmZzZXQpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkT2Zmc2V0ID0gZnVuY3Rpb24gKHBsYWNlbWVudCwgcG9zLCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KSB7XG4gICAgcmV0dXJuIHBsYWNlbWVudCA9PSAnYm90dG9tJyA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCwgICBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgfSA6XG4gICAgICAgICAgIHBsYWNlbWVudCA9PSAndG9wJyAgICA/IHsgdG9wOiBwb3MudG9wIC0gYWN0dWFsSGVpZ2h0LCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCAvIDIgLSBhY3R1YWxXaWR0aCAvIDIgfSA6XG4gICAgICAgICAgIHBsYWNlbWVudCA9PSAnbGVmdCcgICA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCAtIGFjdHVhbFdpZHRoIH0gOlxuICAgICAgICAvKiBwbGFjZW1lbnQgPT0gJ3JpZ2h0JyAqLyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggfVxuXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpIHtcbiAgICB2YXIgZGVsdGEgPSB7IHRvcDogMCwgbGVmdDogMCB9XG4gICAgaWYgKCF0aGlzLiR2aWV3cG9ydCkgcmV0dXJuIGRlbHRhXG5cbiAgICB2YXIgdmlld3BvcnRQYWRkaW5nID0gdGhpcy5vcHRpb25zLnZpZXdwb3J0ICYmIHRoaXMub3B0aW9ucy52aWV3cG9ydC5wYWRkaW5nIHx8IDBcbiAgICB2YXIgdmlld3BvcnREaW1lbnNpb25zID0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydClcblxuICAgIGlmICgvcmlnaHR8bGVmdC8udGVzdChwbGFjZW1lbnQpKSB7XG4gICAgICB2YXIgdG9wRWRnZU9mZnNldCAgICA9IHBvcy50b3AgLSB2aWV3cG9ydFBhZGRpbmcgLSB2aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsXG4gICAgICB2YXIgYm90dG9tRWRnZU9mZnNldCA9IHBvcy50b3AgKyB2aWV3cG9ydFBhZGRpbmcgLSB2aWV3cG9ydERpbWVuc2lvbnMuc2Nyb2xsICsgYWN0dWFsSGVpZ2h0XG4gICAgICBpZiAodG9wRWRnZU9mZnNldCA8IHZpZXdwb3J0RGltZW5zaW9ucy50b3ApIHsgLy8gdG9wIG92ZXJmbG93XG4gICAgICAgIGRlbHRhLnRvcCA9IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgLSB0b3BFZGdlT2Zmc2V0XG4gICAgICB9IGVsc2UgaWYgKGJvdHRvbUVkZ2VPZmZzZXQgPiB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCkgeyAvLyBib3R0b20gb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEudG9wID0gdmlld3BvcnREaW1lbnNpb25zLnRvcCArIHZpZXdwb3J0RGltZW5zaW9ucy5oZWlnaHQgLSBib3R0b21FZGdlT2Zmc2V0XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsZWZ0RWRnZU9mZnNldCAgPSBwb3MubGVmdCAtIHZpZXdwb3J0UGFkZGluZ1xuICAgICAgdmFyIHJpZ2h0RWRnZU9mZnNldCA9IHBvcy5sZWZ0ICsgdmlld3BvcnRQYWRkaW5nICsgYWN0dWFsV2lkdGhcbiAgICAgIGlmIChsZWZ0RWRnZU9mZnNldCA8IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0KSB7IC8vIGxlZnQgb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEubGVmdCA9IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0IC0gbGVmdEVkZ2VPZmZzZXRcbiAgICAgIH0gZWxzZSBpZiAocmlnaHRFZGdlT2Zmc2V0ID4gdmlld3BvcnREaW1lbnNpb25zLnJpZ2h0KSB7IC8vIHJpZ2h0IG92ZXJmbG93XG4gICAgICAgIGRlbHRhLmxlZnQgPSB2aWV3cG9ydERpbWVuc2lvbnMubGVmdCArIHZpZXdwb3J0RGltZW5zaW9ucy53aWR0aCAtIHJpZ2h0RWRnZU9mZnNldFxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWx0YVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0VGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRpdGxlXG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xuXG4gICAgdGl0bGUgPSAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJylcbiAgICAgIHx8ICh0eXBlb2Ygby50aXRsZSA9PSAnZnVuY3Rpb24nID8gby50aXRsZS5jYWxsKCRlWzBdKSA6ICBvLnRpdGxlKVxuXG4gICAgcmV0dXJuIHRpdGxlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRVSUQgPSBmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgZG8gcHJlZml4ICs9IH5+KE1hdGgucmFuZG9tKCkgKiAxMDAwMDAwKVxuICAgIHdoaWxlIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcmVmaXgpKVxuICAgIHJldHVybiBwcmVmaXhcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRpcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJHRpcCkge1xuICAgICAgdGhpcy4kdGlwID0gJCh0aGlzLm9wdGlvbnMudGVtcGxhdGUpXG4gICAgICBpZiAodGhpcy4kdGlwLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih0aGlzLnR5cGUgKyAnIGB0ZW1wbGF0ZWAgb3B0aW9uIG11c3QgY29uc2lzdCBvZiBleGFjdGx5IDEgdG9wLWxldmVsIGVsZW1lbnQhJylcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuJHRpcFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLnRvb2x0aXAtYXJyb3cnKSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50b2dnbGVFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9ICF0aGlzLmVuYWJsZWRcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzXG4gICAgaWYgKGUpIHtcbiAgICAgIHNlbGYgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcbiAgICAgIGlmICghc2VsZikge1xuICAgICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZS5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgICAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZSkge1xuICAgICAgc2VsZi5pblN0YXRlLmNsaWNrID0gIXNlbGYuaW5TdGF0ZS5jbGlja1xuICAgICAgaWYgKHNlbGYuaXNJblN0YXRlVHJ1ZSgpKSBzZWxmLmVudGVyKHNlbGYpXG4gICAgICBlbHNlIHNlbGYubGVhdmUoc2VsZilcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi50aXAoKS5oYXNDbGFzcygnaW4nKSA/IHNlbGYubGVhdmUoc2VsZikgOiBzZWxmLmVudGVyKHNlbGYpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KVxuICAgIHRoaXMuaGlkZShmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LiRlbGVtZW50Lm9mZignLicgKyB0aGF0LnR5cGUpLnJlbW92ZURhdGEoJ2JzLicgKyB0aGF0LnR5cGUpXG4gICAgICBpZiAodGhhdC4kdGlwKSB7XG4gICAgICAgIHRoYXQuJHRpcC5kZXRhY2goKVxuICAgICAgfVxuICAgICAgdGhhdC4kdGlwID0gbnVsbFxuICAgICAgdGhhdC4kYXJyb3cgPSBudWxsXG4gICAgICB0aGF0LiR2aWV3cG9ydCA9IG51bGxcbiAgICB9KVxuICB9XG5cblxuICAvLyBUT09MVElQIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMudG9vbHRpcCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSAmJiAvZGVzdHJveXxoaWRlLy50ZXN0KG9wdGlvbikpIHJldHVyblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50b29sdGlwJywgKGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udG9vbHRpcFxuXG4gICQuZm4udG9vbHRpcCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IgPSBUb29sdGlwXG5cblxuICAvLyBUT09MVElQIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnRvb2x0aXAubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRvb2x0aXAgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0cmFuc2l0aW9uLmpzIHYzLjMuNVxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdHJhbnNpdGlvbnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDU1MgVFJBTlNJVElPTiBTVVBQT1JUIChTaG91dG91dDogaHR0cDovL3d3dy5tb2Rlcm5penIuY29tLylcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbkVuZCgpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib290c3RyYXAnKVxuXG4gICAgdmFyIHRyYW5zRW5kRXZlbnROYW1lcyA9IHtcbiAgICAgIFdlYmtpdFRyYW5zaXRpb24gOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgICBNb3pUcmFuc2l0aW9uICAgIDogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgT1RyYW5zaXRpb24gICAgICA6ICdvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCcsXG4gICAgICB0cmFuc2l0aW9uICAgICAgIDogJ3RyYW5zaXRpb25lbmQnXG4gICAgfVxuXG4gICAgZm9yICh2YXIgbmFtZSBpbiB0cmFuc0VuZEV2ZW50TmFtZXMpIHtcbiAgICAgIGlmIChlbC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7IGVuZDogdHJhbnNFbmRFdmVudE5hbWVzW25hbWVdIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2UgLy8gZXhwbGljaXQgZm9yIGllOCAoICAuXy4pXG4gIH1cblxuICAvLyBodHRwOi8vYmxvZy5hbGV4bWFjY2F3LmNvbS9jc3MtdHJhbnNpdGlvbnNcbiAgJC5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgIHZhciBjYWxsZWQgPSBmYWxzZVxuICAgIHZhciAkZWwgPSB0aGlzXG4gICAgJCh0aGlzKS5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHsgY2FsbGVkID0gdHJ1ZSB9KVxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsgaWYgKCFjYWxsZWQpICQoJGVsKS50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCkgfVxuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIGR1cmF0aW9uKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAkKGZ1bmN0aW9uICgpIHtcbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25FbmQoKVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuXG5cbiAgICAkLmV2ZW50LnNwZWNpYWwuYnNUcmFuc2l0aW9uRW5kID0ge1xuICAgICAgYmluZFR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgIGRlbGVnYXRlVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgaGFuZGxlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoJChlLnRhcmdldCkuaXModGhpcykpIHJldHVybiBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbn0oalF1ZXJ5KTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IHRoaXMuX2V2ZW50cyB8fCB7fTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxuRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikge1xuICBpZiAoIWlzTnVtYmVyKG4pIHx8IG4gPCAwIHx8IGlzTmFOKG4pKVxuICAgIHRocm93IFR5cGVFcnJvcignbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyJyk7XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgZXIsIGhhbmRsZXIsIGxlbiwgYXJncywgaSwgbGlzdGVuZXJzO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzKVxuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKHR5cGUgPT09ICdlcnJvcicpIHtcbiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fFxuICAgICAgICAoaXNPYmplY3QodGhpcy5fZXZlbnRzLmVycm9yKSAmJiAhdGhpcy5fZXZlbnRzLmVycm9yLmxlbmd0aCkpIHtcbiAgICAgIGVyID0gYXJndW1lbnRzWzFdO1xuICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCBcImVycm9yXCIgZXZlbnQuICgnICsgZXIgKyAnKScpO1xuICAgICAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNVbmRlZmluZWQoaGFuZGxlcikpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAvLyBmYXN0IGNhc2VzXG4gICAgICBjYXNlIDE6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDI6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvLyBzbG93ZXJcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkge1xuICBpZiAodGhpcy5fZXZlbnRzKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgICBpZiAoaXNGdW5jdGlvbihldmxpc3RlbmVyKSlcbiAgICAgIHJldHVybiAxO1xuICAgIGVsc2UgaWYgKGV2bGlzdGVuZXIpXG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIDA7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbn07XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc051bWJlcihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInO1xufVxuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbiIsIi8qIGZsYXRwaWNrciB2NC40LjMsIEBsaWNlbnNlIE1JVCAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gICAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgICAoZ2xvYmFsLmZsYXRwaWNrciA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBwYWQgPSBmdW5jdGlvbiBwYWQobnVtYmVyKSB7XG4gICAgICByZXR1cm4gKFwiMFwiICsgbnVtYmVyKS5zbGljZSgtMik7XG4gICAgfTtcbiAgICB2YXIgaW50ID0gZnVuY3Rpb24gaW50KGJvb2wpIHtcbiAgICAgIHJldHVybiBib29sID09PSB0cnVlID8gMSA6IDA7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBpbW1lZGlhdGUpIHtcbiAgICAgIGlmIChpbW1lZGlhdGUgPT09IHZvaWQgMCkge1xuICAgICAgICBpbW1lZGlhdGUgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHRpbWVvdXQ7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMsXG4gICAgICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICB0aW1lb3V0ICE9PSBudWxsICYmIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICBpZiAoIWltbWVkaWF0ZSkgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgfSwgd2FpdCk7XG4gICAgICAgIGlmIChpbW1lZGlhdGUgJiYgIXRpbWVvdXQpIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgYXJyYXlpZnkgPSBmdW5jdGlvbiBhcnJheWlmeShvYmopIHtcbiAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBBcnJheSA/IG9iaiA6IFtvYmpdO1xuICAgIH07XG5cbiAgICB2YXIgZG9fbm90aGluZyA9IGZ1bmN0aW9uIGRvX25vdGhpbmcoKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICB2YXIgbW9udGhUb1N0ciA9IGZ1bmN0aW9uIG1vbnRoVG9TdHIobW9udGhOdW1iZXIsIHNob3J0aGFuZCwgbG9jYWxlKSB7XG4gICAgICByZXR1cm4gbG9jYWxlLm1vbnRoc1tzaG9ydGhhbmQgPyBcInNob3J0aGFuZFwiIDogXCJsb25naGFuZFwiXVttb250aE51bWJlcl07XG4gICAgfTtcbiAgICB2YXIgcmV2Rm9ybWF0ID0ge1xuICAgICAgRDogZG9fbm90aGluZyxcbiAgICAgIEY6IGZ1bmN0aW9uIEYoZGF0ZU9iaiwgbW9udGhOYW1lLCBsb2NhbGUpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRNb250aChsb2NhbGUubW9udGhzLmxvbmdoYW5kLmluZGV4T2YobW9udGhOYW1lKSk7XG4gICAgICB9LFxuICAgICAgRzogZnVuY3Rpb24gRyhkYXRlT2JqLCBob3VyKSB7XG4gICAgICAgIGRhdGVPYmouc2V0SG91cnMocGFyc2VGbG9hdChob3VyKSk7XG4gICAgICB9LFxuICAgICAgSDogZnVuY3Rpb24gSChkYXRlT2JqLCBob3VyKSB7XG4gICAgICAgIGRhdGVPYmouc2V0SG91cnMocGFyc2VGbG9hdChob3VyKSk7XG4gICAgICB9LFxuICAgICAgSjogZnVuY3Rpb24gSihkYXRlT2JqLCBkYXkpIHtcbiAgICAgICAgZGF0ZU9iai5zZXREYXRlKHBhcnNlRmxvYXQoZGF5KSk7XG4gICAgICB9LFxuICAgICAgSzogZnVuY3Rpb24gSyhkYXRlT2JqLCBhbVBNLCBsb2NhbGUpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRIb3VycyhkYXRlT2JqLmdldEhvdXJzKCkgJSAxMiArIDEyICogaW50KG5ldyBSZWdFeHAobG9jYWxlLmFtUE1bMV0sIFwiaVwiKS50ZXN0KGFtUE0pKSk7XG4gICAgICB9LFxuICAgICAgTTogZnVuY3Rpb24gTShkYXRlT2JqLCBzaG9ydE1vbnRoLCBsb2NhbGUpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRNb250aChsb2NhbGUubW9udGhzLnNob3J0aGFuZC5pbmRleE9mKHNob3J0TW9udGgpKTtcbiAgICAgIH0sXG4gICAgICBTOiBmdW5jdGlvbiBTKGRhdGVPYmosIHNlY29uZHMpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRTZWNvbmRzKHBhcnNlRmxvYXQoc2Vjb25kcykpO1xuICAgICAgfSxcbiAgICAgIFU6IGZ1bmN0aW9uIFUoXywgdW5peFNlY29uZHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHBhcnNlRmxvYXQodW5peFNlY29uZHMpICogMTAwMCk7XG4gICAgICB9LFxuICAgICAgVzogZnVuY3Rpb24gVyhkYXRlT2JqLCB3ZWVrTnVtKSB7XG4gICAgICAgIHZhciB3ZWVrTnVtYmVyID0gcGFyc2VJbnQod2Vla051bSk7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlT2JqLmdldEZ1bGxZZWFyKCksIDAsIDIgKyAod2Vla051bWJlciAtIDEpICogNywgMCwgMCwgMCwgMCk7XG4gICAgICB9LFxuICAgICAgWTogZnVuY3Rpb24gWShkYXRlT2JqLCB5ZWFyKSB7XG4gICAgICAgIGRhdGVPYmouc2V0RnVsbFllYXIocGFyc2VGbG9hdCh5ZWFyKSk7XG4gICAgICB9LFxuICAgICAgWjogZnVuY3Rpb24gWihfLCBJU09EYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShJU09EYXRlKTtcbiAgICAgIH0sXG4gICAgICBkOiBmdW5jdGlvbiBkKGRhdGVPYmosIGRheSkge1xuICAgICAgICBkYXRlT2JqLnNldERhdGUocGFyc2VGbG9hdChkYXkpKTtcbiAgICAgIH0sXG4gICAgICBoOiBmdW5jdGlvbiBoKGRhdGVPYmosIGhvdXIpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRIb3VycyhwYXJzZUZsb2F0KGhvdXIpKTtcbiAgICAgIH0sXG4gICAgICBpOiBmdW5jdGlvbiBpKGRhdGVPYmosIG1pbnV0ZXMpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRNaW51dGVzKHBhcnNlRmxvYXQobWludXRlcykpO1xuICAgICAgfSxcbiAgICAgIGo6IGZ1bmN0aW9uIGooZGF0ZU9iaiwgZGF5KSB7XG4gICAgICAgIGRhdGVPYmouc2V0RGF0ZShwYXJzZUZsb2F0KGRheSkpO1xuICAgICAgfSxcbiAgICAgIGw6IGRvX25vdGhpbmcsXG4gICAgICBtOiBmdW5jdGlvbiBtKGRhdGVPYmosIG1vbnRoKSB7XG4gICAgICAgIGRhdGVPYmouc2V0TW9udGgocGFyc2VGbG9hdChtb250aCkgLSAxKTtcbiAgICAgIH0sXG4gICAgICBuOiBmdW5jdGlvbiBuKGRhdGVPYmosIG1vbnRoKSB7XG4gICAgICAgIGRhdGVPYmouc2V0TW9udGgocGFyc2VGbG9hdChtb250aCkgLSAxKTtcbiAgICAgIH0sXG4gICAgICBzOiBmdW5jdGlvbiBzKGRhdGVPYmosIHNlY29uZHMpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRTZWNvbmRzKHBhcnNlRmxvYXQoc2Vjb25kcykpO1xuICAgICAgfSxcbiAgICAgIHc6IGRvX25vdGhpbmcsXG4gICAgICB5OiBmdW5jdGlvbiB5KGRhdGVPYmosIHllYXIpIHtcbiAgICAgICAgZGF0ZU9iai5zZXRGdWxsWWVhcigyMDAwICsgcGFyc2VGbG9hdCh5ZWFyKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgdG9rZW5SZWdleCA9IHtcbiAgICAgIEQ6IFwiKFxcXFx3KylcIixcbiAgICAgIEY6IFwiKFxcXFx3KylcIixcbiAgICAgIEc6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXG4gICAgICBIOiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxuICAgICAgSjogXCIoXFxcXGRcXFxcZHxcXFxcZClcXFxcdytcIixcbiAgICAgIEs6IFwiXCIsXG4gICAgICBNOiBcIihcXFxcdyspXCIsXG4gICAgICBTOiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxuICAgICAgVTogXCIoLispXCIsXG4gICAgICBXOiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxuICAgICAgWTogXCIoXFxcXGR7NH0pXCIsXG4gICAgICBaOiBcIiguKylcIixcbiAgICAgIGQ6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXG4gICAgICBoOiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxuICAgICAgaTogXCIoXFxcXGRcXFxcZHxcXFxcZClcIixcbiAgICAgIGo6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXG4gICAgICBsOiBcIihcXFxcdyspXCIsXG4gICAgICBtOiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxuICAgICAgbjogXCIoXFxcXGRcXFxcZHxcXFxcZClcIixcbiAgICAgIHM6IFwiKFxcXFxkXFxcXGR8XFxcXGQpXCIsXG4gICAgICB3OiBcIihcXFxcZFxcXFxkfFxcXFxkKVwiLFxuICAgICAgeTogXCIoXFxcXGR7Mn0pXCJcbiAgICB9O1xuICAgIHZhciBmb3JtYXRzID0ge1xuICAgICAgWjogZnVuY3Rpb24gWihkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCk7XG4gICAgICB9LFxuICAgICAgRDogZnVuY3Rpb24gRChkYXRlLCBsb2NhbGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS53ZWVrZGF5cy5zaG9ydGhhbmRbZm9ybWF0cy53KGRhdGUsIGxvY2FsZSwgb3B0aW9ucyldO1xuICAgICAgfSxcbiAgICAgIEY6IGZ1bmN0aW9uIEYoZGF0ZSwgbG9jYWxlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBtb250aFRvU3RyKGZvcm1hdHMubihkYXRlLCBsb2NhbGUsIG9wdGlvbnMpIC0gMSwgZmFsc2UsIGxvY2FsZSk7XG4gICAgICB9LFxuICAgICAgRzogZnVuY3Rpb24gRyhkYXRlLCBsb2NhbGUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHBhZChmb3JtYXRzLmgoZGF0ZSwgbG9jYWxlLCBvcHRpb25zKSk7XG4gICAgICB9LFxuICAgICAgSDogZnVuY3Rpb24gSChkYXRlKSB7XG4gICAgICAgIHJldHVybiBwYWQoZGF0ZS5nZXRIb3VycygpKTtcbiAgICAgIH0sXG4gICAgICBKOiBmdW5jdGlvbiBKKGRhdGUsIGxvY2FsZSkge1xuICAgICAgICByZXR1cm4gbG9jYWxlLm9yZGluYWwgIT09IHVuZGVmaW5lZCA/IGRhdGUuZ2V0RGF0ZSgpICsgbG9jYWxlLm9yZGluYWwoZGF0ZS5nZXREYXRlKCkpIDogZGF0ZS5nZXREYXRlKCk7XG4gICAgICB9LFxuICAgICAgSzogZnVuY3Rpb24gSyhkYXRlLCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5hbVBNW2ludChkYXRlLmdldEhvdXJzKCkgPiAxMSldO1xuICAgICAgfSxcbiAgICAgIE06IGZ1bmN0aW9uIE0oZGF0ZSwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBtb250aFRvU3RyKGRhdGUuZ2V0TW9udGgoKSwgdHJ1ZSwgbG9jYWxlKTtcbiAgICAgIH0sXG4gICAgICBTOiBmdW5jdGlvbiBTKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHBhZChkYXRlLmdldFNlY29uZHMoKSk7XG4gICAgICB9LFxuICAgICAgVTogZnVuY3Rpb24gVShkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldFRpbWUoKSAvIDEwMDA7XG4gICAgICB9LFxuICAgICAgVzogZnVuY3Rpb24gVyhkYXRlLCBfLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmdldFdlZWsoZGF0ZSk7XG4gICAgICB9LFxuICAgICAgWTogZnVuY3Rpb24gWShkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICB9LFxuICAgICAgZDogZnVuY3Rpb24gZChkYXRlKSB7XG4gICAgICAgIHJldHVybiBwYWQoZGF0ZS5nZXREYXRlKCkpO1xuICAgICAgfSxcbiAgICAgIGg6IGZ1bmN0aW9uIGgoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZS5nZXRIb3VycygpICUgMTIgPyBkYXRlLmdldEhvdXJzKCkgJSAxMiA6IDEyO1xuICAgICAgfSxcbiAgICAgIGk6IGZ1bmN0aW9uIGkoZGF0ZSkge1xuICAgICAgICByZXR1cm4gcGFkKGRhdGUuZ2V0TWludXRlcygpKTtcbiAgICAgIH0sXG4gICAgICBqOiBmdW5jdGlvbiBqKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIGw6IGZ1bmN0aW9uIGwoZGF0ZSwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUud2Vla2RheXMubG9uZ2hhbmRbZGF0ZS5nZXREYXkoKV07XG4gICAgICB9LFxuICAgICAgbTogZnVuY3Rpb24gbShkYXRlKSB7XG4gICAgICAgIHJldHVybiBwYWQoZGF0ZS5nZXRNb250aCgpICsgMSk7XG4gICAgICB9LFxuICAgICAgbjogZnVuY3Rpb24gbihkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgICAgfSxcbiAgICAgIHM6IGZ1bmN0aW9uIHMoZGF0ZSkge1xuICAgICAgICByZXR1cm4gZGF0ZS5nZXRTZWNvbmRzKCk7XG4gICAgICB9LFxuICAgICAgdzogZnVuY3Rpb24gdyhkYXRlKSB7XG4gICAgICAgIHJldHVybiBkYXRlLmdldERheSgpO1xuICAgICAgfSxcbiAgICAgIHk6IGZ1bmN0aW9uIHkoZGF0ZSkge1xuICAgICAgICByZXR1cm4gU3RyaW5nKGRhdGUuZ2V0RnVsbFllYXIoKSkuc3Vic3RyaW5nKDIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgZW5nbGlzaCA9IHtcbiAgICAgIHdlZWtkYXlzOiB7XG4gICAgICAgIHNob3J0aGFuZDogW1wiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCJdLFxuICAgICAgICBsb25naGFuZDogW1wiU3VuZGF5XCIsIFwiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIl1cbiAgICAgIH0sXG4gICAgICBtb250aHM6IHtcbiAgICAgICAgc2hvcnRoYW5kOiBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl0sXG4gICAgICAgIGxvbmdoYW5kOiBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXVxuICAgICAgfSxcbiAgICAgIGRheXNJbk1vbnRoOiBbMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV0sXG4gICAgICBmaXJzdERheU9mV2VlazogMCxcbiAgICAgIG9yZGluYWw6IGZ1bmN0aW9uIG9yZGluYWwobnRoKSB7XG4gICAgICAgIHZhciBzID0gbnRoICUgMTAwO1xuICAgICAgICBpZiAocyA+IDMgJiYgcyA8IDIxKSByZXR1cm4gXCJ0aFwiO1xuXG4gICAgICAgIHN3aXRjaCAocyAlIDEwKSB7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuIFwic3RcIjtcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHJldHVybiBcIm5kXCI7XG5cbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gXCJyZFwiO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBcInRoXCI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByYW5nZVNlcGFyYXRvcjogXCIgdG8gXCIsXG4gICAgICB3ZWVrQWJicmV2aWF0aW9uOiBcIldrXCIsXG4gICAgICBzY3JvbGxUaXRsZTogXCJTY3JvbGwgdG8gaW5jcmVtZW50XCIsXG4gICAgICB0b2dnbGVUaXRsZTogXCJDbGljayB0byB0b2dnbGVcIixcbiAgICAgIGFtUE06IFtcIkFNXCIsIFwiUE1cIl0sXG4gICAgICB5ZWFyQXJpYUxhYmVsOiBcIlllYXJcIlxuICAgIH07XG5cbiAgICB2YXIgY3JlYXRlRGF0ZUZvcm1hdHRlciA9IGZ1bmN0aW9uIGNyZWF0ZURhdGVGb3JtYXR0ZXIoX3JlZikge1xuICAgICAgdmFyIF9yZWYkY29uZmlnID0gX3JlZi5jb25maWcsXG4gICAgICAgICAgY29uZmlnID0gX3JlZiRjb25maWcgPT09IHZvaWQgMCA/IGRlZmF1bHRzIDogX3JlZiRjb25maWcsXG4gICAgICAgICAgX3JlZiRsMTBuID0gX3JlZi5sMTBuLFxuICAgICAgICAgIGwxMG4gPSBfcmVmJGwxMG4gPT09IHZvaWQgMCA/IGVuZ2xpc2ggOiBfcmVmJGwxMG47XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGVPYmosIGZybXQsIG92ZXJyaWRlTG9jYWxlKSB7XG4gICAgICAgIGlmIChjb25maWcuZm9ybWF0RGF0ZSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gY29uZmlnLmZvcm1hdERhdGUoZGF0ZU9iaiwgZnJtdCk7XG4gICAgICAgIHZhciBsb2NhbGUgPSBvdmVycmlkZUxvY2FsZSB8fCBsMTBuO1xuICAgICAgICByZXR1cm4gZnJtdC5zcGxpdChcIlwiKS5tYXAoZnVuY3Rpb24gKGMsIGksIGFycikge1xuICAgICAgICAgIHJldHVybiBmb3JtYXRzW2NdICYmIGFycltpIC0gMV0gIT09IFwiXFxcXFwiID8gZm9ybWF0c1tjXShkYXRlT2JqLCBsb2NhbGUsIGNvbmZpZykgOiBjICE9PSBcIlxcXFxcIiA/IGMgOiBcIlwiO1xuICAgICAgICB9KS5qb2luKFwiXCIpO1xuICAgICAgfTtcbiAgICB9O1xuICAgIHZhciBjcmVhdGVEYXRlUGFyc2VyID0gZnVuY3Rpb24gY3JlYXRlRGF0ZVBhcnNlcihfcmVmMikge1xuICAgICAgdmFyIF9yZWYyJGNvbmZpZyA9IF9yZWYyLmNvbmZpZyxcbiAgICAgICAgICBjb25maWcgPSBfcmVmMiRjb25maWcgPT09IHZvaWQgMCA/IGRlZmF1bHRzIDogX3JlZjIkY29uZmlnLFxuICAgICAgICAgIF9yZWYyJGwxMG4gPSBfcmVmMi5sMTBuLFxuICAgICAgICAgIGwxMG4gPSBfcmVmMiRsMTBuID09PSB2b2lkIDAgPyBlbmdsaXNoIDogX3JlZjIkbDEwbjtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZGF0ZSwgZ2l2ZW5Gb3JtYXQsIHRpbWVsZXNzKSB7XG4gICAgICAgIGlmIChkYXRlICE9PSAwICYmICFkYXRlKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgcGFyc2VkRGF0ZTtcbiAgICAgICAgdmFyIGRhdGVfb3JpZyA9IGRhdGU7XG4gICAgICAgIGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSkgcGFyc2VkRGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtlbHNlIGlmICh0eXBlb2YgZGF0ZSAhPT0gXCJzdHJpbmdcIiAmJiBkYXRlLnRvRml4ZWQgIT09IHVuZGVmaW5lZCkgcGFyc2VkRGF0ZSA9IG5ldyBEYXRlKGRhdGUpO2Vsc2UgaWYgKHR5cGVvZiBkYXRlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgdmFyIGZvcm1hdCA9IGdpdmVuRm9ybWF0IHx8IChjb25maWcgfHwgZGVmYXVsdHMpLmRhdGVGb3JtYXQ7XG4gICAgICAgICAgdmFyIGRhdGVzdHIgPSBTdHJpbmcoZGF0ZSkudHJpbSgpO1xuXG4gICAgICAgICAgaWYgKGRhdGVzdHIgPT09IFwidG9kYXlcIikge1xuICAgICAgICAgICAgcGFyc2VkRGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aW1lbGVzcyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmICgvWiQvLnRlc3QoZGF0ZXN0cikgfHwgL0dNVCQvLnRlc3QoZGF0ZXN0cikpIHBhcnNlZERhdGUgPSBuZXcgRGF0ZShkYXRlKTtlbHNlIGlmIChjb25maWcgJiYgY29uZmlnLnBhcnNlRGF0ZSkgcGFyc2VkRGF0ZSA9IGNvbmZpZy5wYXJzZURhdGUoZGF0ZSwgZm9ybWF0KTtlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlZERhdGUgPSAhY29uZmlnIHx8ICFjb25maWcubm9DYWxlbmRhciA/IG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgMCwgMSwgMCwgMCwgMCwgMCkgOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLnNldEhvdXJzKDAsIDAsIDAsIDApKTtcbiAgICAgICAgICAgIHZhciBtYXRjaGVkLFxuICAgICAgICAgICAgICAgIG9wcyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbWF0Y2hJbmRleCA9IDAsIHJlZ2V4U3RyID0gXCJcIjsgaSA8IGZvcm1hdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB2YXIgdG9rZW4gPSBmb3JtYXRbaV07XG4gICAgICAgICAgICAgIHZhciBpc0JhY2tTbGFzaCA9IHRva2VuID09PSBcIlxcXFxcIjtcbiAgICAgICAgICAgICAgdmFyIGVzY2FwZWQgPSBmb3JtYXRbaSAtIDFdID09PSBcIlxcXFxcIiB8fCBpc0JhY2tTbGFzaDtcblxuICAgICAgICAgICAgICBpZiAodG9rZW5SZWdleFt0b2tlbl0gJiYgIWVzY2FwZWQpIHtcbiAgICAgICAgICAgICAgICByZWdleFN0ciArPSB0b2tlblJlZ2V4W3Rva2VuXTtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBuZXcgUmVnRXhwKHJlZ2V4U3RyKS5leGVjKGRhdGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoICYmIChtYXRjaGVkID0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgIG9wc1t0b2tlbiAhPT0gXCJZXCIgPyBcInB1c2hcIiA6IFwidW5zaGlmdFwiXSh7XG4gICAgICAgICAgICAgICAgICAgIGZuOiByZXZGb3JtYXRbdG9rZW5dLFxuICAgICAgICAgICAgICAgICAgICB2YWw6IG1hdGNoWysrbWF0Y2hJbmRleF1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmICghaXNCYWNrU2xhc2gpIHJlZ2V4U3RyICs9IFwiLlwiO1xuXG4gICAgICAgICAgICAgIG9wcy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICAgICAgICAgIHZhciBmbiA9IF9yZWYzLmZuLFxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBfcmVmMy52YWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZERhdGUgPSBmbihwYXJzZWREYXRlLCB2YWwsIGwxMG4pIHx8IHBhcnNlZERhdGU7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwYXJzZWREYXRlID0gbWF0Y2hlZCA/IHBhcnNlZERhdGUgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCEocGFyc2VkRGF0ZSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgICAgICAgY29uZmlnLmVycm9ySGFuZGxlcihuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGUgcHJvdmlkZWQ6IFwiICsgZGF0ZV9vcmlnKSk7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aW1lbGVzcyA9PT0gdHJ1ZSkgcGFyc2VkRGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIHBhcnNlZERhdGU7XG4gICAgICB9O1xuICAgIH07XG4gICAgZnVuY3Rpb24gY29tcGFyZURhdGVzKGRhdGUxLCBkYXRlMiwgdGltZWxlc3MpIHtcbiAgICAgIGlmICh0aW1lbGVzcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRpbWVsZXNzID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRpbWVsZXNzICE9PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZTEuZ2V0VGltZSgpKS5zZXRIb3VycygwLCAwLCAwLCAwKSAtIG5ldyBEYXRlKGRhdGUyLmdldFRpbWUoKSkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRlMS5nZXRUaW1lKCkgLSBkYXRlMi5nZXRUaW1lKCk7XG4gICAgfVxuICAgIHZhciBnZXRXZWVrID0gZnVuY3Rpb24gZ2V0V2VlayhnaXZlbkRhdGUpIHtcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoZ2l2ZW5EYXRlLmdldFRpbWUoKSk7XG4gICAgICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgMyAtIChkYXRlLmdldERheSgpICsgNikgJSA3KTtcbiAgICAgIHZhciB3ZWVrMSA9IG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgMCwgNCk7XG4gICAgICByZXR1cm4gMSArIE1hdGgucm91bmQoKChkYXRlLmdldFRpbWUoKSAtIHdlZWsxLmdldFRpbWUoKSkgLyA4NjQwMDAwMCAtIDMgKyAod2VlazEuZ2V0RGF5KCkgKyA2KSAlIDcpIC8gNyk7XG4gICAgfTtcbiAgICB2YXIgaXNCZXR3ZWVuID0gZnVuY3Rpb24gaXNCZXR3ZWVuKHRzLCB0czEsIHRzMikge1xuICAgICAgcmV0dXJuIHRzID4gTWF0aC5taW4odHMxLCB0czIpICYmIHRzIDwgTWF0aC5tYXgodHMxLCB0czIpO1xuICAgIH07XG4gICAgdmFyIGR1cmF0aW9uID0ge1xuICAgICAgREFZOiA4NjQwMDAwMFxuICAgIH07XG5cbiAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICBfZGlzYWJsZTogW10sXG4gICAgICBfZW5hYmxlOiBbXSxcbiAgICAgIGFsbG93SW5wdXQ6IGZhbHNlLFxuICAgICAgYWx0Rm9ybWF0OiBcIkYgaiwgWVwiLFxuICAgICAgYWx0SW5wdXQ6IGZhbHNlLFxuICAgICAgYWx0SW5wdXRDbGFzczogXCJmb3JtLWNvbnRyb2wgaW5wdXRcIixcbiAgICAgIGFuaW1hdGU6IHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIgJiYgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk1TSUVcIikgPT09IC0xLFxuICAgICAgYXJpYURhdGVGb3JtYXQ6IFwiRiBqLCBZXCIsXG4gICAgICBjbGlja09wZW5zOiB0cnVlLFxuICAgICAgY2xvc2VPblNlbGVjdDogdHJ1ZSxcbiAgICAgIGNvbmp1bmN0aW9uOiBcIiwgXCIsXG4gICAgICBkYXRlRm9ybWF0OiBcIlktbS1kXCIsXG4gICAgICBkZWZhdWx0SG91cjogMTIsXG4gICAgICBkZWZhdWx0TWludXRlOiAwLFxuICAgICAgZGVmYXVsdFNlY29uZHM6IDAsXG4gICAgICBkaXNhYmxlOiBbXSxcbiAgICAgIGRpc2FibGVNb2JpbGU6IGZhbHNlLFxuICAgICAgZW5hYmxlOiBbXSxcbiAgICAgIGVuYWJsZVNlY29uZHM6IGZhbHNlLFxuICAgICAgZW5hYmxlVGltZTogZmFsc2UsXG4gICAgICBlcnJvckhhbmRsZXI6IGNvbnNvbGUud2FybixcbiAgICAgIGdldFdlZWs6IGdldFdlZWssXG4gICAgICBob3VySW5jcmVtZW50OiAxLFxuICAgICAgaWdub3JlZEZvY3VzRWxlbWVudHM6IFtdLFxuICAgICAgaW5saW5lOiBmYWxzZSxcbiAgICAgIGxvY2FsZTogXCJkZWZhdWx0XCIsXG4gICAgICBtaW51dGVJbmNyZW1lbnQ6IDUsXG4gICAgICBtb2RlOiBcInNpbmdsZVwiLFxuICAgICAgbmV4dEFycm93OiBcIjxzdmcgdmVyc2lvbj0nMS4xJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyB2aWV3Qm94PScwIDAgMTcgMTcnPjxnPjwvZz48cGF0aCBkPSdNMTMuMjA3IDguNDcybC03Ljg1NCA3Ljg1NC0wLjcwNy0wLjcwNyA3LjE0Ni03LjE0Ni03LjE0Ni03LjE0OCAwLjcwNy0wLjcwNyA3Ljg1NCA3Ljg1NHonIC8+PC9zdmc+XCIsXG4gICAgICBub0NhbGVuZGFyOiBmYWxzZSxcbiAgICAgIG5vdzogbmV3IERhdGUoKSxcbiAgICAgIG9uQ2hhbmdlOiBbXSxcbiAgICAgIG9uQ2xvc2U6IFtdLFxuICAgICAgb25EYXlDcmVhdGU6IFtdLFxuICAgICAgb25EZXN0cm95OiBbXSxcbiAgICAgIG9uS2V5RG93bjogW10sXG4gICAgICBvbk1vbnRoQ2hhbmdlOiBbXSxcbiAgICAgIG9uT3BlbjogW10sXG4gICAgICBvblBhcnNlQ29uZmlnOiBbXSxcbiAgICAgIG9uUmVhZHk6IFtdLFxuICAgICAgb25WYWx1ZVVwZGF0ZTogW10sXG4gICAgICBvblllYXJDaGFuZ2U6IFtdLFxuICAgICAgb25QcmVDYWxlbmRhclBvc2l0aW9uOiBbXSxcbiAgICAgIHBsdWdpbnM6IFtdLFxuICAgICAgcG9zaXRpb246IFwiYXV0b1wiLFxuICAgICAgcG9zaXRpb25FbGVtZW50OiB1bmRlZmluZWQsXG4gICAgICBwcmV2QXJyb3c6IFwiPHN2ZyB2ZXJzaW9uPScxLjEnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIHZpZXdCb3g9JzAgMCAxNyAxNyc+PGc+PC9nPjxwYXRoIGQ9J001LjIwNyA4LjQ3MWw3LjE0NiA3LjE0Ny0wLjcwNyAwLjcwNy03Ljg1My03Ljg1NCA3Ljg1NC03Ljg1MyAwLjcwNyAwLjcwNy03LjE0NyA3LjE0NnonIC8+PC9zdmc+XCIsXG4gICAgICBzaG9ydGhhbmRDdXJyZW50TW9udGg6IGZhbHNlLFxuICAgICAgc2hvd01vbnRoczogMSxcbiAgICAgIHN0YXRpYzogZmFsc2UsXG4gICAgICB0aW1lXzI0aHI6IGZhbHNlLFxuICAgICAgd2Vla051bWJlcnM6IGZhbHNlLFxuICAgICAgd3JhcDogZmFsc2VcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdG9nZ2xlQ2xhc3MoZWxlbSwgY2xhc3NOYW1lLCBib29sKSB7XG4gICAgICBpZiAoYm9vbCA9PT0gdHJ1ZSkgcmV0dXJuIGVsZW0uY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnLCBjbGFzc05hbWUsIGNvbnRlbnQpIHtcbiAgICAgIHZhciBlID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZSB8fCBcIlwiO1xuICAgICAgY29udGVudCA9IGNvbnRlbnQgfHwgXCJcIjtcbiAgICAgIGUuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgaWYgKGNvbnRlbnQgIT09IHVuZGVmaW5lZCkgZS50ZXh0Q29udGVudCA9IGNvbnRlbnQ7XG4gICAgICByZXR1cm4gZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYXJOb2RlKG5vZGUpIHtcbiAgICAgIHdoaWxlIChub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kUGFyZW50KG5vZGUsIGNvbmRpdGlvbikge1xuICAgICAgaWYgKGNvbmRpdGlvbihub2RlKSkgcmV0dXJuIG5vZGU7ZWxzZSBpZiAobm9kZS5wYXJlbnROb2RlKSByZXR1cm4gZmluZFBhcmVudChub2RlLnBhcmVudE5vZGUsIGNvbmRpdGlvbik7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVOdW1iZXJJbnB1dChpbnB1dENsYXNzTmFtZSwgb3B0cykge1xuICAgICAgdmFyIHdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwibnVtSW5wdXRXcmFwcGVyXCIpLFxuICAgICAgICAgIG51bUlucHV0ID0gY3JlYXRlRWxlbWVudChcImlucHV0XCIsIFwibnVtSW5wdXQgXCIgKyBpbnB1dENsYXNzTmFtZSksXG4gICAgICAgICAgYXJyb3dVcCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiYXJyb3dVcFwiKSxcbiAgICAgICAgICBhcnJvd0Rvd24gPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBcImFycm93RG93blwiKTtcbiAgICAgIG51bUlucHV0LnR5cGUgPSBcInRleHRcIjtcbiAgICAgIG51bUlucHV0LnBhdHRlcm4gPSBcIlxcXFxkKlwiO1xuICAgICAgaWYgKG9wdHMgIT09IHVuZGVmaW5lZCkgZm9yICh2YXIga2V5IGluIG9wdHMpIHtcbiAgICAgICAgbnVtSW5wdXQuc2V0QXR0cmlidXRlKGtleSwgb3B0c1trZXldKTtcbiAgICAgIH1cbiAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQobnVtSW5wdXQpO1xuICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChhcnJvd1VwKTtcbiAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoYXJyb3dEb3duKTtcbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBPYmplY3QuYXNzaWduID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKHNvdXJjZSkge1xuICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgIHJldHVybiB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmdzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmdzW19pXTtcblxuICAgICAgICAgIF9sb29wKHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgREVCT1VOQ0VEX0NIQU5HRV9NUyA9IDMwMDtcblxuICAgIGZ1bmN0aW9uIEZsYXRwaWNrckluc3RhbmNlKGVsZW1lbnQsIGluc3RhbmNlQ29uZmlnKSB7XG4gICAgICB2YXIgc2VsZiA9IHtcbiAgICAgICAgY29uZmlnOiBPYmplY3QuYXNzaWduKHt9LCBmbGF0cGlja3IuZGVmYXVsdENvbmZpZyksXG4gICAgICAgIGwxMG46IGVuZ2xpc2hcbiAgICAgIH07XG4gICAgICBzZWxmLnBhcnNlRGF0ZSA9IGNyZWF0ZURhdGVQYXJzZXIoe1xuICAgICAgICBjb25maWc6IHNlbGYuY29uZmlnLFxuICAgICAgICBsMTBuOiBzZWxmLmwxMG5cbiAgICAgIH0pO1xuICAgICAgc2VsZi5faGFuZGxlcnMgPSBbXTtcbiAgICAgIHNlbGYuX2JpbmQgPSBiaW5kO1xuICAgICAgc2VsZi5fc2V0SG91cnNGcm9tRGF0ZSA9IHNldEhvdXJzRnJvbURhdGU7XG4gICAgICBzZWxmLmNoYW5nZU1vbnRoID0gY2hhbmdlTW9udGg7XG4gICAgICBzZWxmLmNoYW5nZVllYXIgPSBjaGFuZ2VZZWFyO1xuICAgICAgc2VsZi5jbGVhciA9IGNsZWFyO1xuICAgICAgc2VsZi5jbG9zZSA9IGNsb3NlO1xuICAgICAgc2VsZi5fY3JlYXRlRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQ7XG4gICAgICBzZWxmLmRlc3Ryb3kgPSBkZXN0cm95O1xuICAgICAgc2VsZi5pc0VuYWJsZWQgPSBpc0VuYWJsZWQ7XG4gICAgICBzZWxmLmp1bXBUb0RhdGUgPSBqdW1wVG9EYXRlO1xuICAgICAgc2VsZi5vcGVuID0gb3BlbjtcbiAgICAgIHNlbGYucmVkcmF3ID0gcmVkcmF3O1xuICAgICAgc2VsZi5zZXQgPSBzZXQ7XG4gICAgICBzZWxmLnNldERhdGUgPSBzZXREYXRlO1xuICAgICAgc2VsZi50b2dnbGUgPSB0b2dnbGU7XG5cbiAgICAgIGZ1bmN0aW9uIHNldHVwSGVscGVyRnVuY3Rpb25zKCkge1xuICAgICAgICBzZWxmLnV0aWxzID0ge1xuICAgICAgICAgIGdldERheXNJbk1vbnRoOiBmdW5jdGlvbiBnZXREYXlzSW5Nb250aChtb250aCwgeXIpIHtcbiAgICAgICAgICAgIGlmIChtb250aCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgIG1vbnRoID0gc2VsZi5jdXJyZW50TW9udGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh5ciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHlyID0gc2VsZi5jdXJyZW50WWVhcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1vbnRoID09PSAxICYmICh5ciAlIDQgPT09IDAgJiYgeXIgJSAxMDAgIT09IDAgfHwgeXIgJSA0MDAgPT09IDApKSByZXR1cm4gMjk7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5sMTBuLmRheXNJbk1vbnRoW21vbnRoXTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIHNlbGYuZWxlbWVudCA9IHNlbGYuaW5wdXQgPSBlbGVtZW50O1xuICAgICAgICBzZWxmLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICBwYXJzZUNvbmZpZygpO1xuICAgICAgICBzZXR1cExvY2FsZSgpO1xuICAgICAgICBzZXR1cElucHV0cygpO1xuICAgICAgICBzZXR1cERhdGVzKCk7XG4gICAgICAgIHNldHVwSGVscGVyRnVuY3Rpb25zKCk7XG4gICAgICAgIGlmICghc2VsZi5pc01vYmlsZSkgYnVpbGQoKTtcbiAgICAgICAgYmluZEV2ZW50cygpO1xuXG4gICAgICAgIGlmIChzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoIHx8IHNlbGYuY29uZmlnLm5vQ2FsZW5kYXIpIHtcbiAgICAgICAgICBpZiAoc2VsZi5jb25maWcuZW5hYmxlVGltZSkge1xuICAgICAgICAgICAgc2V0SG91cnNGcm9tRGF0ZShzZWxmLmNvbmZpZy5ub0NhbGVuZGFyID8gc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmogfHwgc2VsZi5jb25maWcubWluRGF0ZSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdXBkYXRlVmFsdWUoZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5zaG93VGltZUlucHV0ID0gc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA+IDAgfHwgc2VsZi5jb25maWcubm9DYWxlbmRhcjtcblxuICAgICAgICBpZiAoc2VsZi5kYXlzQ29udGFpbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICB2YXIgZGF5c1dpZHRoID0gKHNlbGYuZGF5c0NvbnRhaW5lci5vZmZzZXRXaWR0aCArIDEpICogc2VsZi5jb25maWcuc2hvd01vbnRocztcbiAgICAgICAgICBzZWxmLmRheXNDb250YWluZXIuc3R5bGUud2lkdGggPSBkYXlzV2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGRheXNXaWR0aCArIFwicHhcIjtcblxuICAgICAgICAgIGlmIChzZWxmLndlZWtXcmFwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUud2lkdGggPSBkYXlzV2lkdGggKyBzZWxmLndlZWtXcmFwcGVyLm9mZnNldFdpZHRoICsgXCJweFwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNTYWZhcmkgPSAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4gICAgICAgIGlmICghc2VsZi5pc01vYmlsZSAmJiBpc1NhZmFyaSkge1xuICAgICAgICAgIHBvc2l0aW9uQ2FsZW5kYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyaWdnZXJFdmVudChcIm9uUmVhZHlcIik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJpbmRUb0luc3RhbmNlKGZuKSB7XG4gICAgICAgIHJldHVybiBmbi5iaW5kKHNlbGYpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVUaW1lKGUpIHtcbiAgICAgICAgaWYgKHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgdGltZVdyYXBwZXIoZSk7XG5cbiAgICAgICAgaWYgKGUudHlwZSAhPT0gXCJpbnB1dFwiKSB7XG4gICAgICAgICAgc2V0SG91cnNGcm9tSW5wdXRzKCk7XG4gICAgICAgICAgdXBkYXRlVmFsdWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldEhvdXJzRnJvbUlucHV0cygpO1xuICAgICAgICAgICAgdXBkYXRlVmFsdWUoKTtcbiAgICAgICAgICB9LCBERUJPVU5DRURfQ0hBTkdFX01TKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBhbXBtMm1pbGl0YXJ5KGhvdXIsIGFtUE0pIHtcbiAgICAgICAgcmV0dXJuIGhvdXIgJSAxMiArIDEyICogaW50KGFtUE0gPT09IHNlbGYubDEwbi5hbVBNWzFdKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbWlsaXRhcnkyYW1wbShob3VyKSB7XG4gICAgICAgIHN3aXRjaCAoaG91ciAlIDI0KSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICByZXR1cm4gMTI7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGhvdXIgJSAxMjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXRIb3Vyc0Zyb21JbnB1dHMoKSB7XG4gICAgICAgIGlmIChzZWxmLmhvdXJFbGVtZW50ID09PSB1bmRlZmluZWQgfHwgc2VsZi5taW51dGVFbGVtZW50ID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgdmFyIGhvdXJzID0gKHBhcnNlSW50KHNlbGYuaG91ckVsZW1lbnQudmFsdWUuc2xpY2UoLTIpLCAxMCkgfHwgMCkgJSAyNCxcbiAgICAgICAgICAgIG1pbnV0ZXMgPSAocGFyc2VJbnQoc2VsZi5taW51dGVFbGVtZW50LnZhbHVlLCAxMCkgfHwgMCkgJSA2MCxcbiAgICAgICAgICAgIHNlY29uZHMgPSBzZWxmLnNlY29uZEVsZW1lbnQgIT09IHVuZGVmaW5lZCA/IChwYXJzZUludChzZWxmLnNlY29uZEVsZW1lbnQudmFsdWUsIDEwKSB8fCAwKSAlIDYwIDogMDtcbiAgICAgICAgaWYgKHNlbGYuYW1QTSAhPT0gdW5kZWZpbmVkKSBob3VycyA9IGFtcG0ybWlsaXRhcnkoaG91cnMsIHNlbGYuYW1QTS50ZXh0Q29udGVudCk7XG4gICAgICAgIHZhciBsaW1pdE1pbkhvdXJzID0gc2VsZi5jb25maWcubWluVGltZSAhPT0gdW5kZWZpbmVkIHx8IHNlbGYuY29uZmlnLm1pbkRhdGUgJiYgc2VsZi5taW5EYXRlSGFzVGltZSAmJiBzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiAmJiBjb21wYXJlRGF0ZXMoc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmosIHNlbGYuY29uZmlnLm1pbkRhdGUsIHRydWUpID09PSAwO1xuICAgICAgICB2YXIgbGltaXRNYXhIb3VycyA9IHNlbGYuY29uZmlnLm1heFRpbWUgIT09IHVuZGVmaW5lZCB8fCBzZWxmLmNvbmZpZy5tYXhEYXRlICYmIHNlbGYubWF4RGF0ZUhhc1RpbWUgJiYgc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmogJiYgY29tcGFyZURhdGVzKHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqLCBzZWxmLmNvbmZpZy5tYXhEYXRlLCB0cnVlKSA9PT0gMDtcblxuICAgICAgICBpZiAobGltaXRNYXhIb3Vycykge1xuICAgICAgICAgIHZhciBtYXhUaW1lID0gc2VsZi5jb25maWcubWF4VGltZSAhPT0gdW5kZWZpbmVkID8gc2VsZi5jb25maWcubWF4VGltZSA6IHNlbGYuY29uZmlnLm1heERhdGU7XG4gICAgICAgICAgaG91cnMgPSBNYXRoLm1pbihob3VycywgbWF4VGltZS5nZXRIb3VycygpKTtcbiAgICAgICAgICBpZiAoaG91cnMgPT09IG1heFRpbWUuZ2V0SG91cnMoKSkgbWludXRlcyA9IE1hdGgubWluKG1pbnV0ZXMsIG1heFRpbWUuZ2V0TWludXRlcygpKTtcbiAgICAgICAgICBpZiAobWludXRlcyA9PT0gbWF4VGltZS5nZXRNaW51dGVzKCkpIHNlY29uZHMgPSBNYXRoLm1pbihzZWNvbmRzLCBtYXhUaW1lLmdldFNlY29uZHMoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGltaXRNaW5Ib3Vycykge1xuICAgICAgICAgIHZhciBtaW5UaW1lID0gc2VsZi5jb25maWcubWluVGltZSAhPT0gdW5kZWZpbmVkID8gc2VsZi5jb25maWcubWluVGltZSA6IHNlbGYuY29uZmlnLm1pbkRhdGU7XG4gICAgICAgICAgaG91cnMgPSBNYXRoLm1heChob3VycywgbWluVGltZS5nZXRIb3VycygpKTtcbiAgICAgICAgICBpZiAoaG91cnMgPT09IG1pblRpbWUuZ2V0SG91cnMoKSkgbWludXRlcyA9IE1hdGgubWF4KG1pbnV0ZXMsIG1pblRpbWUuZ2V0TWludXRlcygpKTtcbiAgICAgICAgICBpZiAobWludXRlcyA9PT0gbWluVGltZS5nZXRNaW51dGVzKCkpIHNlY29uZHMgPSBNYXRoLm1heChzZWNvbmRzLCBtaW5UaW1lLmdldFNlY29uZHMoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRIb3Vycyhob3VycywgbWludXRlcywgc2Vjb25kcyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldEhvdXJzRnJvbURhdGUoZGF0ZU9iaikge1xuICAgICAgICB2YXIgZGF0ZSA9IGRhdGVPYmogfHwgc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmo7XG4gICAgICAgIGlmIChkYXRlKSBzZXRIb3VycyhkYXRlLmdldEhvdXJzKCksIGRhdGUuZ2V0TWludXRlcygpLCBkYXRlLmdldFNlY29uZHMoKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldEhvdXJzKGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKSB7XG4gICAgICAgIGlmIChzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmouc2V0SG91cnMoaG91cnMgJSAyNCwgbWludXRlcywgc2Vjb25kcyB8fCAwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2VsZi5ob3VyRWxlbWVudCB8fCAhc2VsZi5taW51dGVFbGVtZW50IHx8IHNlbGYuaXNNb2JpbGUpIHJldHVybjtcbiAgICAgICAgc2VsZi5ob3VyRWxlbWVudC52YWx1ZSA9IHBhZCghc2VsZi5jb25maWcudGltZV8yNGhyID8gKDEyICsgaG91cnMpICUgMTIgKyAxMiAqIGludChob3VycyAlIDEyID09PSAwKSA6IGhvdXJzKTtcbiAgICAgICAgc2VsZi5taW51dGVFbGVtZW50LnZhbHVlID0gcGFkKG1pbnV0ZXMpO1xuICAgICAgICBpZiAoc2VsZi5hbVBNICE9PSB1bmRlZmluZWQpIHNlbGYuYW1QTS50ZXh0Q29udGVudCA9IHNlbGYubDEwbi5hbVBNW2ludChob3VycyA+PSAxMildO1xuICAgICAgICBpZiAoc2VsZi5zZWNvbmRFbGVtZW50ICE9PSB1bmRlZmluZWQpIHNlbGYuc2Vjb25kRWxlbWVudC52YWx1ZSA9IHBhZChzZWNvbmRzKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25ZZWFySW5wdXQoZXZlbnQpIHtcbiAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludChldmVudC50YXJnZXQudmFsdWUpICsgKGV2ZW50LmRlbHRhIHx8IDApO1xuXG4gICAgICAgIGlmICh5ZWFyLnRvU3RyaW5nKCkubGVuZ3RoID09PSA0IHx8IGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgZXZlbnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgICAgICBpZiAoIS9bXlxcZF0vLnRlc3QoeWVhci50b1N0cmluZygpKSkgY2hhbmdlWWVhcih5ZWFyKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBiaW5kKGVsZW1lbnQsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIEFycmF5KSByZXR1cm4gZXZlbnQuZm9yRWFjaChmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICByZXR1cm4gYmluZChlbGVtZW50LCBldiwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEFycmF5KSByZXR1cm4gZWxlbWVudC5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgIHJldHVybiBiaW5kKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuXG4gICAgICAgIHNlbGYuX2hhbmRsZXJzLnB1c2goe1xuICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGhhbmRsZXI6IGhhbmRsZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uQ2xpY2soaGFuZGxlcikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgIGV2dC53aGljaCA9PT0gMSAmJiBoYW5kbGVyKGV2dCk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyaWdnZXJDaGFuZ2UoKSB7XG4gICAgICAgIHRyaWdnZXJFdmVudChcIm9uQ2hhbmdlXCIpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBiaW5kRXZlbnRzKCkge1xuICAgICAgICBpZiAoc2VsZi5jb25maWcud3JhcCkge1xuICAgICAgICAgIFtcIm9wZW5cIiwgXCJjbG9zZVwiLCBcInRvZ2dsZVwiLCBcImNsZWFyXCJdLmZvckVhY2goZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChzZWxmLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLVwiICsgZXZ0ICsgXCJdXCIpLCBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGJpbmQoZWwsIFwiY2xpY2tcIiwgc2VsZltldnRdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuaXNNb2JpbGUpIHtcbiAgICAgICAgICBzZXR1cE1vYmlsZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWJvdW5jZWRSZXNpemUgPSBkZWJvdW5jZShvblJlc2l6ZSwgNTApO1xuICAgICAgICBzZWxmLl9kZWJvdW5jZWRDaGFuZ2UgPSBkZWJvdW5jZSh0cmlnZ2VyQ2hhbmdlLCBERUJPVU5DRURfQ0hBTkdFX01TKTtcbiAgICAgICAgaWYgKHNlbGYuZGF5c0NvbnRhaW5lciAmJiAhL2lQaG9uZXxpUGFkfGlQb2QvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSBiaW5kKHNlbGYuZGF5c0NvbnRhaW5lciwgXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJyYW5nZVwiKSBvbk1vdXNlT3ZlcihlLnRhcmdldCk7XG4gICAgICAgIH0pO1xuICAgICAgICBiaW5kKHdpbmRvdy5kb2N1bWVudC5ib2R5LCBcImtleWRvd25cIiwgb25LZXlEb3duKTtcbiAgICAgICAgaWYgKCFzZWxmLmNvbmZpZy5zdGF0aWMpIGJpbmQoc2VsZi5faW5wdXQsIFwia2V5ZG93blwiLCBvbktleURvd24pO1xuICAgICAgICBpZiAoIXNlbGYuY29uZmlnLmlubGluZSAmJiAhc2VsZi5jb25maWcuc3RhdGljKSBiaW5kKHdpbmRvdywgXCJyZXNpemVcIiwgZGVib3VuY2VkUmVzaXplKTtcbiAgICAgICAgaWYgKHdpbmRvdy5vbnRvdWNoc3RhcnQgIT09IHVuZGVmaW5lZCkgYmluZCh3aW5kb3cuZG9jdW1lbnQsIFwidG91Y2hzdGFydFwiLCBkb2N1bWVudENsaWNrKTtcbiAgICAgICAgYmluZCh3aW5kb3cuZG9jdW1lbnQsIFwibW91c2Vkb3duXCIsIG9uQ2xpY2soZG9jdW1lbnRDbGljaykpO1xuICAgICAgICBiaW5kKHdpbmRvdy5kb2N1bWVudCwgXCJmb2N1c1wiLCBkb2N1bWVudENsaWNrLCB7XG4gICAgICAgICAgY2FwdHVyZTogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoc2VsZi5jb25maWcuY2xpY2tPcGVucyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGJpbmQoc2VsZi5faW5wdXQsIFwiZm9jdXNcIiwgc2VsZi5vcGVuKTtcbiAgICAgICAgICBiaW5kKHNlbGYuX2lucHV0LCBcIm1vdXNlZG93blwiLCBvbkNsaWNrKHNlbGYub3BlbikpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuZGF5c0NvbnRhaW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYmluZChzZWxmLm1vbnRoTmF2LCBcIm1vdXNlZG93blwiLCBvbkNsaWNrKG9uTW9udGhOYXZDbGljaykpO1xuICAgICAgICAgIGJpbmQoc2VsZi5tb250aE5hdiwgW1wia2V5dXBcIiwgXCJpbmNyZW1lbnRcIl0sIG9uWWVhcklucHV0KTtcbiAgICAgICAgICBiaW5kKHNlbGYuZGF5c0NvbnRhaW5lciwgXCJtb3VzZWRvd25cIiwgb25DbGljayhzZWxlY3REYXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi50aW1lQ29udGFpbmVyICE9PSB1bmRlZmluZWQgJiYgc2VsZi5taW51dGVFbGVtZW50ICE9PSB1bmRlZmluZWQgJiYgc2VsZi5ob3VyRWxlbWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdmFyIHNlbFRleHQgPSBmdW5jdGlvbiBzZWxUZXh0KGUpIHtcbiAgICAgICAgICAgIHJldHVybiBlLnRhcmdldC5zZWxlY3QoKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgYmluZChzZWxmLnRpbWVDb250YWluZXIsIFtcImlucHV0XCIsIFwiaW5jcmVtZW50XCJdLCB1cGRhdGVUaW1lKTtcbiAgICAgICAgICBiaW5kKHNlbGYudGltZUNvbnRhaW5lciwgXCJtb3VzZWRvd25cIiwgb25DbGljayh0aW1lSW5jcmVtZW50KSk7XG4gICAgICAgICAgYmluZChzZWxmLnRpbWVDb250YWluZXIsIFtcImlucHV0XCIsIFwiaW5jcmVtZW50XCJdLCBzZWxmLl9kZWJvdW5jZWRDaGFuZ2UsIHtcbiAgICAgICAgICAgIHBhc3NpdmU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBiaW5kKFtzZWxmLmhvdXJFbGVtZW50LCBzZWxmLm1pbnV0ZUVsZW1lbnRdLCBbXCJmb2N1c1wiLCBcImNsaWNrXCJdLCBzZWxUZXh0KTtcbiAgICAgICAgICBpZiAoc2VsZi5zZWNvbmRFbGVtZW50ICE9PSB1bmRlZmluZWQpIGJpbmQoc2VsZi5zZWNvbmRFbGVtZW50LCBcImZvY3VzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnNlY29uZEVsZW1lbnQgJiYgc2VsZi5zZWNvbmRFbGVtZW50LnNlbGVjdCgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHNlbGYuYW1QTSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBiaW5kKHNlbGYuYW1QTSwgXCJtb3VzZWRvd25cIiwgb25DbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICB1cGRhdGVUaW1lKGUpO1xuICAgICAgICAgICAgICB0cmlnZ2VyQ2hhbmdlKCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGp1bXBUb0RhdGUoanVtcERhdGUpIHtcbiAgICAgICAgdmFyIGp1bXBUbyA9IGp1bXBEYXRlICE9PSB1bmRlZmluZWQgPyBzZWxmLnBhcnNlRGF0ZShqdW1wRGF0ZSkgOiBzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiB8fCAoc2VsZi5jb25maWcubWluRGF0ZSAmJiBzZWxmLmNvbmZpZy5taW5EYXRlID4gc2VsZi5ub3cgPyBzZWxmLmNvbmZpZy5taW5EYXRlIDogc2VsZi5jb25maWcubWF4RGF0ZSAmJiBzZWxmLmNvbmZpZy5tYXhEYXRlIDwgc2VsZi5ub3cgPyBzZWxmLmNvbmZpZy5tYXhEYXRlIDogc2VsZi5ub3cpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGp1bXBUbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRZZWFyID0ganVtcFRvLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICBzZWxmLmN1cnJlbnRNb250aCA9IGp1bXBUby5nZXRNb250aCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGUubWVzc2FnZSA9IFwiSW52YWxpZCBkYXRlIHN1cHBsaWVkOiBcIiArIGp1bXBUbztcbiAgICAgICAgICBzZWxmLmNvbmZpZy5lcnJvckhhbmRsZXIoZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnJlZHJhdygpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0aW1lSW5jcmVtZW50KGUpIHtcbiAgICAgICAgaWYgKH5lLnRhcmdldC5jbGFzc05hbWUuaW5kZXhPZihcImFycm93XCIpKSBpbmNyZW1lbnROdW1JbnB1dChlLCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJhcnJvd1VwXCIpID8gMSA6IC0xKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaW5jcmVtZW50TnVtSW5wdXQoZSwgZGVsdGEsIGlucHV0RWxlbSkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZSAmJiBlLnRhcmdldDtcbiAgICAgICAgdmFyIGlucHV0ID0gaW5wdXRFbGVtIHx8IHRhcmdldCAmJiB0YXJnZXQucGFyZW50Tm9kZSAmJiB0YXJnZXQucGFyZW50Tm9kZS5maXJzdENoaWxkO1xuICAgICAgICB2YXIgZXZlbnQgPSBjcmVhdGVFdmVudChcImluY3JlbWVudFwiKTtcbiAgICAgICAgZXZlbnQuZGVsdGEgPSBkZWx0YTtcbiAgICAgICAgaW5wdXQgJiYgaW5wdXQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGJ1aWxkKCkge1xuICAgICAgICB2YXIgZnJhZ21lbnQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci1jYWxlbmRhclwiKTtcbiAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci50YWJJbmRleCA9IC0xO1xuXG4gICAgICAgIGlmICghc2VsZi5jb25maWcubm9DYWxlbmRhcikge1xuICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGJ1aWxkTW9udGhOYXYoKSk7XG4gICAgICAgICAgc2VsZi5pbm5lckNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3ItaW5uZXJDb250YWluZXJcIik7XG5cbiAgICAgICAgICBpZiAoc2VsZi5jb25maWcud2Vla051bWJlcnMpIHtcbiAgICAgICAgICAgIHZhciBfYnVpbGRXZWVrcyA9IGJ1aWxkV2Vla3MoKSxcbiAgICAgICAgICAgICAgICB3ZWVrV3JhcHBlciA9IF9idWlsZFdlZWtzLndlZWtXcmFwcGVyLFxuICAgICAgICAgICAgICAgIHdlZWtOdW1iZXJzID0gX2J1aWxkV2Vla3Mud2Vla051bWJlcnM7XG5cbiAgICAgICAgICAgIHNlbGYuaW5uZXJDb250YWluZXIuYXBwZW5kQ2hpbGQod2Vla1dyYXBwZXIpO1xuICAgICAgICAgICAgc2VsZi53ZWVrTnVtYmVycyA9IHdlZWtOdW1iZXJzO1xuICAgICAgICAgICAgc2VsZi53ZWVrV3JhcHBlciA9IHdlZWtXcmFwcGVyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNlbGYuckNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3ItckNvbnRhaW5lclwiKTtcbiAgICAgICAgICBzZWxmLnJDb250YWluZXIuYXBwZW5kQ2hpbGQoYnVpbGRXZWVrZGF5cygpKTtcblxuICAgICAgICAgIGlmICghc2VsZi5kYXlzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICBzZWxmLmRheXNDb250YWluZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZmxhdHBpY2tyLWRheXNcIik7XG4gICAgICAgICAgICBzZWxmLmRheXNDb250YWluZXIudGFiSW5kZXggPSAtMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBidWlsZERheXMoKTtcbiAgICAgICAgICBzZWxmLnJDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VsZi5kYXlzQ29udGFpbmVyKTtcbiAgICAgICAgICBzZWxmLmlubmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlbGYuckNvbnRhaW5lcik7XG4gICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoc2VsZi5pbm5lckNvbnRhaW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5jb25maWcuZW5hYmxlVGltZSkge1xuICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGJ1aWxkVGltZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvZ2dsZUNsYXNzKHNlbGYuY2FsZW5kYXJDb250YWluZXIsIFwicmFuZ2VNb2RlXCIsIHNlbGYuY29uZmlnLm1vZGUgPT09IFwicmFuZ2VcIik7XG4gICAgICAgIHRvZ2dsZUNsYXNzKHNlbGYuY2FsZW5kYXJDb250YWluZXIsIFwiYW5pbWF0ZVwiLCBzZWxmLmNvbmZpZy5hbmltYXRlID09PSB0cnVlKTtcbiAgICAgICAgdG9nZ2xlQ2xhc3Moc2VsZi5jYWxlbmRhckNvbnRhaW5lciwgXCJtdWx0aU1vbnRoXCIsIHNlbGYuY29uZmlnLnNob3dNb250aHMgPiAxKTtcbiAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICAgIHZhciBjdXN0b21BcHBlbmQgPSBzZWxmLmNvbmZpZy5hcHBlbmRUbyAhPT0gdW5kZWZpbmVkICYmIHNlbGYuY29uZmlnLmFwcGVuZFRvLm5vZGVUeXBlICE9PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLmlubGluZSB8fCBzZWxmLmNvbmZpZy5zdGF0aWMpIHtcbiAgICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoc2VsZi5jb25maWcuaW5saW5lID8gXCJpbmxpbmVcIiA6IFwic3RhdGljXCIpO1xuXG4gICAgICAgICAgaWYgKHNlbGYuY29uZmlnLmlubGluZSkge1xuICAgICAgICAgICAgaWYgKCFjdXN0b21BcHBlbmQgJiYgc2VsZi5lbGVtZW50LnBhcmVudE5vZGUpIHNlbGYuZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzZWxmLmNhbGVuZGFyQ29udGFpbmVyLCBzZWxmLl9pbnB1dC5uZXh0U2libGluZyk7ZWxzZSBpZiAoc2VsZi5jb25maWcuYXBwZW5kVG8gIT09IHVuZGVmaW5lZCkgc2VsZi5jb25maWcuYXBwZW5kVG8uYXBwZW5kQ2hpbGQoc2VsZi5jYWxlbmRhckNvbnRhaW5lcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNlbGYuY29uZmlnLnN0YXRpYykge1xuICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZmxhdHBpY2tyLXdyYXBwZXJcIik7XG4gICAgICAgICAgICBpZiAoc2VsZi5lbGVtZW50LnBhcmVudE5vZGUpIHNlbGYuZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3cmFwcGVyLCBzZWxmLmVsZW1lbnQpO1xuICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChzZWxmLmVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHNlbGYuYWx0SW5wdXQpIHdyYXBwZXIuYXBwZW5kQ2hpbGQoc2VsZi5hbHRJbnB1dCk7XG4gICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHNlbGYuY2FsZW5kYXJDb250YWluZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2VsZi5jb25maWcuc3RhdGljICYmICFzZWxmLmNvbmZpZy5pbmxpbmUpIChzZWxmLmNvbmZpZy5hcHBlbmRUbyAhPT0gdW5kZWZpbmVkID8gc2VsZi5jb25maWcuYXBwZW5kVG8gOiB3aW5kb3cuZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoc2VsZi5jYWxlbmRhckNvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZURheShjbGFzc05hbWUsIGRhdGUsIGRheU51bWJlciwgaSkge1xuICAgICAgICB2YXIgZGF0ZUlzRW5hYmxlZCA9IGlzRW5hYmxlZChkYXRlLCB0cnVlKSxcbiAgICAgICAgICAgIGRheUVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBcImZsYXRwaWNrci1kYXkgXCIgKyBjbGFzc05hbWUsIGRhdGUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkpO1xuICAgICAgICBkYXlFbGVtZW50LmRhdGVPYmogPSBkYXRlO1xuICAgICAgICBkYXlFbGVtZW50LiRpID0gaTtcbiAgICAgICAgZGF5RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsIHNlbGYuZm9ybWF0RGF0ZShkYXRlLCBzZWxmLmNvbmZpZy5hcmlhRGF0ZUZvcm1hdCkpO1xuXG4gICAgICAgIGlmIChjb21wYXJlRGF0ZXMoZGF0ZSwgc2VsZi5ub3cpID09PSAwKSB7XG4gICAgICAgICAgc2VsZi50b2RheURhdGVFbGVtID0gZGF5RWxlbWVudDtcbiAgICAgICAgICBkYXlFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0b2RheVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRlSXNFbmFibGVkKSB7XG4gICAgICAgICAgZGF5RWxlbWVudC50YWJJbmRleCA9IC0xO1xuXG4gICAgICAgICAgaWYgKGlzRGF0ZVNlbGVjdGVkKGRhdGUpKSB7XG4gICAgICAgICAgICBkYXlFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWREYXRlRWxlbSA9IGRheUVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy5tb2RlID09PSBcInJhbmdlXCIpIHtcbiAgICAgICAgICAgICAgdG9nZ2xlQ2xhc3MoZGF5RWxlbWVudCwgXCJzdGFydFJhbmdlXCIsIHNlbGYuc2VsZWN0ZWREYXRlc1swXSAmJiBjb21wYXJlRGF0ZXMoZGF0ZSwgc2VsZi5zZWxlY3RlZERhdGVzWzBdLCB0cnVlKSA9PT0gMCk7XG4gICAgICAgICAgICAgIHRvZ2dsZUNsYXNzKGRheUVsZW1lbnQsIFwiZW5kUmFuZ2VcIiwgc2VsZi5zZWxlY3RlZERhdGVzWzFdICYmIGNvbXBhcmVEYXRlcyhkYXRlLCBzZWxmLnNlbGVjdGVkRGF0ZXNbMV0sIHRydWUpID09PSAwKTtcbiAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSA9PT0gXCJuZXh0TW9udGhEYXlcIikgZGF5RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaW5SYW5nZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF5RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJyYW5nZVwiKSB7XG4gICAgICAgICAgaWYgKGlzRGF0ZUluUmFuZ2UoZGF0ZSkgJiYgIWlzRGF0ZVNlbGVjdGVkKGRhdGUpKSBkYXlFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJpblJhbmdlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYud2Vla051bWJlcnMgJiYgc2VsZi5jb25maWcuc2hvd01vbnRocyA9PT0gMSAmJiBjbGFzc05hbWUgIT09IFwicHJldk1vbnRoRGF5XCIgJiYgZGF5TnVtYmVyICUgNyA9PT0gMSkge1xuICAgICAgICAgIHNlbGYud2Vla051bWJlcnMuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIFwiPHNwYW4gY2xhc3M9J2ZsYXRwaWNrci1kYXknPlwiICsgc2VsZi5jb25maWcuZ2V0V2VlayhkYXRlKSArIFwiPC9zcGFuPlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyaWdnZXJFdmVudChcIm9uRGF5Q3JlYXRlXCIsIGRheUVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gZGF5RWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZm9jdXNPbkRheShjdXJyZW50SW5kLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IGN1cnJlbnRJbmQgIT09IHVuZGVmaW5lZCA/IGN1cnJlbnRJbmQgOiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LiRpO1xuICAgICAgICB2YXIgbmV3SW5kZXggPSAoY3VycmVudEluZGV4IHx8IDApICsgb2Zmc2V0IHx8IDAsXG4gICAgICAgICAgICB0YXJnZXROb2RlID0gQXJyYXkucHJvdG90eXBlLmZpbmQuY2FsbChzZWxmLmRheXMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjLCBpKSB7XG4gICAgICAgICAgcmV0dXJuIGkgPj0gbmV3SW5kZXggJiYgYy5jbGFzc05hbWUuaW5kZXhPZihcIk1vbnRoRGF5XCIpID09PSAtMSAmJiBpc0VuYWJsZWQoYy5kYXRlT2JqKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRhcmdldE5vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRhcmdldE5vZGUuZm9jdXMoKTtcbiAgICAgICAgICBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJyYW5nZVwiKSBvbk1vdXNlT3Zlcih0YXJnZXROb2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBidWlsZE1vbnRoRGF5cyh5ZWFyLCBtb250aCkge1xuICAgICAgICB2YXIgZmlyc3RPZk1vbnRoID0gKG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKS5nZXREYXkoKSAtIHNlbGYubDEwbi5maXJzdERheU9mV2VlayArIDcpICUgNztcbiAgICAgICAgdmFyIHByZXZNb250aERheXMgPSBzZWxmLnV0aWxzLmdldERheXNJbk1vbnRoKChtb250aCAtIDEgKyAxMikgJSAxMik7XG4gICAgICAgIHZhciBkYXlzSW5Nb250aCA9IHNlbGYudXRpbHMuZ2V0RGF5c0luTW9udGgobW9udGgpLFxuICAgICAgICAgICAgZGF5cyA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgIHZhciBkYXlOdW1iZXIgPSBwcmV2TW9udGhEYXlzICsgMSAtIGZpcnN0T2ZNb250aCxcbiAgICAgICAgICAgIGRheUluZGV4ID0gMDtcblxuICAgICAgICBmb3IgKDsgZGF5TnVtYmVyIDw9IHByZXZNb250aERheXM7IGRheU51bWJlcisrLCBkYXlJbmRleCsrKSB7XG4gICAgICAgICAgZGF5cy5hcHBlbmRDaGlsZChjcmVhdGVEYXkoXCJwcmV2TW9udGhEYXlcIiwgbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXlOdW1iZXIpLCBkYXlOdW1iZXIsIGRheUluZGV4KSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGRheU51bWJlciA9IDE7IGRheU51bWJlciA8PSBkYXlzSW5Nb250aDsgZGF5TnVtYmVyKyssIGRheUluZGV4KyspIHtcbiAgICAgICAgICBkYXlzLmFwcGVuZENoaWxkKGNyZWF0ZURheShcIlwiLCBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgZGF5TnVtYmVyKSwgZGF5TnVtYmVyLCBkYXlJbmRleCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgZGF5TnVtID0gZGF5c0luTW9udGggKyAxOyBkYXlOdW0gPD0gNDIgLSBmaXJzdE9mTW9udGggJiYgKHNlbGYuY29uZmlnLnNob3dNb250aHMgPT09IDEgfHwgZGF5SW5kZXggJSA3ICE9PSAwKTsgZGF5TnVtKyssIGRheUluZGV4KyspIHtcbiAgICAgICAgICBkYXlzLmFwcGVuZENoaWxkKGNyZWF0ZURheShcIm5leHRNb250aERheVwiLCBuZXcgRGF0ZSh5ZWFyLCBtb250aCArIDEsIGRheU51bSAlIGRheXNJbk1vbnRoKSwgZGF5TnVtLCBkYXlJbmRleCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRheUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJkYXlDb250YWluZXJcIik7XG4gICAgICAgIGRheUNvbnRhaW5lci5hcHBlbmRDaGlsZChkYXlzKTtcbiAgICAgICAgcmV0dXJuIGRheUNvbnRhaW5lcjtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYnVpbGREYXlzKCkge1xuICAgICAgICBpZiAoc2VsZi5kYXlzQ29udGFpbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjbGVhck5vZGUoc2VsZi5kYXlzQ29udGFpbmVyKTtcbiAgICAgICAgaWYgKHNlbGYud2Vla051bWJlcnMpIGNsZWFyTm9kZShzZWxmLndlZWtOdW1iZXJzKTtcbiAgICAgICAgdmFyIGZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmNvbmZpZy5zaG93TW9udGhzOyBpKyspIHtcbiAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKHNlbGYuY3VycmVudFllYXIsIHNlbGYuY3VycmVudE1vbnRoLCAxKTtcbiAgICAgICAgICBkLnNldE1vbnRoKHNlbGYuY3VycmVudE1vbnRoICsgaSk7XG4gICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChidWlsZE1vbnRoRGF5cyhkLmdldEZ1bGxZZWFyKCksIGQuZ2V0TW9udGgoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5kYXlzQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWcpO1xuICAgICAgICBzZWxmLmRheXMgPSBzZWxmLmRheXNDb250YWluZXIuZmlyc3RDaGlsZDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYnVpbGRNb250aCgpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3ItbW9udGhcIik7XG4gICAgICAgIHZhciBtb250aE5hdkZyYWdtZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgdmFyIG1vbnRoRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiY3VyLW1vbnRoXCIpO1xuICAgICAgICBtb250aEVsZW1lbnQudGl0bGUgPSBzZWxmLmwxMG4uc2Nyb2xsVGl0bGU7XG4gICAgICAgIHZhciB5ZWFySW5wdXQgPSBjcmVhdGVOdW1iZXJJbnB1dChcImN1ci15ZWFyXCIsIHtcbiAgICAgICAgICB0YWJpbmRleDogXCItMVwiXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgeWVhckVsZW1lbnQgPSB5ZWFySW5wdXQuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgeWVhckVsZW1lbnQudGl0bGUgPSBzZWxmLmwxMG4uc2Nyb2xsVGl0bGU7XG4gICAgICAgIHllYXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgc2VsZi5sMTBuLnllYXJBcmlhTGFiZWwpO1xuICAgICAgICBpZiAoc2VsZi5jb25maWcubWluRGF0ZSkgeWVhckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1taW5cIiwgc2VsZi5jb25maWcubWluRGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5tYXhEYXRlKSB7XG4gICAgICAgICAgeWVhckVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1tYXhcIiwgc2VsZi5jb25maWcubWF4RGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgIHllYXJFbGVtZW50LmRpc2FibGVkID0gISFzZWxmLmNvbmZpZy5taW5EYXRlICYmIHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0RnVsbFllYXIoKSA9PT0gc2VsZi5jb25maWcubWF4RGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3ItY3VycmVudC1tb250aFwiKTtcbiAgICAgICAgY3VycmVudE1vbnRoLmFwcGVuZENoaWxkKG1vbnRoRWxlbWVudCk7XG4gICAgICAgIGN1cnJlbnRNb250aC5hcHBlbmRDaGlsZCh5ZWFySW5wdXQpO1xuICAgICAgICBtb250aE5hdkZyYWdtZW50LmFwcGVuZENoaWxkKGN1cnJlbnRNb250aCk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChtb250aE5hdkZyYWdtZW50KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgICB5ZWFyRWxlbWVudDogeWVhckVsZW1lbnQsXG4gICAgICAgICAgbW9udGhFbGVtZW50OiBtb250aEVsZW1lbnRcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYnVpbGRNb250aE5hdigpIHtcbiAgICAgICAgc2VsZi5tb250aE5hdiA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3ItbW9udGhzXCIpO1xuICAgICAgICBzZWxmLnllYXJFbGVtZW50cyA9IFtdO1xuICAgICAgICBzZWxmLm1vbnRoRWxlbWVudHMgPSBbXTtcbiAgICAgICAgc2VsZi5wcmV2TW9udGhOYXYgPSBjcmVhdGVFbGVtZW50KFwic3BhblwiLCBcImZsYXRwaWNrci1wcmV2LW1vbnRoXCIpO1xuICAgICAgICBzZWxmLnByZXZNb250aE5hdi5pbm5lckhUTUwgPSBzZWxmLmNvbmZpZy5wcmV2QXJyb3c7XG4gICAgICAgIHNlbGYubmV4dE1vbnRoTmF2ID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgXCJmbGF0cGlja3ItbmV4dC1tb250aFwiKTtcbiAgICAgICAgc2VsZi5uZXh0TW9udGhOYXYuaW5uZXJIVE1MID0gc2VsZi5jb25maWcubmV4dEFycm93O1xuICAgICAgICBzZWxmLm1vbnRoTmF2LmFwcGVuZENoaWxkKHNlbGYucHJldk1vbnRoTmF2KTtcblxuICAgICAgICBmb3IgKHZhciBtID0gc2VsZi5jb25maWcuc2hvd01vbnRoczsgbS0tOykge1xuICAgICAgICAgIHZhciBtb250aCA9IGJ1aWxkTW9udGgoKTtcbiAgICAgICAgICBzZWxmLnllYXJFbGVtZW50cy5wdXNoKG1vbnRoLnllYXJFbGVtZW50KTtcbiAgICAgICAgICBzZWxmLm1vbnRoRWxlbWVudHMucHVzaChtb250aC5tb250aEVsZW1lbnQpO1xuICAgICAgICAgIHNlbGYubW9udGhOYXYuYXBwZW5kQ2hpbGQobW9udGguY29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYubW9udGhOYXYuYXBwZW5kQ2hpbGQoc2VsZi5uZXh0TW9udGhOYXYpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZiwgXCJfaGlkZVByZXZNb250aEFycm93XCIsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9faGlkZVByZXZNb250aEFycm93O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYm9vbCkge1xuICAgICAgICAgICAgaWYgKHNlbGYuX19oaWRlUHJldk1vbnRoQXJyb3cgIT09IGJvb2wpIHtcbiAgICAgICAgICAgICAgdG9nZ2xlQ2xhc3Moc2VsZi5wcmV2TW9udGhOYXYsIFwiZGlzYWJsZWRcIiwgYm9vbCk7XG4gICAgICAgICAgICAgIHNlbGYuX19oaWRlUHJldk1vbnRoQXJyb3cgPSBib29sO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLCBcIl9oaWRlTmV4dE1vbnRoQXJyb3dcIiwge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX19oaWRlTmV4dE1vbnRoQXJyb3c7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChib29sKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5fX2hpZGVOZXh0TW9udGhBcnJvdyAhPT0gYm9vbCkge1xuICAgICAgICAgICAgICB0b2dnbGVDbGFzcyhzZWxmLm5leHRNb250aE5hdiwgXCJkaXNhYmxlZFwiLCBib29sKTtcbiAgICAgICAgICAgICAgc2VsZi5fX2hpZGVOZXh0TW9udGhBcnJvdyA9IGJvb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc2VsZi5jdXJyZW50WWVhckVsZW1lbnQgPSBzZWxmLnllYXJFbGVtZW50c1swXTtcbiAgICAgICAgdXBkYXRlTmF2aWdhdGlvbkN1cnJlbnRNb250aCgpO1xuICAgICAgICByZXR1cm4gc2VsZi5tb250aE5hdjtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYnVpbGRUaW1lKCkge1xuICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoYXNUaW1lXCIpO1xuICAgICAgICBpZiAoc2VsZi5jb25maWcubm9DYWxlbmRhcikgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibm9DYWxlbmRhclwiKTtcbiAgICAgICAgc2VsZi50aW1lQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci10aW1lXCIpO1xuICAgICAgICBzZWxmLnRpbWVDb250YWluZXIudGFiSW5kZXggPSAtMTtcbiAgICAgICAgdmFyIHNlcGFyYXRvciA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiZmxhdHBpY2tyLXRpbWUtc2VwYXJhdG9yXCIsIFwiOlwiKTtcbiAgICAgICAgdmFyIGhvdXJJbnB1dCA9IGNyZWF0ZU51bWJlcklucHV0KFwiZmxhdHBpY2tyLWhvdXJcIik7XG4gICAgICAgIHNlbGYuaG91ckVsZW1lbnQgPSBob3VySW5wdXQuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgdmFyIG1pbnV0ZUlucHV0ID0gY3JlYXRlTnVtYmVySW5wdXQoXCJmbGF0cGlja3ItbWludXRlXCIpO1xuICAgICAgICBzZWxmLm1pbnV0ZUVsZW1lbnQgPSBtaW51dGVJbnB1dC5jaGlsZE5vZGVzWzBdO1xuICAgICAgICBzZWxmLmhvdXJFbGVtZW50LnRhYkluZGV4ID0gc2VsZi5taW51dGVFbGVtZW50LnRhYkluZGV4ID0gLTE7XG4gICAgICAgIHNlbGYuaG91ckVsZW1lbnQudmFsdWUgPSBwYWQoc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmogPyBzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iai5nZXRIb3VycygpIDogc2VsZi5jb25maWcudGltZV8yNGhyID8gc2VsZi5jb25maWcuZGVmYXVsdEhvdXIgOiBtaWxpdGFyeTJhbXBtKHNlbGYuY29uZmlnLmRlZmF1bHRIb3VyKSk7XG4gICAgICAgIHNlbGYubWludXRlRWxlbWVudC52YWx1ZSA9IHBhZChzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiA/IHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqLmdldE1pbnV0ZXMoKSA6IHNlbGYuY29uZmlnLmRlZmF1bHRNaW51dGUpO1xuICAgICAgICBzZWxmLmhvdXJFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtc3RlcFwiLCBzZWxmLmNvbmZpZy5ob3VySW5jcmVtZW50LnRvU3RyaW5nKCkpO1xuICAgICAgICBzZWxmLm1pbnV0ZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1zdGVwXCIsIHNlbGYuY29uZmlnLm1pbnV0ZUluY3JlbWVudC50b1N0cmluZygpKTtcbiAgICAgICAgc2VsZi5ob3VyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1pblwiLCBzZWxmLmNvbmZpZy50aW1lXzI0aHIgPyBcIjBcIiA6IFwiMVwiKTtcbiAgICAgICAgc2VsZi5ob3VyRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1heFwiLCBzZWxmLmNvbmZpZy50aW1lXzI0aHIgPyBcIjIzXCIgOiBcIjEyXCIpO1xuICAgICAgICBzZWxmLm1pbnV0ZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1taW5cIiwgXCIwXCIpO1xuICAgICAgICBzZWxmLm1pbnV0ZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1tYXhcIiwgXCI1OVwiKTtcbiAgICAgICAgc2VsZi50aW1lQ29udGFpbmVyLmFwcGVuZENoaWxkKGhvdXJJbnB1dCk7XG4gICAgICAgIHNlbGYudGltZUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZXBhcmF0b3IpO1xuICAgICAgICBzZWxmLnRpbWVDb250YWluZXIuYXBwZW5kQ2hpbGQobWludXRlSW5wdXQpO1xuICAgICAgICBpZiAoc2VsZi5jb25maWcudGltZV8yNGhyKSBzZWxmLnRpbWVDb250YWluZXIuY2xhc3NMaXN0LmFkZChcInRpbWUyNGhyXCIpO1xuXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5lbmFibGVTZWNvbmRzKSB7XG4gICAgICAgICAgc2VsZi50aW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoYXNTZWNvbmRzXCIpO1xuICAgICAgICAgIHZhciBzZWNvbmRJbnB1dCA9IGNyZWF0ZU51bWJlcklucHV0KFwiZmxhdHBpY2tyLXNlY29uZFwiKTtcbiAgICAgICAgICBzZWxmLnNlY29uZEVsZW1lbnQgPSBzZWNvbmRJbnB1dC5jaGlsZE5vZGVzWzBdO1xuICAgICAgICAgIHNlbGYuc2Vjb25kRWxlbWVudC52YWx1ZSA9IHBhZChzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiA/IHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqLmdldFNlY29uZHMoKSA6IHNlbGYuY29uZmlnLmRlZmF1bHRTZWNvbmRzKTtcbiAgICAgICAgICBzZWxmLnNlY29uZEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1zdGVwXCIsIHNlbGYubWludXRlRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN0ZXBcIikpO1xuICAgICAgICAgIHNlbGYuc2Vjb25kRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1pblwiLCBzZWxmLm1pbnV0ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1taW5cIikpO1xuICAgICAgICAgIHNlbGYuc2Vjb25kRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1heFwiLCBzZWxmLm1pbnV0ZUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tYXhcIikpO1xuICAgICAgICAgIHNlbGYudGltZUNvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVFbGVtZW50KFwic3BhblwiLCBcImZsYXRwaWNrci10aW1lLXNlcGFyYXRvclwiLCBcIjpcIikpO1xuICAgICAgICAgIHNlbGYudGltZUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWNvbmRJbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXNlbGYuY29uZmlnLnRpbWVfMjRocikge1xuICAgICAgICAgIHNlbGYuYW1QTSA9IGNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIFwiZmxhdHBpY2tyLWFtLXBtXCIsIHNlbGYubDEwbi5hbVBNW2ludCgoc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmogPyBzZWxmLmhvdXJFbGVtZW50LnZhbHVlIDogc2VsZi5jb25maWcuZGVmYXVsdEhvdXIpID4gMTEpXSk7XG4gICAgICAgICAgc2VsZi5hbVBNLnRpdGxlID0gc2VsZi5sMTBuLnRvZ2dsZVRpdGxlO1xuICAgICAgICAgIHNlbGYuYW1QTS50YWJJbmRleCA9IC0xO1xuICAgICAgICAgIHNlbGYudGltZUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWxmLmFtUE0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGYudGltZUNvbnRhaW5lcjtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYnVpbGRXZWVrZGF5cygpIHtcbiAgICAgICAgaWYgKCFzZWxmLndlZWtkYXlDb250YWluZXIpIHNlbGYud2Vla2RheUNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJmbGF0cGlja3Itd2Vla2RheXNcIik7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHNlbGYuY29uZmlnLnNob3dNb250aHM7IGktLTspIHtcbiAgICAgICAgICB2YXIgY29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci13ZWVrZGF5Y29udGFpbmVyXCIpO1xuICAgICAgICAgIHNlbGYud2Vla2RheUNvbnRhaW5lci5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlV2Vla2RheXMoKTtcbiAgICAgICAgcmV0dXJuIHNlbGYud2Vla2RheUNvbnRhaW5lcjtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdXBkYXRlV2Vla2RheXMoKSB7XG4gICAgICAgIHZhciBmaXJzdERheU9mV2VlayA9IHNlbGYubDEwbi5maXJzdERheU9mV2VlaztcbiAgICAgICAgdmFyIHdlZWtkYXlzID0gc2VsZi5sMTBuLndlZWtkYXlzLnNob3J0aGFuZC5jb25jYXQoKTtcblxuICAgICAgICBpZiAoZmlyc3REYXlPZldlZWsgPiAwICYmIGZpcnN0RGF5T2ZXZWVrIDwgd2Vla2RheXMubGVuZ3RoKSB7XG4gICAgICAgICAgd2Vla2RheXMgPSB3ZWVrZGF5cy5zcGxpY2UoZmlyc3REYXlPZldlZWssIHdlZWtkYXlzLmxlbmd0aCkuY29uY2F0KHdlZWtkYXlzLnNwbGljZSgwLCBmaXJzdERheU9mV2VlaykpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IHNlbGYuY29uZmlnLnNob3dNb250aHM7IGktLTspIHtcbiAgICAgICAgICBzZWxmLndlZWtkYXlDb250YWluZXIuY2hpbGRyZW5baV0uaW5uZXJIVE1MID0gXCJcXG4gICAgICA8c3BhbiBjbGFzcz1mbGF0cGlja3Itd2Vla2RheT5cXG4gICAgICAgIFwiICsgd2Vla2RheXMuam9pbihcIjwvc3Bhbj48c3BhbiBjbGFzcz1mbGF0cGlja3Itd2Vla2RheT5cIikgKyBcIlxcbiAgICAgIDwvc3Bhbj5cXG4gICAgICBcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBidWlsZFdlZWtzKCkge1xuICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoYXNXZWVrc1wiKTtcbiAgICAgICAgdmFyIHdlZWtXcmFwcGVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiLCBcImZsYXRwaWNrci13ZWVrd3JhcHBlclwiKTtcbiAgICAgICAgd2Vla1dyYXBwZXIuYXBwZW5kQ2hpbGQoY3JlYXRlRWxlbWVudChcInNwYW5cIiwgXCJmbGF0cGlja3Itd2Vla2RheVwiLCBzZWxmLmwxMG4ud2Vla0FiYnJldmlhdGlvbikpO1xuICAgICAgICB2YXIgd2Vla051bWJlcnMgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsIFwiZmxhdHBpY2tyLXdlZWtzXCIpO1xuICAgICAgICB3ZWVrV3JhcHBlci5hcHBlbmRDaGlsZCh3ZWVrTnVtYmVycyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2Vla1dyYXBwZXI6IHdlZWtXcmFwcGVyLFxuICAgICAgICAgIHdlZWtOdW1iZXJzOiB3ZWVrTnVtYmVyc1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBjaGFuZ2VNb250aCh2YWx1ZSwgaXNfb2Zmc2V0LCBmcm9tX2tleWJvYXJkKSB7XG4gICAgICAgIGlmIChpc19vZmZzZXQgPT09IHZvaWQgMCkge1xuICAgICAgICAgIGlzX29mZnNldCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJvbV9rZXlib2FyZCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgZnJvbV9rZXlib2FyZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlbHRhID0gaXNfb2Zmc2V0ID8gdmFsdWUgOiB2YWx1ZSAtIHNlbGYuY3VycmVudE1vbnRoO1xuICAgICAgICBpZiAoZGVsdGEgPCAwICYmIHNlbGYuX2hpZGVQcmV2TW9udGhBcnJvdyA9PT0gdHJ1ZSB8fCBkZWx0YSA+IDAgJiYgc2VsZi5faGlkZU5leHRNb250aEFycm93ID09PSB0cnVlKSByZXR1cm47XG4gICAgICAgIHNlbGYuY3VycmVudE1vbnRoICs9IGRlbHRhO1xuXG4gICAgICAgIGlmIChzZWxmLmN1cnJlbnRNb250aCA8IDAgfHwgc2VsZi5jdXJyZW50TW9udGggPiAxMSkge1xuICAgICAgICAgIHNlbGYuY3VycmVudFllYXIgKz0gc2VsZi5jdXJyZW50TW9udGggPiAxMSA/IDEgOiAtMTtcbiAgICAgICAgICBzZWxmLmN1cnJlbnRNb250aCA9IChzZWxmLmN1cnJlbnRNb250aCArIDEyKSAlIDEyO1xuICAgICAgICAgIHRyaWdnZXJFdmVudChcIm9uWWVhckNoYW5nZVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1aWxkRGF5cygpO1xuICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvbk1vbnRoQ2hhbmdlXCIpO1xuICAgICAgICB1cGRhdGVOYXZpZ2F0aW9uQ3VycmVudE1vbnRoKCk7XG5cbiAgICAgICAgaWYgKGZyb21fa2V5Ym9hcmQgPT09IHRydWUpIHtcbiAgICAgICAgICBmb2N1c09uRGF5KHVuZGVmaW5lZCwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2xlYXIodHJpZ2dlckNoYW5nZUV2ZW50KSB7XG4gICAgICAgIGlmICh0cmlnZ2VyQ2hhbmdlRXZlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgIHRyaWdnZXJDaGFuZ2VFdmVudCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgaWYgKHNlbGYuYWx0SW5wdXQgIT09IHVuZGVmaW5lZCkgc2VsZi5hbHRJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgIGlmIChzZWxmLm1vYmlsZUlucHV0ICE9PSB1bmRlZmluZWQpIHNlbGYubW9iaWxlSW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICBzZWxmLnNlbGVjdGVkRGF0ZXMgPSBbXTtcbiAgICAgICAgc2VsZi5sYXRlc3RTZWxlY3RlZERhdGVPYmogPSB1bmRlZmluZWQ7XG4gICAgICAgIHNlbGYuc2hvd1RpbWVJbnB1dCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5lbmFibGVUaW1lID09PSB0cnVlKSB7XG4gICAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1pbkRhdGUgIT09IHVuZGVmaW5lZCkgc2V0SG91cnNGcm9tRGF0ZShzZWxmLmNvbmZpZy5taW5EYXRlKTtlbHNlIHNldEhvdXJzKHNlbGYuY29uZmlnLmRlZmF1bHRIb3VyLCBzZWxmLmNvbmZpZy5kZWZhdWx0TWludXRlLCBzZWxmLmNvbmZpZy5kZWZhdWx0U2Vjb25kcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnJlZHJhdygpO1xuICAgICAgICBpZiAodHJpZ2dlckNoYW5nZUV2ZW50KSB0cmlnZ2VyRXZlbnQoXCJvbkNoYW5nZVwiKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgICAgIHNlbGYuaXNPcGVuID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFzZWxmLmlzTW9iaWxlKSB7XG4gICAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwib3BlblwiKTtcblxuICAgICAgICAgIHNlbGYuX2lucHV0LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICAgIH1cblxuICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvbkNsb3NlXCIpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICBpZiAoc2VsZi5jb25maWcgIT09IHVuZGVmaW5lZCkgdHJpZ2dlckV2ZW50KFwib25EZXN0cm95XCIpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBzZWxmLl9oYW5kbGVycy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICB2YXIgaCA9IHNlbGYuX2hhbmRsZXJzW2ldO1xuICAgICAgICAgIGguZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGguZXZlbnQsIGguaGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLl9oYW5kbGVycyA9IFtdO1xuXG4gICAgICAgIGlmIChzZWxmLm1vYmlsZUlucHV0KSB7XG4gICAgICAgICAgaWYgKHNlbGYubW9iaWxlSW5wdXQucGFyZW50Tm9kZSkgc2VsZi5tb2JpbGVJbnB1dC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNlbGYubW9iaWxlSW5wdXQpO1xuICAgICAgICAgIHNlbGYubW9iaWxlSW5wdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VsZi5jYWxlbmRhckNvbnRhaW5lciAmJiBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLnBhcmVudE5vZGUpIHNlbGYuY2FsZW5kYXJDb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzZWxmLmNhbGVuZGFyQ29udGFpbmVyKTtcblxuICAgICAgICBpZiAoc2VsZi5hbHRJbnB1dCkge1xuICAgICAgICAgIHNlbGYuaW5wdXQudHlwZSA9IFwidGV4dFwiO1xuICAgICAgICAgIGlmIChzZWxmLmFsdElucHV0LnBhcmVudE5vZGUpIHNlbGYuYWx0SW5wdXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzZWxmLmFsdElucHV0KTtcbiAgICAgICAgICBkZWxldGUgc2VsZi5hbHRJbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLmlucHV0KSB7XG4gICAgICAgICAgc2VsZi5pbnB1dC50eXBlID0gc2VsZi5pbnB1dC5fdHlwZTtcbiAgICAgICAgICBzZWxmLmlucHV0LmNsYXNzTGlzdC5yZW1vdmUoXCJmbGF0cGlja3ItaW5wdXRcIik7XG4gICAgICAgICAgc2VsZi5pbnB1dC5yZW1vdmVBdHRyaWJ1dGUoXCJyZWFkb25seVwiKTtcbiAgICAgICAgICBzZWxmLmlucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIFtcIl9zaG93VGltZUlucHV0XCIsIFwibGF0ZXN0U2VsZWN0ZWREYXRlT2JqXCIsIFwiX2hpZGVOZXh0TW9udGhBcnJvd1wiLCBcIl9oaWRlUHJldk1vbnRoQXJyb3dcIiwgXCJfX2hpZGVOZXh0TW9udGhBcnJvd1wiLCBcIl9faGlkZVByZXZNb250aEFycm93XCIsIFwiaXNNb2JpbGVcIiwgXCJpc09wZW5cIiwgXCJzZWxlY3RlZERhdGVFbGVtXCIsIFwibWluRGF0ZUhhc1RpbWVcIiwgXCJtYXhEYXRlSGFzVGltZVwiLCBcImRheXNcIiwgXCJkYXlzQ29udGFpbmVyXCIsIFwiX2lucHV0XCIsIFwiX3Bvc2l0aW9uRWxlbWVudFwiLCBcImlubmVyQ29udGFpbmVyXCIsIFwickNvbnRhaW5lclwiLCBcIm1vbnRoTmF2XCIsIFwidG9kYXlEYXRlRWxlbVwiLCBcImNhbGVuZGFyQ29udGFpbmVyXCIsIFwid2Vla2RheUNvbnRhaW5lclwiLCBcInByZXZNb250aE5hdlwiLCBcIm5leHRNb250aE5hdlwiLCBcImN1cnJlbnRNb250aEVsZW1lbnRcIiwgXCJjdXJyZW50WWVhckVsZW1lbnRcIiwgXCJuYXZpZ2F0aW9uQ3VycmVudE1vbnRoXCIsIFwic2VsZWN0ZWREYXRlRWxlbVwiLCBcImNvbmZpZ1wiXS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRlbGV0ZSBzZWxmW2tdO1xuICAgICAgICAgIH0gY2F0Y2ggKF8pIHt9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpc0NhbGVuZGFyRWxlbShlbGVtKSB7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5hcHBlbmRUbyAmJiBzZWxmLmNvbmZpZy5hcHBlbmRUby5jb250YWlucyhlbGVtKSkgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLmNvbnRhaW5zKGVsZW0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBkb2N1bWVudENsaWNrKGUpIHtcbiAgICAgICAgaWYgKHNlbGYuaXNPcGVuICYmICFzZWxmLmNvbmZpZy5pbmxpbmUpIHtcbiAgICAgICAgICB2YXIgaXNDYWxlbmRhckVsZW1lbnQgPSBpc0NhbGVuZGFyRWxlbShlLnRhcmdldCk7XG4gICAgICAgICAgdmFyIGlzSW5wdXQgPSBlLnRhcmdldCA9PT0gc2VsZi5pbnB1dCB8fCBlLnRhcmdldCA9PT0gc2VsZi5hbHRJbnB1dCB8fCBzZWxmLmVsZW1lbnQuY29udGFpbnMoZS50YXJnZXQpIHx8IGUucGF0aCAmJiBlLnBhdGguaW5kZXhPZiAmJiAofmUucGF0aC5pbmRleE9mKHNlbGYuaW5wdXQpIHx8IH5lLnBhdGguaW5kZXhPZihzZWxmLmFsdElucHV0KSk7XG4gICAgICAgICAgdmFyIGxvc3RGb2N1cyA9IGUudHlwZSA9PT0gXCJibHVyXCIgPyBpc0lucHV0ICYmIGUucmVsYXRlZFRhcmdldCAmJiAhaXNDYWxlbmRhckVsZW0oZS5yZWxhdGVkVGFyZ2V0KSA6ICFpc0lucHV0ICYmICFpc0NhbGVuZGFyRWxlbWVudDtcbiAgICAgICAgICB2YXIgaXNJZ25vcmVkID0gIXNlbGYuY29uZmlnLmlnbm9yZWRGb2N1c0VsZW1lbnRzLnNvbWUoZnVuY3Rpb24gKGVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtLmNvbnRhaW5zKGUudGFyZ2V0KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChsb3N0Rm9jdXMgJiYgaXNJZ25vcmVkKSB7XG4gICAgICAgICAgICBzZWxmLmNsb3NlKCk7XG5cbiAgICAgICAgICAgIGlmIChzZWxmLmNvbmZpZy5tb2RlID09PSBcInJhbmdlXCIgJiYgc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICBzZWxmLmNsZWFyKGZhbHNlKTtcbiAgICAgICAgICAgICAgc2VsZi5yZWRyYXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2hhbmdlWWVhcihuZXdZZWFyKSB7XG4gICAgICAgIGlmICghbmV3WWVhciB8fCBzZWxmLmNvbmZpZy5taW5EYXRlICYmIG5ld1llYXIgPCBzZWxmLmNvbmZpZy5taW5EYXRlLmdldEZ1bGxZZWFyKCkgfHwgc2VsZi5jb25maWcubWF4RGF0ZSAmJiBuZXdZZWFyID4gc2VsZi5jb25maWcubWF4RGF0ZS5nZXRGdWxsWWVhcigpKSByZXR1cm47XG4gICAgICAgIHZhciBuZXdZZWFyTnVtID0gbmV3WWVhcixcbiAgICAgICAgICAgIGlzTmV3WWVhciA9IHNlbGYuY3VycmVudFllYXIgIT09IG5ld1llYXJOdW07XG4gICAgICAgIHNlbGYuY3VycmVudFllYXIgPSBuZXdZZWFyTnVtIHx8IHNlbGYuY3VycmVudFllYXI7XG5cbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1heERhdGUgJiYgc2VsZi5jdXJyZW50WWVhciA9PT0gc2VsZi5jb25maWcubWF4RGF0ZS5nZXRGdWxsWWVhcigpKSB7XG4gICAgICAgICAgc2VsZi5jdXJyZW50TW9udGggPSBNYXRoLm1pbihzZWxmLmNvbmZpZy5tYXhEYXRlLmdldE1vbnRoKCksIHNlbGYuY3VycmVudE1vbnRoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLmNvbmZpZy5taW5EYXRlICYmIHNlbGYuY3VycmVudFllYXIgPT09IHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0RnVsbFllYXIoKSkge1xuICAgICAgICAgIHNlbGYuY3VycmVudE1vbnRoID0gTWF0aC5tYXgoc2VsZi5jb25maWcubWluRGF0ZS5nZXRNb250aCgpLCBzZWxmLmN1cnJlbnRNb250aCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNOZXdZZWFyKSB7XG4gICAgICAgICAgc2VsZi5yZWRyYXcoKTtcbiAgICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvblllYXJDaGFuZ2VcIik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaXNFbmFibGVkKGRhdGUsIHRpbWVsZXNzKSB7XG4gICAgICAgIGlmICh0aW1lbGVzcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGltZWxlc3MgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGVUb0NoZWNrID0gc2VsZi5wYXJzZURhdGUoZGF0ZSwgdW5kZWZpbmVkLCB0aW1lbGVzcyk7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5taW5EYXRlICYmIGRhdGVUb0NoZWNrICYmIGNvbXBhcmVEYXRlcyhkYXRlVG9DaGVjaywgc2VsZi5jb25maWcubWluRGF0ZSwgdGltZWxlc3MgIT09IHVuZGVmaW5lZCA/IHRpbWVsZXNzIDogIXNlbGYubWluRGF0ZUhhc1RpbWUpIDwgMCB8fCBzZWxmLmNvbmZpZy5tYXhEYXRlICYmIGRhdGVUb0NoZWNrICYmIGNvbXBhcmVEYXRlcyhkYXRlVG9DaGVjaywgc2VsZi5jb25maWcubWF4RGF0ZSwgdGltZWxlc3MgIT09IHVuZGVmaW5lZCA/IHRpbWVsZXNzIDogIXNlbGYubWF4RGF0ZUhhc1RpbWUpID4gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoc2VsZi5jb25maWcuZW5hYmxlLmxlbmd0aCA9PT0gMCAmJiBzZWxmLmNvbmZpZy5kaXNhYmxlLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChkYXRlVG9DaGVjayA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHZhciBib29sID0gc2VsZi5jb25maWcuZW5hYmxlLmxlbmd0aCA+IDAsXG4gICAgICAgICAgICBhcnJheSA9IGJvb2wgPyBzZWxmLmNvbmZpZy5lbmFibGUgOiBzZWxmLmNvbmZpZy5kaXNhYmxlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBkOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBkID0gYXJyYXlbaV07XG4gICAgICAgICAgaWYgKHR5cGVvZiBkID09PSBcImZ1bmN0aW9uXCIgJiYgZChkYXRlVG9DaGVjaykpIHJldHVybiBib29sO2Vsc2UgaWYgKGQgaW5zdGFuY2VvZiBEYXRlICYmIGRhdGVUb0NoZWNrICE9PSB1bmRlZmluZWQgJiYgZC5nZXRUaW1lKCkgPT09IGRhdGVUb0NoZWNrLmdldFRpbWUoKSkgcmV0dXJuIGJvb2w7ZWxzZSBpZiAodHlwZW9mIGQgPT09IFwic3RyaW5nXCIgJiYgZGF0ZVRvQ2hlY2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHBhcnNlZCA9IHNlbGYucGFyc2VEYXRlKGQsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkICYmIHBhcnNlZC5nZXRUaW1lKCkgPT09IGRhdGVUb0NoZWNrLmdldFRpbWUoKSA/IGJvb2wgOiAhYm9vbDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkID09PSBcIm9iamVjdFwiICYmIGRhdGVUb0NoZWNrICE9PSB1bmRlZmluZWQgJiYgZC5mcm9tICYmIGQudG8gJiYgZGF0ZVRvQ2hlY2suZ2V0VGltZSgpID49IGQuZnJvbS5nZXRUaW1lKCkgJiYgZGF0ZVRvQ2hlY2suZ2V0VGltZSgpIDw9IGQudG8uZ2V0VGltZSgpKSByZXR1cm4gYm9vbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhYm9vbDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgICAgdmFyIGlzSW5wdXQgPSBlLnRhcmdldCA9PT0gc2VsZi5faW5wdXQ7XG4gICAgICAgIHZhciBjYWxlbmRhckVsZW0gPSBpc0NhbGVuZGFyRWxlbShlLnRhcmdldCk7XG4gICAgICAgIHZhciBhbGxvd0lucHV0ID0gc2VsZi5jb25maWcuYWxsb3dJbnB1dDtcbiAgICAgICAgdmFyIGFsbG93S2V5ZG93biA9IHNlbGYuaXNPcGVuICYmICghYWxsb3dJbnB1dCB8fCAhaXNJbnB1dCk7XG4gICAgICAgIHZhciBhbGxvd0lubGluZUtleWRvd24gPSBzZWxmLmNvbmZpZy5pbmxpbmUgJiYgaXNJbnB1dCAmJiAhYWxsb3dJbnB1dDtcblxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMyAmJiBpc0lucHV0KSB7XG4gICAgICAgICAgaWYgKGFsbG93SW5wdXQpIHtcbiAgICAgICAgICAgIHNlbGYuc2V0RGF0ZShzZWxmLl9pbnB1dC52YWx1ZSwgdHJ1ZSwgZS50YXJnZXQgPT09IHNlbGYuYWx0SW5wdXQgPyBzZWxmLmNvbmZpZy5hbHRGb3JtYXQgOiBzZWxmLmNvbmZpZy5kYXRlRm9ybWF0KTtcbiAgICAgICAgICAgIHJldHVybiBlLnRhcmdldC5ibHVyKCk7XG4gICAgICAgICAgfSBlbHNlIHNlbGYub3BlbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGNhbGVuZGFyRWxlbSB8fCBhbGxvd0tleWRvd24gfHwgYWxsb3dJbmxpbmVLZXlkb3duKSB7XG4gICAgICAgICAgdmFyIGlzVGltZU9iaiA9ICEhc2VsZi50aW1lQ29udGFpbmVyICYmIHNlbGYudGltZUNvbnRhaW5lci5jb250YWlucyhlLnRhcmdldCk7XG5cbiAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgaWYgKGlzVGltZU9iaikgdXBkYXRlVmFsdWUoKTtlbHNlIHNlbGVjdERhdGUoZSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGZvY3VzQW5kQ2xvc2UoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgIGNhc2UgNDY6XG4gICAgICAgICAgICAgIGlmIChpc0lucHV0ICYmICFzZWxmLmNvbmZpZy5hbGxvd0lucHV0KSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHNlbGYuY2xlYXIoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgaWYgKCFpc1RpbWVPYmopIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5kYXlzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgX2RlbHRhID0gaXNJbnB1dCA/IDAgOiBlLmtleUNvZGUgPT09IDM5ID8gMSA6IC0xO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoIWUuY3RybEtleSkgZm9jdXNPbkRheSh1bmRlZmluZWQsIF9kZWx0YSk7ZWxzZSBjaGFuZ2VNb250aChfZGVsdGEsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLmhvdXJFbGVtZW50KSBzZWxmLmhvdXJFbGVtZW50LmZvY3VzKCk7XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIHZhciBkZWx0YSA9IGUua2V5Q29kZSA9PT0gNDAgPyAxIDogLTE7XG5cbiAgICAgICAgICAgICAgaWYgKHNlbGYuZGF5c0NvbnRhaW5lciAmJiBlLnRhcmdldC4kaSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSkge1xuICAgICAgICAgICAgICAgICAgY2hhbmdlWWVhcihzZWxmLmN1cnJlbnRZZWFyIC0gZGVsdGEpO1xuICAgICAgICAgICAgICAgICAgZm9jdXNPbkRheShlLnRhcmdldC4kaSwgMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaXNUaW1lT2JqKSBmb2N1c09uRGF5KGUudGFyZ2V0LiRpLCBkZWx0YSAqIDcpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuY29uZmlnLmVuYWJsZVRpbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVGltZU9iaiAmJiBzZWxmLmhvdXJFbGVtZW50KSBzZWxmLmhvdXJFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlVGltZShlKTtcblxuICAgICAgICAgICAgICAgIHNlbGYuX2RlYm91bmNlZENoYW5nZSgpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBzZWxmLmhvdXJFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHNlbGYubWludXRlRWxlbWVudC5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldCA9PT0gc2VsZi5taW51dGVFbGVtZW50ICYmIChzZWxmLnNlY29uZEVsZW1lbnQgfHwgc2VsZi5hbVBNKSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5zZWNvbmRFbGVtZW50ICE9PSB1bmRlZmluZWQpIHNlbGYuc2Vjb25kRWxlbWVudC5mb2N1cygpO2Vsc2UgaWYgKHNlbGYuYW1QTSAhPT0gdW5kZWZpbmVkKSBzZWxmLmFtUE0uZm9jdXMoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldCA9PT0gc2VsZi5zZWNvbmRFbGVtZW50ICYmIHNlbGYuYW1QTSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBzZWxmLmFtUE0uZm9jdXMoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzd2l0Y2ggKGUua2V5KSB7XG4gICAgICAgICAgICBjYXNlIHNlbGYubDEwbi5hbVBNWzBdLmNoYXJBdCgwKTpcbiAgICAgICAgICAgIGNhc2Ugc2VsZi5sMTBuLmFtUE1bMF0uY2hhckF0KDApLnRvTG93ZXJDYXNlKCk6XG4gICAgICAgICAgICAgIGlmIChzZWxmLmFtUE0gIT09IHVuZGVmaW5lZCAmJiBlLnRhcmdldCA9PT0gc2VsZi5hbVBNKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hbVBNLnRleHRDb250ZW50ID0gc2VsZi5sMTBuLmFtUE1bMF07XG4gICAgICAgICAgICAgICAgc2V0SG91cnNGcm9tSW5wdXRzKCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlVmFsdWUoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIHNlbGYubDEwbi5hbVBNWzFdLmNoYXJBdCgwKTpcbiAgICAgICAgICAgIGNhc2Ugc2VsZi5sMTBuLmFtUE1bMV0uY2hhckF0KDApLnRvTG93ZXJDYXNlKCk6XG4gICAgICAgICAgICAgIGlmIChzZWxmLmFtUE0gIT09IHVuZGVmaW5lZCAmJiBlLnRhcmdldCA9PT0gc2VsZi5hbVBNKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5hbVBNLnRleHRDb250ZW50ID0gc2VsZi5sMTBuLmFtUE1bMV07XG4gICAgICAgICAgICAgICAgc2V0SG91cnNGcm9tSW5wdXRzKCk7XG4gICAgICAgICAgICAgICAgdXBkYXRlVmFsdWUoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvbktleURvd25cIiwgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25Nb3VzZU92ZXIoZWxlbSkge1xuICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCAhPT0gMSB8fCAhZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJmbGF0cGlja3ItZGF5XCIpIHx8IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGlzYWJsZWRcIikpIHJldHVybjtcbiAgICAgICAgdmFyIGhvdmVyRGF0ZSA9IGVsZW0uZGF0ZU9iai5nZXRUaW1lKCksXG4gICAgICAgICAgICBpbml0aWFsRGF0ZSA9IHNlbGYucGFyc2VEYXRlKHNlbGYuc2VsZWN0ZWREYXRlc1swXSwgdW5kZWZpbmVkLCB0cnVlKS5nZXRUaW1lKCksXG4gICAgICAgICAgICByYW5nZVN0YXJ0RGF0ZSA9IE1hdGgubWluKGhvdmVyRGF0ZSwgc2VsZi5zZWxlY3RlZERhdGVzWzBdLmdldFRpbWUoKSksXG4gICAgICAgICAgICByYW5nZUVuZERhdGUgPSBNYXRoLm1heChob3ZlckRhdGUsIHNlbGYuc2VsZWN0ZWREYXRlc1swXS5nZXRUaW1lKCkpO1xuICAgICAgICB2YXIgbW9udGhzID0gc2VsZi5kYXlzQ29udGFpbmVyLmNoaWxkcmVuLFxuICAgICAgICAgICAgZmlyc3REYXkgPSBtb250aHNbMF0uY2hpbGRyZW5bMF0uZGF0ZU9iai5nZXRUaW1lKCksXG4gICAgICAgICAgICBsYXN0RGF5ID0gbW9udGhzW21vbnRocy5sZW5ndGggLSAxXS5sYXN0Q2hpbGQuZGF0ZU9iai5nZXRUaW1lKCk7XG4gICAgICAgIHZhciBjb250YWluc0Rpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBtaW5SYW5nZSA9IDAsXG4gICAgICAgICAgICBtYXhSYW5nZSA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgdCA9IGZpcnN0RGF5OyB0IDwgbGFzdERheTsgdCArPSBkdXJhdGlvbi5EQVkpIHtcbiAgICAgICAgICBpZiAoIWlzRW5hYmxlZChuZXcgRGF0ZSh0KSwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIGNvbnRhaW5zRGlzYWJsZWQgPSBjb250YWluc0Rpc2FibGVkIHx8IHQgPiByYW5nZVN0YXJ0RGF0ZSAmJiB0IDwgcmFuZ2VFbmREYXRlO1xuICAgICAgICAgICAgaWYgKHQgPCBpbml0aWFsRGF0ZSAmJiAoIW1pblJhbmdlIHx8IHQgPiBtaW5SYW5nZSkpIG1pblJhbmdlID0gdDtlbHNlIGlmICh0ID4gaW5pdGlhbERhdGUgJiYgKCFtYXhSYW5nZSB8fCB0IDwgbWF4UmFuZ2UpKSBtYXhSYW5nZSA9IHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgbSA9IDA7IG0gPCBzZWxmLmNvbmZpZy5zaG93TW9udGhzOyBtKyspIHtcbiAgICAgICAgICB2YXIgbW9udGggPSBzZWxmLmRheXNDb250YWluZXIuY2hpbGRyZW5bbV07XG4gICAgICAgICAgdmFyIHByZXZNb250aCA9IHNlbGYuZGF5c0NvbnRhaW5lci5jaGlsZHJlblttIC0gMV07XG5cbiAgICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpLCBsKSB7XG4gICAgICAgICAgICB2YXIgZGF5RWxlbSA9IG1vbnRoLmNoaWxkcmVuW2ldLFxuICAgICAgICAgICAgICAgIGRhdGUgPSBkYXlFbGVtLmRhdGVPYmo7XG4gICAgICAgICAgICB2YXIgdGltZXN0YW1wID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgICB2YXIgb3V0T2ZSYW5nZSA9IG1pblJhbmdlID4gMCAmJiB0aW1lc3RhbXAgPCBtaW5SYW5nZSB8fCBtYXhSYW5nZSA+IDAgJiYgdGltZXN0YW1wID4gbWF4UmFuZ2U7XG5cbiAgICAgICAgICAgIGlmIChvdXRPZlJhbmdlKSB7XG4gICAgICAgICAgICAgIGRheUVsZW0uY2xhc3NMaXN0LmFkZChcIm5vdEFsbG93ZWRcIik7XG4gICAgICAgICAgICAgIFtcImluUmFuZ2VcIiwgXCJzdGFydFJhbmdlXCIsIFwiZW5kUmFuZ2VcIl0uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIGRheUVsZW0uY2xhc3NMaXN0LnJlbW92ZShjKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybiBcImNvbnRpbnVlXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRhaW5zRGlzYWJsZWQgJiYgIW91dE9mUmFuZ2UpIHJldHVybiBcImNvbnRpbnVlXCI7XG5cbiAgICAgICAgICAgIFtcInN0YXJ0UmFuZ2VcIiwgXCJpblJhbmdlXCIsIFwiZW5kUmFuZ2VcIiwgXCJub3RBbGxvd2VkXCJdLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgZGF5RWxlbS5jbGFzc0xpc3QucmVtb3ZlKGMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoaG92ZXJEYXRlIDwgc2VsZi5zZWxlY3RlZERhdGVzWzBdLmdldFRpbWUoKSA/IFwic3RhcnRSYW5nZVwiIDogXCJlbmRSYW5nZVwiKTtcblxuICAgICAgICAgICAgaWYgKG1vbnRoLmNvbnRhaW5zKGVsZW0pIHx8ICEobSA+IDAgJiYgcHJldk1vbnRoICYmIHByZXZNb250aC5sYXN0Q2hpbGQuZGF0ZU9iai5nZXRUaW1lKCkgPj0gdGltZXN0YW1wKSkge1xuICAgICAgICAgICAgICBpZiAoaW5pdGlhbERhdGUgPCBob3ZlckRhdGUgJiYgdGltZXN0YW1wID09PSBpbml0aWFsRGF0ZSkgZGF5RWxlbS5jbGFzc0xpc3QuYWRkKFwic3RhcnRSYW5nZVwiKTtlbHNlIGlmIChpbml0aWFsRGF0ZSA+IGhvdmVyRGF0ZSAmJiB0aW1lc3RhbXAgPT09IGluaXRpYWxEYXRlKSBkYXlFbGVtLmNsYXNzTGlzdC5hZGQoXCJlbmRSYW5nZVwiKTtcbiAgICAgICAgICAgICAgaWYgKHRpbWVzdGFtcCA+PSBtaW5SYW5nZSAmJiAobWF4UmFuZ2UgPT09IDAgfHwgdGltZXN0YW1wIDw9IG1heFJhbmdlKSAmJiBpc0JldHdlZW4odGltZXN0YW1wLCBpbml0aWFsRGF0ZSwgaG92ZXJEYXRlKSkgZGF5RWxlbS5jbGFzc0xpc3QuYWRkKFwiaW5SYW5nZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBtb250aC5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfcmV0ID0gX2xvb3AoaSwgbCk7XG5cbiAgICAgICAgICAgIGlmIChfcmV0ID09PSBcImNvbnRpbnVlXCIpIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvblJlc2l6ZSgpIHtcbiAgICAgICAgaWYgKHNlbGYuaXNPcGVuICYmICFzZWxmLmNvbmZpZy5zdGF0aWMgJiYgIXNlbGYuY29uZmlnLmlubGluZSkgcG9zaXRpb25DYWxlbmRhcigpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvcGVuKGUsIHBvc2l0aW9uRWxlbWVudCkge1xuICAgICAgICBpZiAocG9zaXRpb25FbGVtZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICBwb3NpdGlvbkVsZW1lbnQgPSBzZWxmLl9pbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLmlzTW9iaWxlID09PSB0cnVlKSB7XG4gICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUudGFyZ2V0ICYmIGUudGFyZ2V0LmJsdXIoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYubW9iaWxlSW5wdXQgIT09IHVuZGVmaW5lZCAmJiBzZWxmLm1vYmlsZUlucHV0LmNsaWNrKCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgdHJpZ2dlckV2ZW50KFwib25PcGVuXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLl9pbnB1dC5kaXNhYmxlZCB8fCBzZWxmLmNvbmZpZy5pbmxpbmUpIHJldHVybjtcbiAgICAgICAgdmFyIHdhc09wZW4gPSBzZWxmLmlzT3BlbjtcbiAgICAgICAgc2VsZi5pc09wZW4gPSB0cnVlO1xuXG4gICAgICAgIGlmICghd2FzT3Blbikge1xuICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm9wZW5cIik7XG5cbiAgICAgICAgICBzZWxmLl9pbnB1dC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuXG4gICAgICAgICAgdHJpZ2dlckV2ZW50KFwib25PcGVuXCIpO1xuICAgICAgICAgIHBvc2l0aW9uQ2FsZW5kYXIocG9zaXRpb25FbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5lbmFibGVUaW1lID09PSB0cnVlICYmIHNlbGYuY29uZmlnLm5vQ2FsZW5kYXIgPT09IHRydWUpIHtcbiAgICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2VsZi5zZXREYXRlKHNlbGYuY29uZmlnLm1pbkRhdGUgIT09IHVuZGVmaW5lZCA/IG5ldyBEYXRlKHNlbGYuY29uZmlnLm1pbkRhdGUuZ2V0VGltZSgpKSA6IG5ldyBEYXRlKCkuc2V0SG91cnMoc2VsZi5jb25maWcuZGVmYXVsdEhvdXIsIHNlbGYuY29uZmlnLmRlZmF1bHRNaW51dGUsIHNlbGYuY29uZmlnLmRlZmF1bHRTZWNvbmRzLCAwKSwgZmFsc2UpO1xuICAgICAgICAgICAgc2V0SG91cnNGcm9tSW5wdXRzKCk7XG4gICAgICAgICAgICB1cGRhdGVWYWx1ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuaG91ckVsZW1lbnQuc2VsZWN0KCk7XG4gICAgICAgICAgfSwgNTApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG1pbk1heERhdGVTZXR0ZXIodHlwZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGUpIHtcbiAgICAgICAgICB2YXIgZGF0ZU9iaiA9IHNlbGYuY29uZmlnW1wiX1wiICsgdHlwZSArIFwiRGF0ZVwiXSA9IHNlbGYucGFyc2VEYXRlKGRhdGUsIHNlbGYuY29uZmlnLmRhdGVGb3JtYXQpO1xuICAgICAgICAgIHZhciBpbnZlcnNlRGF0ZU9iaiA9IHNlbGYuY29uZmlnW1wiX1wiICsgKHR5cGUgPT09IFwibWluXCIgPyBcIm1heFwiIDogXCJtaW5cIikgKyBcIkRhdGVcIl07XG5cbiAgICAgICAgICBpZiAoZGF0ZU9iaiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzZWxmW3R5cGUgPT09IFwibWluXCIgPyBcIm1pbkRhdGVIYXNUaW1lXCIgOiBcIm1heERhdGVIYXNUaW1lXCJdID0gZGF0ZU9iai5nZXRIb3VycygpID4gMCB8fCBkYXRlT2JqLmdldE1pbnV0ZXMoKSA+IDAgfHwgZGF0ZU9iai5nZXRTZWNvbmRzKCkgPiAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWxmLnNlbGVjdGVkRGF0ZXMpIHtcbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWREYXRlcyA9IHNlbGYuc2VsZWN0ZWREYXRlcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGlzRW5hYmxlZChkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoICYmIHR5cGUgPT09IFwibWluXCIpIHNldEhvdXJzRnJvbURhdGUoZGF0ZU9iaik7XG4gICAgICAgICAgICB1cGRhdGVWYWx1ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWxmLmRheXNDb250YWluZXIpIHtcbiAgICAgICAgICAgIHJlZHJhdygpO1xuICAgICAgICAgICAgaWYgKGRhdGVPYmogIT09IHVuZGVmaW5lZCkgc2VsZi5jdXJyZW50WWVhckVsZW1lbnRbdHlwZV0gPSBkYXRlT2JqLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKTtlbHNlIHNlbGYuY3VycmVudFllYXJFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSh0eXBlKTtcbiAgICAgICAgICAgIHNlbGYuY3VycmVudFllYXJFbGVtZW50LmRpc2FibGVkID0gISFpbnZlcnNlRGF0ZU9iaiAmJiBkYXRlT2JqICE9PSB1bmRlZmluZWQgJiYgaW52ZXJzZURhdGVPYmouZ2V0RnVsbFllYXIoKSA9PT0gZGF0ZU9iai5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFyc2VDb25maWcoKSB7XG4gICAgICAgIHZhciBib29sT3B0cyA9IFtcIndyYXBcIiwgXCJ3ZWVrTnVtYmVyc1wiLCBcImFsbG93SW5wdXRcIiwgXCJjbGlja09wZW5zXCIsIFwidGltZV8yNGhyXCIsIFwiZW5hYmxlVGltZVwiLCBcIm5vQ2FsZW5kYXJcIiwgXCJhbHRJbnB1dFwiLCBcInNob3J0aGFuZEN1cnJlbnRNb250aFwiLCBcImlubGluZVwiLCBcInN0YXRpY1wiLCBcImVuYWJsZVNlY29uZHNcIiwgXCJkaXNhYmxlTW9iaWxlXCJdO1xuICAgICAgICB2YXIgaG9va3MgPSBbXCJvbkNoYW5nZVwiLCBcIm9uQ2xvc2VcIiwgXCJvbkRheUNyZWF0ZVwiLCBcIm9uRGVzdHJveVwiLCBcIm9uS2V5RG93blwiLCBcIm9uTW9udGhDaGFuZ2VcIiwgXCJvbk9wZW5cIiwgXCJvblBhcnNlQ29uZmlnXCIsIFwib25SZWFkeVwiLCBcIm9uVmFsdWVVcGRhdGVcIiwgXCJvblllYXJDaGFuZ2VcIiwgXCJvblByZUNhbGVuZGFyUG9zaXRpb25cIl07XG4gICAgICAgIHZhciB1c2VyQ29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgaW5zdGFuY2VDb25maWcsIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZWxlbWVudC5kYXRhc2V0IHx8IHt9KSkpO1xuICAgICAgICB2YXIgZm9ybWF0cyQkMSA9IHt9O1xuICAgICAgICBzZWxmLmNvbmZpZy5wYXJzZURhdGUgPSB1c2VyQ29uZmlnLnBhcnNlRGF0ZTtcbiAgICAgICAgc2VsZi5jb25maWcuZm9ybWF0RGF0ZSA9IHVzZXJDb25maWcuZm9ybWF0RGF0ZTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYuY29uZmlnLCBcImVuYWJsZVwiLCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jb25maWcuX2VuYWJsZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRhdGVzKSB7XG4gICAgICAgICAgICBzZWxmLmNvbmZpZy5fZW5hYmxlID0gcGFyc2VEYXRlUnVsZXMoZGF0ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLmNvbmZpZywgXCJkaXNhYmxlXCIsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbmZpZy5fZGlzYWJsZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRhdGVzKSB7XG4gICAgICAgICAgICBzZWxmLmNvbmZpZy5fZGlzYWJsZSA9IHBhcnNlRGF0ZVJ1bGVzKGRhdGVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghdXNlckNvbmZpZy5kYXRlRm9ybWF0ICYmIHVzZXJDb25maWcuZW5hYmxlVGltZSkge1xuICAgICAgICAgIGZvcm1hdHMkJDEuZGF0ZUZvcm1hdCA9IHVzZXJDb25maWcubm9DYWxlbmRhciA/IFwiSDppXCIgKyAodXNlckNvbmZpZy5lbmFibGVTZWNvbmRzID8gXCI6U1wiIDogXCJcIikgOiBmbGF0cGlja3IuZGVmYXVsdENvbmZpZy5kYXRlRm9ybWF0ICsgXCIgSDppXCIgKyAodXNlckNvbmZpZy5lbmFibGVTZWNvbmRzID8gXCI6U1wiIDogXCJcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXNlckNvbmZpZy5hbHRJbnB1dCAmJiB1c2VyQ29uZmlnLmVuYWJsZVRpbWUgJiYgIXVzZXJDb25maWcuYWx0Rm9ybWF0KSB7XG4gICAgICAgICAgZm9ybWF0cyQkMS5hbHRGb3JtYXQgPSB1c2VyQ29uZmlnLm5vQ2FsZW5kYXIgPyBcImg6aVwiICsgKHVzZXJDb25maWcuZW5hYmxlU2Vjb25kcyA/IFwiOlMgS1wiIDogXCIgS1wiKSA6IGZsYXRwaWNrci5kZWZhdWx0Q29uZmlnLmFsdEZvcm1hdCArIChcIiBoOmlcIiArICh1c2VyQ29uZmlnLmVuYWJsZVNlY29uZHMgPyBcIjpTXCIgOiBcIlwiKSArIFwiIEtcIik7XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZi5jb25maWcsIFwibWluRGF0ZVwiLCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jb25maWcuX21pbkRhdGU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IG1pbk1heERhdGVTZXR0ZXIoXCJtaW5cIilcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLmNvbmZpZywgXCJtYXhEYXRlXCIsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbmZpZy5fbWF4RGF0ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogbWluTWF4RGF0ZVNldHRlcihcIm1heFwiKVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgbWluTWF4VGltZVNldHRlciA9IGZ1bmN0aW9uIG1pbk1heFRpbWVTZXR0ZXIodHlwZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICBzZWxmLmNvbmZpZ1t0eXBlID09PSBcIm1pblwiID8gXCJfbWluVGltZVwiIDogXCJfbWF4VGltZVwiXSA9IHNlbGYucGFyc2VEYXRlKHZhbCwgXCJIOmlcIik7XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZi5jb25maWcsIFwibWluVGltZVwiLCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jb25maWcuX21pblRpbWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IG1pbk1heFRpbWVTZXR0ZXIoXCJtaW5cIilcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLmNvbmZpZywgXCJtYXhUaW1lXCIsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbmZpZy5fbWF4VGltZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogbWluTWF4VGltZVNldHRlcihcIm1heFwiKVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzZWxmLmNvbmZpZywgZm9ybWF0cyQkMSwgdXNlckNvbmZpZyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib29sT3B0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHNlbGYuY29uZmlnW2Jvb2xPcHRzW2ldXSA9IHNlbGYuY29uZmlnW2Jvb2xPcHRzW2ldXSA9PT0gdHJ1ZSB8fCBzZWxmLmNvbmZpZ1tib29sT3B0c1tpXV0gPT09IFwidHJ1ZVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgX2kgPSBob29rcy5sZW5ndGg7IF9pLS07KSB7XG4gICAgICAgICAgaWYgKHNlbGYuY29uZmlnW2hvb2tzW19pXV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2VsZi5jb25maWdbaG9va3NbX2ldXSA9IGFycmF5aWZ5KHNlbGYuY29uZmlnW2hvb2tzW19pXV0gfHwgW10pLm1hcChiaW5kVG9JbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1vZGUgPT09IFwidGltZVwiKSB7XG4gICAgICAgICAgc2VsZi5jb25maWcubm9DYWxlbmRhciA9IHRydWU7XG4gICAgICAgICAgc2VsZi5jb25maWcuZW5hYmxlVGltZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBzZWxmLmNvbmZpZy5wbHVnaW5zLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICB2YXIgcGx1Z2luQ29uZiA9IHNlbGYuY29uZmlnLnBsdWdpbnNbX2kyXShzZWxmKSB8fCB7fTtcblxuICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwbHVnaW5Db25mKSB7XG4gICAgICAgICAgICBpZiAofmhvb2tzLmluZGV4T2Yoa2V5KSkge1xuICAgICAgICAgICAgICBzZWxmLmNvbmZpZ1trZXldID0gYXJyYXlpZnkocGx1Z2luQ29uZltrZXldKS5tYXAoYmluZFRvSW5zdGFuY2UpLmNvbmNhdChzZWxmLmNvbmZpZ1trZXldKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHVzZXJDb25maWdba2V5XSA9PT0gXCJ1bmRlZmluZWRcIikgc2VsZi5jb25maWdba2V5XSA9IHBsdWdpbkNvbmZba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmlzTW9iaWxlID0gIXNlbGYuY29uZmlnLmRpc2FibGVNb2JpbGUgJiYgIXNlbGYuY29uZmlnLmlubGluZSAmJiBzZWxmLmNvbmZpZy5tb2RlID09PSBcInNpbmdsZVwiICYmICFzZWxmLmNvbmZpZy5kaXNhYmxlLmxlbmd0aCAmJiAhc2VsZi5jb25maWcuZW5hYmxlLmxlbmd0aCAmJiAhc2VsZi5jb25maWcud2Vla051bWJlcnMgJiYgL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvblBhcnNlQ29uZmlnXCIpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXR1cExvY2FsZSgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWxmLmNvbmZpZy5sb2NhbGUgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIGZsYXRwaWNrci5sMTBuc1tzZWxmLmNvbmZpZy5sb2NhbGVdID09PSBcInVuZGVmaW5lZFwiKSBzZWxmLmNvbmZpZy5lcnJvckhhbmRsZXIobmV3IEVycm9yKFwiZmxhdHBpY2tyOiBpbnZhbGlkIGxvY2FsZSBcIiArIHNlbGYuY29uZmlnLmxvY2FsZSkpO1xuICAgICAgICBzZWxmLmwxMG4gPSBPYmplY3QuYXNzaWduKHt9LCBmbGF0cGlja3IubDEwbnMuZGVmYXVsdCwgdHlwZW9mIHNlbGYuY29uZmlnLmxvY2FsZSA9PT0gXCJvYmplY3RcIiA/IHNlbGYuY29uZmlnLmxvY2FsZSA6IHNlbGYuY29uZmlnLmxvY2FsZSAhPT0gXCJkZWZhdWx0XCIgPyBmbGF0cGlja3IubDEwbnNbc2VsZi5jb25maWcubG9jYWxlXSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHRva2VuUmVnZXguSyA9IFwiKFwiICsgc2VsZi5sMTBuLmFtUE1bMF0gKyBcInxcIiArIHNlbGYubDEwbi5hbVBNWzFdICsgXCJ8XCIgKyBzZWxmLmwxMG4uYW1QTVswXS50b0xvd2VyQ2FzZSgpICsgXCJ8XCIgKyBzZWxmLmwxMG4uYW1QTVsxXS50b0xvd2VyQ2FzZSgpICsgXCIpXCI7XG4gICAgICAgIHNlbGYuZm9ybWF0RGF0ZSA9IGNyZWF0ZURhdGVGb3JtYXR0ZXIoc2VsZik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHBvc2l0aW9uQ2FsZW5kYXIoY3VzdG9tUG9zaXRpb25FbGVtZW50KSB7XG4gICAgICAgIGlmIChzZWxmLmNhbGVuZGFyQ29udGFpbmVyID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgdHJpZ2dlckV2ZW50KFwib25QcmVDYWxlbmRhclBvc2l0aW9uXCIpO1xuICAgICAgICB2YXIgcG9zaXRpb25FbGVtZW50ID0gY3VzdG9tUG9zaXRpb25FbGVtZW50IHx8IHNlbGYuX3Bvc2l0aW9uRWxlbWVudDtcbiAgICAgICAgdmFyIGNhbGVuZGFySGVpZ2h0ID0gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKHNlbGYuY2FsZW5kYXJDb250YWluZXIuY2hpbGRyZW4sIGZ1bmN0aW9uIChhY2MsIGNoaWxkKSB7XG4gICAgICAgICAgcmV0dXJuIGFjYyArIGNoaWxkLm9mZnNldEhlaWdodDtcbiAgICAgICAgfSwgMCksXG4gICAgICAgICAgICBjYWxlbmRhcldpZHRoID0gc2VsZi5jYWxlbmRhckNvbnRhaW5lci5vZmZzZXRXaWR0aCxcbiAgICAgICAgICAgIGNvbmZpZ1BvcyA9IHNlbGYuY29uZmlnLnBvc2l0aW9uLFxuICAgICAgICAgICAgaW5wdXRCb3VuZHMgPSBwb3NpdGlvbkVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICBkaXN0YW5jZUZyb21Cb3R0b20gPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSBpbnB1dEJvdW5kcy5ib3R0b20sXG4gICAgICAgICAgICBzaG93T25Ub3AgPSBjb25maWdQb3MgPT09IFwiYWJvdmVcIiB8fCBjb25maWdQb3MgIT09IFwiYmVsb3dcIiAmJiBkaXN0YW5jZUZyb21Cb3R0b20gPCBjYWxlbmRhckhlaWdodCAmJiBpbnB1dEJvdW5kcy50b3AgPiBjYWxlbmRhckhlaWdodDtcbiAgICAgICAgdmFyIHRvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCArIGlucHV0Qm91bmRzLnRvcCArICghc2hvd09uVG9wID8gcG9zaXRpb25FbGVtZW50Lm9mZnNldEhlaWdodCArIDIgOiAtY2FsZW5kYXJIZWlnaHQgLSAyKTtcbiAgICAgICAgdG9nZ2xlQ2xhc3Moc2VsZi5jYWxlbmRhckNvbnRhaW5lciwgXCJhcnJvd1RvcFwiLCAhc2hvd09uVG9wKTtcbiAgICAgICAgdG9nZ2xlQ2xhc3Moc2VsZi5jYWxlbmRhckNvbnRhaW5lciwgXCJhcnJvd0JvdHRvbVwiLCBzaG93T25Ub3ApO1xuICAgICAgICBpZiAoc2VsZi5jb25maWcuaW5saW5lKSByZXR1cm47XG4gICAgICAgIHZhciBsZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0ICsgaW5wdXRCb3VuZHMubGVmdDtcbiAgICAgICAgdmFyIHJpZ2h0ID0gd2luZG93LmRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGggLSBpbnB1dEJvdW5kcy5yaWdodDtcbiAgICAgICAgdmFyIHJpZ2h0TW9zdCA9IGxlZnQgKyBjYWxlbmRhcldpZHRoID4gd2luZG93LmRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGg7XG4gICAgICAgIHRvZ2dsZUNsYXNzKHNlbGYuY2FsZW5kYXJDb250YWluZXIsIFwicmlnaHRNb3N0XCIsIHJpZ2h0TW9zdCk7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5zdGF0aWMpIHJldHVybjtcbiAgICAgICAgc2VsZi5jYWxlbmRhckNvbnRhaW5lci5zdHlsZS50b3AgPSB0b3AgKyBcInB4XCI7XG5cbiAgICAgICAgaWYgKCFyaWdodE1vc3QpIHtcbiAgICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLnN0eWxlLmxlZnQgPSBsZWZ0ICsgXCJweFwiO1xuICAgICAgICAgIHNlbGYuY2FsZW5kYXJDb250YWluZXIuc3R5bGUucmlnaHQgPSBcImF1dG9cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLnN0eWxlLmxlZnQgPSBcImF1dG9cIjtcbiAgICAgICAgICBzZWxmLmNhbGVuZGFyQ29udGFpbmVyLnN0eWxlLnJpZ2h0ID0gcmlnaHQgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcmVkcmF3KCkge1xuICAgICAgICBpZiAoc2VsZi5jb25maWcubm9DYWxlbmRhciB8fCBzZWxmLmlzTW9iaWxlKSByZXR1cm47XG4gICAgICAgIHVwZGF0ZVdlZWtkYXlzKCk7XG4gICAgICAgIHVwZGF0ZU5hdmlnYXRpb25DdXJyZW50TW9udGgoKTtcbiAgICAgICAgYnVpbGREYXlzKCk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZvY3VzQW5kQ2xvc2UoKSB7XG4gICAgICAgIHNlbGYuX2lucHV0LmZvY3VzKCk7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJNU0lFXCIpICE9PSAtMSB8fCBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgc2V0VGltZW91dChzZWxmLmNsb3NlLCAwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2VsZWN0RGF0ZShlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICB2YXIgaXNTZWxlY3RhYmxlID0gZnVuY3Rpb24gaXNTZWxlY3RhYmxlKGRheSkge1xuICAgICAgICAgIHJldHVybiBkYXkuY2xhc3NMaXN0ICYmIGRheS5jbGFzc0xpc3QuY29udGFpbnMoXCJmbGF0cGlja3ItZGF5XCIpICYmICFkYXkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGlzYWJsZWRcIikgJiYgIWRheS5jbGFzc0xpc3QuY29udGFpbnMoXCJub3RBbGxvd2VkXCIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0ID0gZmluZFBhcmVudChlLnRhcmdldCwgaXNTZWxlY3RhYmxlKTtcbiAgICAgICAgaWYgKHQgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdDtcbiAgICAgICAgdmFyIHNlbGVjdGVkRGF0ZSA9IHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqID0gbmV3IERhdGUodGFyZ2V0LmRhdGVPYmouZ2V0VGltZSgpKTtcbiAgICAgICAgdmFyIHNob3VsZENoYW5nZU1vbnRoID0gKHNlbGVjdGVkRGF0ZS5nZXRNb250aCgpIDwgc2VsZi5jdXJyZW50TW9udGggfHwgc2VsZWN0ZWREYXRlLmdldE1vbnRoKCkgPiBzZWxmLmN1cnJlbnRNb250aCArIHNlbGYuY29uZmlnLnNob3dNb250aHMgLSAxKSAmJiBzZWxmLmNvbmZpZy5tb2RlICE9PSBcInJhbmdlXCI7XG4gICAgICAgIHNlbGYuc2VsZWN0ZWREYXRlRWxlbSA9IHRhcmdldDtcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1vZGUgPT09IFwic2luZ2xlXCIpIHNlbGYuc2VsZWN0ZWREYXRlcyA9IFtzZWxlY3RlZERhdGVdO2Vsc2UgaWYgKHNlbGYuY29uZmlnLm1vZGUgPT09IFwibXVsdGlwbGVcIikge1xuICAgICAgICAgIHZhciBzZWxlY3RlZEluZGV4ID0gaXNEYXRlU2VsZWN0ZWQoc2VsZWN0ZWREYXRlKTtcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRJbmRleCkgc2VsZi5zZWxlY3RlZERhdGVzLnNwbGljZShwYXJzZUludChzZWxlY3RlZEluZGV4KSwgMSk7ZWxzZSBzZWxmLnNlbGVjdGVkRGF0ZXMucHVzaChzZWxlY3RlZERhdGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHNlbGYuY29uZmlnLm1vZGUgPT09IFwicmFuZ2VcIikge1xuICAgICAgICAgIGlmIChzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoID09PSAyKSBzZWxmLmNsZWFyKGZhbHNlKTtcbiAgICAgICAgICBzZWxmLnNlbGVjdGVkRGF0ZXMucHVzaChzZWxlY3RlZERhdGUpO1xuICAgICAgICAgIGlmIChjb21wYXJlRGF0ZXMoc2VsZWN0ZWREYXRlLCBzZWxmLnNlbGVjdGVkRGF0ZXNbMF0sIHRydWUpICE9PSAwKSBzZWxmLnNlbGVjdGVkRGF0ZXMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEuZ2V0VGltZSgpIC0gYi5nZXRUaW1lKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0SG91cnNGcm9tSW5wdXRzKCk7XG5cbiAgICAgICAgaWYgKHNob3VsZENoYW5nZU1vbnRoKSB7XG4gICAgICAgICAgdmFyIGlzTmV3WWVhciA9IHNlbGYuY3VycmVudFllYXIgIT09IHNlbGVjdGVkRGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgIHNlbGYuY3VycmVudFllYXIgPSBzZWxlY3RlZERhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICBzZWxmLmN1cnJlbnRNb250aCA9IHNlbGVjdGVkRGF0ZS5nZXRNb250aCgpO1xuICAgICAgICAgIGlmIChpc05ld1llYXIpIHRyaWdnZXJFdmVudChcIm9uWWVhckNoYW5nZVwiKTtcbiAgICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvbk1vbnRoQ2hhbmdlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdXBkYXRlTmF2aWdhdGlvbkN1cnJlbnRNb250aCgpO1xuICAgICAgICBidWlsZERheXMoKTtcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1pbkRhdGUgJiYgc2VsZi5taW5EYXRlSGFzVGltZSAmJiBzZWxmLmNvbmZpZy5lbmFibGVUaW1lICYmIGNvbXBhcmVEYXRlcyhzZWxlY3RlZERhdGUsIHNlbGYuY29uZmlnLm1pbkRhdGUpID09PSAwKSBzZXRIb3Vyc0Zyb21EYXRlKHNlbGYuY29uZmlnLm1pbkRhdGUpO1xuICAgICAgICB1cGRhdGVWYWx1ZSgpO1xuICAgICAgICBpZiAoc2VsZi5jb25maWcuZW5hYmxlVGltZSkgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuc2hvd1RpbWVJbnB1dCA9IHRydWU7XG4gICAgICAgIH0sIDUwKTtcblxuICAgICAgICBpZiAoc2VsZi5jb25maWcubW9kZSA9PT0gXCJyYW5nZVwiKSB7XG4gICAgICAgICAgaWYgKHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIG9uTW91c2VPdmVyKHRhcmdldCk7XG4gICAgICAgICAgfSBlbHNlIHVwZGF0ZU5hdmlnYXRpb25DdXJyZW50TW9udGgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2hvdWxkQ2hhbmdlTW9udGggJiYgc2VsZi5jb25maWcubW9kZSAhPT0gXCJyYW5nZVwiICYmIHNlbGYuY29uZmlnLnNob3dNb250aHMgPT09IDEpIGZvY3VzT25EYXkodGFyZ2V0LiRpLCAwKTtlbHNlIHNlbGYuc2VsZWN0ZWREYXRlRWxlbSAmJiBzZWxmLnNlbGVjdGVkRGF0ZUVsZW0uZm9jdXMoKTtcbiAgICAgICAgaWYgKHNlbGYuaG91ckVsZW1lbnQgIT09IHVuZGVmaW5lZCkgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuaG91ckVsZW1lbnQgIT09IHVuZGVmaW5lZCAmJiBzZWxmLmhvdXJFbGVtZW50LnNlbGVjdCgpO1xuICAgICAgICB9LCA0NTEpO1xuXG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5jbG9zZU9uU2VsZWN0KSB7XG4gICAgICAgICAgdmFyIHNpbmdsZSA9IHNlbGYuY29uZmlnLm1vZGUgPT09IFwic2luZ2xlXCIgJiYgIXNlbGYuY29uZmlnLmVuYWJsZVRpbWU7XG4gICAgICAgICAgdmFyIHJhbmdlID0gc2VsZi5jb25maWcubW9kZSA9PT0gXCJyYW5nZVwiICYmIHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggPT09IDIgJiYgIXNlbGYuY29uZmlnLmVuYWJsZVRpbWU7XG5cbiAgICAgICAgICBpZiAoc2luZ2xlIHx8IHJhbmdlKSB7XG4gICAgICAgICAgICBmb2N1c0FuZENsb3NlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdHJpZ2dlckNoYW5nZSgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgQ0FMTEJBQ0tTID0ge1xuICAgICAgICBsb2NhbGU6IFtzZXR1cExvY2FsZV1cbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHNldChvcHRpb24sIHZhbHVlKSB7XG4gICAgICAgIGlmIChvcHRpb24gIT09IG51bGwgJiYgdHlwZW9mIG9wdGlvbiA9PT0gXCJvYmplY3RcIikgT2JqZWN0LmFzc2lnbihzZWxmLmNvbmZpZywgb3B0aW9uKTtlbHNlIHtcbiAgICAgICAgICBzZWxmLmNvbmZpZ1tvcHRpb25dID0gdmFsdWU7XG4gICAgICAgICAgaWYgKENBTExCQUNLU1tvcHRpb25dICE9PSB1bmRlZmluZWQpIENBTExCQUNLU1tvcHRpb25dLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5yZWRyYXcoKTtcbiAgICAgICAganVtcFRvRGF0ZSgpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXRTZWxlY3RlZERhdGUoaW5wdXREYXRlLCBmb3JtYXQpIHtcbiAgICAgICAgdmFyIGRhdGVzID0gW107XG4gICAgICAgIGlmIChpbnB1dERhdGUgaW5zdGFuY2VvZiBBcnJheSkgZGF0ZXMgPSBpbnB1dERhdGUubWFwKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYucGFyc2VEYXRlKGQsIGZvcm1hdCk7XG4gICAgICAgIH0pO2Vsc2UgaWYgKGlucHV0RGF0ZSBpbnN0YW5jZW9mIERhdGUgfHwgdHlwZW9mIGlucHV0RGF0ZSA9PT0gXCJudW1iZXJcIikgZGF0ZXMgPSBbc2VsZi5wYXJzZURhdGUoaW5wdXREYXRlLCBmb3JtYXQpXTtlbHNlIGlmICh0eXBlb2YgaW5wdXREYXRlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgc3dpdGNoIChzZWxmLmNvbmZpZy5tb2RlKSB7XG4gICAgICAgICAgICBjYXNlIFwic2luZ2xlXCI6XG4gICAgICAgICAgICAgIGRhdGVzID0gW3NlbGYucGFyc2VEYXRlKGlucHV0RGF0ZSwgZm9ybWF0KV07XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICAgICAgZGF0ZXMgPSBpbnB1dERhdGUuc3BsaXQoc2VsZi5jb25maWcuY29uanVuY3Rpb24pLm1hcChmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnBhcnNlRGF0ZShkYXRlLCBmb3JtYXQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJyYW5nZVwiOlxuICAgICAgICAgICAgICBkYXRlcyA9IGlucHV0RGF0ZS5zcGxpdChzZWxmLmwxMG4ucmFuZ2VTZXBhcmF0b3IpLm1hcChmdW5jdGlvbiAoZGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLnBhcnNlRGF0ZShkYXRlLCBmb3JtYXQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHNlbGYuY29uZmlnLmVycm9ySGFuZGxlcihuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGUgc3VwcGxpZWQ6IFwiICsgSlNPTi5zdHJpbmdpZnkoaW5wdXREYXRlKSkpO1xuICAgICAgICBzZWxmLnNlbGVjdGVkRGF0ZXMgPSBkYXRlcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICByZXR1cm4gZCBpbnN0YW5jZW9mIERhdGUgJiYgaXNFbmFibGVkKGQsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5tb2RlID09PSBcInJhbmdlXCIpIHNlbGYuc2VsZWN0ZWREYXRlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgcmV0dXJuIGEuZ2V0VGltZSgpIC0gYi5nZXRUaW1lKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXREYXRlKGRhdGUsIHRyaWdnZXJDaGFuZ2UsIGZvcm1hdCkge1xuICAgICAgICBpZiAodHJpZ2dlckNoYW5nZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdHJpZ2dlckNoYW5nZSA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgZm9ybWF0ID0gc2VsZi5jb25maWcuZGF0ZUZvcm1hdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRlICE9PSAwICYmICFkYXRlKSByZXR1cm4gc2VsZi5jbGVhcih0cmlnZ2VyQ2hhbmdlKTtcbiAgICAgICAgc2V0U2VsZWN0ZWREYXRlKGRhdGUsIGZvcm1hdCk7XG4gICAgICAgIHNlbGYuc2hvd1RpbWVJbnB1dCA9IHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggPiAwO1xuICAgICAgICBzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiA9IHNlbGYuc2VsZWN0ZWREYXRlc1swXTtcbiAgICAgICAgc2VsZi5yZWRyYXcoKTtcbiAgICAgICAganVtcFRvRGF0ZSgpO1xuICAgICAgICBzZXRIb3Vyc0Zyb21EYXRlKCk7XG4gICAgICAgIHVwZGF0ZVZhbHVlKHRyaWdnZXJDaGFuZ2UpO1xuICAgICAgICBpZiAodHJpZ2dlckNoYW5nZSkgdHJpZ2dlckV2ZW50KFwib25DaGFuZ2VcIik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHBhcnNlRGF0ZVJ1bGVzKGFycikge1xuICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAocnVsZSkge1xuICAgICAgICAgIGlmICh0eXBlb2YgcnVsZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgcnVsZSA9PT0gXCJudW1iZXJcIiB8fCBydWxlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYucGFyc2VEYXRlKHJ1bGUsIHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChydWxlICYmIHR5cGVvZiBydWxlID09PSBcIm9iamVjdFwiICYmIHJ1bGUuZnJvbSAmJiBydWxlLnRvKSByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbTogc2VsZi5wYXJzZURhdGUocnVsZS5mcm9tLCB1bmRlZmluZWQpLFxuICAgICAgICAgICAgdG86IHNlbGYucGFyc2VEYXRlKHJ1bGUudG8sIHVuZGVmaW5lZClcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2V0dXBEYXRlcygpIHtcbiAgICAgICAgc2VsZi5zZWxlY3RlZERhdGVzID0gW107XG4gICAgICAgIHNlbGYubm93ID0gc2VsZi5wYXJzZURhdGUoc2VsZi5jb25maWcubm93KSB8fCBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgcHJlbG9hZGVkRGF0ZSA9IHNlbGYuY29uZmlnLmRlZmF1bHREYXRlIHx8IHNlbGYuaW5wdXQudmFsdWU7XG4gICAgICAgIGlmIChwcmVsb2FkZWREYXRlKSBzZXRTZWxlY3RlZERhdGUocHJlbG9hZGVkRGF0ZSwgc2VsZi5jb25maWcuZGF0ZUZvcm1hdCk7XG4gICAgICAgIHZhciBpbml0aWFsRGF0ZSA9IHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggPiAwID8gc2VsZi5zZWxlY3RlZERhdGVzWzBdIDogc2VsZi5jb25maWcubWluRGF0ZSAmJiBzZWxmLmNvbmZpZy5taW5EYXRlLmdldFRpbWUoKSA+IHNlbGYubm93LmdldFRpbWUoKSA/IHNlbGYuY29uZmlnLm1pbkRhdGUgOiBzZWxmLmNvbmZpZy5tYXhEYXRlICYmIHNlbGYuY29uZmlnLm1heERhdGUuZ2V0VGltZSgpIDwgc2VsZi5ub3cuZ2V0VGltZSgpID8gc2VsZi5jb25maWcubWF4RGF0ZSA6IHNlbGYubm93O1xuICAgICAgICBzZWxmLmN1cnJlbnRZZWFyID0gaW5pdGlhbERhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgc2VsZi5jdXJyZW50TW9udGggPSBpbml0aWFsRGF0ZS5nZXRNb250aCgpO1xuICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA+IDApIHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqID0gc2VsZi5zZWxlY3RlZERhdGVzWzBdO1xuICAgICAgICBpZiAoc2VsZi5jb25maWcubWluVGltZSAhPT0gdW5kZWZpbmVkKSBzZWxmLmNvbmZpZy5taW5UaW1lID0gc2VsZi5wYXJzZURhdGUoc2VsZi5jb25maWcubWluVGltZSwgXCJIOmlcIik7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5tYXhUaW1lICE9PSB1bmRlZmluZWQpIHNlbGYuY29uZmlnLm1heFRpbWUgPSBzZWxmLnBhcnNlRGF0ZShzZWxmLmNvbmZpZy5tYXhUaW1lLCBcIkg6aVwiKTtcbiAgICAgICAgc2VsZi5taW5EYXRlSGFzVGltZSA9ICEhc2VsZi5jb25maWcubWluRGF0ZSAmJiAoc2VsZi5jb25maWcubWluRGF0ZS5nZXRIb3VycygpID4gMCB8fCBzZWxmLmNvbmZpZy5taW5EYXRlLmdldE1pbnV0ZXMoKSA+IDAgfHwgc2VsZi5jb25maWcubWluRGF0ZS5nZXRTZWNvbmRzKCkgPiAwKTtcbiAgICAgICAgc2VsZi5tYXhEYXRlSGFzVGltZSA9ICEhc2VsZi5jb25maWcubWF4RGF0ZSAmJiAoc2VsZi5jb25maWcubWF4RGF0ZS5nZXRIb3VycygpID4gMCB8fCBzZWxmLmNvbmZpZy5tYXhEYXRlLmdldE1pbnV0ZXMoKSA+IDAgfHwgc2VsZi5jb25maWcubWF4RGF0ZS5nZXRTZWNvbmRzKCkgPiAwKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYsIFwic2hvd1RpbWVJbnB1dFwiLCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5fc2hvd1RpbWVJbnB1dDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGJvb2wpIHtcbiAgICAgICAgICAgIHNlbGYuX3Nob3dUaW1lSW5wdXQgPSBib29sO1xuICAgICAgICAgICAgaWYgKHNlbGYuY2FsZW5kYXJDb250YWluZXIpIHRvZ2dsZUNsYXNzKHNlbGYuY2FsZW5kYXJDb250YWluZXIsIFwic2hvd1RpbWVJbnB1dFwiLCBib29sKTtcbiAgICAgICAgICAgIHNlbGYuaXNPcGVuICYmIHBvc2l0aW9uQ2FsZW5kYXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXR1cElucHV0cygpIHtcbiAgICAgICAgc2VsZi5pbnB1dCA9IHNlbGYuY29uZmlnLndyYXAgPyBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1pbnB1dF1cIikgOiBlbGVtZW50O1xuXG4gICAgICAgIGlmICghc2VsZi5pbnB1dCkge1xuICAgICAgICAgIHNlbGYuY29uZmlnLmVycm9ySGFuZGxlcihuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0IGVsZW1lbnQgc3BlY2lmaWVkXCIpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLmlucHV0Ll90eXBlID0gc2VsZi5pbnB1dC50eXBlO1xuICAgICAgICBzZWxmLmlucHV0LnR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgc2VsZi5pbnB1dC5jbGFzc0xpc3QuYWRkKFwiZmxhdHBpY2tyLWlucHV0XCIpO1xuICAgICAgICBzZWxmLl9pbnB1dCA9IHNlbGYuaW5wdXQ7XG5cbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLmFsdElucHV0KSB7XG4gICAgICAgICAgc2VsZi5hbHRJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoc2VsZi5pbnB1dC5ub2RlTmFtZSwgc2VsZi5pbnB1dC5jbGFzc05hbWUgKyBcIiBcIiArIHNlbGYuY29uZmlnLmFsdElucHV0Q2xhc3MpO1xuICAgICAgICAgIHNlbGYuX2lucHV0ID0gc2VsZi5hbHRJbnB1dDtcbiAgICAgICAgICBzZWxmLmFsdElucHV0LnBsYWNlaG9sZGVyID0gc2VsZi5pbnB1dC5wbGFjZWhvbGRlcjtcbiAgICAgICAgICBzZWxmLmFsdElucHV0LmRpc2FibGVkID0gc2VsZi5pbnB1dC5kaXNhYmxlZDtcbiAgICAgICAgICBzZWxmLmFsdElucHV0LnJlcXVpcmVkID0gc2VsZi5pbnB1dC5yZXF1aXJlZDtcbiAgICAgICAgICBzZWxmLmFsdElucHV0LnRhYkluZGV4ID0gc2VsZi5pbnB1dC50YWJJbmRleDtcbiAgICAgICAgICBzZWxmLmFsdElucHV0LnR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgICBzZWxmLmlucHV0LnR5cGUgPSBcImhpZGRlblwiO1xuICAgICAgICAgIGlmICghc2VsZi5jb25maWcuc3RhdGljICYmIHNlbGYuaW5wdXQucGFyZW50Tm9kZSkgc2VsZi5pbnB1dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzZWxmLmFsdElucHV0LCBzZWxmLmlucHV0Lm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2VsZi5jb25maWcuYWxsb3dJbnB1dCkgc2VsZi5faW5wdXQuc2V0QXR0cmlidXRlKFwicmVhZG9ubHlcIiwgXCJyZWFkb25seVwiKTtcbiAgICAgICAgc2VsZi5fcG9zaXRpb25FbGVtZW50ID0gc2VsZi5jb25maWcucG9zaXRpb25FbGVtZW50IHx8IHNlbGYuX2lucHV0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzZXR1cE1vYmlsZSgpIHtcbiAgICAgICAgdmFyIGlucHV0VHlwZSA9IHNlbGYuY29uZmlnLmVuYWJsZVRpbWUgPyBzZWxmLmNvbmZpZy5ub0NhbGVuZGFyID8gXCJ0aW1lXCIgOiBcImRhdGV0aW1lLWxvY2FsXCIgOiBcImRhdGVcIjtcbiAgICAgICAgc2VsZi5tb2JpbGVJbnB1dCA9IGNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCBzZWxmLmlucHV0LmNsYXNzTmFtZSArIFwiIGZsYXRwaWNrci1tb2JpbGVcIik7XG4gICAgICAgIHNlbGYubW9iaWxlSW5wdXQuc3RlcCA9IHNlbGYuaW5wdXQuZ2V0QXR0cmlidXRlKFwic3RlcFwiKSB8fCBcImFueVwiO1xuICAgICAgICBzZWxmLm1vYmlsZUlucHV0LnRhYkluZGV4ID0gMTtcbiAgICAgICAgc2VsZi5tb2JpbGVJbnB1dC50eXBlID0gaW5wdXRUeXBlO1xuICAgICAgICBzZWxmLm1vYmlsZUlucHV0LmRpc2FibGVkID0gc2VsZi5pbnB1dC5kaXNhYmxlZDtcbiAgICAgICAgc2VsZi5tb2JpbGVJbnB1dC5yZXF1aXJlZCA9IHNlbGYuaW5wdXQucmVxdWlyZWQ7XG4gICAgICAgIHNlbGYubW9iaWxlSW5wdXQucGxhY2Vob2xkZXIgPSBzZWxmLmlucHV0LnBsYWNlaG9sZGVyO1xuICAgICAgICBzZWxmLm1vYmlsZUZvcm1hdFN0ciA9IGlucHV0VHlwZSA9PT0gXCJkYXRldGltZS1sb2NhbFwiID8gXCJZLW0tZFxcXFxUSDppOlNcIiA6IGlucHV0VHlwZSA9PT0gXCJkYXRlXCIgPyBcIlktbS1kXCIgOiBcIkg6aTpTXCI7XG5cbiAgICAgICAgaWYgKHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2VsZi5tb2JpbGVJbnB1dC5kZWZhdWx0VmFsdWUgPSBzZWxmLm1vYmlsZUlucHV0LnZhbHVlID0gc2VsZi5mb3JtYXREYXRlKHNlbGYuc2VsZWN0ZWREYXRlc1swXSwgc2VsZi5tb2JpbGVGb3JtYXRTdHIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1pbkRhdGUpIHNlbGYubW9iaWxlSW5wdXQubWluID0gc2VsZi5mb3JtYXREYXRlKHNlbGYuY29uZmlnLm1pbkRhdGUsIFwiWS1tLWRcIik7XG4gICAgICAgIGlmIChzZWxmLmNvbmZpZy5tYXhEYXRlKSBzZWxmLm1vYmlsZUlucHV0Lm1heCA9IHNlbGYuZm9ybWF0RGF0ZShzZWxmLmNvbmZpZy5tYXhEYXRlLCBcIlktbS1kXCIpO1xuICAgICAgICBzZWxmLmlucHV0LnR5cGUgPSBcImhpZGRlblwiO1xuICAgICAgICBpZiAoc2VsZi5hbHRJbnB1dCAhPT0gdW5kZWZpbmVkKSBzZWxmLmFsdElucHV0LnR5cGUgPSBcImhpZGRlblwiO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHNlbGYuaW5wdXQucGFyZW50Tm9kZSkgc2VsZi5pbnB1dC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzZWxmLm1vYmlsZUlucHV0LCBzZWxmLmlucHV0Lm5leHRTaWJsaW5nKTtcbiAgICAgICAgfSBjYXRjaCAoX2EpIHt9XG5cbiAgICAgICAgYmluZChzZWxmLm1vYmlsZUlucHV0LCBcImNoYW5nZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHNlbGYuc2V0RGF0ZShlLnRhcmdldC52YWx1ZSwgZmFsc2UsIHNlbGYubW9iaWxlRm9ybWF0U3RyKTtcbiAgICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvbkNoYW5nZVwiKTtcbiAgICAgICAgICB0cmlnZ2VyRXZlbnQoXCJvbkNsb3NlXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgICBpZiAoc2VsZi5pc09wZW4pIHJldHVybiBzZWxmLmNsb3NlKCk7XG4gICAgICAgIHNlbGYub3BlbigpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0cmlnZ2VyRXZlbnQoZXZlbnQsIGRhdGEpIHtcbiAgICAgICAgdmFyIGhvb2tzID0gc2VsZi5jb25maWdbZXZlbnRdO1xuXG4gICAgICAgIGlmIChob29rcyAhPT0gdW5kZWZpbmVkICYmIGhvb2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaG9va3NbaV0gJiYgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBob29rc1tpXShzZWxmLnNlbGVjdGVkRGF0ZXMsIHNlbGYuaW5wdXQudmFsdWUsIHNlbGYsIGRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudCA9PT0gXCJvbkNoYW5nZVwiKSB7XG4gICAgICAgICAgc2VsZi5pbnB1dC5kaXNwYXRjaEV2ZW50KGNyZWF0ZUV2ZW50KFwiY2hhbmdlXCIpKTtcbiAgICAgICAgICBzZWxmLmlucHV0LmRpc3BhdGNoRXZlbnQoY3JlYXRlRXZlbnQoXCJpbnB1dFwiKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY3JlYXRlRXZlbnQobmFtZSkge1xuICAgICAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XG4gICAgICAgIGUuaW5pdEV2ZW50KG5hbWUsIHRydWUsIHRydWUpO1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gaXNEYXRlU2VsZWN0ZWQoZGF0ZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbGYuc2VsZWN0ZWREYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChjb21wYXJlRGF0ZXMoc2VsZi5zZWxlY3RlZERhdGVzW2ldLCBkYXRlKSA9PT0gMCkgcmV0dXJuIFwiXCIgKyBpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBpc0RhdGVJblJhbmdlKGRhdGUpIHtcbiAgICAgICAgaWYgKHNlbGYuY29uZmlnLm1vZGUgIT09IFwicmFuZ2VcIiB8fCBzZWxmLnNlbGVjdGVkRGF0ZXMubGVuZ3RoIDwgMikgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gY29tcGFyZURhdGVzKGRhdGUsIHNlbGYuc2VsZWN0ZWREYXRlc1swXSkgPj0gMCAmJiBjb21wYXJlRGF0ZXMoZGF0ZSwgc2VsZi5zZWxlY3RlZERhdGVzWzFdKSA8PSAwO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB1cGRhdGVOYXZpZ2F0aW9uQ3VycmVudE1vbnRoKCkge1xuICAgICAgICBpZiAoc2VsZi5jb25maWcubm9DYWxlbmRhciB8fCBzZWxmLmlzTW9iaWxlIHx8ICFzZWxmLm1vbnRoTmF2KSByZXR1cm47XG4gICAgICAgIHNlbGYueWVhckVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKHllYXJFbGVtZW50LCBpKSB7XG4gICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZShzZWxmLmN1cnJlbnRZZWFyLCBzZWxmLmN1cnJlbnRNb250aCwgMSk7XG4gICAgICAgICAgZC5zZXRNb250aChzZWxmLmN1cnJlbnRNb250aCArIGkpO1xuICAgICAgICAgIHNlbGYubW9udGhFbGVtZW50c1tpXS50ZXh0Q29udGVudCA9IG1vbnRoVG9TdHIoZC5nZXRNb250aCgpLCBzZWxmLmNvbmZpZy5zaG9ydGhhbmRDdXJyZW50TW9udGgsIHNlbGYubDEwbikgKyBcIiBcIjtcbiAgICAgICAgICB5ZWFyRWxlbWVudC52YWx1ZSA9IGQuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZi5faGlkZVByZXZNb250aEFycm93ID0gc2VsZi5jb25maWcubWluRGF0ZSAhPT0gdW5kZWZpbmVkICYmIChzZWxmLmN1cnJlbnRZZWFyID09PSBzZWxmLmNvbmZpZy5taW5EYXRlLmdldEZ1bGxZZWFyKCkgPyBzZWxmLmN1cnJlbnRNb250aCA8PSBzZWxmLmNvbmZpZy5taW5EYXRlLmdldE1vbnRoKCkgOiBzZWxmLmN1cnJlbnRZZWFyIDwgc2VsZi5jb25maWcubWluRGF0ZS5nZXRGdWxsWWVhcigpKTtcbiAgICAgICAgc2VsZi5faGlkZU5leHRNb250aEFycm93ID0gc2VsZi5jb25maWcubWF4RGF0ZSAhPT0gdW5kZWZpbmVkICYmIChzZWxmLmN1cnJlbnRZZWFyID09PSBzZWxmLmNvbmZpZy5tYXhEYXRlLmdldEZ1bGxZZWFyKCkgPyBzZWxmLmN1cnJlbnRNb250aCArIDEgPiBzZWxmLmNvbmZpZy5tYXhEYXRlLmdldE1vbnRoKCkgOiBzZWxmLmN1cnJlbnRZZWFyID4gc2VsZi5jb25maWcubWF4RGF0ZS5nZXRGdWxsWWVhcigpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdXBkYXRlVmFsdWUodHJpZ2dlckNoYW5nZSkge1xuICAgICAgICBpZiAodHJpZ2dlckNoYW5nZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdHJpZ2dlckNoYW5nZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5zZWxlY3RlZERhdGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHNlbGYuY2xlYXIodHJpZ2dlckNoYW5nZSk7XG5cbiAgICAgICAgaWYgKHNlbGYubW9iaWxlSW5wdXQgIT09IHVuZGVmaW5lZCAmJiBzZWxmLm1vYmlsZUZvcm1hdFN0cikge1xuICAgICAgICAgIHNlbGYubW9iaWxlSW5wdXQudmFsdWUgPSBzZWxmLmxhdGVzdFNlbGVjdGVkRGF0ZU9iaiAhPT0gdW5kZWZpbmVkID8gc2VsZi5mb3JtYXREYXRlKHNlbGYubGF0ZXN0U2VsZWN0ZWREYXRlT2JqLCBzZWxmLm1vYmlsZUZvcm1hdFN0cikgOiBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGpvaW5DaGFyID0gc2VsZi5jb25maWcubW9kZSAhPT0gXCJyYW5nZVwiID8gc2VsZi5jb25maWcuY29uanVuY3Rpb24gOiBzZWxmLmwxMG4ucmFuZ2VTZXBhcmF0b3I7XG4gICAgICAgIHNlbGYuaW5wdXQudmFsdWUgPSBzZWxmLnNlbGVjdGVkRGF0ZXMubWFwKGZ1bmN0aW9uIChkT2JqKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuZm9ybWF0RGF0ZShkT2JqLCBzZWxmLmNvbmZpZy5kYXRlRm9ybWF0KTtcbiAgICAgICAgfSkuam9pbihqb2luQ2hhcik7XG5cbiAgICAgICAgaWYgKHNlbGYuYWx0SW5wdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHNlbGYuYWx0SW5wdXQudmFsdWUgPSBzZWxmLnNlbGVjdGVkRGF0ZXMubWFwKGZ1bmN0aW9uIChkT2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5mb3JtYXREYXRlKGRPYmosIHNlbGYuY29uZmlnLmFsdEZvcm1hdCk7XG4gICAgICAgICAgfSkuam9pbihqb2luQ2hhcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJpZ2dlckNoYW5nZSAhPT0gZmFsc2UpIHRyaWdnZXJFdmVudChcIm9uVmFsdWVVcGRhdGVcIik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uTW9udGhOYXZDbGljayhlKSB7XG4gICAgICAgIHZhciBpc1ByZXZNb250aCA9IHNlbGYucHJldk1vbnRoTmF2LmNvbnRhaW5zKGUudGFyZ2V0KTtcbiAgICAgICAgdmFyIGlzTmV4dE1vbnRoID0gc2VsZi5uZXh0TW9udGhOYXYuY29udGFpbnMoZS50YXJnZXQpO1xuXG4gICAgICAgIGlmIChpc1ByZXZNb250aCB8fCBpc05leHRNb250aCkge1xuICAgICAgICAgIGNoYW5nZU1vbnRoKGlzUHJldk1vbnRoID8gLTEgOiAxKTtcbiAgICAgICAgfSBlbHNlIGlmIChzZWxmLnllYXJFbGVtZW50cy5pbmRleE9mKGUudGFyZ2V0KSA+PSAwKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUudGFyZ2V0LnNlbGVjdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImFycm93VXBcIikpIHtcbiAgICAgICAgICBzZWxmLmNoYW5nZVllYXIoc2VsZi5jdXJyZW50WWVhciArIDEpO1xuICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImFycm93RG93blwiKSkge1xuICAgICAgICAgIHNlbGYuY2hhbmdlWWVhcihzZWxmLmN1cnJlbnRZZWFyIC0gMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdGltZVdyYXBwZXIoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBpc0tleURvd24gPSBlLnR5cGUgPT09IFwia2V5ZG93blwiLFxuICAgICAgICAgICAgaW5wdXQgPSBlLnRhcmdldDtcblxuICAgICAgICBpZiAoc2VsZi5hbVBNICE9PSB1bmRlZmluZWQgJiYgZS50YXJnZXQgPT09IHNlbGYuYW1QTSkge1xuICAgICAgICAgIHNlbGYuYW1QTS50ZXh0Q29udGVudCA9IHNlbGYubDEwbi5hbVBNW2ludChzZWxmLmFtUE0udGV4dENvbnRlbnQgPT09IHNlbGYubDEwbi5hbVBNWzBdKV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWluID0gcGFyc2VGbG9hdChpbnB1dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW1pblwiKSksXG4gICAgICAgICAgICBtYXggPSBwYXJzZUZsb2F0KGlucHV0LmdldEF0dHJpYnV0ZShcImRhdGEtbWF4XCIpKSxcbiAgICAgICAgICAgIHN0ZXAgPSBwYXJzZUZsb2F0KGlucHV0LmdldEF0dHJpYnV0ZShcImRhdGEtc3RlcFwiKSksXG4gICAgICAgICAgICBjdXJWYWx1ZSA9IHBhcnNlSW50KGlucHV0LnZhbHVlLCAxMCksXG4gICAgICAgICAgICBkZWx0YSA9IGUuZGVsdGEgfHwgKGlzS2V5RG93biA/IGUud2hpY2ggPT09IDM4ID8gMSA6IC0xIDogMCk7XG4gICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1clZhbHVlICsgc3RlcCAqIGRlbHRhO1xuXG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQudmFsdWUgIT09IFwidW5kZWZpbmVkXCIgJiYgaW5wdXQudmFsdWUubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgdmFyIGlzSG91ckVsZW0gPSBpbnB1dCA9PT0gc2VsZi5ob3VyRWxlbWVudCxcbiAgICAgICAgICAgICAgaXNNaW51dGVFbGVtID0gaW5wdXQgPT09IHNlbGYubWludXRlRWxlbWVudDtcblxuICAgICAgICAgIGlmIChuZXdWYWx1ZSA8IG1pbikge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBtYXggKyBuZXdWYWx1ZSArIGludCghaXNIb3VyRWxlbSkgKyAoaW50KGlzSG91ckVsZW0pICYmIGludCghc2VsZi5hbVBNKSk7XG4gICAgICAgICAgICBpZiAoaXNNaW51dGVFbGVtKSBpbmNyZW1lbnROdW1JbnB1dCh1bmRlZmluZWQsIC0xLCBzZWxmLmhvdXJFbGVtZW50KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5ld1ZhbHVlID4gbWF4KSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlucHV0ID09PSBzZWxmLmhvdXJFbGVtZW50ID8gbmV3VmFsdWUgLSBtYXggLSBpbnQoIXNlbGYuYW1QTSkgOiBtaW47XG4gICAgICAgICAgICBpZiAoaXNNaW51dGVFbGVtKSBpbmNyZW1lbnROdW1JbnB1dCh1bmRlZmluZWQsIDEsIHNlbGYuaG91ckVsZW1lbnQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzZWxmLmFtUE0gJiYgaXNIb3VyRWxlbSAmJiAoc3RlcCA9PT0gMSA/IG5ld1ZhbHVlICsgY3VyVmFsdWUgPT09IDIzIDogTWF0aC5hYnMobmV3VmFsdWUgLSBjdXJWYWx1ZSkgPiBzdGVwKSkge1xuICAgICAgICAgICAgc2VsZi5hbVBNLnRleHRDb250ZW50ID0gc2VsZi5sMTBuLmFtUE1baW50KHNlbGYuYW1QTS50ZXh0Q29udGVudCA9PT0gc2VsZi5sMTBuLmFtUE1bMF0pXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpbnB1dC52YWx1ZSA9IHBhZChuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaW5pdCgpO1xuICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gX2ZsYXRwaWNrcihub2RlTGlzdCwgY29uZmlnKSB7XG4gICAgICB2YXIgbm9kZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChub2RlTGlzdCk7XG4gICAgICB2YXIgaW5zdGFuY2VzID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChub2RlLmdldEF0dHJpYnV0ZShcImRhdGEtZnAtb21pdFwiKSAhPT0gbnVsbCkgY29udGludWU7XG5cbiAgICAgICAgICBpZiAobm9kZS5fZmxhdHBpY2tyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5vZGUuX2ZsYXRwaWNrci5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIG5vZGUuX2ZsYXRwaWNrciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBub2RlLl9mbGF0cGlja3IgPSBGbGF0cGlja3JJbnN0YW5jZShub2RlLCBjb25maWcgfHwge30pO1xuICAgICAgICAgIGluc3RhbmNlcy5wdXNoKG5vZGUuX2ZsYXRwaWNrcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnN0YW5jZXMubGVuZ3RoID09PSAxID8gaW5zdGFuY2VzWzBdIDogaW5zdGFuY2VzO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgSFRNTEVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIEhUTUxDb2xsZWN0aW9uLnByb3RvdHlwZS5mbGF0cGlja3IgPSBOb2RlTGlzdC5wcm90b3R5cGUuZmxhdHBpY2tyID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gX2ZsYXRwaWNrcih0aGlzLCBjb25maWcpO1xuICAgICAgfTtcblxuICAgICAgSFRNTEVsZW1lbnQucHJvdG90eXBlLmZsYXRwaWNrciA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIF9mbGF0cGlja3IoW3RoaXNdLCBjb25maWcpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZmxhdHBpY2tyID0gZnVuY3Rpb24gZmxhdHBpY2tyKHNlbGVjdG9yLCBjb25maWcpIHtcbiAgICAgIGlmIChzZWxlY3RvciBpbnN0YW5jZW9mIE5vZGVMaXN0KSByZXR1cm4gX2ZsYXRwaWNrcihzZWxlY3RvciwgY29uZmlnKTtlbHNlIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIpIHJldHVybiBfZmxhdHBpY2tyKHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSwgY29uZmlnKTtcbiAgICAgIHJldHVybiBfZmxhdHBpY2tyKFtzZWxlY3Rvcl0sIGNvbmZpZyk7XG4gICAgfTtcblxuICAgIGZsYXRwaWNrci5kZWZhdWx0Q29uZmlnID0gZGVmYXVsdHM7XG4gICAgZmxhdHBpY2tyLmwxMG5zID0ge1xuICAgICAgZW46IE9iamVjdC5hc3NpZ24oe30sIGVuZ2xpc2gpLFxuICAgICAgZGVmYXVsdDogT2JqZWN0LmFzc2lnbih7fSwgZW5nbGlzaClcbiAgICB9O1xuXG4gICAgZmxhdHBpY2tyLmxvY2FsaXplID0gZnVuY3Rpb24gKGwxMG4pIHtcbiAgICAgIGZsYXRwaWNrci5sMTBucy5kZWZhdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgZmxhdHBpY2tyLmwxMG5zLmRlZmF1bHQsIGwxMG4pO1xuICAgIH07XG5cbiAgICBmbGF0cGlja3Iuc2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICBmbGF0cGlja3IuZGVmYXVsdENvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIGZsYXRwaWNrci5kZWZhdWx0Q29uZmlnLCBjb25maWcpO1xuICAgIH07XG5cbiAgICBmbGF0cGlja3IucGFyc2VEYXRlID0gY3JlYXRlRGF0ZVBhcnNlcih7fSk7XG4gICAgZmxhdHBpY2tyLmZvcm1hdERhdGUgPSBjcmVhdGVEYXRlRm9ybWF0dGVyKHt9KTtcbiAgICBmbGF0cGlja3IuY29tcGFyZURhdGVzID0gY29tcGFyZURhdGVzO1xuXG4gICAgaWYgKHR5cGVvZiBqUXVlcnkgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGpRdWVyeS5mbi5mbGF0cGlja3IgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBfZmxhdHBpY2tyKHRoaXMsIGNvbmZpZyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIERhdGUucHJvdG90eXBlLmZwX2luY3IgPSBmdW5jdGlvbiAoZGF5cykge1xuICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMuZ2V0RnVsbFllYXIoKSwgdGhpcy5nZXRNb250aCgpLCB0aGlzLmdldERhdGUoKSArICh0eXBlb2YgZGF5cyA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlSW50KGRheXMsIDEwKSA6IGRheXMpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGZsYXRwaWNrcjtcblxufSkpKTtcbiIsIkludGxQb2x5ZmlsbC5fX2FkZExvY2FsZURhdGEoe2xvY2FsZTpcImVuXCIsZGF0ZTp7Y2E6W1wiZ3JlZ29yeVwiLFwiYnVkZGhpc3RcIixcImNoaW5lc2VcIixcImNvcHRpY1wiLFwiZGFuZ2lcIixcImV0aGlvYWFcIixcImV0aGlvcGljXCIsXCJnZW5lcmljXCIsXCJoZWJyZXdcIixcImluZGlhblwiLFwiaXNsYW1pY1wiLFwiaXNsYW1pY2NcIixcImphcGFuZXNlXCIsXCJwZXJzaWFuXCIsXCJyb2NcIl0saG91ck5vMDp0cnVlLGhvdXIxMjp0cnVlLGZvcm1hdHM6e3Nob3J0OlwiezF9LCB7MH1cIixtZWRpdW06XCJ7MX0sIHswfVwiLGZ1bGw6XCJ7MX0gJ2F0JyB7MH1cIixsb25nOlwiezF9ICdhdCcgezB9XCIsYXZhaWxhYmxlRm9ybWF0czp7XCJkXCI6XCJkXCIsXCJFXCI6XCJjY2NcIixFZDpcImQgRVwiLEVobTpcIkUgaDptbSBhXCIsRUhtOlwiRSBISDptbVwiLEVobXM6XCJFIGg6bW06c3MgYVwiLEVIbXM6XCJFIEhIOm1tOnNzXCIsR3k6XCJ5IEdcIixHeU1NTTpcIk1NTSB5IEdcIixHeU1NTWQ6XCJNTU0gZCwgeSBHXCIsR3lNTU1FZDpcIkUsIE1NTSBkLCB5IEdcIixcImhcIjpcImggYVwiLFwiSFwiOlwiSEhcIixobTpcImg6bW0gYVwiLEhtOlwiSEg6bW1cIixobXM6XCJoOm1tOnNzIGFcIixIbXM6XCJISDptbTpzc1wiLGhtc3Y6XCJoOm1tOnNzIGEgdlwiLEhtc3Y6XCJISDptbTpzcyB2XCIsaG12OlwiaDptbSBhIHZcIixIbXY6XCJISDptbSB2XCIsXCJNXCI6XCJMXCIsTWQ6XCJNL2RcIixNRWQ6XCJFLCBNL2RcIixNTU06XCJMTExcIixNTU1kOlwiTU1NIGRcIixNTU1FZDpcIkUsIE1NTSBkXCIsTU1NTWQ6XCJNTU1NIGRcIixtczpcIm1tOnNzXCIsXCJ5XCI6XCJ5XCIseU06XCJNL3lcIix5TWQ6XCJNL2QveVwiLHlNRWQ6XCJFLCBNL2QveVwiLHlNTU06XCJNTU0geVwiLHlNTU1kOlwiTU1NIGQsIHlcIix5TU1NRWQ6XCJFLCBNTU0gZCwgeVwiLHlNTU1NOlwiTU1NTSB5XCIseVFRUTpcIlFRUSB5XCIseVFRUVE6XCJRUVFRIHlcIn0sZGF0ZUZvcm1hdHM6e3lNTU1NRUVFRWQ6XCJFRUVFLCBNTU1NIGQsIHlcIix5TU1NTWQ6XCJNTU1NIGQsIHlcIix5TU1NZDpcIk1NTSBkLCB5XCIseU1kOlwiTS9kL3l5XCJ9LHRpbWVGb3JtYXRzOntobW1zc3p6eno6XCJoOm1tOnNzIGEgenp6elwiLGhtc3o6XCJoOm1tOnNzIGEgelwiLGhtczpcImg6bW06c3MgYVwiLGhtOlwiaDptbSBhXCJ9fSxjYWxlbmRhcnM6e2J1ZGRoaXN0Onttb250aHM6e25hcnJvdzpbXCJKXCIsXCJGXCIsXCJNXCIsXCJBXCIsXCJNXCIsXCJKXCIsXCJKXCIsXCJBXCIsXCJTXCIsXCJPXCIsXCJOXCIsXCJEXCJdLHNob3J0OltcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIl0sbG9uZzpbXCJKYW51YXJ5XCIsXCJGZWJydWFyeVwiLFwiTWFyY2hcIixcIkFwcmlsXCIsXCJNYXlcIixcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl19LGRheXM6e25hcnJvdzpbXCJTXCIsXCJNXCIsXCJUXCIsXCJXXCIsXCJUXCIsXCJGXCIsXCJTXCJdLHNob3J0OltcIlN1blwiLFwiTW9uXCIsXCJUdWVcIixcIldlZFwiLFwiVGh1XCIsXCJGcmlcIixcIlNhdFwiXSxsb25nOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdfSxlcmFzOntuYXJyb3c6W1wiQkVcIl0sc2hvcnQ6W1wiQkVcIl0sbG9uZzpbXCJCRVwiXX0sZGF5UGVyaW9kczp7YW06XCJBTVwiLHBtOlwiUE1cIn19LGNoaW5lc2U6e21vbnRoczp7bmFycm93OltcIjFcIixcIjJcIixcIjNcIixcIjRcIixcIjVcIixcIjZcIixcIjdcIixcIjhcIixcIjlcIixcIjEwXCIsXCIxMVwiLFwiMTJcIl0sc2hvcnQ6W1wiTW8xXCIsXCJNbzJcIixcIk1vM1wiLFwiTW80XCIsXCJNbzVcIixcIk1vNlwiLFwiTW83XCIsXCJNbzhcIixcIk1vOVwiLFwiTW8xMFwiLFwiTW8xMVwiLFwiTW8xMlwiXSxsb25nOltcIk1vbnRoMVwiLFwiTW9udGgyXCIsXCJNb250aDNcIixcIk1vbnRoNFwiLFwiTW9udGg1XCIsXCJNb250aDZcIixcIk1vbnRoN1wiLFwiTW9udGg4XCIsXCJNb250aDlcIixcIk1vbnRoMTBcIixcIk1vbnRoMTFcIixcIk1vbnRoMTJcIl19LGRheXM6e25hcnJvdzpbXCJTXCIsXCJNXCIsXCJUXCIsXCJXXCIsXCJUXCIsXCJGXCIsXCJTXCJdLHNob3J0OltcIlN1blwiLFwiTW9uXCIsXCJUdWVcIixcIldlZFwiLFwiVGh1XCIsXCJGcmlcIixcIlNhdFwiXSxsb25nOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdfSxkYXlQZXJpb2RzOnthbTpcIkFNXCIscG06XCJQTVwifX0sY29wdGljOnttb250aHM6e25hcnJvdzpbXCIxXCIsXCIyXCIsXCIzXCIsXCI0XCIsXCI1XCIsXCI2XCIsXCI3XCIsXCI4XCIsXCI5XCIsXCIxMFwiLFwiMTFcIixcIjEyXCIsXCIxM1wiXSxzaG9ydDpbXCJUb3V0XCIsXCJCYWJhXCIsXCJIYXRvclwiLFwiS2lhaGtcIixcIlRvYmFcIixcIkFtc2hpclwiLFwiQmFyYW1oYXRcIixcIkJhcmFtb3VkYVwiLFwiQmFzaGFuc1wiLFwiUGFvbmFcIixcIkVwZXBcIixcIk1lc3JhXCIsXCJOYXNpZVwiXSxsb25nOltcIlRvdXRcIixcIkJhYmFcIixcIkhhdG9yXCIsXCJLaWFoa1wiLFwiVG9iYVwiLFwiQW1zaGlyXCIsXCJCYXJhbWhhdFwiLFwiQmFyYW1vdWRhXCIsXCJCYXNoYW5zXCIsXCJQYW9uYVwiLFwiRXBlcFwiLFwiTWVzcmFcIixcIk5hc2llXCJdfSxkYXlzOntuYXJyb3c6W1wiU1wiLFwiTVwiLFwiVFwiLFwiV1wiLFwiVFwiLFwiRlwiLFwiU1wiXSxzaG9ydDpbXCJTdW5cIixcIk1vblwiLFwiVHVlXCIsXCJXZWRcIixcIlRodVwiLFwiRnJpXCIsXCJTYXRcIl0sbG9uZzpbXCJTdW5kYXlcIixcIk1vbmRheVwiLFwiVHVlc2RheVwiLFwiV2VkbmVzZGF5XCIsXCJUaHVyc2RheVwiLFwiRnJpZGF5XCIsXCJTYXR1cmRheVwiXX0sZXJhczp7bmFycm93OltcIkVSQTBcIixcIkVSQTFcIl0sc2hvcnQ6W1wiRVJBMFwiLFwiRVJBMVwiXSxsb25nOltcIkVSQTBcIixcIkVSQTFcIl19LGRheVBlcmlvZHM6e2FtOlwiQU1cIixwbTpcIlBNXCJ9fSxkYW5naTp7bW9udGhzOntuYXJyb3c6W1wiMVwiLFwiMlwiLFwiM1wiLFwiNFwiLFwiNVwiLFwiNlwiLFwiN1wiLFwiOFwiLFwiOVwiLFwiMTBcIixcIjExXCIsXCIxMlwiXSxzaG9ydDpbXCJNbzFcIixcIk1vMlwiLFwiTW8zXCIsXCJNbzRcIixcIk1vNVwiLFwiTW82XCIsXCJNbzdcIixcIk1vOFwiLFwiTW85XCIsXCJNbzEwXCIsXCJNbzExXCIsXCJNbzEyXCJdLGxvbmc6W1wiTW9udGgxXCIsXCJNb250aDJcIixcIk1vbnRoM1wiLFwiTW9udGg0XCIsXCJNb250aDVcIixcIk1vbnRoNlwiLFwiTW9udGg3XCIsXCJNb250aDhcIixcIk1vbnRoOVwiLFwiTW9udGgxMFwiLFwiTW9udGgxMVwiLFwiTW9udGgxMlwiXX0sZGF5czp7bmFycm93OltcIlNcIixcIk1cIixcIlRcIixcIldcIixcIlRcIixcIkZcIixcIlNcIl0sc2hvcnQ6W1wiU3VuXCIsXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCJdLGxvbmc6W1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl19LGRheVBlcmlvZHM6e2FtOlwiQU1cIixwbTpcIlBNXCJ9fSxldGhpb3BpYzp7bW9udGhzOntuYXJyb3c6W1wiMVwiLFwiMlwiLFwiM1wiLFwiNFwiLFwiNVwiLFwiNlwiLFwiN1wiLFwiOFwiLFwiOVwiLFwiMTBcIixcIjExXCIsXCIxMlwiLFwiMTNcIl0sc2hvcnQ6W1wiTWVza2VyZW1cIixcIlRla2VtdFwiLFwiSGVkYXJcIixcIlRhaHNhc1wiLFwiVGVyXCIsXCJZZWthdGl0XCIsXCJNZWdhYml0XCIsXCJNaWF6aWFcIixcIkdlbmJvdFwiLFwiU2VuZVwiLFwiSGFtbGVcIixcIk5laGFzc2VcIixcIlBhZ3VtZW5cIl0sbG9uZzpbXCJNZXNrZXJlbVwiLFwiVGVrZW10XCIsXCJIZWRhclwiLFwiVGFoc2FzXCIsXCJUZXJcIixcIllla2F0aXRcIixcIk1lZ2FiaXRcIixcIk1pYXppYVwiLFwiR2VuYm90XCIsXCJTZW5lXCIsXCJIYW1sZVwiLFwiTmVoYXNzZVwiLFwiUGFndW1lblwiXX0sZGF5czp7bmFycm93OltcIlNcIixcIk1cIixcIlRcIixcIldcIixcIlRcIixcIkZcIixcIlNcIl0sc2hvcnQ6W1wiU3VuXCIsXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCJdLGxvbmc6W1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl19LGVyYXM6e25hcnJvdzpbXCJFUkEwXCIsXCJFUkExXCJdLHNob3J0OltcIkVSQTBcIixcIkVSQTFcIl0sbG9uZzpbXCJFUkEwXCIsXCJFUkExXCJdfSxkYXlQZXJpb2RzOnthbTpcIkFNXCIscG06XCJQTVwifX0sZXRoaW9hYTp7bW9udGhzOntuYXJyb3c6W1wiMVwiLFwiMlwiLFwiM1wiLFwiNFwiLFwiNVwiLFwiNlwiLFwiN1wiLFwiOFwiLFwiOVwiLFwiMTBcIixcIjExXCIsXCIxMlwiLFwiMTNcIl0sc2hvcnQ6W1wiTWVza2VyZW1cIixcIlRla2VtdFwiLFwiSGVkYXJcIixcIlRhaHNhc1wiLFwiVGVyXCIsXCJZZWthdGl0XCIsXCJNZWdhYml0XCIsXCJNaWF6aWFcIixcIkdlbmJvdFwiLFwiU2VuZVwiLFwiSGFtbGVcIixcIk5laGFzc2VcIixcIlBhZ3VtZW5cIl0sbG9uZzpbXCJNZXNrZXJlbVwiLFwiVGVrZW10XCIsXCJIZWRhclwiLFwiVGFoc2FzXCIsXCJUZXJcIixcIllla2F0aXRcIixcIk1lZ2FiaXRcIixcIk1pYXppYVwiLFwiR2VuYm90XCIsXCJTZW5lXCIsXCJIYW1sZVwiLFwiTmVoYXNzZVwiLFwiUGFndW1lblwiXX0sZGF5czp7bmFycm93OltcIlNcIixcIk1cIixcIlRcIixcIldcIixcIlRcIixcIkZcIixcIlNcIl0sc2hvcnQ6W1wiU3VuXCIsXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCJdLGxvbmc6W1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl19LGVyYXM6e25hcnJvdzpbXCJFUkEwXCJdLHNob3J0OltcIkVSQTBcIl0sbG9uZzpbXCJFUkEwXCJdfSxkYXlQZXJpb2RzOnthbTpcIkFNXCIscG06XCJQTVwifX0sZ2VuZXJpYzp7bW9udGhzOntuYXJyb3c6W1wiMVwiLFwiMlwiLFwiM1wiLFwiNFwiLFwiNVwiLFwiNlwiLFwiN1wiLFwiOFwiLFwiOVwiLFwiMTBcIixcIjExXCIsXCIxMlwiXSxzaG9ydDpbXCJNMDFcIixcIk0wMlwiLFwiTTAzXCIsXCJNMDRcIixcIk0wNVwiLFwiTTA2XCIsXCJNMDdcIixcIk0wOFwiLFwiTTA5XCIsXCJNMTBcIixcIk0xMVwiLFwiTTEyXCJdLGxvbmc6W1wiTTAxXCIsXCJNMDJcIixcIk0wM1wiLFwiTTA0XCIsXCJNMDVcIixcIk0wNlwiLFwiTTA3XCIsXCJNMDhcIixcIk0wOVwiLFwiTTEwXCIsXCJNMTFcIixcIk0xMlwiXX0sZGF5czp7bmFycm93OltcIlNcIixcIk1cIixcIlRcIixcIldcIixcIlRcIixcIkZcIixcIlNcIl0sc2hvcnQ6W1wiU3VuXCIsXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCJdLGxvbmc6W1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl19LGVyYXM6e25hcnJvdzpbXCJFUkEwXCIsXCJFUkExXCJdLHNob3J0OltcIkVSQTBcIixcIkVSQTFcIl0sbG9uZzpbXCJFUkEwXCIsXCJFUkExXCJdfSxkYXlQZXJpb2RzOnthbTpcIkFNXCIscG06XCJQTVwifX0sZ3JlZ29yeTp7bW9udGhzOntuYXJyb3c6W1wiSlwiLFwiRlwiLFwiTVwiLFwiQVwiLFwiTVwiLFwiSlwiLFwiSlwiLFwiQVwiLFwiU1wiLFwiT1wiLFwiTlwiLFwiRFwiXSxzaG9ydDpbXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuXCIsXCJKdWxcIixcIkF1Z1wiLFwiU2VwXCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdLGxvbmc6W1wiSmFudWFyeVwiLFwiRmVicnVhcnlcIixcIk1hcmNoXCIsXCJBcHJpbFwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWd1c3RcIixcIlNlcHRlbWJlclwiLFwiT2N0b2JlclwiLFwiTm92ZW1iZXJcIixcIkRlY2VtYmVyXCJdfSxkYXlzOntuYXJyb3c6W1wiU1wiLFwiTVwiLFwiVFwiLFwiV1wiLFwiVFwiLFwiRlwiLFwiU1wiXSxzaG9ydDpbXCJTdW5cIixcIk1vblwiLFwiVHVlXCIsXCJXZWRcIixcIlRodVwiLFwiRnJpXCIsXCJTYXRcIl0sbG9uZzpbXCJTdW5kYXlcIixcIk1vbmRheVwiLFwiVHVlc2RheVwiLFwiV2VkbmVzZGF5XCIsXCJUaHVyc2RheVwiLFwiRnJpZGF5XCIsXCJTYXR1cmRheVwiXX0sZXJhczp7bmFycm93OltcIkJcIixcIkFcIixcIkJDRVwiLFwiQ0VcIl0sc2hvcnQ6W1wiQkNcIixcIkFEXCIsXCJCQ0VcIixcIkNFXCJdLGxvbmc6W1wiQmVmb3JlIENocmlzdFwiLFwiQW5ubyBEb21pbmlcIixcIkJlZm9yZSBDb21tb24gRXJhXCIsXCJDb21tb24gRXJhXCJdfSxkYXlQZXJpb2RzOnthbTpcIkFNXCIscG06XCJQTVwifX0saGVicmV3Onttb250aHM6e25hcnJvdzpbXCIxXCIsXCIyXCIsXCIzXCIsXCI0XCIsXCI1XCIsXCI2XCIsXCI3XCIsXCI4XCIsXCI5XCIsXCIxMFwiLFwiMTFcIixcIjEyXCIsXCIxM1wiLFwiN1wiXSxzaG9ydDpbXCJUaXNocmlcIixcIkhlc2h2YW5cIixcIktpc2xldlwiLFwiVGV2ZXRcIixcIlNoZXZhdFwiLFwiQWRhciBJXCIsXCJBZGFyXCIsXCJOaXNhblwiLFwiSXlhclwiLFwiU2l2YW5cIixcIlRhbXV6XCIsXCJBdlwiLFwiRWx1bFwiLFwiQWRhciBJSVwiXSxsb25nOltcIlRpc2hyaVwiLFwiSGVzaHZhblwiLFwiS2lzbGV2XCIsXCJUZXZldFwiLFwiU2hldmF0XCIsXCJBZGFyIElcIixcIkFkYXJcIixcIk5pc2FuXCIsXCJJeWFyXCIsXCJTaXZhblwiLFwiVGFtdXpcIixcIkF2XCIsXCJFbHVsXCIsXCJBZGFyIElJXCJdfSxkYXlzOntuYXJyb3c6W1wiU1wiLFwiTVwiLFwiVFwiLFwiV1wiLFwiVFwiLFwiRlwiLFwiU1wiXSxzaG9ydDpbXCJTdW5cIixcIk1vblwiLFwiVHVlXCIsXCJXZWRcIixcIlRodVwiLFwiRnJpXCIsXCJTYXRcIl0sbG9uZzpbXCJTdW5kYXlcIixcIk1vbmRheVwiLFwiVHVlc2RheVwiLFwiV2VkbmVzZGF5XCIsXCJUaHVyc2RheVwiLFwiRnJpZGF5XCIsXCJTYXR1cmRheVwiXX0sZXJhczp7bmFycm93OltcIkFNXCJdLHNob3J0OltcIkFNXCJdLGxvbmc6W1wiQU1cIl19LGRheVBlcmlvZHM6e2FtOlwiQU1cIixwbTpcIlBNXCJ9fSxpbmRpYW46e21vbnRoczp7bmFycm93OltcIjFcIixcIjJcIixcIjNcIixcIjRcIixcIjVcIixcIjZcIixcIjdcIixcIjhcIixcIjlcIixcIjEwXCIsXCIxMVwiLFwiMTJcIl0sc2hvcnQ6W1wiQ2hhaXRyYVwiLFwiVmFpc2FraGFcIixcIkp5YWlzdGhhXCIsXCJBc2FkaGFcIixcIlNyYXZhbmFcIixcIkJoYWRyYVwiLFwiQXN2aW5hXCIsXCJLYXJ0aWthXCIsXCJBZ3JhaGF5YW5hXCIsXCJQYXVzYVwiLFwiTWFnaGFcIixcIlBoYWxndW5hXCJdLGxvbmc6W1wiQ2hhaXRyYVwiLFwiVmFpc2FraGFcIixcIkp5YWlzdGhhXCIsXCJBc2FkaGFcIixcIlNyYXZhbmFcIixcIkJoYWRyYVwiLFwiQXN2aW5hXCIsXCJLYXJ0aWthXCIsXCJBZ3JhaGF5YW5hXCIsXCJQYXVzYVwiLFwiTWFnaGFcIixcIlBoYWxndW5hXCJdfSxkYXlzOntuYXJyb3c6W1wiU1wiLFwiTVwiLFwiVFwiLFwiV1wiLFwiVFwiLFwiRlwiLFwiU1wiXSxzaG9ydDpbXCJTdW5cIixcIk1vblwiLFwiVHVlXCIsXCJXZWRcIixcIlRodVwiLFwiRnJpXCIsXCJTYXRcIl0sbG9uZzpbXCJTdW5kYXlcIixcIk1vbmRheVwiLFwiVHVlc2RheVwiLFwiV2VkbmVzZGF5XCIsXCJUaHVyc2RheVwiLFwiRnJpZGF5XCIsXCJTYXR1cmRheVwiXX0sZXJhczp7bmFycm93OltcIlNha2FcIl0sc2hvcnQ6W1wiU2FrYVwiXSxsb25nOltcIlNha2FcIl19LGRheVBlcmlvZHM6e2FtOlwiQU1cIixwbTpcIlBNXCJ9fSxpc2xhbWljOnttb250aHM6e25hcnJvdzpbXCIxXCIsXCIyXCIsXCIzXCIsXCI0XCIsXCI1XCIsXCI2XCIsXCI3XCIsXCI4XCIsXCI5XCIsXCIxMFwiLFwiMTFcIixcIjEyXCJdLHNob3J0OltcIk11aC5cIixcIlNhZi5cIixcIlJhYi4gSVwiLFwiUmFiLiBJSVwiLFwiSnVtLiBJXCIsXCJKdW0uIElJXCIsXCJSYWouXCIsXCJTaGEuXCIsXCJSYW0uXCIsXCJTaGF3LlwiLFwiRGh1yrtsLVEuXCIsXCJEaHXKu2wtSC5cIl0sbG9uZzpbXCJNdWhhcnJhbVwiLFwiU2FmYXJcIixcIlJhYmnKuyBJXCIsXCJSYWJpyrsgSUlcIixcIkp1bWFkYSBJXCIsXCJKdW1hZGEgSUlcIixcIlJhamFiXCIsXCJTaGHKu2JhblwiLFwiUmFtYWRhblwiLFwiU2hhd3dhbFwiLFwiRGh1yrtsLVFpyrtkYWhcIixcIkRodcq7bC1IaWpqYWhcIl19LGRheXM6e25hcnJvdzpbXCJTXCIsXCJNXCIsXCJUXCIsXCJXXCIsXCJUXCIsXCJGXCIsXCJTXCJdLHNob3J0OltcIlN1blwiLFwiTW9uXCIsXCJUdWVcIixcIldlZFwiLFwiVGh1XCIsXCJGcmlcIixcIlNhdFwiXSxsb25nOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdfSxlcmFzOntuYXJyb3c6W1wiQUhcIl0sc2hvcnQ6W1wiQUhcIl0sbG9uZzpbXCJBSFwiXX0sZGF5UGVyaW9kczp7YW06XCJBTVwiLHBtOlwiUE1cIn19LGlzbGFtaWNjOnttb250aHM6e25hcnJvdzpbXCIxXCIsXCIyXCIsXCIzXCIsXCI0XCIsXCI1XCIsXCI2XCIsXCI3XCIsXCI4XCIsXCI5XCIsXCIxMFwiLFwiMTFcIixcIjEyXCJdLHNob3J0OltcIk11aC5cIixcIlNhZi5cIixcIlJhYi4gSVwiLFwiUmFiLiBJSVwiLFwiSnVtLiBJXCIsXCJKdW0uIElJXCIsXCJSYWouXCIsXCJTaGEuXCIsXCJSYW0uXCIsXCJTaGF3LlwiLFwiRGh1yrtsLVEuXCIsXCJEaHXKu2wtSC5cIl0sbG9uZzpbXCJNdWhhcnJhbVwiLFwiU2FmYXJcIixcIlJhYmnKuyBJXCIsXCJSYWJpyrsgSUlcIixcIkp1bWFkYSBJXCIsXCJKdW1hZGEgSUlcIixcIlJhamFiXCIsXCJTaGHKu2JhblwiLFwiUmFtYWRhblwiLFwiU2hhd3dhbFwiLFwiRGh1yrtsLVFpyrtkYWhcIixcIkRodcq7bC1IaWpqYWhcIl19LGRheXM6e25hcnJvdzpbXCJTXCIsXCJNXCIsXCJUXCIsXCJXXCIsXCJUXCIsXCJGXCIsXCJTXCJdLHNob3J0OltcIlN1blwiLFwiTW9uXCIsXCJUdWVcIixcIldlZFwiLFwiVGh1XCIsXCJGcmlcIixcIlNhdFwiXSxsb25nOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdfSxlcmFzOntuYXJyb3c6W1wiQUhcIl0sc2hvcnQ6W1wiQUhcIl0sbG9uZzpbXCJBSFwiXX0sZGF5UGVyaW9kczp7YW06XCJBTVwiLHBtOlwiUE1cIn19LGphcGFuZXNlOnttb250aHM6e25hcnJvdzpbXCJKXCIsXCJGXCIsXCJNXCIsXCJBXCIsXCJNXCIsXCJKXCIsXCJKXCIsXCJBXCIsXCJTXCIsXCJPXCIsXCJOXCIsXCJEXCJdLHNob3J0OltcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIl0sbG9uZzpbXCJKYW51YXJ5XCIsXCJGZWJydWFyeVwiLFwiTWFyY2hcIixcIkFwcmlsXCIsXCJNYXlcIixcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl19LGRheXM6e25hcnJvdzpbXCJTXCIsXCJNXCIsXCJUXCIsXCJXXCIsXCJUXCIsXCJGXCIsXCJTXCJdLHNob3J0OltcIlN1blwiLFwiTW9uXCIsXCJUdWVcIixcIldlZFwiLFwiVGh1XCIsXCJGcmlcIixcIlNhdFwiXSxsb25nOltcIlN1bmRheVwiLFwiTW9uZGF5XCIsXCJUdWVzZGF5XCIsXCJXZWRuZXNkYXlcIixcIlRodXJzZGF5XCIsXCJGcmlkYXlcIixcIlNhdHVyZGF5XCJdfSxlcmFzOntuYXJyb3c6W1wiVGFpa2EgKDY0NeKAkzY1MClcIixcIkhha3VjaGkgKDY1MOKAkzY3MSlcIixcIkhha3VoxY0gKDY3MuKAkzY4NilcIixcIlNodWNoxY0gKDY4NuKAkzcwMSlcIixcIlRhaWjFjSAoNzAx4oCTNzA0KVwiLFwiS2VpdW4gKDcwNOKAkzcwOClcIixcIldhZMWNICg3MDjigJM3MTUpXCIsXCJSZWlraSAoNzE14oCTNzE3KVwiLFwiWcWNcsWNICg3MTfigJM3MjQpXCIsXCJKaW5raSAoNzI04oCTNzI5KVwiLFwiVGVucHnFjSAoNzI54oCTNzQ5KVwiLFwiVGVucHnFjS1rYW1wxY0gKDc0OS03NDkpXCIsXCJUZW5wecWNLXNoxY1oxY0gKDc0OS03NTcpXCIsXCJUZW5wecWNLWjFjWppICg3NTctNzY1KVwiLFwiVGVucHnFjS1qaW5nbyAoNzY1LTc2NylcIixcIkppbmdvLWtlaXVuICg3NjctNzcwKVwiLFwiSMWNa2kgKDc3MOKAkzc4MClcIixcIlRlbi3FjSAoNzgxLTc4MilcIixcIkVucnlha3UgKDc4MuKAkzgwNilcIixcIkRhaWTFjSAoODA24oCTODEwKVwiLFwiS8WNbmluICg4MTDigJM4MjQpXCIsXCJUZW5jaMWNICg4MjTigJM4MzQpXCIsXCJKxY13YSAoODM04oCTODQ4KVwiLFwiS2FqxY0gKDg0OOKAkzg1MSlcIixcIk5pbmp1ICg4NTHigJM4NTQpXCIsXCJTYWlrxY0gKDg1NOKAkzg1NylcIixcIlRlbi1hbiAoODU3LTg1OSlcIixcIkrFjWdhbiAoODU54oCTODc3KVwiLFwiR2FuZ3nFjSAoODc34oCTODg1KVwiLFwiTmlubmEgKDg4NeKAkzg4OSlcIixcIkthbnB5xY0gKDg4OeKAkzg5OClcIixcIlNoxY10YWkgKDg5OOKAkzkwMSlcIixcIkVuZ2kgKDkwMeKAkzkyMylcIixcIkVuY2jFjSAoOTIz4oCTOTMxKVwiLFwiSsWNaGVpICg5MzHigJM5MzgpXCIsXCJUZW5necWNICg5MzjigJM5NDcpXCIsXCJUZW5yeWFrdSAoOTQ34oCTOTU3KVwiLFwiVGVudG9rdSAoOTU34oCTOTYxKVwiLFwixYx3YSAoOTYx4oCTOTY0KVwiLFwiS8WNaMWNICg5NjTigJM5NjgpXCIsXCJBbm5hICg5NjjigJM5NzApXCIsXCJUZW5yb2t1ICg5NzDigJM5NzMpXCIsXCJUZW7igJllbiAoOTcz4oCTOTc2KVwiLFwiSsWNZ2VuICg5NzbigJM5NzgpXCIsXCJUZW5nZW4gKDk3OOKAkzk4MylcIixcIkVpa2FuICg5ODPigJM5ODUpXCIsXCJLYW5uYSAoOTg14oCTOTg3KVwiLFwiRWllbiAoOTg34oCTOTg5KVwiLFwiRWlzbyAoOTg54oCTOTkwKVwiLFwiU2jFjXJ5YWt1ICg5OTDigJM5OTUpXCIsXCJDaMWNdG9rdSAoOTk14oCTOTk5KVwiLFwiQ2jFjWjFjSAoOTk54oCTMTAwNClcIixcIkthbmvFjSAoMTAwNOKAkzEwMTIpXCIsXCJDaMWNd2EgKDEwMTLigJMxMDE3KVwiLFwiS2FubmluICgxMDE34oCTMTAyMSlcIixcIkppYW4gKDEwMjHigJMxMDI0KVwiLFwiTWFuanUgKDEwMjTigJMxMDI4KVwiLFwiQ2jFjWdlbiAoMTAyOOKAkzEwMzcpXCIsXCJDaMWNcnlha3UgKDEwMzfigJMxMDQwKVwiLFwiQ2jFjWt5xasgKDEwNDDigJMxMDQ0KVwiLFwiS2FudG9rdSAoMTA0NOKAkzEwNDYpXCIsXCJFaXNoxY0gKDEwNDbigJMxMDUzKVwiLFwiVGVuZ2kgKDEwNTPigJMxMDU4KVwiLFwiS8WNaGVpICgxMDU44oCTMTA2NSlcIixcIkppcnlha3UgKDEwNjXigJMxMDY5KVwiLFwiRW5recWrICgxMDY54oCTMTA3NClcIixcIlNoxY1obyAoMTA3NOKAkzEwNzcpXCIsXCJTaMWNcnlha3UgKDEwNzfigJMxMDgxKVwiLFwiRWloxY0gKDEwODHigJMxMDg0KVwiLFwixYx0b2t1ICgxMDg04oCTMTA4NylcIixcIkthbmppICgxMDg34oCTMTA5NClcIixcIkthaMWNICgxMDk04oCTMTA5NilcIixcIkVpY2jFjSAoMTA5NuKAkzEwOTcpXCIsXCJKxY10b2t1ICgxMDk34oCTMTA5OSlcIixcIkvFjXdhICgxMDk54oCTMTEwNClcIixcIkNoxY1qaSAoMTEwNOKAkzExMDYpXCIsXCJLYXNoxY0gKDExMDbigJMxMTA4KVwiLFwiVGVubmluICgxMTA44oCTMTExMClcIixcIlRlbi1laSAoMTExMC0xMTEzKVwiLFwiRWlrecWrICgxMTEz4oCTMTExOClcIixcIkdlbuKAmWVpICgxMTE44oCTMTEyMClcIixcIkjFjWFuICgxMTIw4oCTMTEyNClcIixcIlRlbmppICgxMTI04oCTMTEyNilcIixcIkRhaWppICgxMTI24oCTMTEzMSlcIixcIlRlbnNoxY0gKDExMzHigJMxMTMyKVwiLFwiQ2jFjXNoxY0gKDExMzLigJMxMTM1KVwiLFwiSMWNZW4gKDExMzXigJMxMTQxKVwiLFwiRWlqaSAoMTE0MeKAkzExNDIpXCIsXCJLxY1qaSAoMTE0MuKAkzExNDQpXCIsXCJUZW7igJl5xY0gKDExNDTigJMxMTQ1KVwiLFwiS3nFq2FuICgxMTQ14oCTMTE1MSlcIixcIk5pbnBlaSAoMTE1MeKAkzExNTQpXCIsXCJLecWranUgKDExNTTigJMxMTU2KVwiLFwiSMWNZ2VuICgxMTU24oCTMTE1OSlcIixcIkhlaWppICgxMTU54oCTMTE2MClcIixcIkVpcnlha3UgKDExNjDigJMxMTYxKVwiLFwixYxobyAoMTE2MeKAkzExNjMpXCIsXCJDaMWNa2FuICgxMTYz4oCTMTE2NSlcIixcIkVpbWFuICgxMTY14oCTMTE2NilcIixcIk5pbuKAmWFuICgxMTY24oCTMTE2OSlcIixcIkthxY0gKDExNjnigJMxMTcxKVwiLFwiU2jFjWFuICgxMTcx4oCTMTE3NSlcIixcIkFuZ2VuICgxMTc14oCTMTE3NylcIixcIkppc2jFjSAoMTE3N+KAkzExODEpXCIsXCJZxY13YSAoMTE4MeKAkzExODIpXCIsXCJKdWVpICgxMTgy4oCTMTE4NClcIixcIkdlbnJ5YWt1ICgxMTg04oCTMTE4NSlcIixcIkJ1bmppICgxMTg14oCTMTE5MClcIixcIktlbmt5xasgKDExOTDigJMxMTk5KVwiLFwiU2jFjWppICgxMTk54oCTMTIwMSlcIixcIktlbm5pbiAoMTIwMeKAkzEyMDQpXCIsXCJHZW5recWrICgxMjA04oCTMTIwNilcIixcIktlbuKAmWVpICgxMjA24oCTMTIwNylcIixcIkrFjWdlbiAoMTIwN+KAkzEyMTEpXCIsXCJLZW5yeWFrdSAoMTIxMeKAkzEyMTMpXCIsXCJLZW5wxY0gKDEyMTPigJMxMjE5KVwiLFwiSsWNa3nFqyAoMTIxOeKAkzEyMjIpXCIsXCJKxY3FjSAoMTIyMuKAkzEyMjQpXCIsXCJHZW5uaW4gKDEyMjTigJMxMjI1KVwiLFwiS2Fyb2t1ICgxMjI14oCTMTIyNylcIixcIkFudGVpICgxMjI34oCTMTIyOSlcIixcIkthbmtpICgxMjI54oCTMTIzMilcIixcIkrFjWVpICgxMjMy4oCTMTIzMylcIixcIlRlbnB1a3UgKDEyMzPigJMxMjM0KVwiLFwiQnVucnlha3UgKDEyMzTigJMxMjM1KVwiLFwiS2F0ZWkgKDEyMzXigJMxMjM4KVwiLFwiUnlha3VuaW4gKDEyMzjigJMxMjM5KVwiLFwiRW7igJnFjSAoMTIzOeKAkzEyNDApXCIsXCJOaW5qaSAoMTI0MOKAkzEyNDMpXCIsXCJLYW5nZW4gKDEyNDPigJMxMjQ3KVwiLFwiSMWNamkgKDEyNDfigJMxMjQ5KVwiLFwiS2VuY2jFjSAoMTI0OeKAkzEyNTYpXCIsXCJLxY1nZW4gKDEyNTbigJMxMjU3KVwiLFwiU2jFjWthICgxMjU34oCTMTI1OSlcIixcIlNoxY1nZW4gKDEyNTnigJMxMjYwKVwiLFwiQnVu4oCZxY0gKDEyNjDigJMxMjYxKVwiLFwiS8WNY2jFjSAoMTI2MeKAkzEyNjQpXCIsXCJCdW7igJllaSAoMTI2NOKAkzEyNzUpXCIsXCJLZW5qaSAoMTI3NeKAkzEyNzgpXCIsXCJLxY1hbiAoMTI3OOKAkzEyODgpXCIsXCJTaMWNxY0gKDEyODjigJMxMjkzKVwiLFwiRWluaW4gKDEyOTPigJMxMjk5KVwiLFwiU2jFjWFuICgxMjk54oCTMTMwMilcIixcIktlbmdlbiAoMTMwMuKAkzEzMDMpXCIsXCJLYWdlbiAoMTMwM+KAkzEzMDYpXCIsXCJUb2t1amkgKDEzMDbigJMxMzA4KVwiLFwiRW5recWNICgxMzA44oCTMTMxMSlcIixcIsWMY2jFjSAoMTMxMeKAkzEzMTIpXCIsXCJTaMWNd2EgKDEzMTLigJMxMzE3KVwiLFwiQnVucMWNICgxMzE34oCTMTMxOSlcIixcIkdlbsWNICgxMzE54oCTMTMyMSlcIixcIkdlbmvFjSAoMTMyMeKAkzEzMjQpXCIsXCJTaMWNY2jFqyAoMTMyNOKAkzEzMjYpXCIsXCJLYXJ5YWt1ICgxMzI24oCTMTMyOSlcIixcIkdlbnRva3UgKDEzMjnigJMxMzMxKVwiLFwiR2Vua8WNICgxMzMx4oCTMTMzNClcIixcIktlbm11ICgxMzM04oCTMTMzNilcIixcIkVuZ2VuICgxMzM24oCTMTM0MClcIixcIkvFjWtva3UgKDEzNDDigJMxMzQ2KVwiLFwiU2jFjWhlaSAoMTM0NuKAkzEzNzApXCIsXCJLZW50b2t1ICgxMzcw4oCTMTM3MilcIixcIkJ1bmNoxasgKDEzNzLigJMxMzc1KVwiLFwiVGVuanUgKDEzNzXigJMxMzc5KVwiLFwiS8WNcnlha3UgKDEzNznigJMxMzgxKVwiLFwiS8WNd2EgKDEzODHigJMxMzg0KVwiLFwiR2VuY2jFqyAoMTM4NOKAkzEzOTIpXCIsXCJNZWl0b2t1ICgxMzg04oCTMTM4NylcIixcIktha2VpICgxMzg34oCTMTM4OSlcIixcIkvFjcWNICgxMzg54oCTMTM5MClcIixcIk1laXRva3UgKDEzOTDigJMxMzk0KVwiLFwixYxlaSAoMTM5NOKAkzE0MjgpXCIsXCJTaMWNY2jFjSAoMTQyOOKAkzE0MjkpXCIsXCJFaWt5xY0gKDE0MjnigJMxNDQxKVwiLFwiS2FraXRzdSAoMTQ0MeKAkzE0NDQpXCIsXCJCdW7igJlhbiAoMTQ0NOKAkzE0NDkpXCIsXCJIxY10b2t1ICgxNDQ54oCTMTQ1MilcIixcIkt5xY10b2t1ICgxNDUy4oCTMTQ1NSlcIixcIkvFjXNoxY0gKDE0NTXigJMxNDU3KVwiLFwiQ2jFjXJva3UgKDE0NTfigJMxNDYwKVwiLFwiS2Fuc2jFjSAoMTQ2MOKAkzE0NjYpXCIsXCJCdW5zaMWNICgxNDY24oCTMTQ2NylcIixcIsWMbmluICgxNDY34oCTMTQ2OSlcIixcIkJ1bm1laSAoMTQ2OeKAkzE0ODcpXCIsXCJDaMWNa3nFjSAoMTQ4N+KAkzE0ODkpXCIsXCJFbnRva3UgKDE0ODnigJMxNDkyKVwiLFwiTWVpxY0gKDE0OTLigJMxNTAxKVwiLFwiQnVua2kgKDE1MDHigJMxNTA0KVwiLFwiRWlzaMWNICgxNTA04oCTMTUyMSlcIixcIlRhaWVpICgxNTIx4oCTMTUyOClcIixcIkt5xY1yb2t1ICgxNTI44oCTMTUzMilcIixcIlRlbmJ1biAoMTUzMuKAkzE1NTUpXCIsXCJLxY1qaSAoMTU1NeKAkzE1NTgpXCIsXCJFaXJva3UgKDE1NTjigJMxNTcwKVwiLFwiR2Vua2kgKDE1NzDigJMxNTczKVwiLFwiVGVuc2jFjSAoMTU3M+KAkzE1OTIpXCIsXCJCdW5yb2t1ICgxNTky4oCTMTU5NilcIixcIktlaWNoxY0gKDE1OTbigJMxNjE1KVwiLFwiR2VubmEgKDE2MTXigJMxNjI0KVwiLFwiS2Fu4oCZZWkgKDE2MjTigJMxNjQ0KVwiLFwiU2jFjWhvICgxNjQ04oCTMTY0OClcIixcIktlaWFuICgxNjQ44oCTMTY1MilcIixcIkrFjcWNICgxNjUy4oCTMTY1NSlcIixcIk1laXJla2kgKDE2NTXigJMxNjU4KVwiLFwiTWFuamkgKDE2NTjigJMxNjYxKVwiLFwiS2FuYnVuICgxNjYx4oCTMTY3MylcIixcIkVucMWNICgxNjcz4oCTMTY4MSlcIixcIlRlbm5hICgxNjgx4oCTMTY4NClcIixcIkrFjWt5xY0gKDE2ODTigJMxNjg4KVwiLFwiR2Vucm9rdSAoMTY4OOKAkzE3MDQpXCIsXCJIxY1laSAoMTcwNOKAkzE3MTEpXCIsXCJTaMWNdG9rdSAoMTcxMeKAkzE3MTYpXCIsXCJLecWNaMWNICgxNzE24oCTMTczNilcIixcIkdlbmJ1biAoMTczNuKAkzE3NDEpXCIsXCJLYW5wxY0gKDE3NDHigJMxNzQ0KVwiLFwiRW5recWNICgxNzQ04oCTMTc0OClcIixcIkthbuKAmWVuICgxNzQ44oCTMTc1MSlcIixcIkjFjXJla2kgKDE3NTHigJMxNzY0KVwiLFwiTWVpd2EgKDE3NjTigJMxNzcyKVwiLFwiQW7igJllaSAoMTc3MuKAkzE3ODEpXCIsXCJUZW5tZWkgKDE3ODHigJMxNzg5KVwiLFwiS2Fuc2VpICgxNzg54oCTMTgwMSlcIixcIkt5xY13YSAoMTgwMeKAkzE4MDQpXCIsXCJCdW5rYSAoMTgwNOKAkzE4MTgpXCIsXCJCdW5zZWkgKDE4MTjigJMxODMwKVwiLFwiVGVucMWNICgxODMw4oCTMTg0NClcIixcIkvFjWthICgxODQ04oCTMTg0OClcIixcIkthZWkgKDE4NDjigJMxODU0KVwiLFwiQW5zZWkgKDE4NTTigJMxODYwKVwiLFwiTWFu4oCZZW4gKDE4NjDigJMxODYxKVwiLFwiQnVua3nFqyAoMTg2MeKAkzE4NjQpXCIsXCJHZW5qaSAoMTg2NOKAkzE4NjUpXCIsXCJLZWnFjSAoMTg2NeKAkzE4NjgpXCIsXCJNXCIsXCJUXCIsXCJTXCIsXCJIXCJdLHNob3J0OltcIlRhaWthICg2NDXigJM2NTApXCIsXCJIYWt1Y2hpICg2NTDigJM2NzEpXCIsXCJIYWt1aMWNICg2NzLigJM2ODYpXCIsXCJTaHVjaMWNICg2ODbigJM3MDEpXCIsXCJUYWloxY0gKDcwMeKAkzcwNClcIixcIktlaXVuICg3MDTigJM3MDgpXCIsXCJXYWTFjSAoNzA44oCTNzE1KVwiLFwiUmVpa2kgKDcxNeKAkzcxNylcIixcIlnFjXLFjSAoNzE34oCTNzI0KVwiLFwiSmlua2kgKDcyNOKAkzcyOSlcIixcIlRlbnB5xY0gKDcyOeKAkzc0OSlcIixcIlRlbnB5xY0ta2FtcMWNICg3NDktNzQ5KVwiLFwiVGVucHnFjS1zaMWNaMWNICg3NDktNzU3KVwiLFwiVGVucHnFjS1oxY1qaSAoNzU3LTc2NSlcIixcIlRlbnB5xY0tamluZ28gKDc2NS03NjcpXCIsXCJKaW5nby1rZWl1biAoNzY3LTc3MClcIixcIkjFjWtpICg3NzDigJM3ODApXCIsXCJUZW4txY0gKDc4MS03ODIpXCIsXCJFbnJ5YWt1ICg3ODLigJM4MDYpXCIsXCJEYWlkxY0gKDgwNuKAkzgxMClcIixcIkvFjW5pbiAoODEw4oCTODI0KVwiLFwiVGVuY2jFjSAoODI04oCTODM0KVwiLFwiSsWNd2EgKDgzNOKAkzg0OClcIixcIkthasWNICg4NDjigJM4NTEpXCIsXCJOaW5qdSAoODUx4oCTODU0KVwiLFwiU2Fpa8WNICg4NTTigJM4NTcpXCIsXCJUZW4tYW4gKDg1Ny04NTkpXCIsXCJKxY1nYW4gKDg1OeKAkzg3NylcIixcIkdhbmd5xY0gKDg3N+KAkzg4NSlcIixcIk5pbm5hICg4ODXigJM4ODkpXCIsXCJLYW5wecWNICg4ODnigJM4OTgpXCIsXCJTaMWNdGFpICg4OTjigJM5MDEpXCIsXCJFbmdpICg5MDHigJM5MjMpXCIsXCJFbmNoxY0gKDkyM+KAkzkzMSlcIixcIkrFjWhlaSAoOTMx4oCTOTM4KVwiLFwiVGVuZ3nFjSAoOTM44oCTOTQ3KVwiLFwiVGVucnlha3UgKDk0N+KAkzk1NylcIixcIlRlbnRva3UgKDk1N+KAkzk2MSlcIixcIsWMd2EgKDk2MeKAkzk2NClcIixcIkvFjWjFjSAoOTY04oCTOTY4KVwiLFwiQW5uYSAoOTY44oCTOTcwKVwiLFwiVGVucm9rdSAoOTcw4oCTOTczKVwiLFwiVGVu4oCZZW4gKDk3M+KAkzk3NilcIixcIkrFjWdlbiAoOTc24oCTOTc4KVwiLFwiVGVuZ2VuICg5NzjigJM5ODMpXCIsXCJFaWthbiAoOTgz4oCTOTg1KVwiLFwiS2FubmEgKDk4NeKAkzk4NylcIixcIkVpZW4gKDk4N+KAkzk4OSlcIixcIkVpc28gKDk4OeKAkzk5MClcIixcIlNoxY1yeWFrdSAoOTkw4oCTOTk1KVwiLFwiQ2jFjXRva3UgKDk5NeKAkzk5OSlcIixcIkNoxY1oxY0gKDk5OeKAkzEwMDQpXCIsXCJLYW5rxY0gKDEwMDTigJMxMDEyKVwiLFwiQ2jFjXdhICgxMDEy4oCTMTAxNylcIixcIkthbm5pbiAoMTAxN+KAkzEwMjEpXCIsXCJKaWFuICgxMDIx4oCTMTAyNClcIixcIk1hbmp1ICgxMDI04oCTMTAyOClcIixcIkNoxY1nZW4gKDEwMjjigJMxMDM3KVwiLFwiQ2jFjXJ5YWt1ICgxMDM34oCTMTA0MClcIixcIkNoxY1recWrICgxMDQw4oCTMTA0NClcIixcIkthbnRva3UgKDEwNDTigJMxMDQ2KVwiLFwiRWlzaMWNICgxMDQ24oCTMTA1MylcIixcIlRlbmdpICgxMDUz4oCTMTA1OClcIixcIkvFjWhlaSAoMTA1OOKAkzEwNjUpXCIsXCJKaXJ5YWt1ICgxMDY14oCTMTA2OSlcIixcIkVua3nFqyAoMTA2OeKAkzEwNzQpXCIsXCJTaMWNaG8gKDEwNzTigJMxMDc3KVwiLFwiU2jFjXJ5YWt1ICgxMDc34oCTMTA4MSlcIixcIkVpaMWNICgxMDgx4oCTMTA4NClcIixcIsWMdG9rdSAoMTA4NOKAkzEwODcpXCIsXCJLYW5qaSAoMTA4N+KAkzEwOTQpXCIsXCJLYWjFjSAoMTA5NOKAkzEwOTYpXCIsXCJFaWNoxY0gKDEwOTbigJMxMDk3KVwiLFwiSsWNdG9rdSAoMTA5N+KAkzEwOTkpXCIsXCJLxY13YSAoMTA5OeKAkzExMDQpXCIsXCJDaMWNamkgKDExMDTigJMxMTA2KVwiLFwiS2FzaMWNICgxMTA24oCTMTEwOClcIixcIlRlbm5pbiAoMTEwOOKAkzExMTApXCIsXCJUZW4tZWkgKDExMTAtMTExMylcIixcIkVpa3nFqyAoMTExM+KAkzExMTgpXCIsXCJHZW7igJllaSAoMTExOOKAkzExMjApXCIsXCJIxY1hbiAoMTEyMOKAkzExMjQpXCIsXCJUZW5qaSAoMTEyNOKAkzExMjYpXCIsXCJEYWlqaSAoMTEyNuKAkzExMzEpXCIsXCJUZW5zaMWNICgxMTMx4oCTMTEzMilcIixcIkNoxY1zaMWNICgxMTMy4oCTMTEzNSlcIixcIkjFjWVuICgxMTM14oCTMTE0MSlcIixcIkVpamkgKDExNDHigJMxMTQyKVwiLFwiS8WNamkgKDExNDLigJMxMTQ0KVwiLFwiVGVu4oCZecWNICgxMTQ04oCTMTE0NSlcIixcIkt5xathbiAoMTE0NeKAkzExNTEpXCIsXCJOaW5wZWkgKDExNTHigJMxMTU0KVwiLFwiS3nFq2p1ICgxMTU04oCTMTE1NilcIixcIkjFjWdlbiAoMTE1NuKAkzExNTkpXCIsXCJIZWlqaSAoMTE1OeKAkzExNjApXCIsXCJFaXJ5YWt1ICgxMTYw4oCTMTE2MSlcIixcIsWMaG8gKDExNjHigJMxMTYzKVwiLFwiQ2jFjWthbiAoMTE2M+KAkzExNjUpXCIsXCJFaW1hbiAoMTE2NeKAkzExNjYpXCIsXCJOaW7igJlhbiAoMTE2NuKAkzExNjkpXCIsXCJLYcWNICgxMTY54oCTMTE3MSlcIixcIlNoxY1hbiAoMTE3MeKAkzExNzUpXCIsXCJBbmdlbiAoMTE3NeKAkzExNzcpXCIsXCJKaXNoxY0gKDExNzfigJMxMTgxKVwiLFwiWcWNd2EgKDExODHigJMxMTgyKVwiLFwiSnVlaSAoMTE4MuKAkzExODQpXCIsXCJHZW5yeWFrdSAoMTE4NOKAkzExODUpXCIsXCJCdW5qaSAoMTE4NeKAkzExOTApXCIsXCJLZW5recWrICgxMTkw4oCTMTE5OSlcIixcIlNoxY1qaSAoMTE5OeKAkzEyMDEpXCIsXCJLZW5uaW4gKDEyMDHigJMxMjA0KVwiLFwiR2Vua3nFqyAoMTIwNOKAkzEyMDYpXCIsXCJLZW7igJllaSAoMTIwNuKAkzEyMDcpXCIsXCJKxY1nZW4gKDEyMDfigJMxMjExKVwiLFwiS2Vucnlha3UgKDEyMTHigJMxMjEzKVwiLFwiS2VucMWNICgxMjEz4oCTMTIxOSlcIixcIkrFjWt5xasgKDEyMTnigJMxMjIyKVwiLFwiSsWNxY0gKDEyMjLigJMxMjI0KVwiLFwiR2VubmluICgxMjI04oCTMTIyNSlcIixcIkthcm9rdSAoMTIyNeKAkzEyMjcpXCIsXCJBbnRlaSAoMTIyN+KAkzEyMjkpXCIsXCJLYW5raSAoMTIyOeKAkzEyMzIpXCIsXCJKxY1laSAoMTIzMuKAkzEyMzMpXCIsXCJUZW5wdWt1ICgxMjMz4oCTMTIzNClcIixcIkJ1bnJ5YWt1ICgxMjM04oCTMTIzNSlcIixcIkthdGVpICgxMjM14oCTMTIzOClcIixcIlJ5YWt1bmluICgxMjM44oCTMTIzOSlcIixcIkVu4oCZxY0gKDEyMznigJMxMjQwKVwiLFwiTmluamkgKDEyNDDigJMxMjQzKVwiLFwiS2FuZ2VuICgxMjQz4oCTMTI0NylcIixcIkjFjWppICgxMjQ34oCTMTI0OSlcIixcIktlbmNoxY0gKDEyNDnigJMxMjU2KVwiLFwiS8WNZ2VuICgxMjU24oCTMTI1NylcIixcIlNoxY1rYSAoMTI1N+KAkzEyNTkpXCIsXCJTaMWNZ2VuICgxMjU54oCTMTI2MClcIixcIkJ1buKAmcWNICgxMjYw4oCTMTI2MSlcIixcIkvFjWNoxY0gKDEyNjHigJMxMjY0KVwiLFwiQnVu4oCZZWkgKDEyNjTigJMxMjc1KVwiLFwiS2VuamkgKDEyNzXigJMxMjc4KVwiLFwiS8WNYW4gKDEyNzjigJMxMjg4KVwiLFwiU2jFjcWNICgxMjg44oCTMTI5MylcIixcIkVpbmluICgxMjkz4oCTMTI5OSlcIixcIlNoxY1hbiAoMTI5OeKAkzEzMDIpXCIsXCJLZW5nZW4gKDEzMDLigJMxMzAzKVwiLFwiS2FnZW4gKDEzMDPigJMxMzA2KVwiLFwiVG9rdWppICgxMzA24oCTMTMwOClcIixcIkVua3nFjSAoMTMwOOKAkzEzMTEpXCIsXCLFjGNoxY0gKDEzMTHigJMxMzEyKVwiLFwiU2jFjXdhICgxMzEy4oCTMTMxNylcIixcIkJ1bnDFjSAoMTMxN+KAkzEzMTkpXCIsXCJHZW7FjSAoMTMxOeKAkzEzMjEpXCIsXCJHZW5rxY0gKDEzMjHigJMxMzI0KVwiLFwiU2jFjWNoxasgKDEzMjTigJMxMzI2KVwiLFwiS2FyeWFrdSAoMTMyNuKAkzEzMjkpXCIsXCJHZW50b2t1ICgxMzI54oCTMTMzMSlcIixcIkdlbmvFjSAoMTMzMeKAkzEzMzQpXCIsXCJLZW5tdSAoMTMzNOKAkzEzMzYpXCIsXCJFbmdlbiAoMTMzNuKAkzEzNDApXCIsXCJLxY1rb2t1ICgxMzQw4oCTMTM0NilcIixcIlNoxY1oZWkgKDEzNDbigJMxMzcwKVwiLFwiS2VudG9rdSAoMTM3MOKAkzEzNzIpXCIsXCJCdW5jaMWrICgxMzcy4oCTMTM3NSlcIixcIlRlbmp1ICgxMzc14oCTMTM3OSlcIixcIkvFjXJ5YWt1ICgxMzc54oCTMTM4MSlcIixcIkvFjXdhICgxMzgx4oCTMTM4NClcIixcIkdlbmNoxasgKDEzODTigJMxMzkyKVwiLFwiTWVpdG9rdSAoMTM4NOKAkzEzODcpXCIsXCJLYWtlaSAoMTM4N+KAkzEzODkpXCIsXCJLxY3FjSAoMTM4OeKAkzEzOTApXCIsXCJNZWl0b2t1ICgxMzkw4oCTMTM5NClcIixcIsWMZWkgKDEzOTTigJMxNDI4KVwiLFwiU2jFjWNoxY0gKDE0MjjigJMxNDI5KVwiLFwiRWlrecWNICgxNDI54oCTMTQ0MSlcIixcIktha2l0c3UgKDE0NDHigJMxNDQ0KVwiLFwiQnVu4oCZYW4gKDE0NDTigJMxNDQ5KVwiLFwiSMWNdG9rdSAoMTQ0OeKAkzE0NTIpXCIsXCJLecWNdG9rdSAoMTQ1MuKAkzE0NTUpXCIsXCJLxY1zaMWNICgxNDU14oCTMTQ1NylcIixcIkNoxY1yb2t1ICgxNDU34oCTMTQ2MClcIixcIkthbnNoxY0gKDE0NjDigJMxNDY2KVwiLFwiQnVuc2jFjSAoMTQ2NuKAkzE0NjcpXCIsXCLFjG5pbiAoMTQ2N+KAkzE0NjkpXCIsXCJCdW5tZWkgKDE0NjnigJMxNDg3KVwiLFwiQ2jFjWt5xY0gKDE0ODfigJMxNDg5KVwiLFwiRW50b2t1ICgxNDg54oCTMTQ5MilcIixcIk1lacWNICgxNDky4oCTMTUwMSlcIixcIkJ1bmtpICgxNTAx4oCTMTUwNClcIixcIkVpc2jFjSAoMTUwNOKAkzE1MjEpXCIsXCJUYWllaSAoMTUyMeKAkzE1MjgpXCIsXCJLecWNcm9rdSAoMTUyOOKAkzE1MzIpXCIsXCJUZW5idW4gKDE1MzLigJMxNTU1KVwiLFwiS8WNamkgKDE1NTXigJMxNTU4KVwiLFwiRWlyb2t1ICgxNTU44oCTMTU3MClcIixcIkdlbmtpICgxNTcw4oCTMTU3MylcIixcIlRlbnNoxY0gKDE1NzPigJMxNTkyKVwiLFwiQnVucm9rdSAoMTU5MuKAkzE1OTYpXCIsXCJLZWljaMWNICgxNTk24oCTMTYxNSlcIixcIkdlbm5hICgxNjE14oCTMTYyNClcIixcIkthbuKAmWVpICgxNjI04oCTMTY0NClcIixcIlNoxY1obyAoMTY0NOKAkzE2NDgpXCIsXCJLZWlhbiAoMTY0OOKAkzE2NTIpXCIsXCJKxY3FjSAoMTY1MuKAkzE2NTUpXCIsXCJNZWlyZWtpICgxNjU14oCTMTY1OClcIixcIk1hbmppICgxNjU44oCTMTY2MSlcIixcIkthbmJ1biAoMTY2MeKAkzE2NzMpXCIsXCJFbnDFjSAoMTY3M+KAkzE2ODEpXCIsXCJUZW5uYSAoMTY4MeKAkzE2ODQpXCIsXCJKxY1recWNICgxNjg04oCTMTY4OClcIixcIkdlbnJva3UgKDE2ODjigJMxNzA0KVwiLFwiSMWNZWkgKDE3MDTigJMxNzExKVwiLFwiU2jFjXRva3UgKDE3MTHigJMxNzE2KVwiLFwiS3nFjWjFjSAoMTcxNuKAkzE3MzYpXCIsXCJHZW5idW4gKDE3MzbigJMxNzQxKVwiLFwiS2FucMWNICgxNzQx4oCTMTc0NClcIixcIkVua3nFjSAoMTc0NOKAkzE3NDgpXCIsXCJLYW7igJllbiAoMTc0OOKAkzE3NTEpXCIsXCJIxY1yZWtpICgxNzUx4oCTMTc2NClcIixcIk1laXdhICgxNzY04oCTMTc3MilcIixcIkFu4oCZZWkgKDE3NzLigJMxNzgxKVwiLFwiVGVubWVpICgxNzgx4oCTMTc4OSlcIixcIkthbnNlaSAoMTc4OeKAkzE4MDEpXCIsXCJLecWNd2EgKDE4MDHigJMxODA0KVwiLFwiQnVua2EgKDE4MDTigJMxODE4KVwiLFwiQnVuc2VpICgxODE44oCTMTgzMClcIixcIlRlbnDFjSAoMTgzMOKAkzE4NDQpXCIsXCJLxY1rYSAoMTg0NOKAkzE4NDgpXCIsXCJLYWVpICgxODQ44oCTMTg1NClcIixcIkFuc2VpICgxODU04oCTMTg2MClcIixcIk1hbuKAmWVuICgxODYw4oCTMTg2MSlcIixcIkJ1bmt5xasgKDE4NjHigJMxODY0KVwiLFwiR2VuamkgKDE4NjTigJMxODY1KVwiLFwiS2VpxY0gKDE4NjXigJMxODY4KVwiLFwiTWVpamlcIixcIlRhaXNoxY1cIixcIlNoxY13YVwiLFwiSGVpc2VpXCJdLGxvbmc6W1wiVGFpa2EgKDY0NeKAkzY1MClcIixcIkhha3VjaGkgKDY1MOKAkzY3MSlcIixcIkhha3VoxY0gKDY3MuKAkzY4NilcIixcIlNodWNoxY0gKDY4NuKAkzcwMSlcIixcIlRhaWjFjSAoNzAx4oCTNzA0KVwiLFwiS2VpdW4gKDcwNOKAkzcwOClcIixcIldhZMWNICg3MDjigJM3MTUpXCIsXCJSZWlraSAoNzE14oCTNzE3KVwiLFwiWcWNcsWNICg3MTfigJM3MjQpXCIsXCJKaW5raSAoNzI04oCTNzI5KVwiLFwiVGVucHnFjSAoNzI54oCTNzQ5KVwiLFwiVGVucHnFjS1rYW1wxY0gKDc0OS03NDkpXCIsXCJUZW5wecWNLXNoxY1oxY0gKDc0OS03NTcpXCIsXCJUZW5wecWNLWjFjWppICg3NTctNzY1KVwiLFwiVGVucHnFjS1qaW5nbyAoNzY1LTc2NylcIixcIkppbmdvLWtlaXVuICg3NjctNzcwKVwiLFwiSMWNa2kgKDc3MOKAkzc4MClcIixcIlRlbi3FjSAoNzgxLTc4MilcIixcIkVucnlha3UgKDc4MuKAkzgwNilcIixcIkRhaWTFjSAoODA24oCTODEwKVwiLFwiS8WNbmluICg4MTDigJM4MjQpXCIsXCJUZW5jaMWNICg4MjTigJM4MzQpXCIsXCJKxY13YSAoODM04oCTODQ4KVwiLFwiS2FqxY0gKDg0OOKAkzg1MSlcIixcIk5pbmp1ICg4NTHigJM4NTQpXCIsXCJTYWlrxY0gKDg1NOKAkzg1NylcIixcIlRlbi1hbiAoODU3LTg1OSlcIixcIkrFjWdhbiAoODU54oCTODc3KVwiLFwiR2FuZ3nFjSAoODc34oCTODg1KVwiLFwiTmlubmEgKDg4NeKAkzg4OSlcIixcIkthbnB5xY0gKDg4OeKAkzg5OClcIixcIlNoxY10YWkgKDg5OOKAkzkwMSlcIixcIkVuZ2kgKDkwMeKAkzkyMylcIixcIkVuY2jFjSAoOTIz4oCTOTMxKVwiLFwiSsWNaGVpICg5MzHigJM5MzgpXCIsXCJUZW5necWNICg5MzjigJM5NDcpXCIsXCJUZW5yeWFrdSAoOTQ34oCTOTU3KVwiLFwiVGVudG9rdSAoOTU34oCTOTYxKVwiLFwixYx3YSAoOTYx4oCTOTY0KVwiLFwiS8WNaMWNICg5NjTigJM5NjgpXCIsXCJBbm5hICg5NjjigJM5NzApXCIsXCJUZW5yb2t1ICg5NzDigJM5NzMpXCIsXCJUZW7igJllbiAoOTcz4oCTOTc2KVwiLFwiSsWNZ2VuICg5NzbigJM5NzgpXCIsXCJUZW5nZW4gKDk3OOKAkzk4MylcIixcIkVpa2FuICg5ODPigJM5ODUpXCIsXCJLYW5uYSAoOTg14oCTOTg3KVwiLFwiRWllbiAoOTg34oCTOTg5KVwiLFwiRWlzbyAoOTg54oCTOTkwKVwiLFwiU2jFjXJ5YWt1ICg5OTDigJM5OTUpXCIsXCJDaMWNdG9rdSAoOTk14oCTOTk5KVwiLFwiQ2jFjWjFjSAoOTk54oCTMTAwNClcIixcIkthbmvFjSAoMTAwNOKAkzEwMTIpXCIsXCJDaMWNd2EgKDEwMTLigJMxMDE3KVwiLFwiS2FubmluICgxMDE34oCTMTAyMSlcIixcIkppYW4gKDEwMjHigJMxMDI0KVwiLFwiTWFuanUgKDEwMjTigJMxMDI4KVwiLFwiQ2jFjWdlbiAoMTAyOOKAkzEwMzcpXCIsXCJDaMWNcnlha3UgKDEwMzfigJMxMDQwKVwiLFwiQ2jFjWt5xasgKDEwNDDigJMxMDQ0KVwiLFwiS2FudG9rdSAoMTA0NOKAkzEwNDYpXCIsXCJFaXNoxY0gKDEwNDbigJMxMDUzKVwiLFwiVGVuZ2kgKDEwNTPigJMxMDU4KVwiLFwiS8WNaGVpICgxMDU44oCTMTA2NSlcIixcIkppcnlha3UgKDEwNjXigJMxMDY5KVwiLFwiRW5recWrICgxMDY54oCTMTA3NClcIixcIlNoxY1obyAoMTA3NOKAkzEwNzcpXCIsXCJTaMWNcnlha3UgKDEwNzfigJMxMDgxKVwiLFwiRWloxY0gKDEwODHigJMxMDg0KVwiLFwixYx0b2t1ICgxMDg04oCTMTA4NylcIixcIkthbmppICgxMDg34oCTMTA5NClcIixcIkthaMWNICgxMDk04oCTMTA5NilcIixcIkVpY2jFjSAoMTA5NuKAkzEwOTcpXCIsXCJKxY10b2t1ICgxMDk34oCTMTA5OSlcIixcIkvFjXdhICgxMDk54oCTMTEwNClcIixcIkNoxY1qaSAoMTEwNOKAkzExMDYpXCIsXCJLYXNoxY0gKDExMDbigJMxMTA4KVwiLFwiVGVubmluICgxMTA44oCTMTExMClcIixcIlRlbi1laSAoMTExMC0xMTEzKVwiLFwiRWlrecWrICgxMTEz4oCTMTExOClcIixcIkdlbuKAmWVpICgxMTE44oCTMTEyMClcIixcIkjFjWFuICgxMTIw4oCTMTEyNClcIixcIlRlbmppICgxMTI04oCTMTEyNilcIixcIkRhaWppICgxMTI24oCTMTEzMSlcIixcIlRlbnNoxY0gKDExMzHigJMxMTMyKVwiLFwiQ2jFjXNoxY0gKDExMzLigJMxMTM1KVwiLFwiSMWNZW4gKDExMzXigJMxMTQxKVwiLFwiRWlqaSAoMTE0MeKAkzExNDIpXCIsXCJLxY1qaSAoMTE0MuKAkzExNDQpXCIsXCJUZW7igJl5xY0gKDExNDTigJMxMTQ1KVwiLFwiS3nFq2FuICgxMTQ14oCTMTE1MSlcIixcIk5pbnBlaSAoMTE1MeKAkzExNTQpXCIsXCJLecWranUgKDExNTTigJMxMTU2KVwiLFwiSMWNZ2VuICgxMTU24oCTMTE1OSlcIixcIkhlaWppICgxMTU54oCTMTE2MClcIixcIkVpcnlha3UgKDExNjDigJMxMTYxKVwiLFwixYxobyAoMTE2MeKAkzExNjMpXCIsXCJDaMWNa2FuICgxMTYz4oCTMTE2NSlcIixcIkVpbWFuICgxMTY14oCTMTE2NilcIixcIk5pbuKAmWFuICgxMTY24oCTMTE2OSlcIixcIkthxY0gKDExNjnigJMxMTcxKVwiLFwiU2jFjWFuICgxMTcx4oCTMTE3NSlcIixcIkFuZ2VuICgxMTc14oCTMTE3NylcIixcIkppc2jFjSAoMTE3N+KAkzExODEpXCIsXCJZxY13YSAoMTE4MeKAkzExODIpXCIsXCJKdWVpICgxMTgy4oCTMTE4NClcIixcIkdlbnJ5YWt1ICgxMTg04oCTMTE4NSlcIixcIkJ1bmppICgxMTg14oCTMTE5MClcIixcIktlbmt5xasgKDExOTDigJMxMTk5KVwiLFwiU2jFjWppICgxMTk54oCTMTIwMSlcIixcIktlbm5pbiAoMTIwMeKAkzEyMDQpXCIsXCJHZW5recWrICgxMjA04oCTMTIwNilcIixcIktlbuKAmWVpICgxMjA24oCTMTIwNylcIixcIkrFjWdlbiAoMTIwN+KAkzEyMTEpXCIsXCJLZW5yeWFrdSAoMTIxMeKAkzEyMTMpXCIsXCJLZW5wxY0gKDEyMTPigJMxMjE5KVwiLFwiSsWNa3nFqyAoMTIxOeKAkzEyMjIpXCIsXCJKxY3FjSAoMTIyMuKAkzEyMjQpXCIsXCJHZW5uaW4gKDEyMjTigJMxMjI1KVwiLFwiS2Fyb2t1ICgxMjI14oCTMTIyNylcIixcIkFudGVpICgxMjI34oCTMTIyOSlcIixcIkthbmtpICgxMjI54oCTMTIzMilcIixcIkrFjWVpICgxMjMy4oCTMTIzMylcIixcIlRlbnB1a3UgKDEyMzPigJMxMjM0KVwiLFwiQnVucnlha3UgKDEyMzTigJMxMjM1KVwiLFwiS2F0ZWkgKDEyMzXigJMxMjM4KVwiLFwiUnlha3VuaW4gKDEyMzjigJMxMjM5KVwiLFwiRW7igJnFjSAoMTIzOeKAkzEyNDApXCIsXCJOaW5qaSAoMTI0MOKAkzEyNDMpXCIsXCJLYW5nZW4gKDEyNDPigJMxMjQ3KVwiLFwiSMWNamkgKDEyNDfigJMxMjQ5KVwiLFwiS2VuY2jFjSAoMTI0OeKAkzEyNTYpXCIsXCJLxY1nZW4gKDEyNTbigJMxMjU3KVwiLFwiU2jFjWthICgxMjU34oCTMTI1OSlcIixcIlNoxY1nZW4gKDEyNTnigJMxMjYwKVwiLFwiQnVu4oCZxY0gKDEyNjDigJMxMjYxKVwiLFwiS8WNY2jFjSAoMTI2MeKAkzEyNjQpXCIsXCJCdW7igJllaSAoMTI2NOKAkzEyNzUpXCIsXCJLZW5qaSAoMTI3NeKAkzEyNzgpXCIsXCJLxY1hbiAoMTI3OOKAkzEyODgpXCIsXCJTaMWNxY0gKDEyODjigJMxMjkzKVwiLFwiRWluaW4gKDEyOTPigJMxMjk5KVwiLFwiU2jFjWFuICgxMjk54oCTMTMwMilcIixcIktlbmdlbiAoMTMwMuKAkzEzMDMpXCIsXCJLYWdlbiAoMTMwM+KAkzEzMDYpXCIsXCJUb2t1amkgKDEzMDbigJMxMzA4KVwiLFwiRW5recWNICgxMzA44oCTMTMxMSlcIixcIsWMY2jFjSAoMTMxMeKAkzEzMTIpXCIsXCJTaMWNd2EgKDEzMTLigJMxMzE3KVwiLFwiQnVucMWNICgxMzE34oCTMTMxOSlcIixcIkdlbsWNICgxMzE54oCTMTMyMSlcIixcIkdlbmvFjSAoMTMyMeKAkzEzMjQpXCIsXCJTaMWNY2jFqyAoMTMyNOKAkzEzMjYpXCIsXCJLYXJ5YWt1ICgxMzI24oCTMTMyOSlcIixcIkdlbnRva3UgKDEzMjnigJMxMzMxKVwiLFwiR2Vua8WNICgxMzMx4oCTMTMzNClcIixcIktlbm11ICgxMzM04oCTMTMzNilcIixcIkVuZ2VuICgxMzM24oCTMTM0MClcIixcIkvFjWtva3UgKDEzNDDigJMxMzQ2KVwiLFwiU2jFjWhlaSAoMTM0NuKAkzEzNzApXCIsXCJLZW50b2t1ICgxMzcw4oCTMTM3MilcIixcIkJ1bmNoxasgKDEzNzLigJMxMzc1KVwiLFwiVGVuanUgKDEzNzXigJMxMzc5KVwiLFwiS8WNcnlha3UgKDEzNznigJMxMzgxKVwiLFwiS8WNd2EgKDEzODHigJMxMzg0KVwiLFwiR2VuY2jFqyAoMTM4NOKAkzEzOTIpXCIsXCJNZWl0b2t1ICgxMzg04oCTMTM4NylcIixcIktha2VpICgxMzg34oCTMTM4OSlcIixcIkvFjcWNICgxMzg54oCTMTM5MClcIixcIk1laXRva3UgKDEzOTDigJMxMzk0KVwiLFwixYxlaSAoMTM5NOKAkzE0MjgpXCIsXCJTaMWNY2jFjSAoMTQyOOKAkzE0MjkpXCIsXCJFaWt5xY0gKDE0MjnigJMxNDQxKVwiLFwiS2FraXRzdSAoMTQ0MeKAkzE0NDQpXCIsXCJCdW7igJlhbiAoMTQ0NOKAkzE0NDkpXCIsXCJIxY10b2t1ICgxNDQ54oCTMTQ1MilcIixcIkt5xY10b2t1ICgxNDUy4oCTMTQ1NSlcIixcIkvFjXNoxY0gKDE0NTXigJMxNDU3KVwiLFwiQ2jFjXJva3UgKDE0NTfigJMxNDYwKVwiLFwiS2Fuc2jFjSAoMTQ2MOKAkzE0NjYpXCIsXCJCdW5zaMWNICgxNDY24oCTMTQ2NylcIixcIsWMbmluICgxNDY34oCTMTQ2OSlcIixcIkJ1bm1laSAoMTQ2OeKAkzE0ODcpXCIsXCJDaMWNa3nFjSAoMTQ4N+KAkzE0ODkpXCIsXCJFbnRva3UgKDE0ODnigJMxNDkyKVwiLFwiTWVpxY0gKDE0OTLigJMxNTAxKVwiLFwiQnVua2kgKDE1MDHigJMxNTA0KVwiLFwiRWlzaMWNICgxNTA04oCTMTUyMSlcIixcIlRhaWVpICgxNTIx4oCTMTUyOClcIixcIkt5xY1yb2t1ICgxNTI44oCTMTUzMilcIixcIlRlbmJ1biAoMTUzMuKAkzE1NTUpXCIsXCJLxY1qaSAoMTU1NeKAkzE1NTgpXCIsXCJFaXJva3UgKDE1NTjigJMxNTcwKVwiLFwiR2Vua2kgKDE1NzDigJMxNTczKVwiLFwiVGVuc2jFjSAoMTU3M+KAkzE1OTIpXCIsXCJCdW5yb2t1ICgxNTky4oCTMTU5NilcIixcIktlaWNoxY0gKDE1OTbigJMxNjE1KVwiLFwiR2VubmEgKDE2MTXigJMxNjI0KVwiLFwiS2Fu4oCZZWkgKDE2MjTigJMxNjQ0KVwiLFwiU2jFjWhvICgxNjQ04oCTMTY0OClcIixcIktlaWFuICgxNjQ44oCTMTY1MilcIixcIkrFjcWNICgxNjUy4oCTMTY1NSlcIixcIk1laXJla2kgKDE2NTXigJMxNjU4KVwiLFwiTWFuamkgKDE2NTjigJMxNjYxKVwiLFwiS2FuYnVuICgxNjYx4oCTMTY3MylcIixcIkVucMWNICgxNjcz4oCTMTY4MSlcIixcIlRlbm5hICgxNjgx4oCTMTY4NClcIixcIkrFjWt5xY0gKDE2ODTigJMxNjg4KVwiLFwiR2Vucm9rdSAoMTY4OOKAkzE3MDQpXCIsXCJIxY1laSAoMTcwNOKAkzE3MTEpXCIsXCJTaMWNdG9rdSAoMTcxMeKAkzE3MTYpXCIsXCJLecWNaMWNICgxNzE24oCTMTczNilcIixcIkdlbmJ1biAoMTczNuKAkzE3NDEpXCIsXCJLYW5wxY0gKDE3NDHigJMxNzQ0KVwiLFwiRW5recWNICgxNzQ04oCTMTc0OClcIixcIkthbuKAmWVuICgxNzQ44oCTMTc1MSlcIixcIkjFjXJla2kgKDE3NTHigJMxNzY0KVwiLFwiTWVpd2EgKDE3NjTigJMxNzcyKVwiLFwiQW7igJllaSAoMTc3MuKAkzE3ODEpXCIsXCJUZW5tZWkgKDE3ODHigJMxNzg5KVwiLFwiS2Fuc2VpICgxNzg54oCTMTgwMSlcIixcIkt5xY13YSAoMTgwMeKAkzE4MDQpXCIsXCJCdW5rYSAoMTgwNOKAkzE4MTgpXCIsXCJCdW5zZWkgKDE4MTjigJMxODMwKVwiLFwiVGVucMWNICgxODMw4oCTMTg0NClcIixcIkvFjWthICgxODQ04oCTMTg0OClcIixcIkthZWkgKDE4NDjigJMxODU0KVwiLFwiQW5zZWkgKDE4NTTigJMxODYwKVwiLFwiTWFu4oCZZW4gKDE4NjDigJMxODYxKVwiLFwiQnVua3nFqyAoMTg2MeKAkzE4NjQpXCIsXCJHZW5qaSAoMTg2NOKAkzE4NjUpXCIsXCJLZWnFjSAoMTg2NeKAkzE4NjgpXCIsXCJNZWlqaVwiLFwiVGFpc2jFjVwiLFwiU2jFjXdhXCIsXCJIZWlzZWlcIl19LGRheVBlcmlvZHM6e2FtOlwiQU1cIixwbTpcIlBNXCJ9fSxwZXJzaWFuOnttb250aHM6e25hcnJvdzpbXCIxXCIsXCIyXCIsXCIzXCIsXCI0XCIsXCI1XCIsXCI2XCIsXCI3XCIsXCI4XCIsXCI5XCIsXCIxMFwiLFwiMTFcIixcIjEyXCJdLHNob3J0OltcIkZhcnZhcmRpblwiLFwiT3JkaWJlaGVzaHRcIixcIktob3JkYWRcIixcIlRpclwiLFwiTW9yZGFkXCIsXCJTaGFocml2YXJcIixcIk1laHJcIixcIkFiYW5cIixcIkF6YXJcIixcIkRleVwiLFwiQmFobWFuXCIsXCJFc2ZhbmRcIl0sbG9uZzpbXCJGYXJ2YXJkaW5cIixcIk9yZGliZWhlc2h0XCIsXCJLaG9yZGFkXCIsXCJUaXJcIixcIk1vcmRhZFwiLFwiU2hhaHJpdmFyXCIsXCJNZWhyXCIsXCJBYmFuXCIsXCJBemFyXCIsXCJEZXlcIixcIkJhaG1hblwiLFwiRXNmYW5kXCJdfSxkYXlzOntuYXJyb3c6W1wiU1wiLFwiTVwiLFwiVFwiLFwiV1wiLFwiVFwiLFwiRlwiLFwiU1wiXSxzaG9ydDpbXCJTdW5cIixcIk1vblwiLFwiVHVlXCIsXCJXZWRcIixcIlRodVwiLFwiRnJpXCIsXCJTYXRcIl0sbG9uZzpbXCJTdW5kYXlcIixcIk1vbmRheVwiLFwiVHVlc2RheVwiLFwiV2VkbmVzZGF5XCIsXCJUaHVyc2RheVwiLFwiRnJpZGF5XCIsXCJTYXR1cmRheVwiXX0sZXJhczp7bmFycm93OltcIkFQXCJdLHNob3J0OltcIkFQXCJdLGxvbmc6W1wiQVBcIl19LGRheVBlcmlvZHM6e2FtOlwiQU1cIixwbTpcIlBNXCJ9fSxyb2M6e21vbnRoczp7bmFycm93OltcIkpcIixcIkZcIixcIk1cIixcIkFcIixcIk1cIixcIkpcIixcIkpcIixcIkFcIixcIlNcIixcIk9cIixcIk5cIixcIkRcIl0sc2hvcnQ6W1wiSmFuXCIsXCJGZWJcIixcIk1hclwiLFwiQXByXCIsXCJNYXlcIixcIkp1blwiLFwiSnVsXCIsXCJBdWdcIixcIlNlcFwiLFwiT2N0XCIsXCJOb3ZcIixcIkRlY1wiXSxsb25nOltcIkphbnVhcnlcIixcIkZlYnJ1YXJ5XCIsXCJNYXJjaFwiLFwiQXByaWxcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVndXN0XCIsXCJTZXB0ZW1iZXJcIixcIk9jdG9iZXJcIixcIk5vdmVtYmVyXCIsXCJEZWNlbWJlclwiXX0sZGF5czp7bmFycm93OltcIlNcIixcIk1cIixcIlRcIixcIldcIixcIlRcIixcIkZcIixcIlNcIl0sc2hvcnQ6W1wiU3VuXCIsXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCJdLGxvbmc6W1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl19LGVyYXM6e25hcnJvdzpbXCJCZWZvcmUgUi5PLkMuXCIsXCJNaW5ndW9cIl0sc2hvcnQ6W1wiQmVmb3JlIFIuTy5DLlwiLFwiTWluZ3VvXCJdLGxvbmc6W1wiQmVmb3JlIFIuTy5DLlwiLFwiTWluZ3VvXCJdfSxkYXlQZXJpb2RzOnthbTpcIkFNXCIscG06XCJQTVwifX19fSxudW1iZXI6e251OltcImxhdG5cIl0scGF0dGVybnM6e2RlY2ltYWw6e3Bvc2l0aXZlUGF0dGVybjpcIntudW1iZXJ9XCIsbmVnYXRpdmVQYXR0ZXJuOlwie21pbnVzU2lnbn17bnVtYmVyfVwifSxjdXJyZW5jeTp7cG9zaXRpdmVQYXR0ZXJuOlwie2N1cnJlbmN5fXtudW1iZXJ9XCIsbmVnYXRpdmVQYXR0ZXJuOlwie21pbnVzU2lnbn17Y3VycmVuY3l9e251bWJlcn1cIn0scGVyY2VudDp7cG9zaXRpdmVQYXR0ZXJuOlwie251bWJlcn17cGVyY2VudFNpZ259XCIsbmVnYXRpdmVQYXR0ZXJuOlwie21pbnVzU2lnbn17bnVtYmVyfXtwZXJjZW50U2lnbn1cIn19LHN5bWJvbHM6e2xhdG46e2RlY2ltYWw6XCIuXCIsZ3JvdXA6XCIsXCIsbmFuOlwiTmFOXCIscGx1c1NpZ246XCIrXCIsbWludXNTaWduOlwiLVwiLHBlcmNlbnRTaWduOlwiJVwiLGluZmluaXR5Olwi4oieXCJ9fSxjdXJyZW5jaWVzOntBVUQ6XCJBJFwiLEJSTDpcIlIkXCIsQ0FEOlwiQ0EkXCIsQ05ZOlwiQ07CpVwiLEVVUjpcIuKCrFwiLEdCUDpcIsKjXCIsSEtEOlwiSEskXCIsSUxTOlwi4oKqXCIsSU5SOlwi4oK5XCIsSlBZOlwiwqVcIixLUlc6XCLigqlcIixNWE46XCJNWCRcIixOWkQ6XCJOWiRcIixUV0Q6XCJOVCRcIixVU0Q6XCIkXCIsVk5EOlwi4oKrXCIsWEFGOlwiRkNGQVwiLFhDRDpcIkVDJFwiLFhPRjpcIkNGQVwiLFhQRjpcIkNGUEZcIn19fSk7IiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIi8vIHZpbTp0cz00OnN0cz00OnN3PTQ6XG4vKiFcbiAqXG4gKiBDb3B5cmlnaHQgMjAwOS0yMDE3IEtyaXMgS293YWwgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVRcbiAqIGxpY2Vuc2UgZm91bmQgYXQgaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL2Jsb2IvdjEvTElDRU5TRVxuICpcbiAqIFdpdGggcGFydHMgYnkgVHlsZXIgQ2xvc2VcbiAqIENvcHlyaWdodCAyMDA3LTIwMDkgVHlsZXIgQ2xvc2UgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBNSVQgWCBsaWNlbnNlIGZvdW5kXG4gKiBhdCBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLmh0bWxcbiAqIEZvcmtlZCBhdCByZWZfc2VuZC5qcyB2ZXJzaW9uOiAyMDA5LTA1LTExXG4gKlxuICogV2l0aCBwYXJ0cyBieSBNYXJrIE1pbGxlclxuICogQ29weXJpZ2h0IChDKSAyMDExIEdvb2dsZSBJbmMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5cbihmdW5jdGlvbiAoZGVmaW5pdGlvbikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgLy8gVGhpcyBmaWxlIHdpbGwgZnVuY3Rpb24gcHJvcGVybHkgYXMgYSA8c2NyaXB0PiB0YWcsIG9yIGEgbW9kdWxlXG4gICAgLy8gdXNpbmcgQ29tbW9uSlMgYW5kIE5vZGVKUyBvciBSZXF1aXJlSlMgbW9kdWxlIGZvcm1hdHMuICBJblxuICAgIC8vIENvbW1vbi9Ob2RlL1JlcXVpcmVKUywgdGhlIG1vZHVsZSBleHBvcnRzIHRoZSBRIEFQSSBhbmQgd2hlblxuICAgIC8vIGV4ZWN1dGVkIGFzIGEgc2ltcGxlIDxzY3JpcHQ+LCBpdCBjcmVhdGVzIGEgUSBnbG9iYWwgaW5zdGVhZC5cblxuICAgIC8vIE1vbnRhZ2UgUmVxdWlyZVxuICAgIGlmICh0eXBlb2YgYm9vdHN0cmFwID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgYm9vdHN0cmFwKFwicHJvbWlzZVwiLCBkZWZpbml0aW9uKTtcblxuICAgIC8vIENvbW1vbkpTXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZGVmaW5pdGlvbigpO1xuXG4gICAgLy8gUmVxdWlyZUpTXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoZGVmaW5pdGlvbik7XG5cbiAgICAvLyBTRVMgKFNlY3VyZSBFY21hU2NyaXB0KVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNlcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAoIXNlcy5vaygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXMubWFrZVEgPSBkZWZpbml0aW9uO1xuICAgICAgICB9XG5cbiAgICAvLyA8c2NyaXB0PlxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAvLyBQcmVmZXIgd2luZG93IG92ZXIgc2VsZiBmb3IgYWRkLW9uIHNjcmlwdHMuIFVzZSBzZWxmIGZvclxuICAgICAgICAvLyBub24td2luZG93ZWQgY29udGV4dHMuXG4gICAgICAgIHZhciBnbG9iYWwgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogc2VsZjtcblxuICAgICAgICAvLyBHZXQgdGhlIGB3aW5kb3dgIG9iamVjdCwgc2F2ZSB0aGUgcHJldmlvdXMgUSBnbG9iYWxcbiAgICAgICAgLy8gYW5kIGluaXRpYWxpemUgUSBhcyBhIGdsb2JhbC5cbiAgICAgICAgdmFyIHByZXZpb3VzUSA9IGdsb2JhbC5RO1xuICAgICAgICBnbG9iYWwuUSA9IGRlZmluaXRpb24oKTtcblxuICAgICAgICAvLyBBZGQgYSBub0NvbmZsaWN0IGZ1bmN0aW9uIHNvIFEgY2FuIGJlIHJlbW92ZWQgZnJvbSB0aGVcbiAgICAgICAgLy8gZ2xvYmFsIG5hbWVzcGFjZS5cbiAgICAgICAgZ2xvYmFsLlEubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGdsb2JhbC5RID0gcHJldmlvdXNRO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGVudmlyb25tZW50IHdhcyBub3QgYW50aWNpcGF0ZWQgYnkgUS4gUGxlYXNlIGZpbGUgYSBidWcuXCIpO1xuICAgIH1cblxufSkoZnVuY3Rpb24gKCkge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBoYXNTdGFja3MgPSBmYWxzZTtcbnRyeSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCk7XG59IGNhdGNoIChlKSB7XG4gICAgaGFzU3RhY2tzID0gISFlLnN0YWNrO1xufVxuXG4vLyBBbGwgY29kZSBhZnRlciB0aGlzIHBvaW50IHdpbGwgYmUgZmlsdGVyZWQgZnJvbSBzdGFjayB0cmFjZXMgcmVwb3J0ZWRcbi8vIGJ5IFEuXG52YXIgcVN0YXJ0aW5nTGluZSA9IGNhcHR1cmVMaW5lKCk7XG52YXIgcUZpbGVOYW1lO1xuXG4vLyBzaGltc1xuXG4vLyB1c2VkIGZvciBmYWxsYmFjayBpbiBcImFsbFJlc29sdmVkXCJcbnZhciBub29wID0gZnVuY3Rpb24gKCkge307XG5cbi8vIFVzZSB0aGUgZmFzdGVzdCBwb3NzaWJsZSBtZWFucyB0byBleGVjdXRlIGEgdGFzayBpbiBhIGZ1dHVyZSB0dXJuXG4vLyBvZiB0aGUgZXZlbnQgbG9vcC5cbnZhciBuZXh0VGljayA9KGZ1bmN0aW9uICgpIHtcbiAgICAvLyBsaW5rZWQgbGlzdCBvZiB0YXNrcyAoc2luZ2xlLCB3aXRoIGhlYWQgbm9kZSlcbiAgICB2YXIgaGVhZCA9IHt0YXNrOiB2b2lkIDAsIG5leHQ6IG51bGx9O1xuICAgIHZhciB0YWlsID0gaGVhZDtcbiAgICB2YXIgZmx1c2hpbmcgPSBmYWxzZTtcbiAgICB2YXIgcmVxdWVzdFRpY2sgPSB2b2lkIDA7XG4gICAgdmFyIGlzTm9kZUpTID0gZmFsc2U7XG4gICAgLy8gcXVldWUgZm9yIGxhdGUgdGFza3MsIHVzZWQgYnkgdW5oYW5kbGVkIHJlamVjdGlvbiB0cmFja2luZ1xuICAgIHZhciBsYXRlclF1ZXVlID0gW107XG5cbiAgICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICAgICAgLyoganNoaW50IGxvb3BmdW5jOiB0cnVlICovXG4gICAgICAgIHZhciB0YXNrLCBkb21haW47XG5cbiAgICAgICAgd2hpbGUgKGhlYWQubmV4dCkge1xuICAgICAgICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgICAgICAgIHRhc2sgPSBoZWFkLnRhc2s7XG4gICAgICAgICAgICBoZWFkLnRhc2sgPSB2b2lkIDA7XG4gICAgICAgICAgICBkb21haW4gPSBoZWFkLmRvbWFpbjtcblxuICAgICAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgICAgICAgIGhlYWQuZG9tYWluID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGRvbWFpbi5lbnRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVuU2luZ2xlKHRhc2ssIGRvbWFpbik7XG5cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAobGF0ZXJRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRhc2sgPSBsYXRlclF1ZXVlLnBvcCgpO1xuICAgICAgICAgICAgcnVuU2luZ2xlKHRhc2spO1xuICAgICAgICB9XG4gICAgICAgIGZsdXNoaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIHJ1bnMgYSBzaW5nbGUgZnVuY3Rpb24gaW4gdGhlIGFzeW5jIHF1ZXVlXG4gICAgZnVuY3Rpb24gcnVuU2luZ2xlKHRhc2ssIGRvbWFpbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGFzaygpO1xuXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChpc05vZGVKUykge1xuICAgICAgICAgICAgICAgIC8vIEluIG5vZGUsIHVuY2F1Z2h0IGV4Y2VwdGlvbnMgYXJlIGNvbnNpZGVyZWQgZmF0YWwgZXJyb3JzLlxuICAgICAgICAgICAgICAgIC8vIFJlLXRocm93IHRoZW0gc3luY2hyb25vdXNseSB0byBpbnRlcnJ1cHQgZmx1c2hpbmchXG5cbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgY29udGludWF0aW9uIGlmIHRoZSB1bmNhdWdodCBleGNlcHRpb24gaXMgc3VwcHJlc3NlZFxuICAgICAgICAgICAgICAgIC8vIGxpc3RlbmluZyBcInVuY2F1Z2h0RXhjZXB0aW9uXCIgZXZlbnRzIChhcyBkb21haW5zIGRvZXMpLlxuICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIGluIG5leHQgZXZlbnQgdG8gYXZvaWQgdGljayByZWN1cnNpb24uXG4gICAgICAgICAgICAgICAgaWYgKGRvbWFpbikge1xuICAgICAgICAgICAgICAgICAgICBkb21haW4uZXhpdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZsdXNoLCAwKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbWFpbi5lbnRlcigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRocm93IGU7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gYnJvd3NlcnMsIHVuY2F1Z2h0IGV4Y2VwdGlvbnMgYXJlIG5vdCBmYXRhbC5cbiAgICAgICAgICAgICAgICAvLyBSZS10aHJvdyB0aGVtIGFzeW5jaHJvbm91c2x5IHRvIGF2b2lkIHNsb3ctZG93bnMuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9tYWluKSB7XG4gICAgICAgICAgICBkb21haW4uZXhpdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmV4dFRpY2sgPSBmdW5jdGlvbiAodGFzaykge1xuICAgICAgICB0YWlsID0gdGFpbC5uZXh0ID0ge1xuICAgICAgICAgICAgdGFzazogdGFzayxcbiAgICAgICAgICAgIGRvbWFpbjogaXNOb2RlSlMgJiYgcHJvY2Vzcy5kb21haW4sXG4gICAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCFmbHVzaGluZykge1xuICAgICAgICAgICAgZmx1c2hpbmcgPSB0cnVlO1xuICAgICAgICAgICAgcmVxdWVzdFRpY2soKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgcHJvY2Vzcy50b1N0cmluZygpID09PSBcIltvYmplY3QgcHJvY2Vzc11cIiAmJiBwcm9jZXNzLm5leHRUaWNrKSB7XG4gICAgICAgIC8vIEVuc3VyZSBRIGlzIGluIGEgcmVhbCBOb2RlIGVudmlyb25tZW50LCB3aXRoIGEgYHByb2Nlc3MubmV4dFRpY2tgLlxuICAgICAgICAvLyBUbyBzZWUgdGhyb3VnaCBmYWtlIE5vZGUgZW52aXJvbm1lbnRzOlxuICAgICAgICAvLyAqIE1vY2hhIHRlc3QgcnVubmVyIC0gZXhwb3NlcyBhIGBwcm9jZXNzYCBnbG9iYWwgd2l0aG91dCBhIGBuZXh0VGlja2BcbiAgICAgICAgLy8gKiBCcm93c2VyaWZ5IC0gZXhwb3NlcyBhIGBwcm9jZXNzLm5leFRpY2tgIGZ1bmN0aW9uIHRoYXQgdXNlc1xuICAgICAgICAvLyAgIGBzZXRUaW1lb3V0YC4gSW4gdGhpcyBjYXNlIGBzZXRJbW1lZGlhdGVgIGlzIHByZWZlcnJlZCBiZWNhdXNlXG4gICAgICAgIC8vICAgIGl0IGlzIGZhc3Rlci4gQnJvd3NlcmlmeSdzIGBwcm9jZXNzLnRvU3RyaW5nKClgIHlpZWxkc1xuICAgICAgICAvLyAgIFwiW29iamVjdCBPYmplY3RdXCIsIHdoaWxlIGluIGEgcmVhbCBOb2RlIGVudmlyb25tZW50XG4gICAgICAgIC8vICAgYHByb2Nlc3MudG9TdHJpbmcoKWAgeWllbGRzIFwiW29iamVjdCBwcm9jZXNzXVwiLlxuICAgICAgICBpc05vZGVKUyA9IHRydWU7XG5cbiAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICAgICAgfTtcblxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIC8vIEluIElFMTAsIE5vZGUuanMgMC45Kywgb3IgaHR0cHM6Ly9naXRodWIuY29tL05vYmxlSlMvc2V0SW1tZWRpYXRlXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXF1ZXN0VGljayA9IHNldEltbWVkaWF0ZS5iaW5kKHdpbmRvdywgZmx1c2gpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGZsdXNoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAodHlwZW9mIE1lc3NhZ2VDaGFubmVsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIC8vIG1vZGVybiBicm93c2Vyc1xuICAgICAgICAvLyBodHRwOi8vd3d3Lm5vbmJsb2NraW5nLmlvLzIwMTEvMDYvd2luZG93bmV4dHRpY2suaHRtbFxuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICAvLyBBdCBsZWFzdCBTYWZhcmkgVmVyc2lvbiA2LjAuNSAoODUzNi4zMC4xKSBpbnRlcm1pdHRlbnRseSBjYW5ub3QgY3JlYXRlXG4gICAgICAgIC8vIHdvcmtpbmcgbWVzc2FnZSBwb3J0cyB0aGUgZmlyc3QgdGltZSBhIHBhZ2UgbG9hZHMuXG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVxdWVzdFRpY2sgPSByZXF1ZXN0UG9ydFRpY2s7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZsdXNoO1xuICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJlcXVlc3RQb3J0VGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIE9wZXJhIHJlcXVpcmVzIHVzIHRvIHByb3ZpZGUgYSBtZXNzYWdlIHBheWxvYWQsIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgICAgICAgIC8vIHdoZXRoZXIgd2UgdXNlIGl0LlxuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZsdXNoLCAwKTtcbiAgICAgICAgICAgIHJlcXVlc3RQb3J0VGljaygpO1xuICAgICAgICB9O1xuXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gb2xkIGJyb3dzZXJzXG4gICAgICAgIHJlcXVlc3RUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmbHVzaCwgMCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIHJ1bnMgYSB0YXNrIGFmdGVyIGFsbCBvdGhlciB0YXNrcyBoYXZlIGJlZW4gcnVuXG4gICAgLy8gdGhpcyBpcyB1c2VmdWwgZm9yIHVuaGFuZGxlZCByZWplY3Rpb24gdHJhY2tpbmcgdGhhdCBuZWVkcyB0byBoYXBwZW5cbiAgICAvLyBhZnRlciBhbGwgYHRoZW5gZCB0YXNrcyBoYXZlIGJlZW4gcnVuLlxuICAgIG5leHRUaWNrLnJ1bkFmdGVyID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgbGF0ZXJRdWV1ZS5wdXNoKHRhc2spO1xuICAgICAgICBpZiAoIWZsdXNoaW5nKSB7XG4gICAgICAgICAgICBmbHVzaGluZyA9IHRydWU7XG4gICAgICAgICAgICByZXF1ZXN0VGljaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gbmV4dFRpY2s7XG59KSgpO1xuXG4vLyBBdHRlbXB0IHRvIG1ha2UgZ2VuZXJpY3Mgc2FmZSBpbiB0aGUgZmFjZSBvZiBkb3duc3RyZWFtXG4vLyBtb2RpZmljYXRpb25zLlxuLy8gVGhlcmUgaXMgbm8gc2l0dWF0aW9uIHdoZXJlIHRoaXMgaXMgbmVjZXNzYXJ5LlxuLy8gSWYgeW91IG5lZWQgYSBzZWN1cml0eSBndWFyYW50ZWUsIHRoZXNlIHByaW1vcmRpYWxzIG5lZWQgdG8gYmVcbi8vIGRlZXBseSBmcm96ZW4gYW55d2F5LCBhbmQgaWYgeW91IGRvbuKAmXQgbmVlZCBhIHNlY3VyaXR5IGd1YXJhbnRlZSxcbi8vIHRoaXMgaXMganVzdCBwbGFpbiBwYXJhbm9pZC5cbi8vIEhvd2V2ZXIsIHRoaXMgKiptaWdodCoqIGhhdmUgdGhlIG5pY2Ugc2lkZS1lZmZlY3Qgb2YgcmVkdWNpbmcgdGhlIHNpemUgb2Zcbi8vIHRoZSBtaW5pZmllZCBjb2RlIGJ5IHJlZHVjaW5nIHguY2FsbCgpIHRvIG1lcmVseSB4KClcbi8vIFNlZSBNYXJrIE1pbGxlcuKAmXMgZXhwbGFuYXRpb24gb2Ygd2hhdCB0aGlzIGRvZXMuXG4vLyBodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1jb252ZW50aW9uczpzYWZlX21ldGFfcHJvZ3JhbW1pbmdcbnZhciBjYWxsID0gRnVuY3Rpb24uY2FsbDtcbmZ1bmN0aW9uIHVuY3VycnlUaGlzKGYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2FsbC5hcHBseShmLCBhcmd1bWVudHMpO1xuICAgIH07XG59XG4vLyBUaGlzIGlzIGVxdWl2YWxlbnQsIGJ1dCBzbG93ZXI6XG4vLyB1bmN1cnJ5VGhpcyA9IEZ1bmN0aW9uX2JpbmQuYmluZChGdW5jdGlvbl9iaW5kLmNhbGwpO1xuLy8gaHR0cDovL2pzcGVyZi5jb20vdW5jdXJyeXRoaXNcblxudmFyIGFycmF5X3NsaWNlID0gdW5jdXJyeVRoaXMoQXJyYXkucHJvdG90eXBlLnNsaWNlKTtcblxudmFyIGFycmF5X3JlZHVjZSA9IHVuY3VycnlUaGlzKFxuICAgIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgfHwgZnVuY3Rpb24gKGNhbGxiYWNrLCBiYXNpcykge1xuICAgICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5sZW5ndGg7XG4gICAgICAgIC8vIGNvbmNlcm5pbmcgdGhlIGluaXRpYWwgdmFsdWUsIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIC8vIHNlZWsgdG8gdGhlIGZpcnN0IHZhbHVlIGluIHRoZSBhcnJheSwgYWNjb3VudGluZ1xuICAgICAgICAgICAgLy8gZm9yIHRoZSBwb3NzaWJpbGl0eSB0aGF0IGlzIGlzIGEgc3BhcnNlIGFycmF5XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4IGluIHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFzaXMgPSB0aGlzW2luZGV4KytdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCsraW5kZXggPj0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlICgxKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWR1Y2VcbiAgICAgICAgZm9yICg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAvLyBhY2NvdW50IGZvciB0aGUgcG9zc2liaWxpdHkgdGhhdCB0aGUgYXJyYXkgaXMgc3BhcnNlXG4gICAgICAgICAgICBpZiAoaW5kZXggaW4gdGhpcykge1xuICAgICAgICAgICAgICAgIGJhc2lzID0gY2FsbGJhY2soYmFzaXMsIHRoaXNbaW5kZXhdLCBpbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2lzO1xuICAgIH1cbik7XG5cbnZhciBhcnJheV9pbmRleE9mID0gdW5jdXJyeVRoaXMoXG4gICAgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgfHwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIC8vIG5vdCBhIHZlcnkgZ29vZCBzaGltLCBidXQgZ29vZCBlbm91Z2ggZm9yIG91ciBvbmUgdXNlIG9mIGl0XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbik7XG5cbnZhciBhcnJheV9tYXAgPSB1bmN1cnJ5VGhpcyhcbiAgICBBcnJheS5wcm90b3R5cGUubWFwIHx8IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc3ApIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgY29sbGVjdCA9IFtdO1xuICAgICAgICBhcnJheV9yZWR1Y2Uoc2VsZiwgZnVuY3Rpb24gKHVuZGVmaW5lZCwgdmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICBjb2xsZWN0LnB1c2goY2FsbGJhY2suY2FsbCh0aGlzcCwgdmFsdWUsIGluZGV4LCBzZWxmKSk7XG4gICAgICAgIH0sIHZvaWQgMCk7XG4gICAgICAgIHJldHVybiBjb2xsZWN0O1xuICAgIH1cbik7XG5cbnZhciBvYmplY3RfY3JlYXRlID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiAocHJvdG90eXBlKSB7XG4gICAgZnVuY3Rpb24gVHlwZSgpIHsgfVxuICAgIFR5cGUucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICAgIHJldHVybiBuZXcgVHlwZSgpO1xufTtcblxudmFyIG9iamVjdF9kZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fCBmdW5jdGlvbiAob2JqLCBwcm9wLCBkZXNjcmlwdG9yKSB7XG4gICAgb2JqW3Byb3BdID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICByZXR1cm4gb2JqO1xufTtcblxudmFyIG9iamVjdF9oYXNPd25Qcm9wZXJ0eSA9IHVuY3VycnlUaGlzKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuXG52YXIgb2JqZWN0X2tleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3RfaGFzT3duUHJvcGVydHkob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn07XG5cbnZhciBvYmplY3RfdG9TdHJpbmcgPSB1bmN1cnJ5VGhpcyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKTtcblxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IE9iamVjdCh2YWx1ZSk7XG59XG5cbi8vIGdlbmVyYXRvciByZWxhdGVkIHNoaW1zXG5cbi8vIEZJWE1FOiBSZW1vdmUgdGhpcyBmdW5jdGlvbiBvbmNlIEVTNiBnZW5lcmF0b3JzIGFyZSBpbiBTcGlkZXJNb25rZXkuXG5mdW5jdGlvbiBpc1N0b3BJdGVyYXRpb24oZXhjZXB0aW9uKSB7XG4gICAgcmV0dXJuIChcbiAgICAgICAgb2JqZWN0X3RvU3RyaW5nKGV4Y2VwdGlvbikgPT09IFwiW29iamVjdCBTdG9wSXRlcmF0aW9uXVwiIHx8XG4gICAgICAgIGV4Y2VwdGlvbiBpbnN0YW5jZW9mIFFSZXR1cm5WYWx1ZVxuICAgICk7XG59XG5cbi8vIEZJWE1FOiBSZW1vdmUgdGhpcyBoZWxwZXIgYW5kIFEucmV0dXJuIG9uY2UgRVM2IGdlbmVyYXRvcnMgYXJlIGluXG4vLyBTcGlkZXJNb25rZXkuXG52YXIgUVJldHVyblZhbHVlO1xuaWYgKHR5cGVvZiBSZXR1cm5WYWx1ZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIFFSZXR1cm5WYWx1ZSA9IFJldHVyblZhbHVlO1xufSBlbHNlIHtcbiAgICBRUmV0dXJuVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH07XG59XG5cbi8vIGxvbmcgc3RhY2sgdHJhY2VzXG5cbnZhciBTVEFDS19KVU1QX1NFUEFSQVRPUiA9IFwiRnJvbSBwcmV2aW91cyBldmVudDpcIjtcblxuZnVuY3Rpb24gbWFrZVN0YWNrVHJhY2VMb25nKGVycm9yLCBwcm9taXNlKSB7XG4gICAgLy8gSWYgcG9zc2libGUsIHRyYW5zZm9ybSB0aGUgZXJyb3Igc3RhY2sgdHJhY2UgYnkgcmVtb3ZpbmcgTm9kZSBhbmQgUVxuICAgIC8vIGNydWZ0LCB0aGVuIGNvbmNhdGVuYXRpbmcgd2l0aCB0aGUgc3RhY2sgdHJhY2Ugb2YgYHByb21pc2VgLiBTZWUgIzU3LlxuICAgIGlmIChoYXNTdGFja3MgJiZcbiAgICAgICAgcHJvbWlzZS5zdGFjayAmJlxuICAgICAgICB0eXBlb2YgZXJyb3IgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgZXJyb3IgIT09IG51bGwgJiZcbiAgICAgICAgZXJyb3Iuc3RhY2tcbiAgICApIHtcbiAgICAgICAgdmFyIHN0YWNrcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBwID0gcHJvbWlzZTsgISFwOyBwID0gcC5zb3VyY2UpIHtcbiAgICAgICAgICAgIGlmIChwLnN0YWNrICYmICghZXJyb3IuX19taW5pbXVtU3RhY2tDb3VudGVyX18gfHwgZXJyb3IuX19taW5pbXVtU3RhY2tDb3VudGVyX18gPiBwLnN0YWNrQ291bnRlcikpIHtcbiAgICAgICAgICAgICAgICBvYmplY3RfZGVmaW5lUHJvcGVydHkoZXJyb3IsIFwiX19taW5pbXVtU3RhY2tDb3VudGVyX19cIiwge3ZhbHVlOiBwLnN0YWNrQ291bnRlciwgY29uZmlndXJhYmxlOiB0cnVlfSk7XG4gICAgICAgICAgICAgICAgc3RhY2tzLnVuc2hpZnQocC5zdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2tzLnVuc2hpZnQoZXJyb3Iuc3RhY2spO1xuXG4gICAgICAgIHZhciBjb25jYXRlZFN0YWNrcyA9IHN0YWNrcy5qb2luKFwiXFxuXCIgKyBTVEFDS19KVU1QX1NFUEFSQVRPUiArIFwiXFxuXCIpO1xuICAgICAgICB2YXIgc3RhY2sgPSBmaWx0ZXJTdGFja1N0cmluZyhjb25jYXRlZFN0YWNrcyk7XG4gICAgICAgIG9iamVjdF9kZWZpbmVQcm9wZXJ0eShlcnJvciwgXCJzdGFja1wiLCB7dmFsdWU6IHN0YWNrLCBjb25maWd1cmFibGU6IHRydWV9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGZpbHRlclN0YWNrU3RyaW5nKHN0YWNrU3RyaW5nKSB7XG4gICAgdmFyIGxpbmVzID0gc3RhY2tTdHJpbmcuc3BsaXQoXCJcXG5cIik7XG4gICAgdmFyIGRlc2lyZWRMaW5lcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGxpbmUgPSBsaW5lc1tpXTtcblxuICAgICAgICBpZiAoIWlzSW50ZXJuYWxGcmFtZShsaW5lKSAmJiAhaXNOb2RlRnJhbWUobGluZSkgJiYgbGluZSkge1xuICAgICAgICAgICAgZGVzaXJlZExpbmVzLnB1c2gobGluZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlc2lyZWRMaW5lcy5qb2luKFwiXFxuXCIpO1xufVxuXG5mdW5jdGlvbiBpc05vZGVGcmFtZShzdGFja0xpbmUpIHtcbiAgICByZXR1cm4gc3RhY2tMaW5lLmluZGV4T2YoXCIobW9kdWxlLmpzOlwiKSAhPT0gLTEgfHxcbiAgICAgICAgICAgc3RhY2tMaW5lLmluZGV4T2YoXCIobm9kZS5qczpcIikgIT09IC0xO1xufVxuXG5mdW5jdGlvbiBnZXRGaWxlTmFtZUFuZExpbmVOdW1iZXIoc3RhY2tMaW5lKSB7XG4gICAgLy8gTmFtZWQgZnVuY3Rpb25zOiBcImF0IGZ1bmN0aW9uTmFtZSAoZmlsZW5hbWU6bGluZU51bWJlcjpjb2x1bW5OdW1iZXIpXCJcbiAgICAvLyBJbiBJRTEwIGZ1bmN0aW9uIG5hbWUgY2FuIGhhdmUgc3BhY2VzIChcIkFub255bW91cyBmdW5jdGlvblwiKSBPX29cbiAgICB2YXIgYXR0ZW1wdDEgPSAvYXQgLisgXFwoKC4rKTooXFxkKyk6KD86XFxkKylcXCkkLy5leGVjKHN0YWNrTGluZSk7XG4gICAgaWYgKGF0dGVtcHQxKSB7XG4gICAgICAgIHJldHVybiBbYXR0ZW1wdDFbMV0sIE51bWJlcihhdHRlbXB0MVsyXSldO1xuICAgIH1cblxuICAgIC8vIEFub255bW91cyBmdW5jdGlvbnM6IFwiYXQgZmlsZW5hbWU6bGluZU51bWJlcjpjb2x1bW5OdW1iZXJcIlxuICAgIHZhciBhdHRlbXB0MiA9IC9hdCAoW14gXSspOihcXGQrKTooPzpcXGQrKSQvLmV4ZWMoc3RhY2tMaW5lKTtcbiAgICBpZiAoYXR0ZW1wdDIpIHtcbiAgICAgICAgcmV0dXJuIFthdHRlbXB0MlsxXSwgTnVtYmVyKGF0dGVtcHQyWzJdKV07XG4gICAgfVxuXG4gICAgLy8gRmlyZWZveCBzdHlsZTogXCJmdW5jdGlvbkBmaWxlbmFtZTpsaW5lTnVtYmVyIG9yIEBmaWxlbmFtZTpsaW5lTnVtYmVyXCJcbiAgICB2YXIgYXR0ZW1wdDMgPSAvLipAKC4rKTooXFxkKykkLy5leGVjKHN0YWNrTGluZSk7XG4gICAgaWYgKGF0dGVtcHQzKSB7XG4gICAgICAgIHJldHVybiBbYXR0ZW1wdDNbMV0sIE51bWJlcihhdHRlbXB0M1syXSldO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNJbnRlcm5hbEZyYW1lKHN0YWNrTGluZSkge1xuICAgIHZhciBmaWxlTmFtZUFuZExpbmVOdW1iZXIgPSBnZXRGaWxlTmFtZUFuZExpbmVOdW1iZXIoc3RhY2tMaW5lKTtcblxuICAgIGlmICghZmlsZU5hbWVBbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZmlsZU5hbWUgPSBmaWxlTmFtZUFuZExpbmVOdW1iZXJbMF07XG4gICAgdmFyIGxpbmVOdW1iZXIgPSBmaWxlTmFtZUFuZExpbmVOdW1iZXJbMV07XG5cbiAgICByZXR1cm4gZmlsZU5hbWUgPT09IHFGaWxlTmFtZSAmJlxuICAgICAgICBsaW5lTnVtYmVyID49IHFTdGFydGluZ0xpbmUgJiZcbiAgICAgICAgbGluZU51bWJlciA8PSBxRW5kaW5nTGluZTtcbn1cblxuLy8gZGlzY292ZXIgb3duIGZpbGUgbmFtZSBhbmQgbGluZSBudW1iZXIgcmFuZ2UgZm9yIGZpbHRlcmluZyBzdGFja1xuLy8gdHJhY2VzXG5mdW5jdGlvbiBjYXB0dXJlTGluZSgpIHtcbiAgICBpZiAoIWhhc1N0YWNrcykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB2YXIgbGluZXMgPSBlLnN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICB2YXIgZmlyc3RMaW5lID0gbGluZXNbMF0uaW5kZXhPZihcIkBcIikgPiAwID8gbGluZXNbMV0gOiBsaW5lc1syXTtcbiAgICAgICAgdmFyIGZpbGVOYW1lQW5kTGluZU51bWJlciA9IGdldEZpbGVOYW1lQW5kTGluZU51bWJlcihmaXJzdExpbmUpO1xuICAgICAgICBpZiAoIWZpbGVOYW1lQW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcUZpbGVOYW1lID0gZmlsZU5hbWVBbmRMaW5lTnVtYmVyWzBdO1xuICAgICAgICByZXR1cm4gZmlsZU5hbWVBbmRMaW5lTnVtYmVyWzFdO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVwcmVjYXRlKGNhbGxiYWNrLCBuYW1lLCBhbHRlcm5hdGl2ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJlxuICAgICAgICAgICAgdHlwZW9mIGNvbnNvbGUud2FybiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4obmFtZSArIFwiIGlzIGRlcHJlY2F0ZWQsIHVzZSBcIiArIGFsdGVybmF0aXZlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICBcIiBpbnN0ZWFkLlwiLCBuZXcgRXJyb3IoXCJcIikuc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseShjYWxsYmFjaywgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vLyBlbmQgb2Ygc2hpbXNcbi8vIGJlZ2lubmluZyBvZiByZWFsIHdvcmtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgcHJvbWlzZSBmb3IgYW4gaW1tZWRpYXRlIHJlZmVyZW5jZSwgcGFzc2VzIHByb21pc2VzIHRocm91Z2gsIG9yXG4gKiBjb2VyY2VzIHByb21pc2VzIGZyb20gZGlmZmVyZW50IHN5c3RlbXMuXG4gKiBAcGFyYW0gdmFsdWUgaW1tZWRpYXRlIHJlZmVyZW5jZSBvciBwcm9taXNlXG4gKi9cbmZ1bmN0aW9uIFEodmFsdWUpIHtcbiAgICAvLyBJZiB0aGUgb2JqZWN0IGlzIGFscmVhZHkgYSBQcm9taXNlLCByZXR1cm4gaXQgZGlyZWN0bHkuICBUaGlzIGVuYWJsZXNcbiAgICAvLyB0aGUgcmVzb2x2ZSBmdW5jdGlvbiB0byBib3RoIGJlIHVzZWQgdG8gY3JlYXRlZCByZWZlcmVuY2VzIGZyb20gb2JqZWN0cyxcbiAgICAvLyBidXQgdG8gdG9sZXJhYmx5IGNvZXJjZSBub24tcHJvbWlzZXMgdG8gcHJvbWlzZXMuXG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLy8gYXNzaW1pbGF0ZSB0aGVuYWJsZXNcbiAgICBpZiAoaXNQcm9taXNlQWxpa2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBjb2VyY2UodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmdWxmaWxsKHZhbHVlKTtcbiAgICB9XG59XG5RLnJlc29sdmUgPSBRO1xuXG4vKipcbiAqIFBlcmZvcm1zIGEgdGFzayBpbiBhIGZ1dHVyZSB0dXJuIG9mIHRoZSBldmVudCBsb29wLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdGFza1xuICovXG5RLm5leHRUaWNrID0gbmV4dFRpY2s7XG5cbi8qKlxuICogQ29udHJvbHMgd2hldGhlciBvciBub3QgbG9uZyBzdGFjayB0cmFjZXMgd2lsbCBiZSBvblxuICovXG5RLmxvbmdTdGFja1N1cHBvcnQgPSBmYWxzZTtcblxuLyoqXG4gKiBUaGUgY291bnRlciBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgc3RvcHBpbmcgcG9pbnQgZm9yIGJ1aWxkaW5nXG4gKiBsb25nIHN0YWNrIHRyYWNlcy4gSW4gbWFrZVN0YWNrVHJhY2VMb25nIHdlIHdhbGsgYmFja3dhcmRzIHRocm91Z2hcbiAqIHRoZSBsaW5rZWQgbGlzdCBvZiBwcm9taXNlcywgb25seSBzdGFja3Mgd2hpY2ggd2VyZSBjcmVhdGVkIGJlZm9yZVxuICogdGhlIHJlamVjdGlvbiBhcmUgY29uY2F0ZW5hdGVkLlxuICovXG52YXIgbG9uZ1N0YWNrQ291bnRlciA9IDE7XG5cbi8vIGVuYWJsZSBsb25nIHN0YWNrcyBpZiBRX0RFQlVHIGlzIHNldFxuaWYgKHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MgJiYgcHJvY2Vzcy5lbnYgJiYgcHJvY2Vzcy5lbnYuUV9ERUJVRykge1xuICAgIFEubG9uZ1N0YWNrU3VwcG9ydCA9IHRydWU7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIHtwcm9taXNlLCByZXNvbHZlLCByZWplY3R9IG9iamVjdC5cbiAqXG4gKiBgcmVzb2x2ZWAgaXMgYSBjYWxsYmFjayB0byBpbnZva2Ugd2l0aCBhIG1vcmUgcmVzb2x2ZWQgdmFsdWUgZm9yIHRoZVxuICogcHJvbWlzZS4gVG8gZnVsZmlsbCB0aGUgcHJvbWlzZSwgaW52b2tlIGByZXNvbHZlYCB3aXRoIGFueSB2YWx1ZSB0aGF0IGlzXG4gKiBub3QgYSB0aGVuYWJsZS4gVG8gcmVqZWN0IHRoZSBwcm9taXNlLCBpbnZva2UgYHJlc29sdmVgIHdpdGggYSByZWplY3RlZFxuICogdGhlbmFibGUsIG9yIGludm9rZSBgcmVqZWN0YCB3aXRoIHRoZSByZWFzb24gZGlyZWN0bHkuIFRvIHJlc29sdmUgdGhlXG4gKiBwcm9taXNlIHRvIGFub3RoZXIgdGhlbmFibGUsIHRodXMgcHV0dGluZyBpdCBpbiB0aGUgc2FtZSBzdGF0ZSwgaW52b2tlXG4gKiBgcmVzb2x2ZWAgd2l0aCB0aGF0IG90aGVyIHRoZW5hYmxlLlxuICovXG5RLmRlZmVyID0gZGVmZXI7XG5mdW5jdGlvbiBkZWZlcigpIHtcbiAgICAvLyBpZiBcIm1lc3NhZ2VzXCIgaXMgYW4gXCJBcnJheVwiLCB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBwcm9taXNlIGhhcyBub3QgeWV0XG4gICAgLy8gYmVlbiByZXNvbHZlZC4gIElmIGl0IGlzIFwidW5kZWZpbmVkXCIsIGl0IGhhcyBiZWVuIHJlc29sdmVkLiAgRWFjaFxuICAgIC8vIGVsZW1lbnQgb2YgdGhlIG1lc3NhZ2VzIGFycmF5IGlzIGl0c2VsZiBhbiBhcnJheSBvZiBjb21wbGV0ZSBhcmd1bWVudHMgdG9cbiAgICAvLyBmb3J3YXJkIHRvIHRoZSByZXNvbHZlZCBwcm9taXNlLiAgV2UgY29lcmNlIHRoZSByZXNvbHV0aW9uIHZhbHVlIHRvIGFcbiAgICAvLyBwcm9taXNlIHVzaW5nIHRoZSBgcmVzb2x2ZWAgZnVuY3Rpb24gYmVjYXVzZSBpdCBoYW5kbGVzIGJvdGggZnVsbHlcbiAgICAvLyBub24tdGhlbmFibGUgdmFsdWVzIGFuZCBvdGhlciB0aGVuYWJsZXMgZ3JhY2VmdWxseS5cbiAgICB2YXIgbWVzc2FnZXMgPSBbXSwgcHJvZ3Jlc3NMaXN0ZW5lcnMgPSBbXSwgcmVzb2x2ZWRQcm9taXNlO1xuXG4gICAgdmFyIGRlZmVycmVkID0gb2JqZWN0X2NyZWF0ZShkZWZlci5wcm90b3R5cGUpO1xuICAgIHZhciBwcm9taXNlID0gb2JqZWN0X2NyZWF0ZShQcm9taXNlLnByb3RvdHlwZSk7XG5cbiAgICBwcm9taXNlLnByb21pc2VEaXNwYXRjaCA9IGZ1bmN0aW9uIChyZXNvbHZlLCBvcCwgb3BlcmFuZHMpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMpO1xuICAgICAgICBpZiAobWVzc2FnZXMpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VzLnB1c2goYXJncyk7XG4gICAgICAgICAgICBpZiAob3AgPT09IFwid2hlblwiICYmIG9wZXJhbmRzWzFdKSB7IC8vIHByb2dyZXNzIG9wZXJhbmRcbiAgICAgICAgICAgICAgICBwcm9ncmVzc0xpc3RlbmVycy5wdXNoKG9wZXJhbmRzWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVkUHJvbWlzZS5wcm9taXNlRGlzcGF0Y2guYXBwbHkocmVzb2x2ZWRQcm9taXNlLCBhcmdzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFhYWCBkZXByZWNhdGVkXG4gICAgcHJvbWlzZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZWFyZXJWYWx1ZSA9IG5lYXJlcihyZXNvbHZlZFByb21pc2UpO1xuICAgICAgICBpZiAoaXNQcm9taXNlKG5lYXJlclZhbHVlKSkge1xuICAgICAgICAgICAgcmVzb2x2ZWRQcm9taXNlID0gbmVhcmVyVmFsdWU7IC8vIHNob3J0ZW4gY2hhaW5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmVhcmVyVmFsdWU7XG4gICAgfTtcblxuICAgIHByb21pc2UuaW5zcGVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFyZXNvbHZlZFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXRlOiBcInBlbmRpbmdcIiB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNvbHZlZFByb21pc2UuaW5zcGVjdCgpO1xuICAgIH07XG5cbiAgICBpZiAoUS5sb25nU3RhY2tTdXBwb3J0ICYmIGhhc1N0YWNrcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IGRvbid0IHRyeSB0byB1c2UgYEVycm9yLmNhcHR1cmVTdGFja1RyYWNlYCBvciB0cmFuc2ZlciB0aGVcbiAgICAgICAgICAgIC8vIGFjY2Vzc29yIGFyb3VuZDsgdGhhdCBjYXVzZXMgbWVtb3J5IGxlYWtzIGFzIHBlciBHSC0xMTEuIEp1c3RcbiAgICAgICAgICAgIC8vIHJlaWZ5IHRoZSBzdGFjayB0cmFjZSBhcyBhIHN0cmluZyBBU0FQLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEF0IHRoZSBzYW1lIHRpbWUsIGN1dCBvZmYgdGhlIGZpcnN0IGxpbmU7IGl0J3MgYWx3YXlzIGp1c3RcbiAgICAgICAgICAgIC8vIFwiW29iamVjdCBQcm9taXNlXVxcblwiLCBhcyBwZXIgdGhlIGB0b1N0cmluZ2AuXG4gICAgICAgICAgICBwcm9taXNlLnN0YWNrID0gZS5zdGFjay5zdWJzdHJpbmcoZS5zdGFjay5pbmRleE9mKFwiXFxuXCIpICsgMSk7XG4gICAgICAgICAgICBwcm9taXNlLnN0YWNrQ291bnRlciA9IGxvbmdTdGFja0NvdW50ZXIrKztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5PVEU6IHdlIGRvIHRoZSBjaGVja3MgZm9yIGByZXNvbHZlZFByb21pc2VgIGluIGVhY2ggbWV0aG9kLCBpbnN0ZWFkIG9mXG4gICAgLy8gY29uc29saWRhdGluZyB0aGVtIGludG8gYGJlY29tZWAsIHNpbmNlIG90aGVyd2lzZSB3ZSdkIGNyZWF0ZSBuZXdcbiAgICAvLyBwcm9taXNlcyB3aXRoIHRoZSBsaW5lcyBgYmVjb21lKHdoYXRldmVyKHZhbHVlKSlgLiBTZWUgZS5nLiBHSC0yNTIuXG5cbiAgICBmdW5jdGlvbiBiZWNvbWUobmV3UHJvbWlzZSkge1xuICAgICAgICByZXNvbHZlZFByb21pc2UgPSBuZXdQcm9taXNlO1xuXG4gICAgICAgIGlmIChRLmxvbmdTdGFja1N1cHBvcnQgJiYgaGFzU3RhY2tzKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGhvbGQgYSByZWZlcmVuY2UgdG8gdGhlIG5ldyBwcm9taXNlIGlmIGxvbmcgc3RhY2tzXG4gICAgICAgICAgICAvLyBhcmUgZW5hYmxlZCB0byByZWR1Y2UgbWVtb3J5IHVzYWdlXG4gICAgICAgICAgICBwcm9taXNlLnNvdXJjZSA9IG5ld1Byb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICBhcnJheV9yZWR1Y2UobWVzc2FnZXMsIGZ1bmN0aW9uICh1bmRlZmluZWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIFEubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIG5ld1Byb21pc2UucHJvbWlzZURpc3BhdGNoLmFwcGx5KG5ld1Byb21pc2UsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHZvaWQgMCk7XG5cbiAgICAgICAgbWVzc2FnZXMgPSB2b2lkIDA7XG4gICAgICAgIHByb2dyZXNzTGlzdGVuZXJzID0gdm9pZCAwO1xuICAgIH1cblxuICAgIGRlZmVycmVkLnByb21pc2UgPSBwcm9taXNlO1xuICAgIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHJlc29sdmVkUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYmVjb21lKFEodmFsdWUpKTtcbiAgICB9O1xuXG4gICAgZGVmZXJyZWQuZnVsZmlsbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAocmVzb2x2ZWRQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBiZWNvbWUoZnVsZmlsbCh2YWx1ZSkpO1xuICAgIH07XG4gICAgZGVmZXJyZWQucmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICBpZiAocmVzb2x2ZWRQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBiZWNvbWUocmVqZWN0KHJlYXNvbikpO1xuICAgIH07XG4gICAgZGVmZXJyZWQubm90aWZ5ID0gZnVuY3Rpb24gKHByb2dyZXNzKSB7XG4gICAgICAgIGlmIChyZXNvbHZlZFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFycmF5X3JlZHVjZShwcm9ncmVzc0xpc3RlbmVycywgZnVuY3Rpb24gKHVuZGVmaW5lZCwgcHJvZ3Jlc3NMaXN0ZW5lcikge1xuICAgICAgICAgICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NMaXN0ZW5lcihwcm9ncmVzcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdm9pZCAwKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGRlZmVycmVkO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBOb2RlLXN0eWxlIGNhbGxiYWNrIHRoYXQgd2lsbCByZXNvbHZlIG9yIHJlamVjdCB0aGUgZGVmZXJyZWRcbiAqIHByb21pc2UuXG4gKiBAcmV0dXJucyBhIG5vZGViYWNrXG4gKi9cbmRlZmVyLnByb3RvdHlwZS5tYWtlTm9kZVJlc29sdmVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVycm9yLCB2YWx1ZSkge1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHNlbGYucmVqZWN0KGVycm9yKTtcbiAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgc2VsZi5yZXNvbHZlKGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5yZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG4vKipcbiAqIEBwYXJhbSByZXNvbHZlciB7RnVuY3Rpb259IGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIG5vdGhpbmcgYW5kIGFjY2VwdHNcbiAqIHRoZSByZXNvbHZlLCByZWplY3QsIGFuZCBub3RpZnkgZnVuY3Rpb25zIGZvciBhIGRlZmVycmVkLlxuICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgbWF5IGJlIHJlc29sdmVkIHdpdGggdGhlIGdpdmVuIHJlc29sdmUgYW5kIHJlamVjdFxuICogZnVuY3Rpb25zLCBvciByZWplY3RlZCBieSBhIHRocm93biBleGNlcHRpb24gaW4gcmVzb2x2ZXJcbiAqL1xuUS5Qcm9taXNlID0gcHJvbWlzZTsgLy8gRVM2XG5RLnByb21pc2UgPSBwcm9taXNlO1xuZnVuY3Rpb24gcHJvbWlzZShyZXNvbHZlcikge1xuICAgIGlmICh0eXBlb2YgcmVzb2x2ZXIgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVzb2x2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICB0cnkge1xuICAgICAgICByZXNvbHZlcihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QsIGRlZmVycmVkLm5vdGlmeSk7XG4gICAgfSBjYXRjaCAocmVhc29uKSB7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgIH1cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn1cblxucHJvbWlzZS5yYWNlID0gcmFjZTsgLy8gRVM2XG5wcm9taXNlLmFsbCA9IGFsbDsgLy8gRVM2XG5wcm9taXNlLnJlamVjdCA9IHJlamVjdDsgLy8gRVM2XG5wcm9taXNlLnJlc29sdmUgPSBROyAvLyBFUzZcblxuLy8gWFhYIGV4cGVyaW1lbnRhbC4gIFRoaXMgbWV0aG9kIGlzIGEgd2F5IHRvIGRlbm90ZSB0aGF0IGEgbG9jYWwgdmFsdWUgaXNcbi8vIHNlcmlhbGl6YWJsZSBhbmQgc2hvdWxkIGJlIGltbWVkaWF0ZWx5IGRpc3BhdGNoZWQgdG8gYSByZW1vdGUgdXBvbiByZXF1ZXN0LFxuLy8gaW5zdGVhZCBvZiBwYXNzaW5nIGEgcmVmZXJlbmNlLlxuUS5wYXNzQnlDb3B5ID0gZnVuY3Rpb24gKG9iamVjdCkge1xuICAgIC8vZnJlZXplKG9iamVjdCk7XG4gICAgLy9wYXNzQnlDb3BpZXMuc2V0KG9iamVjdCwgdHJ1ZSk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnBhc3NCeUNvcHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9mcmVlemUob2JqZWN0KTtcbiAgICAvL3Bhc3NCeUNvcGllcy5zZXQob2JqZWN0LCB0cnVlKTtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogSWYgdHdvIHByb21pc2VzIGV2ZW50dWFsbHkgZnVsZmlsbCB0byB0aGUgc2FtZSB2YWx1ZSwgcHJvbWlzZXMgdGhhdCB2YWx1ZSxcbiAqIGJ1dCBvdGhlcndpc2UgcmVqZWN0cy5cbiAqIEBwYXJhbSB4IHtBbnkqfVxuICogQHBhcmFtIHkge0FueSp9XG4gKiBAcmV0dXJucyB7QW55Kn0gYSBwcm9taXNlIGZvciB4IGFuZCB5IGlmIHRoZXkgYXJlIHRoZSBzYW1lLCBidXQgYSByZWplY3Rpb25cbiAqIG90aGVyd2lzZS5cbiAqXG4gKi9cblEuam9pbiA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgcmV0dXJuIFEoeCkuam9pbih5KTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbiAodGhhdCkge1xuICAgIHJldHVybiBRKFt0aGlzLCB0aGF0XSkuc3ByZWFkKGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBcIj09PVwiIHNob3VsZCBiZSBPYmplY3QuaXMgb3IgZXF1aXZcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUSBjYW4ndCBqb2luOiBub3QgdGhlIHNhbWU6IFwiICsgeCArIFwiIFwiICsgeSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSBmaXJzdCBvZiBhbiBhcnJheSBvZiBwcm9taXNlcyB0byBiZWNvbWUgc2V0dGxlZC5cbiAqIEBwYXJhbSBhbnN3ZXJzIHtBcnJheVtBbnkqXX0gcHJvbWlzZXMgdG8gcmFjZVxuICogQHJldHVybnMge0FueSp9IHRoZSBmaXJzdCBwcm9taXNlIHRvIGJlIHNldHRsZWRcbiAqL1xuUS5yYWNlID0gcmFjZTtcbmZ1bmN0aW9uIHJhY2UoYW5zd2VyUHMpIHtcbiAgICByZXR1cm4gcHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vIFN3aXRjaCB0byB0aGlzIG9uY2Ugd2UgY2FuIGFzc3VtZSBhdCBsZWFzdCBFUzVcbiAgICAgICAgLy8gYW5zd2VyUHMuZm9yRWFjaChmdW5jdGlvbiAoYW5zd2VyUCkge1xuICAgICAgICAvLyAgICAgUShhbnN3ZXJQKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgICAvLyBVc2UgdGhpcyBpbiB0aGUgbWVhbnRpbWVcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFuc3dlclBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBRKGFuc3dlclBzW2ldKS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUucmFjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKFEucmFjZSk7XG59O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBQcm9taXNlIHdpdGggYSBwcm9taXNlIGRlc2NyaXB0b3Igb2JqZWN0IGFuZCBvcHRpb25hbCBmYWxsYmFja1xuICogZnVuY3Rpb24uICBUaGUgZGVzY3JpcHRvciBjb250YWlucyBtZXRob2RzIGxpa2Ugd2hlbihyZWplY3RlZCksIGdldChuYW1lKSxcbiAqIHNldChuYW1lLCB2YWx1ZSksIHBvc3QobmFtZSwgYXJncyksIGFuZCBkZWxldGUobmFtZSksIHdoaWNoIGFsbFxuICogcmV0dXJuIGVpdGhlciBhIHZhbHVlLCBhIHByb21pc2UgZm9yIGEgdmFsdWUsIG9yIGEgcmVqZWN0aW9uLiAgVGhlIGZhbGxiYWNrXG4gKiBhY2NlcHRzIHRoZSBvcGVyYXRpb24gbmFtZSwgYSByZXNvbHZlciwgYW5kIGFueSBmdXJ0aGVyIGFyZ3VtZW50cyB0aGF0IHdvdWxkXG4gKiBoYXZlIGJlZW4gZm9yd2FyZGVkIHRvIHRoZSBhcHByb3ByaWF0ZSBtZXRob2QgYWJvdmUgaGFkIGEgbWV0aG9kIGJlZW5cbiAqIHByb3ZpZGVkIHdpdGggdGhlIHByb3BlciBuYW1lLiAgVGhlIEFQSSBtYWtlcyBubyBndWFyYW50ZWVzIGFib3V0IHRoZSBuYXR1cmVcbiAqIG9mIHRoZSByZXR1cm5lZCBvYmplY3QsIGFwYXJ0IGZyb20gdGhhdCBpdCBpcyB1c2FibGUgd2hlcmVldmVyIHByb21pc2VzIGFyZVxuICogYm91Z2h0IGFuZCBzb2xkLlxuICovXG5RLm1ha2VQcm9taXNlID0gUHJvbWlzZTtcbmZ1bmN0aW9uIFByb21pc2UoZGVzY3JpcHRvciwgZmFsbGJhY2ssIGluc3BlY3QpIHtcbiAgICBpZiAoZmFsbGJhY2sgPT09IHZvaWQgMCkge1xuICAgICAgICBmYWxsYmFjayA9IGZ1bmN0aW9uIChvcCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJQcm9taXNlIGRvZXMgbm90IHN1cHBvcnQgb3BlcmF0aW9uOiBcIiArIG9wXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGluc3BlY3QgPT09IHZvaWQgMCkge1xuICAgICAgICBpbnNwZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtzdGF0ZTogXCJ1bmtub3duXCJ9O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gb2JqZWN0X2NyZWF0ZShQcm9taXNlLnByb3RvdHlwZSk7XG5cbiAgICBwcm9taXNlLnByb21pc2VEaXNwYXRjaCA9IGZ1bmN0aW9uIChyZXNvbHZlLCBvcCwgYXJncykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3Jbb3BdKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVzY3JpcHRvcltvcF0uYXBwbHkocHJvbWlzZSwgYXJncyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZhbGxiYWNrLmNhbGwocHJvbWlzZSwgb3AsIGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlamVjdChleGNlcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNvbHZlKSB7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcHJvbWlzZS5pbnNwZWN0ID0gaW5zcGVjdDtcblxuICAgIC8vIFhYWCBkZXByZWNhdGVkIGB2YWx1ZU9mYCBhbmQgYGV4Y2VwdGlvbmAgc3VwcG9ydFxuICAgIGlmIChpbnNwZWN0KSB7XG4gICAgICAgIHZhciBpbnNwZWN0ZWQgPSBpbnNwZWN0KCk7XG4gICAgICAgIGlmIChpbnNwZWN0ZWQuc3RhdGUgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgICAgcHJvbWlzZS5leGNlcHRpb24gPSBpbnNwZWN0ZWQucmVhc29uO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvbWlzZS52YWx1ZU9mID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGluc3BlY3RlZCA9IGluc3BlY3QoKTtcbiAgICAgICAgICAgIGlmIChpbnNwZWN0ZWQuc3RhdGUgPT09IFwicGVuZGluZ1wiIHx8XG4gICAgICAgICAgICAgICAgaW5zcGVjdGVkLnN0YXRlID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnNwZWN0ZWQudmFsdWU7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cblByb21pc2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBcIltvYmplY3QgUHJvbWlzZV1cIjtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAoZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3NlZCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIHZhciBkb25lID0gZmFsc2U7ICAgLy8gZW5zdXJlIHRoZSB1bnRydXN0ZWQgcHJvbWlzZSBtYWtlcyBhdCBtb3N0IGFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmdsZSBjYWxsIHRvIG9uZSBvZiB0aGUgY2FsbGJhY2tzXG5cbiAgICBmdW5jdGlvbiBfZnVsZmlsbGVkKHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGZ1bGZpbGxlZCA9PT0gXCJmdW5jdGlvblwiID8gZnVsZmlsbGVkKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3QoZXhjZXB0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9yZWplY3RlZChleGNlcHRpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZWplY3RlZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBtYWtlU3RhY2tUcmFjZUxvbmcoZXhjZXB0aW9uLCBzZWxmKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdGVkKGV4Y2VwdGlvbik7XG4gICAgICAgICAgICB9IGNhdGNoIChuZXdFeGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ld0V4Y2VwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlamVjdChleGNlcHRpb24pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9wcm9ncmVzc2VkKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcHJvZ3Jlc3NlZCA9PT0gXCJmdW5jdGlvblwiID8gcHJvZ3Jlc3NlZCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5wcm9taXNlRGlzcGF0Y2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9mdWxmaWxsZWQodmFsdWUpKTtcbiAgICAgICAgfSwgXCJ3aGVuXCIsIFtmdW5jdGlvbiAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKF9yZWplY3RlZChleGNlcHRpb24pKTtcbiAgICAgICAgfV0pO1xuICAgIH0pO1xuXG4gICAgLy8gUHJvZ3Jlc3MgcHJvcGFnYXRvciBuZWVkIHRvIGJlIGF0dGFjaGVkIGluIHRoZSBjdXJyZW50IHRpY2suXG4gICAgc2VsZi5wcm9taXNlRGlzcGF0Y2godm9pZCAwLCBcIndoZW5cIiwgW3ZvaWQgMCwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBuZXdWYWx1ZTtcbiAgICAgICAgdmFyIHRocmV3ID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IF9wcm9ncmVzc2VkKHZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyZXcgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKFEub25lcnJvcikge1xuICAgICAgICAgICAgICAgIFEub25lcnJvcihlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhyZXcpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeShuZXdWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cblEudGFwID0gZnVuY3Rpb24gKHByb21pc2UsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIFEocHJvbWlzZSkudGFwKGNhbGxiYWNrKTtcbn07XG5cbi8qKlxuICogV29ya3MgYWxtb3N0IGxpa2UgXCJmaW5hbGx5XCIsIGJ1dCBub3QgY2FsbGVkIGZvciByZWplY3Rpb25zLlxuICogT3JpZ2luYWwgcmVzb2x1dGlvbiB2YWx1ZSBpcyBwYXNzZWQgdGhyb3VnaCBjYWxsYmFjayB1bmFmZmVjdGVkLlxuICogQ2FsbGJhY2sgbWF5IHJldHVybiBhIHByb21pc2UgdGhhdCB3aWxsIGJlIGF3YWl0ZWQgZm9yLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtRLlByb21pc2V9XG4gKiBAZXhhbXBsZVxuICogZG9Tb21ldGhpbmcoKVxuICogICAudGhlbiguLi4pXG4gKiAgIC50YXAoY29uc29sZS5sb2cpXG4gKiAgIC50aGVuKC4uLik7XG4gKi9cblByb21pc2UucHJvdG90eXBlLnRhcCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrID0gUShjYWxsYmFjayk7XG5cbiAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2suZmNhbGwodmFsdWUpLnRoZW5SZXNvbHZlKHZhbHVlKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXJzIGFuIG9ic2VydmVyIG9uIGEgcHJvbWlzZS5cbiAqXG4gKiBHdWFyYW50ZWVzOlxuICpcbiAqIDEuIHRoYXQgZnVsZmlsbGVkIGFuZCByZWplY3RlZCB3aWxsIGJlIGNhbGxlZCBvbmx5IG9uY2UuXG4gKiAyLiB0aGF0IGVpdGhlciB0aGUgZnVsZmlsbGVkIGNhbGxiYWNrIG9yIHRoZSByZWplY3RlZCBjYWxsYmFjayB3aWxsIGJlXG4gKiAgICBjYWxsZWQsIGJ1dCBub3QgYm90aC5cbiAqIDMuIHRoYXQgZnVsZmlsbGVkIGFuZCByZWplY3RlZCB3aWxsIG5vdCBiZSBjYWxsZWQgaW4gdGhpcyB0dXJuLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAgICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSB0byBvYnNlcnZlXG4gKiBAcGFyYW0gZnVsZmlsbGVkICBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2l0aCB0aGUgZnVsZmlsbGVkIHZhbHVlXG4gKiBAcGFyYW0gcmVqZWN0ZWQgICBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2l0aCB0aGUgcmVqZWN0aW9uIGV4Y2VwdGlvblxuICogQHBhcmFtIHByb2dyZXNzZWQgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uIGFueSBwcm9ncmVzcyBub3RpZmljYXRpb25zXG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgaW52b2tlZCBjYWxsYmFja1xuICovXG5RLndoZW4gPSB3aGVuO1xuZnVuY3Rpb24gd2hlbih2YWx1ZSwgZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3NlZCkge1xuICAgIHJldHVybiBRKHZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzZWQpO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS50aGVuUmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWU7IH0pO1xufTtcblxuUS50aGVuUmVzb2x2ZSA9IGZ1bmN0aW9uIChwcm9taXNlLCB2YWx1ZSkge1xuICAgIHJldHVybiBRKHByb21pc2UpLnRoZW5SZXNvbHZlKHZhbHVlKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLnRoZW5SZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAoKSB7IHRocm93IHJlYXNvbjsgfSk7XG59O1xuXG5RLnRoZW5SZWplY3QgPSBmdW5jdGlvbiAocHJvbWlzZSwgcmVhc29uKSB7XG4gICAgcmV0dXJuIFEocHJvbWlzZSkudGhlblJlamVjdChyZWFzb24pO1xufTtcblxuLyoqXG4gKiBJZiBhbiBvYmplY3QgaXMgbm90IGEgcHJvbWlzZSwgaXQgaXMgYXMgXCJuZWFyXCIgYXMgcG9zc2libGUuXG4gKiBJZiBhIHByb21pc2UgaXMgcmVqZWN0ZWQsIGl0IGlzIGFzIFwibmVhclwiIGFzIHBvc3NpYmxlIHRvby5cbiAqIElmIGl04oCZcyBhIGZ1bGZpbGxlZCBwcm9taXNlLCB0aGUgZnVsZmlsbG1lbnQgdmFsdWUgaXMgbmVhcmVyLlxuICogSWYgaXTigJlzIGEgZGVmZXJyZWQgcHJvbWlzZSBhbmQgdGhlIGRlZmVycmVkIGhhcyBiZWVuIHJlc29sdmVkLCB0aGVcbiAqIHJlc29sdXRpb24gaXMgXCJuZWFyZXJcIi5cbiAqIEBwYXJhbSBvYmplY3RcbiAqIEByZXR1cm5zIG1vc3QgcmVzb2x2ZWQgKG5lYXJlc3QpIGZvcm0gb2YgdGhlIG9iamVjdFxuICovXG5cbi8vIFhYWCBzaG91bGQgd2UgcmUtZG8gdGhpcz9cblEubmVhcmVyID0gbmVhcmVyO1xuZnVuY3Rpb24gbmVhcmVyKHZhbHVlKSB7XG4gICAgaWYgKGlzUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIGluc3BlY3RlZCA9IHZhbHVlLmluc3BlY3QoKTtcbiAgICAgICAgaWYgKGluc3BlY3RlZC5zdGF0ZSA9PT0gXCJmdWxmaWxsZWRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGluc3BlY3RlZC52YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5cbi8qKlxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgcHJvbWlzZS5cbiAqIE90aGVyd2lzZSBpdCBpcyBhIGZ1bGZpbGxlZCB2YWx1ZS5cbiAqL1xuUS5pc1Byb21pc2UgPSBpc1Byb21pc2U7XG5mdW5jdGlvbiBpc1Byb21pc2Uob2JqZWN0KSB7XG4gICAgcmV0dXJuIG9iamVjdCBpbnN0YW5jZW9mIFByb21pc2U7XG59XG5cblEuaXNQcm9taXNlQWxpa2UgPSBpc1Byb21pc2VBbGlrZTtcbmZ1bmN0aW9uIGlzUHJvbWlzZUFsaWtlKG9iamVjdCkge1xuICAgIHJldHVybiBpc09iamVjdChvYmplY3QpICYmIHR5cGVvZiBvYmplY3QudGhlbiA9PT0gXCJmdW5jdGlvblwiO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHdoZXRoZXIgdGhlIGdpdmVuIG9iamVjdCBpcyBhIHBlbmRpbmcgcHJvbWlzZSwgbWVhbmluZyBub3RcbiAqIGZ1bGZpbGxlZCBvciByZWplY3RlZC5cbiAqL1xuUS5pc1BlbmRpbmcgPSBpc1BlbmRpbmc7XG5mdW5jdGlvbiBpc1BlbmRpbmcob2JqZWN0KSB7XG4gICAgcmV0dXJuIGlzUHJvbWlzZShvYmplY3QpICYmIG9iamVjdC5pbnNwZWN0KCkuc3RhdGUgPT09IFwicGVuZGluZ1wiO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5pc1BlbmRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zcGVjdCgpLnN0YXRlID09PSBcInBlbmRpbmdcIjtcbn07XG5cbi8qKlxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgdmFsdWUgb3IgZnVsZmlsbGVkXG4gKiBwcm9taXNlLlxuICovXG5RLmlzRnVsZmlsbGVkID0gaXNGdWxmaWxsZWQ7XG5mdW5jdGlvbiBpc0Z1bGZpbGxlZChvYmplY3QpIHtcbiAgICByZXR1cm4gIWlzUHJvbWlzZShvYmplY3QpIHx8IG9iamVjdC5pbnNwZWN0KCkuc3RhdGUgPT09IFwiZnVsZmlsbGVkXCI7XG59XG5cblByb21pc2UucHJvdG90eXBlLmlzRnVsZmlsbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmluc3BlY3QoKS5zdGF0ZSA9PT0gXCJmdWxmaWxsZWRcIjtcbn07XG5cbi8qKlxuICogQHJldHVybnMgd2hldGhlciB0aGUgZ2l2ZW4gb2JqZWN0IGlzIGEgcmVqZWN0ZWQgcHJvbWlzZS5cbiAqL1xuUS5pc1JlamVjdGVkID0gaXNSZWplY3RlZDtcbmZ1bmN0aW9uIGlzUmVqZWN0ZWQob2JqZWN0KSB7XG4gICAgcmV0dXJuIGlzUHJvbWlzZShvYmplY3QpICYmIG9iamVjdC5pbnNwZWN0KCkuc3RhdGUgPT09IFwicmVqZWN0ZWRcIjtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuaXNSZWplY3RlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnNwZWN0KCkuc3RhdGUgPT09IFwicmVqZWN0ZWRcIjtcbn07XG5cbi8vLy8gQkVHSU4gVU5IQU5ETEVEIFJFSkVDVElPTiBUUkFDS0lOR1xuXG4vLyBUaGlzIHByb21pc2UgbGlicmFyeSBjb25zdW1lcyBleGNlcHRpb25zIHRocm93biBpbiBoYW5kbGVycyBzbyB0aGV5IGNhbiBiZVxuLy8gaGFuZGxlZCBieSBhIHN1YnNlcXVlbnQgcHJvbWlzZS4gIFRoZSBleGNlcHRpb25zIGdldCBhZGRlZCB0byB0aGlzIGFycmF5IHdoZW5cbi8vIHRoZXkgYXJlIGNyZWF0ZWQsIGFuZCByZW1vdmVkIHdoZW4gdGhleSBhcmUgaGFuZGxlZC4gIE5vdGUgdGhhdCBpbiBFUzYgb3Jcbi8vIHNoaW1tZWQgZW52aXJvbm1lbnRzLCB0aGlzIHdvdWxkIG5hdHVyYWxseSBiZSBhIGBTZXRgLlxudmFyIHVuaGFuZGxlZFJlYXNvbnMgPSBbXTtcbnZhciB1bmhhbmRsZWRSZWplY3Rpb25zID0gW107XG52YXIgcmVwb3J0ZWRVbmhhbmRsZWRSZWplY3Rpb25zID0gW107XG52YXIgdHJhY2tVbmhhbmRsZWRSZWplY3Rpb25zID0gdHJ1ZTtcblxuZnVuY3Rpb24gcmVzZXRVbmhhbmRsZWRSZWplY3Rpb25zKCkge1xuICAgIHVuaGFuZGxlZFJlYXNvbnMubGVuZ3RoID0gMDtcbiAgICB1bmhhbmRsZWRSZWplY3Rpb25zLmxlbmd0aCA9IDA7XG5cbiAgICBpZiAoIXRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucykge1xuICAgICAgICB0cmFja1VuaGFuZGxlZFJlamVjdGlvbnMgPSB0cnVlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdHJhY2tSZWplY3Rpb24ocHJvbWlzZSwgcmVhc29uKSB7XG4gICAgaWYgKCF0cmFja1VuaGFuZGxlZFJlamVjdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHByb2Nlc3MuZW1pdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIFEubmV4dFRpY2sucnVuQWZ0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGFycmF5X2luZGV4T2YodW5oYW5kbGVkUmVqZWN0aW9ucywgcHJvbWlzZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwidW5oYW5kbGVkUmVqZWN0aW9uXCIsIHJlYXNvbiwgcHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgcmVwb3J0ZWRVbmhhbmRsZWRSZWplY3Rpb25zLnB1c2gocHJvbWlzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVuaGFuZGxlZFJlamVjdGlvbnMucHVzaChwcm9taXNlKTtcbiAgICBpZiAocmVhc29uICYmIHR5cGVvZiByZWFzb24uc3RhY2sgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgdW5oYW5kbGVkUmVhc29ucy5wdXNoKHJlYXNvbi5zdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdW5oYW5kbGVkUmVhc29ucy5wdXNoKFwiKG5vIHN0YWNrKSBcIiArIHJlYXNvbik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1bnRyYWNrUmVqZWN0aW9uKHByb21pc2UpIHtcbiAgICBpZiAoIXRyYWNrVW5oYW5kbGVkUmVqZWN0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGF0ID0gYXJyYXlfaW5kZXhPZih1bmhhbmRsZWRSZWplY3Rpb25zLCBwcm9taXNlKTtcbiAgICBpZiAoYXQgIT09IC0xKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcHJvY2Vzcy5lbWl0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIFEubmV4dFRpY2sucnVuQWZ0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhdFJlcG9ydCA9IGFycmF5X2luZGV4T2YocmVwb3J0ZWRVbmhhbmRsZWRSZWplY3Rpb25zLCBwcm9taXNlKTtcbiAgICAgICAgICAgICAgICBpZiAoYXRSZXBvcnQgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MuZW1pdChcInJlamVjdGlvbkhhbmRsZWRcIiwgdW5oYW5kbGVkUmVhc29uc1thdF0sIHByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXBvcnRlZFVuaGFuZGxlZFJlamVjdGlvbnMuc3BsaWNlKGF0UmVwb3J0LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB1bmhhbmRsZWRSZWplY3Rpb25zLnNwbGljZShhdCwgMSk7XG4gICAgICAgIHVuaGFuZGxlZFJlYXNvbnMuc3BsaWNlKGF0LCAxKTtcbiAgICB9XG59XG5cblEucmVzZXRVbmhhbmRsZWRSZWplY3Rpb25zID0gcmVzZXRVbmhhbmRsZWRSZWplY3Rpb25zO1xuXG5RLmdldFVuaGFuZGxlZFJlYXNvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gTWFrZSBhIGNvcHkgc28gdGhhdCBjb25zdW1lcnMgY2FuJ3QgaW50ZXJmZXJlIHdpdGggb3VyIGludGVybmFsIHN0YXRlLlxuICAgIHJldHVybiB1bmhhbmRsZWRSZWFzb25zLnNsaWNlKCk7XG59O1xuXG5RLnN0b3BVbmhhbmRsZWRSZWplY3Rpb25UcmFja2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXNldFVuaGFuZGxlZFJlamVjdGlvbnMoKTtcbiAgICB0cmFja1VuaGFuZGxlZFJlamVjdGlvbnMgPSBmYWxzZTtcbn07XG5cbnJlc2V0VW5oYW5kbGVkUmVqZWN0aW9ucygpO1xuXG4vLy8vIEVORCBVTkhBTkRMRUQgUkVKRUNUSU9OIFRSQUNLSU5HXG5cbi8qKlxuICogQ29uc3RydWN0cyBhIHJlamVjdGVkIHByb21pc2UuXG4gKiBAcGFyYW0gcmVhc29uIHZhbHVlIGRlc2NyaWJpbmcgdGhlIGZhaWx1cmVcbiAqL1xuUS5yZWplY3QgPSByZWplY3Q7XG5mdW5jdGlvbiByZWplY3QocmVhc29uKSB7XG4gICAgdmFyIHJlamVjdGlvbiA9IFByb21pc2Uoe1xuICAgICAgICBcIndoZW5cIjogZnVuY3Rpb24gKHJlamVjdGVkKSB7XG4gICAgICAgICAgICAvLyBub3RlIHRoYXQgdGhlIGVycm9yIGhhcyBiZWVuIGhhbmRsZWRcbiAgICAgICAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICAgICAgICAgIHVudHJhY2tSZWplY3Rpb24odGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0ZWQgPyByZWplY3RlZChyZWFzb24pIDogdGhpcztcbiAgICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIGZhbGxiYWNrKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBmdW5jdGlvbiBpbnNwZWN0KCkge1xuICAgICAgICByZXR1cm4geyBzdGF0ZTogXCJyZWplY3RlZFwiLCByZWFzb246IHJlYXNvbiB9O1xuICAgIH0pO1xuXG4gICAgLy8gTm90ZSB0aGF0IHRoZSByZWFzb24gaGFzIG5vdCBiZWVuIGhhbmRsZWQuXG4gICAgdHJhY2tSZWplY3Rpb24ocmVqZWN0aW9uLCByZWFzb24pO1xuXG4gICAgcmV0dXJuIHJlamVjdGlvbjtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgZnVsZmlsbGVkIHByb21pc2UgZm9yIGFuIGltbWVkaWF0ZSByZWZlcmVuY2UuXG4gKiBAcGFyYW0gdmFsdWUgaW1tZWRpYXRlIHJlZmVyZW5jZVxuICovXG5RLmZ1bGZpbGwgPSBmdWxmaWxsO1xuZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkge1xuICAgIHJldHVybiBQcm9taXNlKHtcbiAgICAgICAgXCJ3aGVuXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRcIjogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZVtuYW1lXTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRcIjogZnVuY3Rpb24gKG5hbWUsIHJocykge1xuICAgICAgICAgICAgdmFsdWVbbmFtZV0gPSByaHM7XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVsZXRlXCI6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICBkZWxldGUgdmFsdWVbbmFtZV07XG4gICAgICAgIH0sXG4gICAgICAgIFwicG9zdFwiOiBmdW5jdGlvbiAobmFtZSwgYXJncykge1xuICAgICAgICAgICAgLy8gTWFyayBNaWxsZXIgcHJvcG9zZXMgdGhhdCBwb3N0IHdpdGggbm8gbmFtZSBzaG91bGQgYXBwbHkgYVxuICAgICAgICAgICAgLy8gcHJvbWlzZWQgZnVuY3Rpb24uXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gbnVsbCB8fCBuYW1lID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUuYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlW25hbWVdLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJhcHBseVwiOiBmdW5jdGlvbiAodGhpc3AsIGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5hcHBseSh0aGlzcCwgYXJncyk7XG4gICAgICAgIH0sXG4gICAgICAgIFwia2V5c1wiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0X2tleXModmFsdWUpO1xuICAgICAgICB9XG4gICAgfSwgdm9pZCAwLCBmdW5jdGlvbiBpbnNwZWN0KCkge1xuICAgICAgICByZXR1cm4geyBzdGF0ZTogXCJmdWxmaWxsZWRcIiwgdmFsdWU6IHZhbHVlIH07XG4gICAgfSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlbmFibGVzIHRvIFEgcHJvbWlzZXMuXG4gKiBAcGFyYW0gcHJvbWlzZSB0aGVuYWJsZSBwcm9taXNlXG4gKiBAcmV0dXJucyBhIFEgcHJvbWlzZVxuICovXG5mdW5jdGlvbiBjb2VyY2UocHJvbWlzZSkge1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0LCBkZWZlcnJlZC5ub3RpZnkpO1xuICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChleGNlcHRpb24pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59XG5cbi8qKlxuICogQW5ub3RhdGVzIGFuIG9iamVjdCBzdWNoIHRoYXQgaXQgd2lsbCBuZXZlciBiZVxuICogdHJhbnNmZXJyZWQgYXdheSBmcm9tIHRoaXMgcHJvY2VzcyBvdmVyIGFueSBwcm9taXNlXG4gKiBjb21tdW5pY2F0aW9uIGNoYW5uZWwuXG4gKiBAcGFyYW0gb2JqZWN0XG4gKiBAcmV0dXJucyBwcm9taXNlIGEgd3JhcHBpbmcgb2YgdGhhdCBvYmplY3QgdGhhdFxuICogYWRkaXRpb25hbGx5IHJlc3BvbmRzIHRvIHRoZSBcImlzRGVmXCIgbWVzc2FnZVxuICogd2l0aG91dCBhIHJlamVjdGlvbi5cbiAqL1xuUS5tYXN0ZXIgPSBtYXN0ZXI7XG5mdW5jdGlvbiBtYXN0ZXIob2JqZWN0KSB7XG4gICAgcmV0dXJuIFByb21pc2Uoe1xuICAgICAgICBcImlzRGVmXCI6IGZ1bmN0aW9uICgpIHt9XG4gICAgfSwgZnVuY3Rpb24gZmFsbGJhY2sob3AsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoKG9iamVjdCwgb3AsIGFyZ3MpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFEob2JqZWN0KS5pbnNwZWN0KCk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogU3ByZWFkcyB0aGUgdmFsdWVzIG9mIGEgcHJvbWlzZWQgYXJyYXkgb2YgYXJndW1lbnRzIGludG8gdGhlXG4gKiBmdWxmaWxsbWVudCBjYWxsYmFjay5cbiAqIEBwYXJhbSBmdWxmaWxsZWQgY2FsbGJhY2sgdGhhdCByZWNlaXZlcyB2YXJpYWRpYyBhcmd1bWVudHMgZnJvbSB0aGVcbiAqIHByb21pc2VkIGFycmF5XG4gKiBAcGFyYW0gcmVqZWN0ZWQgY2FsbGJhY2sgdGhhdCByZWNlaXZlcyB0aGUgZXhjZXB0aW9uIGlmIHRoZSBwcm9taXNlXG4gKiBpcyByZWplY3RlZC5cbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZSBvciB0aHJvd24gZXhjZXB0aW9uIG9mXG4gKiBlaXRoZXIgY2FsbGJhY2suXG4gKi9cblEuc3ByZWFkID0gc3ByZWFkO1xuZnVuY3Rpb24gc3ByZWFkKHZhbHVlLCBmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gICAgcmV0dXJuIFEodmFsdWUpLnNwcmVhZChmdWxmaWxsZWQsIHJlamVjdGVkKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuc3ByZWFkID0gZnVuY3Rpb24gKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gdGhpcy5hbGwoKS50aGVuKGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICByZXR1cm4gZnVsZmlsbGVkLmFwcGx5KHZvaWQgMCwgYXJyYXkpO1xuICAgIH0sIHJlamVjdGVkKTtcbn07XG5cbi8qKlxuICogVGhlIGFzeW5jIGZ1bmN0aW9uIGlzIGEgZGVjb3JhdG9yIGZvciBnZW5lcmF0b3IgZnVuY3Rpb25zLCB0dXJuaW5nXG4gKiB0aGVtIGludG8gYXN5bmNocm9ub3VzIGdlbmVyYXRvcnMuICBBbHRob3VnaCBnZW5lcmF0b3JzIGFyZSBvbmx5IHBhcnRcbiAqIG9mIHRoZSBuZXdlc3QgRUNNQVNjcmlwdCA2IGRyYWZ0cywgdGhpcyBjb2RlIGRvZXMgbm90IGNhdXNlIHN5bnRheFxuICogZXJyb3JzIGluIG9sZGVyIGVuZ2luZXMuICBUaGlzIGNvZGUgc2hvdWxkIGNvbnRpbnVlIHRvIHdvcmsgYW5kIHdpbGxcbiAqIGluIGZhY3QgaW1wcm92ZSBvdmVyIHRpbWUgYXMgdGhlIGxhbmd1YWdlIGltcHJvdmVzLlxuICpcbiAqIEVTNiBnZW5lcmF0b3JzIGFyZSBjdXJyZW50bHkgcGFydCBvZiBWOCB2ZXJzaW9uIDMuMTkgd2l0aCB0aGVcbiAqIC0taGFybW9ueS1nZW5lcmF0b3JzIHJ1bnRpbWUgZmxhZyBlbmFibGVkLiAgU3BpZGVyTW9ua2V5IGhhcyBoYWQgdGhlbVxuICogZm9yIGxvbmdlciwgYnV0IHVuZGVyIGFuIG9sZGVyIFB5dGhvbi1pbnNwaXJlZCBmb3JtLiAgVGhpcyBmdW5jdGlvblxuICogd29ya3Mgb24gYm90aCBraW5kcyBvZiBnZW5lcmF0b3JzLlxuICpcbiAqIERlY29yYXRlcyBhIGdlbmVyYXRvciBmdW5jdGlvbiBzdWNoIHRoYXQ6XG4gKiAgLSBpdCBtYXkgeWllbGQgcHJvbWlzZXNcbiAqICAtIGV4ZWN1dGlvbiB3aWxsIGNvbnRpbnVlIHdoZW4gdGhhdCBwcm9taXNlIGlzIGZ1bGZpbGxlZFxuICogIC0gdGhlIHZhbHVlIG9mIHRoZSB5aWVsZCBleHByZXNzaW9uIHdpbGwgYmUgdGhlIGZ1bGZpbGxlZCB2YWx1ZVxuICogIC0gaXQgcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWUgKHdoZW4gdGhlIGdlbmVyYXRvclxuICogICAgc3RvcHMgaXRlcmF0aW5nKVxuICogIC0gdGhlIGRlY29yYXRlZCBmdW5jdGlvbiByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxuICogICAgb2YgdGhlIGdlbmVyYXRvciBvciB0aGUgZmlyc3QgcmVqZWN0ZWQgcHJvbWlzZSBhbW9uZyB0aG9zZVxuICogICAgeWllbGRlZC5cbiAqICAtIGlmIGFuIGVycm9yIGlzIHRocm93biBpbiB0aGUgZ2VuZXJhdG9yLCBpdCBwcm9wYWdhdGVzIHRocm91Z2hcbiAqICAgIGV2ZXJ5IGZvbGxvd2luZyB5aWVsZCB1bnRpbCBpdCBpcyBjYXVnaHQsIG9yIHVudGlsIGl0IGVzY2FwZXNcbiAqICAgIHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gYWx0b2dldGhlciwgYW5kIGlzIHRyYW5zbGF0ZWQgaW50byBhXG4gKiAgICByZWplY3Rpb24gZm9yIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZSBkZWNvcmF0ZWQgZ2VuZXJhdG9yLlxuICovXG5RLmFzeW5jID0gYXN5bmM7XG5mdW5jdGlvbiBhc3luYyhtYWtlR2VuZXJhdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gd2hlbiB2ZXJiIGlzIFwic2VuZFwiLCBhcmcgaXMgYSB2YWx1ZVxuICAgICAgICAvLyB3aGVuIHZlcmIgaXMgXCJ0aHJvd1wiLCBhcmcgaXMgYW4gZXhjZXB0aW9uXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRpbnVlcih2ZXJiLCBhcmcpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgICAgICAgIC8vIFVudGlsIFY4IDMuMTkgLyBDaHJvbWl1bSAyOSBpcyByZWxlYXNlZCwgU3BpZGVyTW9ua2V5IGlzIHRoZSBvbmx5XG4gICAgICAgICAgICAvLyBlbmdpbmUgdGhhdCBoYXMgYSBkZXBsb3llZCBiYXNlIG9mIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBnZW5lcmF0b3JzLlxuICAgICAgICAgICAgLy8gSG93ZXZlciwgU00ncyBnZW5lcmF0b3JzIHVzZSB0aGUgUHl0aG9uLWluc3BpcmVkIHNlbWFudGljcyBvZlxuICAgICAgICAgICAgLy8gb3V0ZGF0ZWQgRVM2IGRyYWZ0cy4gIFdlIHdvdWxkIGxpa2UgdG8gc3VwcG9ydCBFUzYsIGJ1dCB3ZSdkIGFsc29cbiAgICAgICAgICAgIC8vIGxpa2UgdG8gbWFrZSBpdCBwb3NzaWJsZSB0byB1c2UgZ2VuZXJhdG9ycyBpbiBkZXBsb3llZCBicm93c2Vycywgc29cbiAgICAgICAgICAgIC8vIHdlIGFsc28gc3VwcG9ydCBQeXRob24tc3R5bGUgZ2VuZXJhdG9ycy4gIEF0IHNvbWUgcG9pbnQgd2UgY2FuIHJlbW92ZVxuICAgICAgICAgICAgLy8gdGhpcyBibG9jay5cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTdG9wSXRlcmF0aW9uID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gRVM2IEdlbmVyYXRvcnNcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBnZW5lcmF0b3JbdmVyYl0oYXJnKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChleGNlcHRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFEocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2hlbihyZXN1bHQudmFsdWUsIGNhbGxiYWNrLCBlcnJiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNwaWRlck1vbmtleSBHZW5lcmF0b3JzXG4gICAgICAgICAgICAgICAgLy8gRklYTUU6IFJlbW92ZSB0aGlzIGNhc2Ugd2hlbiBTTSBkb2VzIEVTNiBnZW5lcmF0b3JzLlxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGdlbmVyYXRvclt2ZXJiXShhcmcpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTdG9wSXRlcmF0aW9uKGV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBRKGV4Y2VwdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdoZW4ocmVzdWx0LCBjYWxsYmFjaywgZXJyYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdlbmVyYXRvciA9IG1ha2VHZW5lcmF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gY29udGludWVyLmJpbmQoY29udGludWVyLCBcIm5leHRcIik7XG4gICAgICAgIHZhciBlcnJiYWNrID0gY29udGludWVyLmJpbmQoY29udGludWVyLCBcInRocm93XCIpO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIFRoZSBzcGF3biBmdW5jdGlvbiBpcyBhIHNtYWxsIHdyYXBwZXIgYXJvdW5kIGFzeW5jIHRoYXQgaW1tZWRpYXRlbHlcbiAqIGNhbGxzIHRoZSBnZW5lcmF0b3IgYW5kIGFsc28gZW5kcyB0aGUgcHJvbWlzZSBjaGFpbiwgc28gdGhhdCBhbnlcbiAqIHVuaGFuZGxlZCBlcnJvcnMgYXJlIHRocm93biBpbnN0ZWFkIG9mIGZvcndhcmRlZCB0byB0aGUgZXJyb3JcbiAqIGhhbmRsZXIuIFRoaXMgaXMgdXNlZnVsIGJlY2F1c2UgaXQncyBleHRyZW1lbHkgY29tbW9uIHRvIHJ1blxuICogZ2VuZXJhdG9ycyBhdCB0aGUgdG9wLWxldmVsIHRvIHdvcmsgd2l0aCBsaWJyYXJpZXMuXG4gKi9cblEuc3Bhd24gPSBzcGF3bjtcbmZ1bmN0aW9uIHNwYXduKG1ha2VHZW5lcmF0b3IpIHtcbiAgICBRLmRvbmUoUS5hc3luYyhtYWtlR2VuZXJhdG9yKSgpKTtcbn1cblxuLy8gRklYTUU6IFJlbW92ZSB0aGlzIGludGVyZmFjZSBvbmNlIEVTNiBnZW5lcmF0b3JzIGFyZSBpbiBTcGlkZXJNb25rZXkuXG4vKipcbiAqIFRocm93cyBhIFJldHVyblZhbHVlIGV4Y2VwdGlvbiB0byBzdG9wIGFuIGFzeW5jaHJvbm91cyBnZW5lcmF0b3IuXG4gKlxuICogVGhpcyBpbnRlcmZhY2UgaXMgYSBzdG9wLWdhcCBtZWFzdXJlIHRvIHN1cHBvcnQgZ2VuZXJhdG9yIHJldHVyblxuICogdmFsdWVzIGluIG9sZGVyIEZpcmVmb3gvU3BpZGVyTW9ua2V5LiAgSW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IEVTNlxuICogZ2VuZXJhdG9ycyBsaWtlIENocm9taXVtIDI5LCBqdXN0IHVzZSBcInJldHVyblwiIGluIHlvdXIgZ2VuZXJhdG9yXG4gKiBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHZhbHVlIHRoZSByZXR1cm4gdmFsdWUgZm9yIHRoZSBzdXJyb3VuZGluZyBnZW5lcmF0b3JcbiAqIEB0aHJvd3MgUmV0dXJuVmFsdWUgZXhjZXB0aW9uIHdpdGggdGhlIHZhbHVlLlxuICogQGV4YW1wbGVcbiAqIC8vIEVTNiBzdHlsZVxuICogUS5hc3luYyhmdW5jdGlvbiogKCkge1xuICogICAgICB2YXIgZm9vID0geWllbGQgZ2V0Rm9vUHJvbWlzZSgpO1xuICogICAgICB2YXIgYmFyID0geWllbGQgZ2V0QmFyUHJvbWlzZSgpO1xuICogICAgICByZXR1cm4gZm9vICsgYmFyO1xuICogfSlcbiAqIC8vIE9sZGVyIFNwaWRlck1vbmtleSBzdHlsZVxuICogUS5hc3luYyhmdW5jdGlvbiAoKSB7XG4gKiAgICAgIHZhciBmb28gPSB5aWVsZCBnZXRGb29Qcm9taXNlKCk7XG4gKiAgICAgIHZhciBiYXIgPSB5aWVsZCBnZXRCYXJQcm9taXNlKCk7XG4gKiAgICAgIFEucmV0dXJuKGZvbyArIGJhcik7XG4gKiB9KVxuICovXG5RW1wicmV0dXJuXCJdID0gX3JldHVybjtcbmZ1bmN0aW9uIF9yZXR1cm4odmFsdWUpIHtcbiAgICB0aHJvdyBuZXcgUVJldHVyblZhbHVlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBUaGUgcHJvbWlzZWQgZnVuY3Rpb24gZGVjb3JhdG9yIGVuc3VyZXMgdGhhdCBhbnkgcHJvbWlzZSBhcmd1bWVudHNcbiAqIGFyZSBzZXR0bGVkIGFuZCBwYXNzZWQgYXMgdmFsdWVzIChgdGhpc2AgaXMgYWxzbyBzZXR0bGVkIGFuZCBwYXNzZWRcbiAqIGFzIGEgdmFsdWUpLiAgSXQgd2lsbCBhbHNvIGVuc3VyZSB0aGF0IHRoZSByZXN1bHQgb2YgYSBmdW5jdGlvbiBpc1xuICogYWx3YXlzIGEgcHJvbWlzZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIGFkZCA9IFEucHJvbWlzZWQoZnVuY3Rpb24gKGEsIGIpIHtcbiAqICAgICByZXR1cm4gYSArIGI7XG4gKiB9KTtcbiAqIGFkZChRKGEpLCBRKEIpKTtcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gZGVjb3JhdGVcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gYSBmdW5jdGlvbiB0aGF0IGhhcyBiZWVuIGRlY29yYXRlZC5cbiAqL1xuUS5wcm9taXNlZCA9IHByb21pc2VkO1xuZnVuY3Rpb24gcHJvbWlzZWQoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3ByZWFkKFt0aGlzLCBhbGwoYXJndW1lbnRzKV0sIGZ1bmN0aW9uIChzZWxmLCBhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5cbi8qKlxuICogc2VuZHMgYSBtZXNzYWdlIHRvIGEgdmFsdWUgaW4gYSBmdXR1cmUgdHVyblxuICogQHBhcmFtIG9iamVjdCogdGhlIHJlY2lwaWVudFxuICogQHBhcmFtIG9wIHRoZSBuYW1lIG9mIHRoZSBtZXNzYWdlIG9wZXJhdGlvbiwgZS5nLiwgXCJ3aGVuXCIsXG4gKiBAcGFyYW0gYXJncyBmdXJ0aGVyIGFyZ3VtZW50cyB0byBiZSBmb3J3YXJkZWQgdG8gdGhlIG9wZXJhdGlvblxuICogQHJldHVybnMgcmVzdWx0IHtQcm9taXNlfSBhIHByb21pc2UgZm9yIHRoZSByZXN1bHQgb2YgdGhlIG9wZXJhdGlvblxuICovXG5RLmRpc3BhdGNoID0gZGlzcGF0Y2g7XG5mdW5jdGlvbiBkaXNwYXRjaChvYmplY3QsIG9wLCBhcmdzKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChvcCwgYXJncyk7XG59XG5cblByb21pc2UucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gKG9wLCBhcmdzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgUS5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYucHJvbWlzZURpc3BhdGNoKGRlZmVycmVkLnJlc29sdmUsIG9wLCBhcmdzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgb2YgYSBwcm9wZXJ0eSBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSBuYW1lICAgICAgbmFtZSBvZiBwcm9wZXJ0eSB0byBnZXRcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHByb3BlcnR5IHZhbHVlXG4gKi9cblEuZ2V0ID0gZnVuY3Rpb24gKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kaXNwYXRjaChcImdldFwiLCBba2V5XSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJnZXRcIiwgW2tleV0pO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3Igb2JqZWN0IG9iamVjdFxuICogQHBhcmFtIG5hbWUgICAgICBuYW1lIG9mIHByb3BlcnR5IHRvIHNldFxuICogQHBhcmFtIHZhbHVlICAgICBuZXcgdmFsdWUgb2YgcHJvcGVydHlcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxuICovXG5RLnNldCA9IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwic2V0XCIsIFtrZXksIHZhbHVlXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwic2V0XCIsIFtrZXksIHZhbHVlXSk7XG59O1xuXG4vKipcbiAqIERlbGV0ZXMgYSBwcm9wZXJ0eSBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSBuYW1lICAgICAgbmFtZSBvZiBwcm9wZXJ0eSB0byBkZWxldGVcbiAqIEByZXR1cm4gcHJvbWlzZSBmb3IgdGhlIHJldHVybiB2YWx1ZVxuICovXG5RLmRlbCA9IC8vIFhYWCBsZWdhY3lcblFbXCJkZWxldGVcIl0gPSBmdW5jdGlvbiAob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwiZGVsZXRlXCIsIFtrZXldKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmRlbCA9IC8vIFhYWCBsZWdhY3lcblByb21pc2UucHJvdG90eXBlW1wiZGVsZXRlXCJdID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwiZGVsZXRlXCIsIFtrZXldKTtcbn07XG5cbi8qKlxuICogSW52b2tlcyBhIG1ldGhvZCBpbiBhIGZ1dHVyZSB0dXJuLlxuICogQHBhcmFtIG9iamVjdCAgICBwcm9taXNlIG9yIGltbWVkaWF0ZSByZWZlcmVuY2UgZm9yIHRhcmdldCBvYmplY3RcbiAqIEBwYXJhbSBuYW1lICAgICAgbmFtZSBvZiBtZXRob2QgdG8gaW52b2tlXG4gKiBAcGFyYW0gdmFsdWUgICAgIGEgdmFsdWUgdG8gcG9zdCwgdHlwaWNhbGx5IGFuIGFycmF5IG9mXG4gKiAgICAgICAgICAgICAgICAgIGludm9jYXRpb24gYXJndW1lbnRzIGZvciBwcm9taXNlcyB0aGF0XG4gKiAgICAgICAgICAgICAgICAgIGFyZSB1bHRpbWF0ZWx5IGJhY2tlZCB3aXRoIGByZXNvbHZlYCB2YWx1ZXMsXG4gKiAgICAgICAgICAgICAgICAgIGFzIG9wcG9zZWQgdG8gdGhvc2UgYmFja2VkIHdpdGggVVJMc1xuICogICAgICAgICAgICAgICAgICB3aGVyZWluIHRoZSBwb3N0ZWQgdmFsdWUgY2FuIGJlIGFueVxuICogICAgICAgICAgICAgICAgICBKU09OIHNlcmlhbGl6YWJsZSBvYmplY3QuXG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSByZXR1cm4gdmFsdWVcbiAqL1xuLy8gYm91bmQgbG9jYWxseSBiZWNhdXNlIGl0IGlzIHVzZWQgYnkgb3RoZXIgbWV0aG9kc1xuUS5tYXBwbHkgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUS5wb3N0ID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSwgYXJncykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcmdzXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5tYXBwbHkgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUHJvbWlzZS5wcm90b3R5cGUucG9zdCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcmdzXSk7XG59O1xuXG4vKipcbiAqIEludm9rZXMgYSBtZXRob2QgaW4gYSBmdXR1cmUgdHVybi5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgb2JqZWN0XG4gKiBAcGFyYW0gbmFtZSAgICAgIG5hbWUgb2YgbWV0aG9kIHRvIGludm9rZVxuICogQHBhcmFtIC4uLmFyZ3MgICBhcnJheSBvZiBpbnZvY2F0aW9uIGFyZ3VtZW50c1xuICogQHJldHVybiBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlXG4gKi9cblEuc2VuZCA9IC8vIFhYWCBNYXJrIE1pbGxlcidzIHByb3Bvc2VkIHBhcmxhbmNlXG5RLm1jYWxsID0gLy8gWFhYIEFzIHByb3Bvc2VkIGJ5IFwiUmVkc2FuZHJvXCJcblEuaW52b2tlID0gZnVuY3Rpb24gKG9iamVjdCwgbmFtZSAvKi4uLmFyZ3MqLykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcnJheV9zbGljZShhcmd1bWVudHMsIDIpXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5zZW5kID0gLy8gWFhYIE1hcmsgTWlsbGVyJ3MgcHJvcG9zZWQgcGFybGFuY2VcblByb21pc2UucHJvdG90eXBlLm1jYWxsID0gLy8gWFhYIEFzIHByb3Bvc2VkIGJ5IFwiUmVkc2FuZHJvXCJcblByb21pc2UucHJvdG90eXBlLmludm9rZSA9IGZ1bmN0aW9uIChuYW1lIC8qLi4uYXJncyovKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2goXCJwb3N0XCIsIFtuYW1lLCBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpXSk7XG59O1xuXG4vKipcbiAqIEFwcGxpZXMgdGhlIHByb21pc2VkIGZ1bmN0aW9uIGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IGZ1bmN0aW9uXG4gKiBAcGFyYW0gYXJncyAgICAgIGFycmF5IG9mIGFwcGxpY2F0aW9uIGFyZ3VtZW50c1xuICovXG5RLmZhcHBseSA9IGZ1bmN0aW9uIChvYmplY3QsIGFyZ3MpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwiYXBwbHlcIiwgW3ZvaWQgMCwgYXJnc10pO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUuZmFwcGx5ID0gZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICByZXR1cm4gdGhpcy5kaXNwYXRjaChcImFwcGx5XCIsIFt2b2lkIDAsIGFyZ3NdKTtcbn07XG5cbi8qKlxuICogQ2FsbHMgdGhlIHByb21pc2VkIGZ1bmN0aW9uIGluIGEgZnV0dXJlIHR1cm4uXG4gKiBAcGFyYW0gb2JqZWN0ICAgIHByb21pc2Ugb3IgaW1tZWRpYXRlIHJlZmVyZW5jZSBmb3IgdGFyZ2V0IGZ1bmN0aW9uXG4gKiBAcGFyYW0gLi4uYXJncyAgIGFycmF5IG9mIGFwcGxpY2F0aW9uIGFyZ3VtZW50c1xuICovXG5RW1widHJ5XCJdID1cblEuZmNhbGwgPSBmdW5jdGlvbiAob2JqZWN0IC8qIC4uLmFyZ3MqLykge1xuICAgIHJldHVybiBRKG9iamVjdCkuZGlzcGF0Y2goXCJhcHBseVwiLCBbdm9pZCAwLCBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5mY2FsbCA9IGZ1bmN0aW9uICgvKi4uLmFyZ3MqLykge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwiYXBwbHlcIiwgW3ZvaWQgMCwgYXJyYXlfc2xpY2UoYXJndW1lbnRzKV0pO1xufTtcblxuLyoqXG4gKiBCaW5kcyB0aGUgcHJvbWlzZWQgZnVuY3Rpb24sIHRyYW5zZm9ybWluZyByZXR1cm4gdmFsdWVzIGludG8gYSBmdWxmaWxsZWRcbiAqIHByb21pc2UgYW5kIHRocm93biBlcnJvcnMgaW50byBhIHJlamVjdGVkIG9uZS5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgZnVuY3Rpb25cbiAqIEBwYXJhbSAuLi5hcmdzICAgYXJyYXkgb2YgYXBwbGljYXRpb24gYXJndW1lbnRzXG4gKi9cblEuZmJpbmQgPSBmdW5jdGlvbiAob2JqZWN0IC8qLi4uYXJncyovKSB7XG4gICAgdmFyIHByb21pc2UgPSBRKG9iamVjdCk7XG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpO1xuICAgIHJldHVybiBmdW5jdGlvbiBmYm91bmQoKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLmRpc3BhdGNoKFwiYXBwbHlcIiwgW1xuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIGFyZ3MuY29uY2F0KGFycmF5X3NsaWNlKGFyZ3VtZW50cykpXG4gICAgICAgIF0pO1xuICAgIH07XG59O1xuUHJvbWlzZS5wcm90b3R5cGUuZmJpbmQgPSBmdW5jdGlvbiAoLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gICAgdmFyIGFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMpO1xuICAgIHJldHVybiBmdW5jdGlvbiBmYm91bmQoKSB7XG4gICAgICAgIHJldHVybiBwcm9taXNlLmRpc3BhdGNoKFwiYXBwbHlcIiwgW1xuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIGFyZ3MuY29uY2F0KGFycmF5X3NsaWNlKGFyZ3VtZW50cykpXG4gICAgICAgIF0pO1xuICAgIH07XG59O1xuXG4vKipcbiAqIFJlcXVlc3RzIHRoZSBuYW1lcyBvZiB0aGUgb3duZWQgcHJvcGVydGllcyBvZiBhIHByb21pc2VkXG4gKiBvYmplY3QgaW4gYSBmdXR1cmUgdHVybi5cbiAqIEBwYXJhbSBvYmplY3QgICAgcHJvbWlzZSBvciBpbW1lZGlhdGUgcmVmZXJlbmNlIGZvciB0YXJnZXQgb2JqZWN0XG4gKiBAcmV0dXJuIHByb21pc2UgZm9yIHRoZSBrZXlzIG9mIHRoZSBldmVudHVhbGx5IHNldHRsZWQgb2JqZWN0XG4gKi9cblEua2V5cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLmRpc3BhdGNoKFwia2V5c1wiLCBbXSk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmRpc3BhdGNoKFwia2V5c1wiLCBbXSk7XG59O1xuXG4vKipcbiAqIFR1cm5zIGFuIGFycmF5IG9mIHByb21pc2VzIGludG8gYSBwcm9taXNlIGZvciBhbiBhcnJheS4gIElmIGFueSBvZlxuICogdGhlIHByb21pc2VzIGdldHMgcmVqZWN0ZWQsIHRoZSB3aG9sZSBhcnJheSBpcyByZWplY3RlZCBpbW1lZGlhdGVseS5cbiAqIEBwYXJhbSB7QXJyYXkqfSBhbiBhcnJheSAob3IgcHJvbWlzZSBmb3IgYW4gYXJyYXkpIG9mIHZhbHVlcyAob3JcbiAqIHByb21pc2VzIGZvciB2YWx1ZXMpXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIGFuIGFycmF5IG9mIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlc1xuICovXG4vLyBCeSBNYXJrIE1pbGxlclxuLy8gaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9c3RyYXdtYW46Y29uY3VycmVuY3kmcmV2PTEzMDg3NzY1MjEjYWxsZnVsZmlsbGVkXG5RLmFsbCA9IGFsbDtcbmZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICAgIHJldHVybiB3aGVuKHByb21pc2VzLCBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICAgICAgdmFyIHBlbmRpbmdDb3VudCA9IDA7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgICAgIGFycmF5X3JlZHVjZShwcm9taXNlcywgZnVuY3Rpb24gKHVuZGVmaW5lZCwgcHJvbWlzZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBzbmFwc2hvdDtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBpc1Byb21pc2UocHJvbWlzZSkgJiZcbiAgICAgICAgICAgICAgICAoc25hcHNob3QgPSBwcm9taXNlLmluc3BlY3QoKSkuc3RhdGUgPT09IFwiZnVsZmlsbGVkXCJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHByb21pc2VzW2luZGV4XSA9IHNuYXBzaG90LnZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICArK3BlbmRpbmdDb3VudDtcbiAgICAgICAgICAgICAgICB3aGVuKFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb21pc2VzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0tcGVuZGluZ0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShwcm9taXNlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5ub3RpZnkoeyBpbmRleDogaW5kZXgsIHZhbHVlOiBwcm9ncmVzcyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHZvaWQgMCk7XG4gICAgICAgIGlmIChwZW5kaW5nQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocHJvbWlzZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0pO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5hbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFsbCh0aGlzKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgcmVzb2x2ZWQgcHJvbWlzZSBvZiBhbiBhcnJheS4gUHJpb3IgcmVqZWN0ZWQgcHJvbWlzZXMgYXJlXG4gKiBpZ25vcmVkLiAgUmVqZWN0cyBvbmx5IGlmIGFsbCBwcm9taXNlcyBhcmUgcmVqZWN0ZWQuXG4gKiBAcGFyYW0ge0FycmF5Kn0gYW4gYXJyYXkgY29udGFpbmluZyB2YWx1ZXMgb3IgcHJvbWlzZXMgZm9yIHZhbHVlc1xuICogQHJldHVybnMgYSBwcm9taXNlIGZ1bGZpbGxlZCB3aXRoIHRoZSB2YWx1ZSBvZiB0aGUgZmlyc3QgcmVzb2x2ZWQgcHJvbWlzZSxcbiAqIG9yIGEgcmVqZWN0ZWQgcHJvbWlzZSBpZiBhbGwgcHJvbWlzZXMgYXJlIHJlamVjdGVkLlxuICovXG5RLmFueSA9IGFueTtcblxuZnVuY3Rpb24gYW55KHByb21pc2VzKSB7XG4gICAgaWYgKHByb21pc2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gUS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgdmFyIGRlZmVycmVkID0gUS5kZWZlcigpO1xuICAgIHZhciBwZW5kaW5nQ291bnQgPSAwO1xuICAgIGFycmF5X3JlZHVjZShwcm9taXNlcywgZnVuY3Rpb24gKHByZXYsIGN1cnJlbnQsIGluZGV4KSB7XG4gICAgICAgIHZhciBwcm9taXNlID0gcHJvbWlzZXNbaW5kZXhdO1xuXG4gICAgICAgIHBlbmRpbmdDb3VudCsrO1xuXG4gICAgICAgIHdoZW4ocHJvbWlzZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9uUHJvZ3Jlc3MpO1xuICAgICAgICBmdW5jdGlvbiBvbkZ1bGZpbGxlZChyZXN1bHQpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBvblJlamVjdGVkKGVycikge1xuICAgICAgICAgICAgcGVuZGluZ0NvdW50LS07XG4gICAgICAgICAgICBpZiAocGVuZGluZ0NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlamVjdGlvbiA9IGVyciB8fCBuZXcgRXJyb3IoXCJcIiArIGVycik7XG5cbiAgICAgICAgICAgICAgICByZWplY3Rpb24ubWVzc2FnZSA9IChcIlEgY2FuJ3QgZ2V0IGZ1bGZpbGxtZW50IHZhbHVlIGZyb20gYW55IHByb21pc2UsIGFsbCBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwicHJvbWlzZXMgd2VyZSByZWplY3RlZC4gTGFzdCBlcnJvciBtZXNzYWdlOiBcIiArIHJlamVjdGlvbi5tZXNzYWdlKTtcblxuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChyZWplY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG9uUHJvZ3Jlc3MocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLm5vdGlmeSh7XG4gICAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBwcm9ncmVzc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB1bmRlZmluZWQpO1xuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59XG5cblByb21pc2UucHJvdG90eXBlLmFueSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYW55KHRoaXMpO1xufTtcblxuLyoqXG4gKiBXYWl0cyBmb3IgYWxsIHByb21pc2VzIHRvIGJlIHNldHRsZWQsIGVpdGhlciBmdWxmaWxsZWQgb3JcbiAqIHJlamVjdGVkLiAgVGhpcyBpcyBkaXN0aW5jdCBmcm9tIGBhbGxgIHNpbmNlIHRoYXQgd291bGQgc3RvcFxuICogd2FpdGluZyBhdCB0aGUgZmlyc3QgcmVqZWN0aW9uLiAgVGhlIHByb21pc2UgcmV0dXJuZWQgYnlcbiAqIGBhbGxSZXNvbHZlZGAgd2lsbCBuZXZlciBiZSByZWplY3RlZC5cbiAqIEBwYXJhbSBwcm9taXNlcyBhIHByb21pc2UgZm9yIGFuIGFycmF5IChvciBhbiBhcnJheSkgb2YgcHJvbWlzZXNcbiAqIChvciB2YWx1ZXMpXG4gKiBAcmV0dXJuIGEgcHJvbWlzZSBmb3IgYW4gYXJyYXkgb2YgcHJvbWlzZXNcbiAqL1xuUS5hbGxSZXNvbHZlZCA9IGRlcHJlY2F0ZShhbGxSZXNvbHZlZCwgXCJhbGxSZXNvbHZlZFwiLCBcImFsbFNldHRsZWRcIik7XG5mdW5jdGlvbiBhbGxSZXNvbHZlZChwcm9taXNlcykge1xuICAgIHJldHVybiB3aGVuKHByb21pc2VzLCBmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICAgICAgcHJvbWlzZXMgPSBhcnJheV9tYXAocHJvbWlzZXMsIFEpO1xuICAgICAgICByZXR1cm4gd2hlbihhbGwoYXJyYXlfbWFwKHByb21pc2VzLCBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHdoZW4ocHJvbWlzZSwgbm9vcCwgbm9vcCk7XG4gICAgICAgIH0pKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VzO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUuYWxsUmVzb2x2ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGFsbFJlc29sdmVkKHRoaXMpO1xufTtcblxuLyoqXG4gKiBAc2VlIFByb21pc2UjYWxsU2V0dGxlZFxuICovXG5RLmFsbFNldHRsZWQgPSBhbGxTZXR0bGVkO1xuZnVuY3Rpb24gYWxsU2V0dGxlZChwcm9taXNlcykge1xuICAgIHJldHVybiBRKHByb21pc2VzKS5hbGxTZXR0bGVkKCk7XG59XG5cbi8qKlxuICogVHVybnMgYW4gYXJyYXkgb2YgcHJvbWlzZXMgaW50byBhIHByb21pc2UgZm9yIGFuIGFycmF5IG9mIHRoZWlyIHN0YXRlcyAoYXNcbiAqIHJldHVybmVkIGJ5IGBpbnNwZWN0YCkgd2hlbiB0aGV5IGhhdmUgYWxsIHNldHRsZWQuXG4gKiBAcGFyYW0ge0FycmF5W0FueSpdfSB2YWx1ZXMgYW4gYXJyYXkgKG9yIHByb21pc2UgZm9yIGFuIGFycmF5KSBvZiB2YWx1ZXMgKG9yXG4gKiBwcm9taXNlcyBmb3IgdmFsdWVzKVxuICogQHJldHVybnMge0FycmF5W1N0YXRlXX0gYW4gYXJyYXkgb2Ygc3RhdGVzIGZvciB0aGUgcmVzcGVjdGl2ZSB2YWx1ZXMuXG4gKi9cblByb21pc2UucHJvdG90eXBlLmFsbFNldHRsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAocHJvbWlzZXMpIHtcbiAgICAgICAgcmV0dXJuIGFsbChhcnJheV9tYXAocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlID0gUShwcm9taXNlKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlZ2FyZGxlc3MoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2UuaW5zcGVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihyZWdhcmRsZXNzLCByZWdhcmRsZXNzKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBDYXB0dXJlcyB0aGUgZmFpbHVyZSBvZiBhIHByb21pc2UsIGdpdmluZyBhbiBvcG9ydHVuaXR5IHRvIHJlY292ZXJcbiAqIHdpdGggYSBjYWxsYmFjay4gIElmIHRoZSBnaXZlbiBwcm9taXNlIGlzIGZ1bGZpbGxlZCwgdGhlIHJldHVybmVkXG4gKiBwcm9taXNlIGlzIGZ1bGZpbGxlZC5cbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZSBmb3Igc29tZXRoaW5nXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB0byBmdWxmaWxsIHRoZSByZXR1cm5lZCBwcm9taXNlIGlmIHRoZVxuICogZ2l2ZW4gcHJvbWlzZSBpcyByZWplY3RlZFxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBjYWxsYmFja1xuICovXG5RLmZhaWwgPSAvLyBYWFggbGVnYWN5XG5RW1wiY2F0Y2hcIl0gPSBmdW5jdGlvbiAob2JqZWN0LCByZWplY3RlZCkge1xuICAgIHJldHVybiBRKG9iamVjdCkudGhlbih2b2lkIDAsIHJlamVjdGVkKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmZhaWwgPSAvLyBYWFggbGVnYWN5XG5Qcm9taXNlLnByb3RvdHlwZVtcImNhdGNoXCJdID0gZnVuY3Rpb24gKHJlamVjdGVkKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbih2b2lkIDAsIHJlamVjdGVkKTtcbn07XG5cbi8qKlxuICogQXR0YWNoZXMgYSBsaXN0ZW5lciB0aGF0IGNhbiByZXNwb25kIHRvIHByb2dyZXNzIG5vdGlmaWNhdGlvbnMgZnJvbSBhXG4gKiBwcm9taXNlJ3Mgb3JpZ2luYXRpbmcgZGVmZXJyZWQuIFRoaXMgbGlzdGVuZXIgcmVjZWl2ZXMgdGhlIGV4YWN0IGFyZ3VtZW50c1xuICogcGFzc2VkIHRvIGBgZGVmZXJyZWQubm90aWZ5YGAuXG4gKiBAcGFyYW0ge0FueSp9IHByb21pc2UgZm9yIHNvbWV0aGluZ1xuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgdG8gcmVjZWl2ZSBhbnkgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9uc1xuICogQHJldHVybnMgdGhlIGdpdmVuIHByb21pc2UsIHVuY2hhbmdlZFxuICovXG5RLnByb2dyZXNzID0gcHJvZ3Jlc3M7XG5mdW5jdGlvbiBwcm9ncmVzcyhvYmplY3QsIHByb2dyZXNzZWQpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLnRoZW4odm9pZCAwLCB2b2lkIDAsIHByb2dyZXNzZWQpO1xufVxuXG5Qcm9taXNlLnByb3RvdHlwZS5wcm9ncmVzcyA9IGZ1bmN0aW9uIChwcm9ncmVzc2VkKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbih2b2lkIDAsIHZvaWQgMCwgcHJvZ3Jlc3NlZCk7XG59O1xuXG4vKipcbiAqIFByb3ZpZGVzIGFuIG9wcG9ydHVuaXR5IHRvIG9ic2VydmUgdGhlIHNldHRsaW5nIG9mIGEgcHJvbWlzZSxcbiAqIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgb3IgcmVqZWN0ZWQuICBGb3J3YXJkc1xuICogdGhlIHJlc29sdXRpb24gdG8gdGhlIHJldHVybmVkIHByb21pc2Ugd2hlbiB0aGUgY2FsbGJhY2sgaXMgZG9uZS5cbiAqIFRoZSBjYWxsYmFjayBjYW4gcmV0dXJuIGEgcHJvbWlzZSB0byBkZWZlciBjb21wbGV0aW9uLlxuICogQHBhcmFtIHtBbnkqfSBwcm9taXNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB0byBvYnNlcnZlIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBnaXZlblxuICogcHJvbWlzZSwgdGFrZXMgbm8gYXJndW1lbnRzLlxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgZ2l2ZW4gcHJvbWlzZSB3aGVuXG4gKiBgYGZpbmBgIGlzIGRvbmUuXG4gKi9cblEuZmluID0gLy8gWFhYIGxlZ2FjeVxuUVtcImZpbmFsbHlcIl0gPSBmdW5jdGlvbiAob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHJldHVybiBRKG9iamVjdClbXCJmaW5hbGx5XCJdKGNhbGxiYWNrKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmZpbiA9IC8vIFhYWCBsZWdhY3lcblByb21pc2UucHJvdG90eXBlW1wiZmluYWxseVwiXSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrLmFwcGx5ICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUSBjYW4ndCBhcHBseSBmaW5hbGx5IGNhbGxiYWNrXCIpO1xuICAgIH1cbiAgICBjYWxsYmFjayA9IFEoY2FsbGJhY2spO1xuICAgIHJldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjay5mY2FsbCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIC8vIFRPRE8gYXR0ZW1wdCB0byByZWN5Y2xlIHRoZSByZWplY3Rpb24gd2l0aCBcInRoaXNcIi5cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmZjYWxsKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBUZXJtaW5hdGVzIGEgY2hhaW4gb2YgcHJvbWlzZXMsIGZvcmNpbmcgcmVqZWN0aW9ucyB0byBiZVxuICogdGhyb3duIGFzIGV4Y2VwdGlvbnMuXG4gKiBAcGFyYW0ge0FueSp9IHByb21pc2UgYXQgdGhlIGVuZCBvZiBhIGNoYWluIG9mIHByb21pc2VzXG4gKiBAcmV0dXJucyBub3RoaW5nXG4gKi9cblEuZG9uZSA9IGZ1bmN0aW9uIChvYmplY3QsIGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5kb25lKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIHByb2dyZXNzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLmRvbmUgPSBmdW5jdGlvbiAoZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3MpIHtcbiAgICB2YXIgb25VbmhhbmRsZWRFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAvLyBmb3J3YXJkIHRvIGEgZnV0dXJlIHR1cm4gc28gdGhhdCBgYHdoZW5gYFxuICAgICAgICAvLyBkb2VzIG5vdCBjYXRjaCBpdCBhbmQgdHVybiBpdCBpbnRvIGEgcmVqZWN0aW9uLlxuICAgICAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG1ha2VTdGFja1RyYWNlTG9uZyhlcnJvciwgcHJvbWlzZSk7XG4gICAgICAgICAgICBpZiAoUS5vbmVycm9yKSB7XG4gICAgICAgICAgICAgICAgUS5vbmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBBdm9pZCB1bm5lY2Vzc2FyeSBgbmV4dFRpY2tgaW5nIHZpYSBhbiB1bm5lY2Vzc2FyeSBgd2hlbmAuXG4gICAgdmFyIHByb21pc2UgPSBmdWxmaWxsZWQgfHwgcmVqZWN0ZWQgfHwgcHJvZ3Jlc3MgP1xuICAgICAgICB0aGlzLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCwgcHJvZ3Jlc3MpIDpcbiAgICAgICAgdGhpcztcblxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJvYmplY3RcIiAmJiBwcm9jZXNzICYmIHByb2Nlc3MuZG9tYWluKSB7XG4gICAgICAgIG9uVW5oYW5kbGVkRXJyb3IgPSBwcm9jZXNzLmRvbWFpbi5iaW5kKG9uVW5oYW5kbGVkRXJyb3IpO1xuICAgIH1cblxuICAgIHByb21pc2UudGhlbih2b2lkIDAsIG9uVW5oYW5kbGVkRXJyb3IpO1xufTtcblxuLyoqXG4gKiBDYXVzZXMgYSBwcm9taXNlIHRvIGJlIHJlamVjdGVkIGlmIGl0IGRvZXMgbm90IGdldCBmdWxmaWxsZWQgYmVmb3JlXG4gKiBzb21lIG1pbGxpc2Vjb25kcyB0aW1lIG91dC5cbiAqIEBwYXJhbSB7QW55Kn0gcHJvbWlzZVxuICogQHBhcmFtIHtOdW1iZXJ9IG1pbGxpc2Vjb25kcyB0aW1lb3V0XG4gKiBAcGFyYW0ge0FueSp9IGN1c3RvbSBlcnJvciBtZXNzYWdlIG9yIEVycm9yIG9iamVjdCAob3B0aW9uYWwpXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBnaXZlbiBwcm9taXNlIGlmIGl0IGlzXG4gKiBmdWxmaWxsZWQgYmVmb3JlIHRoZSB0aW1lb3V0LCBvdGhlcndpc2UgcmVqZWN0ZWQuXG4gKi9cblEudGltZW91dCA9IGZ1bmN0aW9uIChvYmplY3QsIG1zLCBlcnJvcikge1xuICAgIHJldHVybiBRKG9iamVjdCkudGltZW91dChtcywgZXJyb3IpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUudGltZW91dCA9IGZ1bmN0aW9uIChtcywgZXJyb3IpIHtcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIHZhciB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFlcnJvciB8fCBcInN0cmluZ1wiID09PSB0eXBlb2YgZXJyb3IpIHtcbiAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKGVycm9yIHx8IFwiVGltZWQgb3V0IGFmdGVyIFwiICsgbXMgKyBcIiBtc1wiKTtcbiAgICAgICAgICAgIGVycm9yLmNvZGUgPSBcIkVUSU1FRE9VVFwiO1xuICAgICAgICB9XG4gICAgICAgIGRlZmVycmVkLnJlamVjdChlcnJvcik7XG4gICAgfSwgbXMpO1xuXG4gICAgdGhpcy50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh2YWx1ZSk7XG4gICAgfSwgZnVuY3Rpb24gKGV4Y2VwdGlvbikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgZGVmZXJyZWQucmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgfSwgZGVmZXJyZWQubm90aWZ5KTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIGdpdmVuIHZhbHVlIChvciBwcm9taXNlZCB2YWx1ZSksIHNvbWVcbiAqIG1pbGxpc2Vjb25kcyBhZnRlciBpdCByZXNvbHZlZC4gUGFzc2VzIHJlamVjdGlvbnMgaW1tZWRpYXRlbHkuXG4gKiBAcGFyYW0ge0FueSp9IHByb21pc2VcbiAqIEBwYXJhbSB7TnVtYmVyfSBtaWxsaXNlY29uZHNcbiAqIEByZXR1cm5zIGEgcHJvbWlzZSBmb3IgdGhlIHJlc29sdXRpb24gb2YgdGhlIGdpdmVuIHByb21pc2UgYWZ0ZXIgbWlsbGlzZWNvbmRzXG4gKiB0aW1lIGhhcyBlbGFwc2VkIHNpbmNlIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBnaXZlbiBwcm9taXNlLlxuICogSWYgdGhlIGdpdmVuIHByb21pc2UgcmVqZWN0cywgdGhhdCBpcyBwYXNzZWQgaW1tZWRpYXRlbHkuXG4gKi9cblEuZGVsYXkgPSBmdW5jdGlvbiAob2JqZWN0LCB0aW1lb3V0KSB7XG4gICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkge1xuICAgICAgICB0aW1lb3V0ID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBRKG9iamVjdCkuZGVsYXkodGltZW91dCk7XG59O1xuXG5Qcm9taXNlLnByb3RvdHlwZS5kZWxheSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKiBQYXNzZXMgYSBjb250aW51YXRpb24gdG8gYSBOb2RlIGZ1bmN0aW9uLCB3aGljaCBpcyBjYWxsZWQgd2l0aCB0aGUgZ2l2ZW5cbiAqIGFyZ3VtZW50cyBwcm92aWRlZCBhcyBhbiBhcnJheSwgYW5kIHJldHVybnMgYSBwcm9taXNlLlxuICpcbiAqICAgICAgUS5uZmFwcGx5KEZTLnJlYWRGaWxlLCBbX19maWxlbmFtZV0pXG4gKiAgICAgIC50aGVuKGZ1bmN0aW9uIChjb250ZW50KSB7XG4gKiAgICAgIH0pXG4gKlxuICovXG5RLm5mYXBwbHkgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGFyZ3MpIHtcbiAgICByZXR1cm4gUShjYWxsYmFjaykubmZhcHBseShhcmdzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLm5mYXBwbHkgPSBmdW5jdGlvbiAoYXJncykge1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgdmFyIG5vZGVBcmdzID0gYXJyYXlfc2xpY2UoYXJncyk7XG4gICAgbm9kZUFyZ3MucHVzaChkZWZlcnJlZC5tYWtlTm9kZVJlc29sdmVyKCkpO1xuICAgIHRoaXMuZmFwcGx5KG5vZGVBcmdzKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59O1xuXG4vKipcbiAqIFBhc3NlcyBhIGNvbnRpbnVhdGlvbiB0byBhIE5vZGUgZnVuY3Rpb24sIHdoaWNoIGlzIGNhbGxlZCB3aXRoIHRoZSBnaXZlblxuICogYXJndW1lbnRzIHByb3ZpZGVkIGluZGl2aWR1YWxseSwgYW5kIHJldHVybnMgYSBwcm9taXNlLlxuICogQGV4YW1wbGVcbiAqIFEubmZjYWxsKEZTLnJlYWRGaWxlLCBfX2ZpbGVuYW1lKVxuICogLnRoZW4oZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAqIH0pXG4gKlxuICovXG5RLm5mY2FsbCA9IGZ1bmN0aW9uIChjYWxsYmFjayAvKi4uLmFyZ3MqLykge1xuICAgIHZhciBhcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAxKTtcbiAgICByZXR1cm4gUShjYWxsYmFjaykubmZhcHBseShhcmdzKTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLm5mY2FsbCA9IGZ1bmN0aW9uICgvKi4uLmFyZ3MqLykge1xuICAgIHZhciBub2RlQXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cyk7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XG4gICAgdGhpcy5mYXBwbHkobm9kZUFyZ3MpLmZhaWwoZGVmZXJyZWQucmVqZWN0KTtcbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbn07XG5cbi8qKlxuICogV3JhcHMgYSBOb2RlSlMgY29udGludWF0aW9uIHBhc3NpbmcgZnVuY3Rpb24gYW5kIHJldHVybnMgYW4gZXF1aXZhbGVudFxuICogdmVyc2lvbiB0aGF0IHJldHVybnMgYSBwcm9taXNlLlxuICogQGV4YW1wbGVcbiAqIFEubmZiaW5kKEZTLnJlYWRGaWxlLCBfX2ZpbGVuYW1lKShcInV0Zi04XCIpXG4gKiAudGhlbihjb25zb2xlLmxvZylcbiAqIC5kb25lKClcbiAqL1xuUS5uZmJpbmQgPVxuUS5kZW5vZGVpZnkgPSBmdW5jdGlvbiAoY2FsbGJhY2sgLyouLi5hcmdzKi8pIHtcbiAgICBpZiAoY2FsbGJhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJRIGNhbid0IHdyYXAgYW4gdW5kZWZpbmVkIGZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICB2YXIgYmFzZUFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDEpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBub2RlQXJncyA9IGJhc2VBcmdzLmNvbmNhdChhcnJheV9zbGljZShhcmd1bWVudHMpKTtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICAgICAgbm9kZUFyZ3MucHVzaChkZWZlcnJlZC5tYWtlTm9kZVJlc29sdmVyKCkpO1xuICAgICAgICBRKGNhbGxiYWNrKS5mYXBwbHkobm9kZUFyZ3MpLmZhaWwoZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLm5mYmluZCA9XG5Qcm9taXNlLnByb3RvdHlwZS5kZW5vZGVpZnkgPSBmdW5jdGlvbiAoLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgYXJncyA9IGFycmF5X3NsaWNlKGFyZ3VtZW50cyk7XG4gICAgYXJncy51bnNoaWZ0KHRoaXMpO1xuICAgIHJldHVybiBRLmRlbm9kZWlmeS5hcHBseSh2b2lkIDAsIGFyZ3MpO1xufTtcblxuUS5uYmluZCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc3AgLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgYmFzZUFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBub2RlQXJncyA9IGJhc2VBcmdzLmNvbmNhdChhcnJheV9zbGljZShhcmd1bWVudHMpKTtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICAgICAgbm9kZUFyZ3MucHVzaChkZWZlcnJlZC5tYWtlTm9kZVJlc29sdmVyKCkpO1xuICAgICAgICBmdW5jdGlvbiBib3VuZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseSh0aGlzcCwgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBRKGJvdW5kKS5mYXBwbHkobm9kZUFyZ3MpLmZhaWwoZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcbn07XG5cblByb21pc2UucHJvdG90eXBlLm5iaW5kID0gZnVuY3Rpb24gKC8qdGhpc3AsIC4uLmFyZ3MqLykge1xuICAgIHZhciBhcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAwKTtcbiAgICBhcmdzLnVuc2hpZnQodGhpcyk7XG4gICAgcmV0dXJuIFEubmJpbmQuYXBwbHkodm9pZCAwLCBhcmdzKTtcbn07XG5cbi8qKlxuICogQ2FsbHMgYSBtZXRob2Qgb2YgYSBOb2RlLXN0eWxlIG9iamVjdCB0aGF0IGFjY2VwdHMgYSBOb2RlLXN0eWxlXG4gKiBjYWxsYmFjayB3aXRoIGEgZ2l2ZW4gYXJyYXkgb2YgYXJndW1lbnRzLCBwbHVzIGEgcHJvdmlkZWQgY2FsbGJhY2suXG4gKiBAcGFyYW0gb2JqZWN0IGFuIG9iamVjdCB0aGF0IGhhcyB0aGUgbmFtZWQgbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBtZXRob2Qgb2Ygb2JqZWN0XG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzIGFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBtZXRob2Q7IHRoZSBjYWxsYmFja1xuICogd2lsbCBiZSBwcm92aWRlZCBieSBRIGFuZCBhcHBlbmRlZCB0byB0aGVzZSBhcmd1bWVudHMuXG4gKiBAcmV0dXJucyBhIHByb21pc2UgZm9yIHRoZSB2YWx1ZSBvciBlcnJvclxuICovXG5RLm5tYXBwbHkgPSAvLyBYWFggQXMgcHJvcG9zZWQgYnkgXCJSZWRzYW5kcm9cIlxuUS5ucG9zdCA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUsIGFyZ3MpIHtcbiAgICByZXR1cm4gUShvYmplY3QpLm5wb3N0KG5hbWUsIGFyZ3MpO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubm1hcHBseSA9IC8vIFhYWCBBcyBwcm9wb3NlZCBieSBcIlJlZHNhbmRyb1wiXG5Qcm9taXNlLnByb3RvdHlwZS5ucG9zdCA9IGZ1bmN0aW9uIChuYW1lLCBhcmdzKSB7XG4gICAgdmFyIG5vZGVBcmdzID0gYXJyYXlfc2xpY2UoYXJncyB8fCBbXSk7XG4gICAgdmFyIGRlZmVycmVkID0gZGVmZXIoKTtcbiAgICBub2RlQXJncy5wdXNoKGRlZmVycmVkLm1ha2VOb2RlUmVzb2x2ZXIoKSk7XG4gICAgdGhpcy5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIG5vZGVBcmdzXSkuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuLyoqXG4gKiBDYWxscyBhIG1ldGhvZCBvZiBhIE5vZGUtc3R5bGUgb2JqZWN0IHRoYXQgYWNjZXB0cyBhIE5vZGUtc3R5bGVcbiAqIGNhbGxiYWNrLCBmb3J3YXJkaW5nIHRoZSBnaXZlbiB2YXJpYWRpYyBhcmd1bWVudHMsIHBsdXMgYSBwcm92aWRlZFxuICogY2FsbGJhY2sgYXJndW1lbnQuXG4gKiBAcGFyYW0gb2JqZWN0IGFuIG9iamVjdCB0aGF0IGhhcyB0aGUgbmFtZWQgbWV0aG9kXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBtZXRob2Qgb2Ygb2JqZWN0XG4gKiBAcGFyYW0gLi4uYXJncyBhcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgbWV0aG9kOyB0aGUgY2FsbGJhY2sgd2lsbFxuICogYmUgcHJvdmlkZWQgYnkgUSBhbmQgYXBwZW5kZWQgdG8gdGhlc2UgYXJndW1lbnRzLlxuICogQHJldHVybnMgYSBwcm9taXNlIGZvciB0aGUgdmFsdWUgb3IgZXJyb3JcbiAqL1xuUS5uc2VuZCA9IC8vIFhYWCBCYXNlZCBvbiBNYXJrIE1pbGxlcidzIHByb3Bvc2VkIFwic2VuZFwiXG5RLm5tY2FsbCA9IC8vIFhYWCBCYXNlZCBvbiBcIlJlZHNhbmRybydzXCIgcHJvcG9zYWxcblEubmludm9rZSA9IGZ1bmN0aW9uIChvYmplY3QsIG5hbWUgLyouLi5hcmdzKi8pIHtcbiAgICB2YXIgbm9kZUFyZ3MgPSBhcnJheV9zbGljZShhcmd1bWVudHMsIDIpO1xuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XG4gICAgbm9kZUFyZ3MucHVzaChkZWZlcnJlZC5tYWtlTm9kZVJlc29sdmVyKCkpO1xuICAgIFEob2JqZWN0KS5kaXNwYXRjaChcInBvc3RcIiwgW25hbWUsIG5vZGVBcmdzXSkuZmFpbChkZWZlcnJlZC5yZWplY3QpO1xuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xufTtcblxuUHJvbWlzZS5wcm90b3R5cGUubnNlbmQgPSAvLyBYWFggQmFzZWQgb24gTWFyayBNaWxsZXIncyBwcm9wb3NlZCBcInNlbmRcIlxuUHJvbWlzZS5wcm90b3R5cGUubm1jYWxsID0gLy8gWFhYIEJhc2VkIG9uIFwiUmVkc2FuZHJvJ3NcIiBwcm9wb3NhbFxuUHJvbWlzZS5wcm90b3R5cGUubmludm9rZSA9IGZ1bmN0aW9uIChuYW1lIC8qLi4uYXJncyovKSB7XG4gICAgdmFyIG5vZGVBcmdzID0gYXJyYXlfc2xpY2UoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xuICAgIG5vZGVBcmdzLnB1c2goZGVmZXJyZWQubWFrZU5vZGVSZXNvbHZlcigpKTtcbiAgICB0aGlzLmRpc3BhdGNoKFwicG9zdFwiLCBbbmFtZSwgbm9kZUFyZ3NdKS5mYWlsKGRlZmVycmVkLnJlamVjdCk7XG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG59O1xuXG4vKipcbiAqIElmIGEgZnVuY3Rpb24gd291bGQgbGlrZSB0byBzdXBwb3J0IGJvdGggTm9kZSBjb250aW51YXRpb24tcGFzc2luZy1zdHlsZSBhbmRcbiAqIHByb21pc2UtcmV0dXJuaW5nLXN0eWxlLCBpdCBjYW4gZW5kIGl0cyBpbnRlcm5hbCBwcm9taXNlIGNoYWluIHdpdGhcbiAqIGBub2RlaWZ5KG5vZGViYWNrKWAsIGZvcndhcmRpbmcgdGhlIG9wdGlvbmFsIG5vZGViYWNrIGFyZ3VtZW50LiAgSWYgdGhlIHVzZXJcbiAqIGVsZWN0cyB0byB1c2UgYSBub2RlYmFjaywgdGhlIHJlc3VsdCB3aWxsIGJlIHNlbnQgdGhlcmUuICBJZiB0aGV5IGRvIG5vdFxuICogcGFzcyBhIG5vZGViYWNrLCB0aGV5IHdpbGwgcmVjZWl2ZSB0aGUgcmVzdWx0IHByb21pc2UuXG4gKiBAcGFyYW0gb2JqZWN0IGEgcmVzdWx0IChvciBhIHByb21pc2UgZm9yIGEgcmVzdWx0KVxuICogQHBhcmFtIHtGdW5jdGlvbn0gbm9kZWJhY2sgYSBOb2RlLmpzLXN0eWxlIGNhbGxiYWNrXG4gKiBAcmV0dXJucyBlaXRoZXIgdGhlIHByb21pc2Ugb3Igbm90aGluZ1xuICovXG5RLm5vZGVpZnkgPSBub2RlaWZ5O1xuZnVuY3Rpb24gbm9kZWlmeShvYmplY3QsIG5vZGViYWNrKSB7XG4gICAgcmV0dXJuIFEob2JqZWN0KS5ub2RlaWZ5KG5vZGViYWNrKTtcbn1cblxuUHJvbWlzZS5wcm90b3R5cGUubm9kZWlmeSA9IGZ1bmN0aW9uIChub2RlYmFjaykge1xuICAgIGlmIChub2RlYmFjaykge1xuICAgICAgICB0aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBub2RlYmFjayhudWxsLCB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBRLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBub2RlYmFjayhlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufTtcblxuUS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUS5ub0NvbmZsaWN0IG9ubHkgd29ya3Mgd2hlbiBRIGlzIHVzZWQgYXMgYSBnbG9iYWxcIik7XG59O1xuXG4vLyBBbGwgY29kZSBiZWZvcmUgdGhpcyBwb2ludCB3aWxsIGJlIGZpbHRlcmVkIGZyb20gc3RhY2sgdHJhY2VzLlxudmFyIHFFbmRpbmdMaW5lID0gY2FwdHVyZUxpbmUoKTtcblxucmV0dXJuIFE7XG5cbn0pO1xuIiwiLypcbiAqIHNtb290aHNjcm9sbCBwb2x5ZmlsbCAtIHYwLjMuNVxuICogaHR0cHM6Ly9pYW1kdXN0YW4uZ2l0aHViLmlvL3Ntb290aHNjcm9sbFxuICogMjAxNiAoYykgRHVzdGFuIEthc3RlbiwgSmVyZW1pYXMgTWVuaWNoZWxsaSAtIE1JVCBMaWNlbnNlXG4gKi9cblxuKGZ1bmN0aW9uKHcsIGQsIHVuZGVmaW5lZCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLypcbiAgICogYWxpYXNlc1xuICAgKiB3OiB3aW5kb3cgZ2xvYmFsIG9iamVjdFxuICAgKiBkOiBkb2N1bWVudFxuICAgKiB1bmRlZmluZWQ6IHVuZGVmaW5lZFxuICAgKi9cblxuICAvLyBwb2x5ZmlsbFxuICBmdW5jdGlvbiBwb2x5ZmlsbCgpIHtcbiAgICAvLyByZXR1cm4gd2hlbiBzY3JvbGxCZWhhdmlvciBpbnRlcmZhY2UgaXMgc3VwcG9ydGVkXG4gICAgaWYgKCdzY3JvbGxCZWhhdmlvcicgaW4gZC5kb2N1bWVudEVsZW1lbnQuc3R5bGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIGdsb2JhbHNcbiAgICAgKi9cbiAgICB2YXIgRWxlbWVudCA9IHcuSFRNTEVsZW1lbnQgfHwgdy5FbGVtZW50O1xuICAgIHZhciBTQ1JPTExfVElNRSA9IDQ2ODtcblxuICAgIC8qXG4gICAgICogb2JqZWN0IGdhdGhlcmluZyBvcmlnaW5hbCBzY3JvbGwgbWV0aG9kc1xuICAgICAqL1xuICAgIHZhciBvcmlnaW5hbCA9IHtcbiAgICAgIHNjcm9sbDogdy5zY3JvbGwgfHwgdy5zY3JvbGxUbyxcbiAgICAgIHNjcm9sbEJ5OiB3LnNjcm9sbEJ5LFxuICAgICAgZWxTY3JvbGw6IEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbCB8fCBzY3JvbGxFbGVtZW50LFxuICAgICAgc2Nyb2xsSW50b1ZpZXc6IEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEludG9WaWV3XG4gICAgfTtcblxuICAgIC8qXG4gICAgICogZGVmaW5lIHRpbWluZyBtZXRob2RcbiAgICAgKi9cbiAgICB2YXIgbm93ID0gdy5wZXJmb3JtYW5jZSAmJiB3LnBlcmZvcm1hbmNlLm5vd1xuICAgICAgPyB3LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHcucGVyZm9ybWFuY2UpIDogRGF0ZS5ub3c7XG5cbiAgICAvKipcbiAgICAgKiBjaGFuZ2VzIHNjcm9sbCBwb3NpdGlvbiBpbnNpZGUgYW4gZWxlbWVudFxuICAgICAqIEBtZXRob2Qgc2Nyb2xsRWxlbWVudFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY3JvbGxFbGVtZW50KHgsIHkpIHtcbiAgICAgIHRoaXMuc2Nyb2xsTGVmdCA9IHg7XG4gICAgICB0aGlzLnNjcm9sbFRvcCA9IHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyByZXN1bHQgb2YgYXBwbHlpbmcgZWFzZSBtYXRoIGZ1bmN0aW9uIHRvIGEgbnVtYmVyXG4gICAgICogQG1ldGhvZCBlYXNlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGtcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVhc2Uoaykge1xuICAgICAgcmV0dXJuIDAuNSAqICgxIC0gTWF0aC5jb3MoTWF0aC5QSSAqIGspKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBpbmRpY2F0ZXMgaWYgYSBzbW9vdGggYmVoYXZpb3Igc2hvdWxkIGJlIGFwcGxpZWRcbiAgICAgKiBAbWV0aG9kIHNob3VsZEJhaWxPdXRcbiAgICAgKiBAcGFyYW0ge051bWJlcnxPYmplY3R9IHhcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG91bGRCYWlsT3V0KHgpIHtcbiAgICAgIGlmICh0eXBlb2YgeCAhPT0gJ29iamVjdCdcbiAgICAgICAgICAgIHx8IHggPT09IG51bGxcbiAgICAgICAgICAgIHx8IHguYmVoYXZpb3IgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgfHwgeC5iZWhhdmlvciA9PT0gJ2F1dG8nXG4gICAgICAgICAgICB8fCB4LmJlaGF2aW9yID09PSAnaW5zdGFudCcpIHtcbiAgICAgICAgLy8gZmlyc3QgYXJnIG5vdCBhbiBvYmplY3QvbnVsbFxuICAgICAgICAvLyBvciBiZWhhdmlvciBpcyBhdXRvLCBpbnN0YW50IG9yIHVuZGVmaW5lZFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB4ID09PSAnb2JqZWN0J1xuICAgICAgICAgICAgJiYgeC5iZWhhdmlvciA9PT0gJ3Ntb290aCcpIHtcbiAgICAgICAgLy8gZmlyc3QgYXJndW1lbnQgaXMgYW4gb2JqZWN0IGFuZCBiZWhhdmlvciBpcyBzbW9vdGhcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyB0aHJvdyBlcnJvciB3aGVuIGJlaGF2aW9yIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2JlaGF2aW9yIG5vdCB2YWxpZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGZpbmRzIHNjcm9sbGFibGUgcGFyZW50IG9mIGFuIGVsZW1lbnRcbiAgICAgKiBAbWV0aG9kIGZpbmRTY3JvbGxhYmxlUGFyZW50XG4gICAgICogQHBhcmFtIHtOb2RlfSBlbFxuICAgICAqIEByZXR1cm5zIHtOb2RlfSBlbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRTY3JvbGxhYmxlUGFyZW50KGVsKSB7XG4gICAgICB2YXIgaXNCb2R5O1xuICAgICAgdmFyIGhhc1Njcm9sbGFibGVTcGFjZTtcbiAgICAgIHZhciBoYXNWaXNpYmxlT3ZlcmZsb3c7XG5cbiAgICAgIGRvIHtcbiAgICAgICAgZWwgPSBlbC5wYXJlbnROb2RlO1xuXG4gICAgICAgIC8vIHNldCBjb25kaXRpb24gdmFyaWFibGVzXG4gICAgICAgIGlzQm9keSA9IGVsID09PSBkLmJvZHk7XG4gICAgICAgIGhhc1Njcm9sbGFibGVTcGFjZSA9XG4gICAgICAgICAgZWwuY2xpZW50SGVpZ2h0IDwgZWwuc2Nyb2xsSGVpZ2h0IHx8XG4gICAgICAgICAgZWwuY2xpZW50V2lkdGggPCBlbC5zY3JvbGxXaWR0aDtcbiAgICAgICAgaGFzVmlzaWJsZU92ZXJmbG93ID1cbiAgICAgICAgICB3LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpLm92ZXJmbG93ID09PSAndmlzaWJsZSc7XG4gICAgICB9IHdoaWxlICghaXNCb2R5ICYmICEoaGFzU2Nyb2xsYWJsZVNwYWNlICYmICFoYXNWaXNpYmxlT3ZlcmZsb3cpKTtcblxuICAgICAgaXNCb2R5ID0gaGFzU2Nyb2xsYWJsZVNwYWNlID0gaGFzVmlzaWJsZU92ZXJmbG93ID0gbnVsbDtcblxuICAgICAgcmV0dXJuIGVsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHNlbGYgaW52b2tlZCBmdW5jdGlvbiB0aGF0LCBnaXZlbiBhIGNvbnRleHQsIHN0ZXBzIHRocm91Z2ggc2Nyb2xsaW5nXG4gICAgICogQG1ldGhvZCBzdGVwXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGVwKGNvbnRleHQpIHtcbiAgICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgICB2YXIgdmFsdWU7XG4gICAgICB2YXIgY3VycmVudFg7XG4gICAgICB2YXIgY3VycmVudFk7XG4gICAgICB2YXIgZWxhcHNlZCA9ICh0aW1lIC0gY29udGV4dC5zdGFydFRpbWUpIC8gU0NST0xMX1RJTUU7XG5cbiAgICAgIC8vIGF2b2lkIGVsYXBzZWQgdGltZXMgaGlnaGVyIHRoYW4gb25lXG4gICAgICBlbGFwc2VkID0gZWxhcHNlZCA+IDEgPyAxIDogZWxhcHNlZDtcblxuICAgICAgLy8gYXBwbHkgZWFzaW5nIHRvIGVsYXBzZWQgdGltZVxuICAgICAgdmFsdWUgPSBlYXNlKGVsYXBzZWQpO1xuXG4gICAgICBjdXJyZW50WCA9IGNvbnRleHQuc3RhcnRYICsgKGNvbnRleHQueCAtIGNvbnRleHQuc3RhcnRYKSAqIHZhbHVlO1xuICAgICAgY3VycmVudFkgPSBjb250ZXh0LnN0YXJ0WSArIChjb250ZXh0LnkgLSBjb250ZXh0LnN0YXJ0WSkgKiB2YWx1ZTtcblxuICAgICAgY29udGV4dC5tZXRob2QuY2FsbChjb250ZXh0LnNjcm9sbGFibGUsIGN1cnJlbnRYLCBjdXJyZW50WSk7XG5cbiAgICAgIC8vIHNjcm9sbCBtb3JlIGlmIHdlIGhhdmUgbm90IHJlYWNoZWQgb3VyIGRlc3RpbmF0aW9uXG4gICAgICBpZiAoY3VycmVudFggIT09IGNvbnRleHQueCB8fCBjdXJyZW50WSAhPT0gY29udGV4dC55KSB7XG4gICAgICAgIHcucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0ZXAuYmluZCh3LCBjb250ZXh0KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogc2Nyb2xscyB3aW5kb3cgd2l0aCBhIHNtb290aCBiZWhhdmlvclxuICAgICAqIEBtZXRob2Qgc21vb3RoU2Nyb2xsXG4gICAgICogQHBhcmFtIHtPYmplY3R8Tm9kZX0gZWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICovXG4gICAgZnVuY3Rpb24gc21vb3RoU2Nyb2xsKGVsLCB4LCB5KSB7XG4gICAgICB2YXIgc2Nyb2xsYWJsZTtcbiAgICAgIHZhciBzdGFydFg7XG4gICAgICB2YXIgc3RhcnRZO1xuICAgICAgdmFyIG1ldGhvZDtcbiAgICAgIHZhciBzdGFydFRpbWUgPSBub3coKTtcblxuICAgICAgLy8gZGVmaW5lIHNjcm9sbCBjb250ZXh0XG4gICAgICBpZiAoZWwgPT09IGQuYm9keSkge1xuICAgICAgICBzY3JvbGxhYmxlID0gdztcbiAgICAgICAgc3RhcnRYID0gdy5zY3JvbGxYIHx8IHcucGFnZVhPZmZzZXQ7XG4gICAgICAgIHN0YXJ0WSA9IHcuc2Nyb2xsWSB8fCB3LnBhZ2VZT2Zmc2V0O1xuICAgICAgICBtZXRob2QgPSBvcmlnaW5hbC5zY3JvbGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY3JvbGxhYmxlID0gZWw7XG4gICAgICAgIHN0YXJ0WCA9IGVsLnNjcm9sbExlZnQ7XG4gICAgICAgIHN0YXJ0WSA9IGVsLnNjcm9sbFRvcDtcbiAgICAgICAgbWV0aG9kID0gc2Nyb2xsRWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgLy8gc2Nyb2xsIGxvb3Bpbmcgb3ZlciBhIGZyYW1lXG4gICAgICBzdGVwKHtcbiAgICAgICAgc2Nyb2xsYWJsZTogc2Nyb2xsYWJsZSxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICBzdGFydFg6IHN0YXJ0WCxcbiAgICAgICAgc3RhcnRZOiBzdGFydFksXG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogT1JJR0lOQUwgTUVUSE9EUyBPVkVSUklERVNcbiAgICAgKi9cblxuICAgIC8vIHcuc2Nyb2xsIGFuZCB3LnNjcm9sbFRvXG4gICAgdy5zY3JvbGwgPSB3LnNjcm9sbFRvID0gZnVuY3Rpb24oKSB7XG4gICAgICAvLyBhdm9pZCBzbW9vdGggYmVoYXZpb3IgaWYgbm90IHJlcXVpcmVkXG4gICAgICBpZiAoc2hvdWxkQmFpbE91dChhcmd1bWVudHNbMF0pKSB7XG4gICAgICAgIG9yaWdpbmFsLnNjcm9sbC5jYWxsKFxuICAgICAgICAgIHcsXG4gICAgICAgICAgYXJndW1lbnRzWzBdLmxlZnQgfHwgYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGFyZ3VtZW50c1swXS50b3AgfHwgYXJndW1lbnRzWzFdXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTEVUIFRIRSBTTU9PVEhORVNTIEJFR0lOIVxuICAgICAgc21vb3RoU2Nyb2xsLmNhbGwoXG4gICAgICAgIHcsXG4gICAgICAgIGQuYm9keSxcbiAgICAgICAgfn5hcmd1bWVudHNbMF0ubGVmdCxcbiAgICAgICAgfn5hcmd1bWVudHNbMF0udG9wXG4gICAgICApO1xuICAgIH07XG5cbiAgICAvLyB3LnNjcm9sbEJ5XG4gICAgdy5zY3JvbGxCeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gYXZvaWQgc21vb3RoIGJlaGF2aW9yIGlmIG5vdCByZXF1aXJlZFxuICAgICAgaWYgKHNob3VsZEJhaWxPdXQoYXJndW1lbnRzWzBdKSkge1xuICAgICAgICBvcmlnaW5hbC5zY3JvbGxCeS5jYWxsKFxuICAgICAgICAgIHcsXG4gICAgICAgICAgYXJndW1lbnRzWzBdLmxlZnQgfHwgYXJndW1lbnRzWzBdLFxuICAgICAgICAgIGFyZ3VtZW50c1swXS50b3AgfHwgYXJndW1lbnRzWzFdXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTEVUIFRIRSBTTU9PVEhORVNTIEJFR0lOIVxuICAgICAgc21vb3RoU2Nyb2xsLmNhbGwoXG4gICAgICAgIHcsXG4gICAgICAgIGQuYm9keSxcbiAgICAgICAgfn5hcmd1bWVudHNbMF0ubGVmdCArICh3LnNjcm9sbFggfHwgdy5wYWdlWE9mZnNldCksXG4gICAgICAgIH5+YXJndW1lbnRzWzBdLnRvcCArICh3LnNjcm9sbFkgfHwgdy5wYWdlWU9mZnNldClcbiAgICAgICk7XG4gICAgfTtcblxuICAgIC8vIEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbCBhbmQgRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsVG9cbiAgICBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGwgPSBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxUbyA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gYXZvaWQgc21vb3RoIGJlaGF2aW9yIGlmIG5vdCByZXF1aXJlZFxuICAgICAgaWYgKHNob3VsZEJhaWxPdXQoYXJndW1lbnRzWzBdKSkge1xuICAgICAgICBvcmlnaW5hbC5lbFNjcm9sbC5jYWxsKFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIGFyZ3VtZW50c1swXS5sZWZ0IHx8IGFyZ3VtZW50c1swXSxcbiAgICAgICAgICAgIGFyZ3VtZW50c1swXS50b3AgfHwgYXJndW1lbnRzWzFdXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGxlZnQgPSBhcmd1bWVudHNbMF0ubGVmdDtcbiAgICAgIHZhciB0b3AgPSBhcmd1bWVudHNbMF0udG9wO1xuXG4gICAgICAvLyBMRVQgVEhFIFNNT09USE5FU1MgQkVHSU4hXG4gICAgICBzbW9vdGhTY3JvbGwuY2FsbChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgdHlwZW9mIGxlZnQgPT09ICdudW1iZXInID8gbGVmdCA6IHRoaXMuc2Nyb2xsTGVmdCxcbiAgICAgICAgICB0eXBlb2YgdG9wID09PSAnbnVtYmVyJyA/IHRvcCA6IHRoaXMuc2Nyb2xsVG9wXG4gICAgICApO1xuICAgIH07XG5cbiAgICAvLyBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxCeVxuICAgIEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbEJ5ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJnMCA9IGFyZ3VtZW50c1swXTtcblxuICAgICAgaWYgKHR5cGVvZiBhcmcwID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0aGlzLnNjcm9sbCh7XG4gICAgICAgICAgbGVmdDogYXJnMC5sZWZ0ICsgdGhpcy5zY3JvbGxMZWZ0LFxuICAgICAgICAgIHRvcDogYXJnMC50b3AgKyB0aGlzLnNjcm9sbFRvcCxcbiAgICAgICAgICBiZWhhdmlvcjogYXJnMC5iZWhhdmlvclxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsKFxuICAgICAgICAgIHRoaXMuc2Nyb2xsTGVmdCArIGFyZzAsXG4gICAgICAgICAgdGhpcy5zY3JvbGxUb3AgKyBhcmd1bWVudHNbMV1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsSW50b1ZpZXdcbiAgICBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxJbnRvVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gYXZvaWQgc21vb3RoIGJlaGF2aW9yIGlmIG5vdCByZXF1aXJlZFxuICAgICAgaWYgKHNob3VsZEJhaWxPdXQoYXJndW1lbnRzWzBdKSkge1xuICAgICAgICBvcmlnaW5hbC5zY3JvbGxJbnRvVmlldy5jYWxsKFxuICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXJndW1lbnRzWzBdXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTEVUIFRIRSBTTU9PVEhORVNTIEJFR0lOIVxuICAgICAgdmFyIHNjcm9sbGFibGVQYXJlbnQgPSBmaW5kU2Nyb2xsYWJsZVBhcmVudCh0aGlzKTtcbiAgICAgIHZhciBwYXJlbnRSZWN0cyA9IHNjcm9sbGFibGVQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgY2xpZW50UmVjdHMgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICBpZiAoc2Nyb2xsYWJsZVBhcmVudCAhPT0gZC5ib2R5KSB7XG4gICAgICAgIC8vIHJldmVhbCBlbGVtZW50IGluc2lkZSBwYXJlbnRcbiAgICAgICAgc21vb3RoU2Nyb2xsLmNhbGwoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgICBzY3JvbGxhYmxlUGFyZW50LFxuICAgICAgICAgIHNjcm9sbGFibGVQYXJlbnQuc2Nyb2xsTGVmdCArIGNsaWVudFJlY3RzLmxlZnQgLSBwYXJlbnRSZWN0cy5sZWZ0LFxuICAgICAgICAgIHNjcm9sbGFibGVQYXJlbnQuc2Nyb2xsVG9wICsgY2xpZW50UmVjdHMudG9wIC0gcGFyZW50UmVjdHMudG9wXG4gICAgICAgICk7XG4gICAgICAgIC8vIHJldmVhbCBwYXJlbnQgaW4gdmlld3BvcnRcbiAgICAgICAgdy5zY3JvbGxCeSh7XG4gICAgICAgICAgbGVmdDogcGFyZW50UmVjdHMubGVmdCxcbiAgICAgICAgICB0b3A6IHBhcmVudFJlY3RzLnRvcCxcbiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyByZXZlYWwgZWxlbWVudCBpbiB2aWV3cG9ydFxuICAgICAgICB3LnNjcm9sbEJ5KHtcbiAgICAgICAgICBsZWZ0OiBjbGllbnRSZWN0cy5sZWZ0LFxuICAgICAgICAgIHRvcDogY2xpZW50UmVjdHMudG9wLFxuICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIC8vIGNvbW1vbmpzXG4gICAgbW9kdWxlLmV4cG9ydHMgPSB7IHBvbHlmaWxsOiBwb2x5ZmlsbCB9O1xuICB9IGVsc2Uge1xuICAgIC8vIGdsb2JhbFxuICAgIHBvbHlmaWxsKCk7XG4gIH1cbn0pKHdpbmRvdywgZG9jdW1lbnQpO1xuIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQnVmZmVyKGFyZykge1xuICByZXR1cm4gYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnXG4gICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5maWxsID09PSAnZnVuY3Rpb24nXG4gICAgJiYgdHlwZW9mIGFyZy5yZWFkVUludDggPT09ICdmdW5jdGlvbic7XG59IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICAvLyBBbGxvdyBmb3IgZGVwcmVjYXRpbmcgdGhpbmdzIGluIHRoZSBwcm9jZXNzIG9mIHN0YXJ0aW5nIHVwLlxuICBpZiAoaXNVbmRlZmluZWQoZ2xvYmFsLnByb2Nlc3MpKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMuZGVwcmVjYXRlKGZuLCBtc2cpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLm5vRGVwcmVjYXRpb24gPT09IHRydWUpIHtcbiAgICByZXR1cm4gZm47XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuIiwiXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcblx0dmFyIHJldCA9ICcnLCB2YWx1ZTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSsrKSB7XG5cdFx0dmFsdWUgPSBleHBvcnRzLnJhbmRvbSgpICogMTYgfCAwO1xuXHRcdC8vIEluc2VydCB0aGUgaHlwZW5zXG5cdFx0aWYgKGkgPiA0ICYmIGkgPCAyMSAmJiAhIChpICUgNCkpIHtcblx0XHRcdHJldCArPSAnLSc7XG5cdFx0fVxuXHRcdC8vIEFkZCB0aGUgbmV4dCByYW5kb20gY2hhcmFjdGVyXG5cdFx0cmV0ICs9IChcblx0XHRcdChpID09PSAxMikgPyA0IDogKFxuXHRcdFx0XHQoaSA9PT0gMTYpID8gKHZhbHVlICYgMyB8IDgpIDogdmFsdWVcblx0XHRcdClcblx0XHQpLnRvU3RyaW5nKDE2KTtcblx0fVxuXHRyZXR1cm4gcmV0O1xufTtcblxudmFyIHV1aWRSZWdleCA9IC9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tNFswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvO1xuZXhwb3J0cy5pc1VVSUQgPSBmdW5jdGlvbih1dWlkKSB7XG5cdHJldHVybiB1dWlkUmVnZXgudGVzdCh1dWlkKTtcbn07XG5cbmV4cG9ydHMucmFuZG9tID0gZnVuY3Rpb24oKSB7XG5cdHJldHVybiBNYXRoLnJhbmRvbSgpO1xufTtcblxuIl19
